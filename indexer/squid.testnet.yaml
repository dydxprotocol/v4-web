manifestVersion: subsquid.io/v0.1
name: starboard-testnet
description: 'Starboard Indexer - Testnet'
slot: test2

build:
  node_version: '20'
  package_manager: 'pnpm'
  install:
    cmd:
      - pnpm
      - install
      - --no-frozen-lockfile

deploy:
  addons:
    postgres:
    rpc:
      - eth.http
  processor:
    cmd:
      - sqd
      - process:prod
  api:
    cmd:
      - sqd
      - serve:prod
  env:
    # SQD_DEBUG: "*"
    GATEWAY_URL: https://v2.archive.subsquid.io/network/fuel-testnet
    GRAPHQL_URL: https://testnet.fuel.network/v1/graphql
    VAULT_ADDRESS: '0x2D9585c7996af0A382Aff5ba298831cA26b190Bf3eDB37E3FDc1f27AEDefFfc2'
    VAULT_PRICEFEED_ADDRESS: '0x09c88f50d535ac5ce8945e34c418233b1e3834be9a88effb57cb137321fbae0c'
    FROM_BLOCK: '42335475'

scale:
  dedicated: true
  processor:
    profile: small
