type Price @entity {
  id: ID!
  asset: String! @index
  timestamp: Int! @index
  price: String!
}

type Liquidity @entity {
  id: ID!
  provider: String! @index
  stable: BigInt!
  lpAmount: BigInt!
  timestamp: Int!
  latest: Boolean!
}

type TotalLiquidity @entity {
  id: ID!
  stable: BigInt!
  lpAmount: BigInt!
  lastTimestamp: Int!
}

type PositionKey @entity {
  id: ID!
  account: String! @index
  indexAssetId: String! @index
  isLong: Boolean!
}

enum PositionChange {
  INCREASE
  DECREASE
  CLOSE
  LIQUIDATE
}

type Position @entity {
  id: ID!
  positionKey: PositionKey!
  collateralAmout: String!
  size: String!
  timestamp: Int!
  latest: Boolean!
  change: PositionChange!
  collateralTransferred: String!
  positionFee: String!
  fundingRate: String!
  pnlDelta: String!
  realizedFundingRate: String!
  realizedPnl: String!
}

type TotalPosition @entity {
  id: ID!
  indexAssetId: String! @index
  isLong: Boolean!
  collateralAmout: String!
  size: String!
  lastTimestamp: Int!
}
