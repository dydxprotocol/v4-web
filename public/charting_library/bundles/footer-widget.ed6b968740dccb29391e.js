(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[7707],{26788:e=>{e.exports={tabbar:"tabbar-37voAVwR",tabs:"tabs-37voAVwR",compact:"compact-37voAVwR",fakeTabs:"fakeTabs-37voAVwR",tab:"tab-37voAVwR",menuButtonWrap:"menuButtonWrap-37voAVwR",hover:"hover-37voAVwR",active:"active-37voAVwR",title:"title-37voAVwR",menuButton:"menuButton-37voAVwR",titleText:"titleText-37voAVwR"}},68184:e=>{e.exports={"css-value-footer-widget-horizontal-margin":"4px"}},72842:e=>{e.exports={"css-value-footer-widget-horizontal-margin":"4px",footerPanel:"footerPanel-3rEcU9Zs",tabs:"tabs-3rEcU9Zs",buttons:"buttons-3rEcU9Zs",hidden:"hidden-3rEcU9Zs",button:"button-3rEcU9Zs",hover:"hover-3rEcU9Zs",overlap:"overlap-3rEcU9Zs"}},66549:e=>{e.exports={"tablet-small-breakpoint":"screen and (max-width: 428px)",item:"item-2IihgTnv",hovered:"hovered-2IihgTnv",isDisabled:"isDisabled-2IihgTnv",isActive:"isActive-2IihgTnv",shortcut:"shortcut-2IihgTnv",toolbox:"toolbox-2IihgTnv",withIcon:"withIcon-2IihgTnv",icon:"icon-2IihgTnv",labelRow:"labelRow-2IihgTnv",label:"label-2IihgTnv",showOnHover:"showOnHover-2IihgTnv"}},21659:(e,t,n)=>{"use strict";n.d(t,{Icon:()=>s});var i=n(67294);const s=i.forwardRef((e,t)=>{const{icon:n="",...s}=e;return i.createElement("span",{...s,ref:t,dangerouslySetInnerHTML:{__html:n}})})},76480:(e,t,n)=>{"use strict";function i(e){return o(e,r)}function s(e){return o(e,a)}function o(e,t){const n=Object.entries(e).filter(t),i={};for(const[e,t]of n)i[e]=t;return i}function r(e){const[t,n]=e;return 0===t.indexOf("data-")&&"string"==typeof n}function a(e){return 0===e[0].indexOf("aria-")}n.d(t,{filterDataProps:()=>i,filterAriaProps:()=>s,filterProps:()=>o,isDataAttribute:()=>r,isAriaAttribute:()=>a})},63766:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FooterWidgetRenderer:()=>O});var i=n(67294),s=n(73935),o=n(94184),r=n(74971),a=n(46299),l=n(21659),c=n(16282),d=n(42254),h=n(26788);class u extends i.PureComponent{constructor(){super(...arguments),this._ref=e=>{const{name:t,reference:n}=this.props;n&&n(t,e)},this._onToggle=()=>{this._toggleWidget()},this._activationCallback=()=>{this._toggleWidget(!0)}}render(){const{name:e,isActive:t,title:n,customTitleComponent:s,buttonOpenTooltip:r,buttonCloseTooltip:a,dataName:l,compact:c}=this.props,d=t?a:r,u=s;return i.createElement("div",{className:o(h.tab,u&&h.customTab,d&&"apply-common-tooltip",t&&h.active),title:d,ref:this._ref},u?i.createElement(u,{onClick:this._onToggle,activationCallback:this._activationCallback,isActive:t,dataName:l,compact:c}):i.createElement("div",{onClick:this._onToggle,className:h.title,"data-name":this.props.dataName,"data-active":t},i.createElement("span",{className:h.titleText},n||e)))}_toggleWidget(e){const{name:t,onToggle:n,_gaEvent:i}=this.props;i&&(0,d.trackEvent)("Platform widgets",i),n(t,e)}}var m=n(63782);class p extends i.PureComponent{constructor(e){super(e),this._menuButton=null,this._fakeTabs={},this._fakeMenuButton=null,this._refFakeTabs=(e,t)=>{this._fakeTabs[e]=t},this._refFakeMenuButton=e=>{this._fakeMenuButton=e},this._refMenuButton=e=>{
this._menuButton=e},this._resize=e=>{if(!e)return;const t=(0,c.ensureNotNull)(this._fakeMenuButton).offsetWidth,{activeWidgetName:n}=this.props;let i=[],s=[],o=0;"string"==typeof n&&(s=[n],o=(0,c.ensureNotNull)(this._fakeTabs[n]).offsetWidth);const r=this.props.widgets.map(e=>e.name),a=r.filter(e=>e!==n);let l=!1;a.forEach(n=>{if(!this._fakeTabs[n])return;const a=(0,c.ensureNotNull)(this._fakeTabs[n]).offsetWidth,d=r.length-s.length==1?e:e-t;!l&&o+a<d?(o+=a,s.push(n)):(l=!0,i.push(n))}),0===s.length&&(s=[r[0]],i=i.filter(e=>e!==r[0])),s=r.filter(e=>s.includes(e)),this.setState({visibleTabs:s,hiddenTabs:i})},this._onToggle=(e,t)=>{void 0!==e&&(this._trackButtonClick(e),this.props.setActiveWidget(e,t),this._resize(this.props.width))},this._getDropdownPosition=()=>{const e=(0,c.ensureNotNull)(this._menuButton).getBoundingClientRect();return{x:e.left,y:e.top+e.height}},this._onMenuItemClick=e=>{this._onToggle(e,!0)},this._handleMenuClick=()=>{this._trackButtonClick("menu"),this._toggleMenu()},this._toggleMenu=()=>{this.setState(e=>({isMenuOpened:!e.isMenuOpened}))},this._trackButtonClick=e=>{0},this.state={visibleTabs:[],hiddenTabs:[],isMenuOpened:!1}}componentDidMount(){this._resize(this.props.width)}componentDidUpdate(e){const{widgets:t,activeWidgetName:n,width:i}=this.props;e.widgets===t&&e.activeWidgetName===n&&e.width===i||this._resize(i)}getMinWidth(){const e=this.props.activeWidgetName||this.props.widgets[0].name;return(0,c.ensureNotNull)(this._fakeTabs[e]).offsetWidth+(0,c.ensureNotNull)(this._fakeMenuButton).offsetWidth}render(){const{visibleTabs:e}=this.state,{widgets:t,compact:n}=this.props,s=t.filter(t=>e.includes(t.name));return i.createElement("div",{className:h.tabbar},i.createElement("div",{className:o(h.tabs,1===e.length&&n&&h.compact)},this._renderTabs(s,!1)),i.createElement("div",{className:o(h.tabs,h.fakeTabs)},this._renderTabs(t,!0)))}_renderTabs(e,t){const{activeWidgetName:n,compact:s}=this.props,{visibleTabs:r,hiddenTabs:a,isMenuOpened:c}=this.state,d=e.map(e=>i.createElement(u,{...e,key:e.name,isActive:n===e.name,onToggle:this._onToggle,dataName:t?void 0:e.name,reference:t?this._refFakeTabs:void 0,compact:!t&&s&&1===r.length}));return(t||a.length>0)&&d.push(i.createElement("div",{key:"menu-button",className:h.menuButtonWrap,ref:t?this._refFakeMenuButton:this._refMenuButton},i.createElement("div",{className:o(h.menuButton,c&&h.active),onClick:this._handleMenuClick},i.createElement(l.Icon,{icon:m})))),!t&&a.length>0&&d.push(this._renderMenu()),d}_renderMenu(){const{widgets:e}=this.props,{hiddenTabs:t,isMenuOpened:n}=this.state,s=e.filter(e=>t.includes(e.name)).map(e=>i.createElement(a.PopupMenuItem,{key:e.name,onClick:this._onMenuItemClick,onClickArg:e.name,label:e.title||e.name}));return i.createElement(r.PopupMenu,{key:"menu-dropdown",isOpened:n,doNotCloseOn:this._menuButton,onClose:this._toggleMenu,position:this._getDropdownPosition},s)}}var v=n(83122),g=n(68184);const f=parseInt(g["css-value-footer-widget-horizontal-margin"]);var _=n(74245),b=n(20054),w=n(22098),E=n(31662),x=n(9243),M=n(72842)
;const C=(0,_.t)("Show panel"),k=(0,_.t)("Hide panel"),N=(0,_.t)("Maximize panel"),T=(0,_.t)("Minimize panel");class W extends i.PureComponent{constructor(e){super(e),this._updateMode=()=>{this.setState({mode:this.props.mode.value()})},this.state={mode:e.mode.value()}}componentDidMount(){this.props.mode.subscribe(this._updateMode)}componentWillUnmount(){this.props.mode.unsubscribe(this._updateMode)}render(){const{toggleMinimize:e,toggleMaximize:t}=this.props,{mode:n}=this.state,s="minimized"===n,r="maximized"===n;return i.createElement(i.Fragment,null,i.createElement("button",{className:o(M.button,M.minimizeButton,"apply-common-tooltip"),title:s?C:k,onClick:e,tabIndex:-1,"data-name":"toggle-visibility-button","data-active":s},i.createElement(l.Icon,{icon:s?w:b})),i.createElement("button",{className:o(M.button,M.maximizeButton,"apply-common-tooltip",{[M.active]:r}),title:r?T:N,onClick:t,tabIndex:-1,"data-name":"toggle-maximize-button","data-active":r},i.createElement(l.Icon,{icon:r?x:E})))}}class z extends i.PureComponent{constructor(e){super(e),this._tabs=null,this._buttons=null,this._refTabs=e=>{this._tabs=e},this._refButtons=e=>{this._buttons=e},this._handleMode=e=>{this.setState({isOpened:"minimized"!==e})},this._handleOverlap=e=>{this.setState({isOverlap:e})},this._handleActiveWidgetName=e=>{const{resizerBridge:t}=this.props;this.setState({activeWidgetName:e},()=>this._resize(t.width.value()))},this._setActiveWidget=(e,t)=>{this.props.bottomWidgetBar.toggleWidget(e,t)},this._resize=e=>{if(!e)return;e-=f+f;const t=(0,c.ensureNotNull)(this._tabs).getMinWidth()+(0,c.ensureNotNull)(this._buttons).offsetWidth<=e;this.setState({width:e,showButtons:t})};const{bottomWidgetBar:t,resizerBridge:n}=this.props;this.state={isOpened:"minimized"!==t.mode().value(),isOverlap:t.isOverlap().value(),activeWidgetName:t.activeWidget().value(),width:n.width.value(),showButtons:!1}}componentDidMount(){const{bottomWidgetBar:e,resizerBridge:t}=this.props;e.mode().subscribe(this._handleMode),e.isOverlap().subscribe(this._handleOverlap),e.activeWidget().subscribe(this._handleActiveWidgetName),t.width.subscribe(this._resize),this._resize(t.width.value())}componentWillUnmount(){const{bottomWidgetBar:e,resizerBridge:t}=this.props;e.mode().unsubscribe(this._handleMode),e.isOverlap().unsubscribe(this._handleOverlap),e.activeWidget().unsubscribe(this._handleActiveWidgetName),t.width.unsubscribe(this._resize)}render(){const{bottomWidgetBar:e}=this.props,{isOverlap:t,activeWidgetName:n,width:s,showButtons:r}=this.state,a=this._buttons?this._buttons.offsetWidth:0,l=e.enabledWidgets(),c="minimized"!==e.mode().value()&&n;return i.createElement("div",{id:"footer-chart-panel",className:o(M.footerPanel,t&&M.overlap),onContextMenu:v.preventDefault},i.createElement(p,{ref:this._refTabs,widgets:l,activeWidgetName:c,setActiveWidget:this._setActiveWidget,close:e.close,width:s-a,compact:!r}),i.createElement("div",{className:o(M.buttons,!r&&M.hidden),ref:this._refButtons},i.createElement(W,{toggleMinimize:e.toggleMinimize,toggleMaximize:e.toggleMaximize,
mode:e.mode()})))}}class O{constructor(e,t,n){this._component=null,this._handleRef=e=>this._component=e,this._container=e;const o=i.createElement(z,{resizerBridge:t,bottomWidgetBar:n,ref:this._handleRef});s.render(o,this._container)}getComponent(){return(0,c.ensureNotNull)(this._component)}destroy(){s.unmountComponentAtNode(this._container)}}},28675:(e,t,n)=>{"use strict";function i(e,t,n,i,s){function o(s){if(e>s.timeStamp)return;const o=s.target;void 0!==n&&null!==t&&null!==o&&o.ownerDocument===i&&(t.contains(o)||n(s))}return s.click&&i.addEventListener("click",o,!1),s.mouseDown&&i.addEventListener("mousedown",o,!1),s.touchEnd&&i.addEventListener("touchend",o,!1),s.touchStart&&i.addEventListener("touchstart",o,!1),()=>{i.removeEventListener("click",o,!1),i.removeEventListener("mousedown",o,!1),i.removeEventListener("touchend",o,!1),i.removeEventListener("touchstart",o,!1)}}n.d(t,{addOutsideEventListener:()=>i})},18351:(e,t,n)=>{"use strict";n.d(t,{useOutsideEvent:()=>o});var i=n(67294),s=n(28675);function o(e){const{click:t,mouseDown:n,touchEnd:o,touchStart:r,handler:a,reference:l,ownerDocument:c=document}=e,d=(0,i.useRef)(null),h=(0,i.useRef)(new CustomEvent("timestamp").timeStamp);return(0,i.useLayoutEffect)(()=>{const e={click:t,mouseDown:n,touchEnd:o,touchStart:r},i=l?l.current:d.current;return(0,s.addOutsideEventListener)(h.current,i,a,c,e)},[t,n,o,r,a]),l||d}},28595:(e,t,n)=>{"use strict";n.d(t,{OverlapManager:()=>o,getRootOverlapManager:()=>a});var i=n(16282);class s{constructor(){this._storage=[]}add(e){this._storage.push(e)}remove(e){this._storage=this._storage.filter(t=>e!==t)}has(e){return this._storage.includes(e)}getItems(){return this._storage}}class o{constructor(e=document){this._storage=new s,this._windows=new Map,this._index=0,this._document=e,this._container=e.createDocumentFragment()}setContainer(e){const t=this._container,n=null===e?this._document.createDocumentFragment():e;!function(e,t){Array.from(e.childNodes).forEach(e=>{e.nodeType===Node.ELEMENT_NODE&&t.appendChild(e)})}(t,n),this._container=n}registerWindow(e){this._storage.has(e)||this._storage.add(e)}ensureWindow(e,t={position:"fixed",direction:"normal"}){const n=this._windows.get(e);if(void 0!==n)return n;this.registerWindow(e);const i=this._document.createElement("div");if(i.style.position=t.position,i.style.zIndex=this._index.toString(),i.dataset.id=e,void 0!==t.index){const e=this._container.childNodes.length;if(t.index>=e)this._container.appendChild(i);else if(t.index<=0)this._container.insertBefore(i,this._container.firstChild);else{const e=this._container.childNodes[t.index];this._container.insertBefore(i,e)}}else"reverse"===t.direction?this._container.insertBefore(i,this._container.firstChild):this._container.appendChild(i);return this._windows.set(e,i),++this._index,i}unregisterWindow(e){this._storage.remove(e);const t=this._windows.get(e);void 0!==t&&(null!==t.parentElement&&t.parentElement.removeChild(t),this._windows.delete(e))}getZindex(e){const t=this.ensureWindow(e);return parseInt(t.style.zIndex||"0")}moveToTop(e){
if(this.getZindex(e)!==this._index){this.ensureWindow(e).style.zIndex=(++this._index).toString()}}removeWindow(e){this.unregisterWindow(e)}}const r=new WeakMap;function a(e=document){const t=e.getElementById("overlap-manager-root");if(null!==t)return(0,i.ensureDefined)(r.get(t));{const t=new o(e),n=function(e){const t=e.createElement("div");return t.style.position="absolute",t.style.zIndex=150..toString(),t.style.top="0px",t.style.left="0px",t.id="overlap-manager-root",t}(e);return r.set(n,t),t.setContainer(n),e.body.appendChild(n),t}}},46299:(e,t,n)=>{"use strict";n.d(t,{DEFAULT_POPUP_MENU_ITEM_THEME:()=>c,PopupMenuItem:()=>u});var i=n(67294),s=n(94184),o=n(32011),r=n(42254),a=n(76480),l=n(66549);const c=l;function d(e){const{reference:t,...n}=e,s={...n,ref:t};return i.createElement(e.href?"a":"div",s)}function h(e){e.stopPropagation()}function u(e){const{id:t,role:n,"aria-selected":c,className:u,title:m,labelRowClassName:p,labelClassName:v,shortcut:g,forceShowShortcuts:f,icon:_,isActive:b,isDisabled:w,isHovered:E,appearAsDisabled:x,label:M,link:C,showToolboxOnHover:k,target:N,rel:T,toolbox:W,reference:z,onMouseOut:O,onMouseOver:B,suppressToolboxClick:y=!0,theme:A=l}=e,I=(0,a.filterDataProps)(e),D=(0,i.useRef)(null);return i.createElement(d,{...I,id:t,role:n,"aria-selected":c,className:s(u,A.item,_&&A.withIcon,{[A.isActive]:b,[A.isDisabled]:w||x,[A.hovered]:E}),title:m,href:C,target:N,rel:T,reference:function(e){D.current=e,"function"==typeof z&&z(e);"object"==typeof z&&(z.current=e)},onClick:function(t){const{dontClosePopup:n,onClick:i,onClickArg:s,trackEventObject:a}=e;if(w)return;a&&(0,r.trackEvent)(a.category,a.event,a.label);i&&i(s,t);n||(0,o.globalCloseMenu)()},onContextMenu:function(t){const{trackEventObject:n,trackRightClick:i}=e;n&&i&&(0,r.trackEvent)(n.category,n.event,n.label+"_rightClick")},onMouseUp:function(t){const{trackEventObject:n,trackMouseWheelClick:i}=e;if(1===t.button&&C&&n){let e=n.label;i&&(e+="_mouseWheelClick"),(0,r.trackEvent)(n.category,n.event,e)}},onMouseOver:B,onMouseOut:O},void 0!==_&&i.createElement("div",{className:A.icon,dangerouslySetInnerHTML:{__html:_}}),i.createElement("div",{className:s(A.labelRow,p)},i.createElement("div",{className:s(A.label,v)},M)),(void 0!==g||f)&&i.createElement("div",{className:A.shortcut},(P=g)&&P.split("+").join(" + ")),void 0!==W&&i.createElement("div",{onClick:y?h:void 0,className:s(A.toolbox,{[A.showOnHover]:k})},W));var P}},74971:(e,t,n)=>{"use strict";n.d(t,{PopupMenu:()=>c});var i=n(67294),s=n(73935),o=n(22165),r=n(11026),a=n(84206),l=n(18351);function c(e){const{controller:t,children:n,isOpened:c,closeOnClickOutside:d=!0,doNotCloseOn:h,onClickOutside:u,onClose:m,...p}=e,v=(0,i.useContext)(a.CloseDelegateContext),g=(0,l.useOutsideEvent)({handler:function(e){u&&u(e);if(!d)return;if(h&&e.target instanceof Node){const t=s.findDOMNode(h);if(t instanceof Node&&t.contains(e.target))return}m()},mouseDown:!0,touchStart:!0});return c?i.createElement(o.Portal,{top:"0",left:"0",right:"0",bottom:"0",pointerEvents:"none"},i.createElement("span",{ref:g,style:{
pointerEvents:"auto"}},i.createElement(r.Menu,{...p,onClose:m,onScroll:function(t){const{onScroll:n}=e;n&&n(t)},customCloseDelegate:v,ref:t},n))):null}},22165:(e,t,n)=>{"use strict";n.d(t,{Portal:()=>l,PortalContext:()=>c});var i=n(67294),s=n(73935),o=n(80068),r=n(28595),a=n(66189);class l extends i.PureComponent{constructor(){super(...arguments),this._uuid=(0,o.guid)()}componentWillUnmount(){this._manager().removeWindow(this._uuid)}render(){const e=this._manager().ensureWindow(this._uuid,this.props.layerOptions);return e.style.top=this.props.top||"",e.style.bottom=this.props.bottom||"",e.style.left=this.props.left||"",e.style.right=this.props.right||"",e.style.pointerEvents=this.props.pointerEvents||"",s.createPortal(i.createElement(c.Provider,{value:this},this.props.children),e)}moveToTop(){this._manager().moveToTop(this._uuid)}_manager(){return null===this.context?(0,r.getRootOverlapManager)():this.context}}l.contextType=a.SlotContext;const c=i.createContext(null)},66189:(e,t,n)=>{"use strict";n.d(t,{Slot:()=>s,SlotContext:()=>o});var i=n(67294);class s extends i.Component{shouldComponentUpdate(){return!1}render(){return i.createElement("div",{style:{position:"fixed",zIndex:150,left:0,top:0},ref:this.props.reference})}}const o=i.createContext(null)},31662:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M8.5 6A2.5 2.5 0 0 0 6 8.5V11h1V8.5C7 7.67 7.67 7 8.5 7H11V6H8.5zM6 17v2.5A2.5 2.5 0 0 0 8.5 22H11v-1H8.5A1.5 1.5 0 0 1 7 19.5V17H6zM19.5 7H17V6h2.5A2.5 2.5 0 0 1 22 8.5V11h-1V8.5c0-.83-.67-1.5-1.5-1.5zM22 19.5V17h-1v2.5c0 .83-.67 1.5-1.5 1.5H17v1h2.5a2.5 2.5 0 0 0 2.5-2.5z"/></svg>'},9243:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M17 6v2.5a2.5 2.5 0 0 0 2.5 2.5H22v-1h-2.5A1.5 1.5 0 0 1 18 8.5V6h-1zm2.5 11a2.5 2.5 0 0 0-2.5 2.5V22h1v-2.5c0-.83.67-1.5 1.5-1.5H22v-1h-2.5zm-11 1H6v-1h2.5a2.5 2.5 0 0 1 2.5 2.5V22h-1v-2.5c0-.83-.67-1.5-1.5-1.5zM11 8.5V6h-1v2.5c0 .83-.67 1.5-1.5 1.5H6v1h2.5A2.5 2.5 0 0 0 11 8.5z"/></svg>'},20054:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path fill="currentColor" d="M7 20h14v1H7z"/></svg>'},22098:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="19" height="12" fill="none"><path stroke="currentColor" d="M1 8l8.5-6.5L18 8"/></svg>'},63782:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path fill="currentColor" fillRule="evenodd" clipRule="evenodd" d="M7.5 13a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM5 14.5a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0zm9.5-1.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM12 14.5a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0zm9.5-1.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM19 14.5a2.5 2.5 0 1 1 5 0 2.5 2.5 0 0 1-5 0z"/></svg>'}}]);