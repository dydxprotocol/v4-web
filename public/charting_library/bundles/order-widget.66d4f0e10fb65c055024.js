(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[7502],{10805:e=>{e.exports={absolutePriceControl:"absolutePriceControl-1bHFiJ4K",priceLabel:"priceLabel-1bHFiJ4K",openButton:"openButton-1bHFiJ4K",iconWrapper:"iconWrapper-1bHFiJ4K",openIcon:"openIcon-1bHFiJ4K",wait:"wait-1bHFiJ4K",opened:"opened-1bHFiJ4K",list:"list-1bHFiJ4K",item:"item-1bHFiJ4K",selected:"selected-1bHFiJ4K"}},10808:e=>{e.exports={absolutePriceDropdownItem:"absolutePriceDropdownItem-2wipmFIV",price:"price-2wipmFIV",labelsGroup:"labelsGroup-2wipmFIV"}},52318:e=>{e.exports={container:"container-1jnKp_X-",leverageButton:"leverageButton-1jnKp_X-",disabledLeverageButton:"disabledLeverageButton-1jnKp_X-"}},81681:e=>{e.exports={dialog:"dialog-3CCITr5n",dialogBody:"dialogBody-3CCITr5n"}},25725:e=>{e.exports={orderInfo:"orderInfo-JgOQ_pME",title:"title-JgOQ_pME",contentWrapper:"contentWrapper-JgOQ_pME",right:"right-JgOQ_pME"}},48781:e=>{e.exports={panelContainer:"panelContainer-3pDzJA5U",orderPanel:"orderPanel-3pDzJA5U"}},79777:e=>{e.exports={content:"content-1RMsqC2g",separator:"separator-1RMsqC2g",controls:"controls-1RMsqC2g",button:"button-1RMsqC2g",warning:"warning-1RMsqC2g",warning__icon:"warning__icon-1RMsqC2g",error:"error-1RMsqC2g"}},4400:e=>{e.exports={controlGroup:"controlGroup-aAjeEunF",relativePriceControl:"relativePriceControl-aAjeEunF",title:"title-aAjeEunF",controlContainer:"controlContainer-aAjeEunF",control:"control-aAjeEunF",input:"input-aAjeEunF",wait:"wait-aAjeEunF"}},30976:e=>{e.exports={messageBlock:"messageBlock-2oxiSSwZ",image:"image-2oxiSSwZ",title:"title-2oxiSSwZ",text:"text-2oxiSSwZ",controls:"controls-2oxiSSwZ"}},41458:e=>{e.exports={orderWidget:"orderWidget-2KpX3bio",header:"header-2KpX3bio",side:"side-2KpX3bio",doneButton:"doneButton-2KpX3bio",customField:"customField-2KpX3bio",duration:"duration-2KpX3bio",centerBlock:"centerBlock-2KpX3bio",customFieldsWrapper:"customFieldsWrapper-2KpX3bio",separator:"separator-2KpX3bio",notice:"notice-2KpX3bio",resizeHandler:"resizeHandler-2KpX3bio",orderTicket:"orderTicket-2KpX3bio",orderInfoAndSeparator:"orderInfoAndSeparator-2KpX3bio",topWrapper:"topWrapper-2KpX3bio","brackets-wrapper":"brackets-wrapper-2KpX3bio",brackets:"brackets-2KpX3bio",quantityWrapper:"quantityWrapper-2KpX3bio",title:"title-2KpX3bio",leverage:"leverage-2KpX3bio",button:"button-2KpX3bio"}},89954:e=>{e.exports={priceLabel:"priceLabel-pmTo_qjO",ask:"ask-pmTo_qjO",bid:"bid-pmTo_qjO",last:"last-pmTo_qjO"}},81713:e=>{e.exports={progressBarContainer:"progressBarContainer-323y76OT",marginsContainer:"marginsContainer-323y76OT",usedMargin:"usedMargin-323y76OT",availableMargin:"availableMargin-323y76OT",progressBar:"progressBar-323y76OT",track:"track-323y76OT",progress:"progress-323y76OT",fullFilled:"fullFilled-323y76OT",marginOverflow:"marginOverflow-323y76OT",wait:"wait-323y76OT"}},15236:e=>{e.exports={"css-value-calculator-width":"150px"}},86785:e=>{e.exports={"css-value-calculator-width":"150px",calculator:"calculator-3AwNSLGC",calculator__inputBorder:"calculator__inputBorder-3AwNSLGC",
calculator__input:"calculator__input-3AwNSLGC",calculator__input__innerInput:"calculator__input__innerInput-3AwNSLGC",calculator__btns:"calculator__btns-3AwNSLGC",buttonIcon:"buttonIcon-3AwNSLGC"}},36656:e=>{e.exports={menuBox:"menuBox-2VgDDAqn"}},98188:e=>{e.exports={wrapper:"wrapper-2GJQ29Cb",label:"label-2GJQ29Cb",wait:"wait-2GJQ29Cb",title:"title-2GJQ29Cb",popupMenuItem:"popupMenuItem-2GJQ29Cb",value:"value-2GJQ29Cb"}},43962:e=>{e.exports={wrapper:"wrapper-1CVEPTwn",control:"control-1CVEPTwn",label:"label-1CVEPTwn",units:"units-1CVEPTwn",single:"single-1CVEPTwn",calculatorIcon:"calculatorIcon-1CVEPTwn",isOpened:"isOpened-1CVEPTwn",risk:"risk-1CVEPTwn",wait:"wait-1CVEPTwn"}},28611:e=>{e.exports={relativePriceControl:"relativePriceControl-12qDA81C",pipsLabel:"pipsLabel-12qDA81C",openButton:"openButton-12qDA81C",iconWrapper:"iconWrapper-12qDA81C",openIcon:"openIcon-12qDA81C",wait:"wait-12qDA81C",opened:"opened-12qDA81C",list:"list-12qDA81C",item:"item-12qDA81C",selected:"selected-12qDA81C"}},6506:e=>{e.exports={relativePriceDropdownItem:"relativePriceDropdownItem-DyjCJNlo",price:"price-DyjCJNlo"}},65709:e=>{e.exports={sideControl:"sideControl-1IVPJw8O",section:"section-1IVPJw8O",active:"active-1IVPJw8O",sell:"sell-1IVPJw8O",buy:"buy-1IVPJw8O",wait:"wait-1IVPJw8O",title:"title-1IVPJw8O",typeSide:"typeSide-1IVPJw8O",value:"value-1IVPJw8O",valueNoData:"valueNoData-1IVPJw8O",spread:"spread-1IVPJw8O",isLongValue:"isLongValue-1IVPJw8O",disable:"disable-1IVPJw8O"}},9213:e=>{e.exports={tabsContainer:"tabsContainer-3mSbLjkc",separator:"separator-3mSbLjkc"}},44766:e=>{e.exports={wrap:"wrap-3GItoI3T",icon:"icon-3GItoI3T",text:"text-3GItoI3T",disabled:"disabled-3GItoI3T"}},16929:e=>{e.exports={tabs:"tabs-3I2ohC86",tab:"tab-3I2ohC86",noBorder:"noBorder-3I2ohC86",disabled:"disabled-3I2ohC86",active:"active-3I2ohC86",defaultCursor:"defaultCursor-3I2ohC86",slider:"slider-3I2ohC86",content:"content-3I2ohC86"}},89865:(e,t,s)=>{"use strict";s.d(t,{useIsMounted:()=>o});var r=s(67294);const o=()=>{const e=(0,r.useRef)(!1);return(0,r.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}},67933:(e,t,s)=>{"use strict";s.d(t,{QuantityCalculator:()=>k});var r=s(67294),o=s(93302),i=s(12781),n=s(74971),a=s(11026),l=s(71556),c=s(21659),d=s(79410),u=s(91436),p=s(72989),h=s(69397),m=s(42662),v=s(47532),g=s(33796),b=s(89720),_=s(86785);function f(e){const{min:t,max:s,step:o,uiStep:i,reference:n,withInput:a,valueInput:l,onChangeValueInput:f,onClick:C,onClose:y,onFocus:k}=e,[E,w]=(0,r.useState)(!1),[S,P]=(0,r.useState)(void 0),[M,O]=(0,r.useState)(!1),N=r.createElement(c.Icon,{className:_.buttonIcon,icon:v}),B=r.createElement(c.Icon,{className:_.buttonIcon,icon:m}),I=r.createElement(c.Icon,{className:_.buttonIcon,icon:g}),D=r.createElement(c.Icon,{className:_.buttonIcon,icon:b}),T=(0,r.useCallback)(e=>{const r={min:t,max:s,step:o},i=(0,p.checkQtyError)(r,e,!0),n=M||i.res,a=M?void 0:i.msg;w(n),P(a)},[M,t,s,o]);return(0,r.useEffect)(()=>{T(l)},[T,l]),r.createElement("div",{className:_.calculator,tabIndex:-1,ref:n,onFocus:k,onKeyDown:e=>{
l&&!E&&13===(0,h.hashFromEvent)(e)&&y()}},a&&r.createElement("div",{className:_.calculator__inputBorder},r.createElement(u.NumberInput,{className:_.calculator__input,inputClassName:_.calculator__innerInput,borderStyle:"none",value:l,max:s,min:t,step:o,uiStep:i,mode:"float",error:E,errorMessage:S,errorHandler:function(e){O(e)},onValueChange:f})),r.createElement("div",{className:_.calculator__btns},r.createElement(d.Button,{value:-o,type:d.ButtonType.IncDec,icon:N,onClick:C}),r.createElement(d.Button,{value:o,type:d.ButtonType.IncDec,icon:B,onClick:C}),r.createElement(d.Button,{value:1,type:d.ButtonType.PlusValue,onClick:C}),r.createElement(d.Button,{value:5,type:d.ButtonType.PlusValue,onClick:C}),r.createElement(d.Button,{value:25,type:d.ButtonType.PlusValue,onClick:C}),r.createElement(d.Button,{value:100,type:d.ButtonType.PlusValue,onClick:C}),r.createElement(d.Button,{value:500,type:d.ButtonType.PlusValue,onClick:C}),r.createElement(d.Button,{value:1e3,type:d.ButtonType.PlusValue,onClick:C}),r.createElement(d.Button,{value:0,type:d.ButtonType.Clear,icon:I,onClick:C}),r.createElement(d.Button,{value:t||o,type:d.ButtonType.Default,icon:D,onClick:C})))}var C=s(36656);const y=(0,l.mergeThemes)(a.DEFAULT_MENU_THEME,{menuBox:C.menuBox});class k extends r.PureComponent{constructor(e){super(e),this._setCalcRef=e=>{this.props.calcReference&&this.props.calcReference(e)},this._calculatorStepHandler=(e,t)=>{const{min:s,max:r,uiStep:n,trackEventTarget:a,trackEvent:l}=this.props;if(void 0!==l&&void 0!==a&&l(a,"Calculator Button",(0,i.prepareCalculatorEventText)(e,t)),t===d.ButtonType.Clear||t===d.ButtonType.Default)return this._updateValueByCalc(e);const c=this.props.valueGetter();if(null===c)return;let u=Number((0,o.Big)(c).plus(e));if((u<s||r<u)&&t!==d.ButtonType.IncDec)return this._updateValueByCalc(c);if(t===d.ButtonType.IncDec){if(u=this._calcByStep(c,e,s,n),r<u)return this._updateValueByCalc(r);if(u<s)return this._updateValueByCalc(s)}return this._updateValueByCalc(u)},this._updateValueByCalc=e=>{this._handlerValueInput(e),this.props.onValueChange(e,!0),this.props.calculatorUsedStat&&this.props.calculatorUsedStat()},this.state={valueInput:e.valueGetter()},this._handlerValueInput=this._handlerValueInput.bind(this)}render(){const{min:e,max:t,step:s,uiStep:o,withInput:i,targetEl:a,position:l,onFocus:c,onClose:d}=this.props;return r.createElement(n.PopupMenu,{isOpened:!0,onClose:d,position:l,doNotCloseOn:a,theme:y},r.createElement(f,{min:e,max:t,step:s,uiStep:o,withInput:i,reference:this._setCalcRef,valueInput:this.state.valueInput,onChangeValueInput:this._updateValueByCalc,onClick:this._calculatorStepHandler,onFocus:c,onClose:d}))}_calcByStep(e,t,s,r){const i=Math.sign(t),n=Math.abs(null!=r?r:t),a=new o.Big(e),l=a.minus(s).mod(t);let c=a.plus(i*n);return l.eq(0)||(c=c.plus((i>0?0:1)*n).minus(l)),c.toNumber()}_handlerValueInput(e){this.setState({valueInput:e})}}},18744:(e,t,s)=>{"use strict";s.r(t),s.d(t,{closeOrderDialog:()=>Qt,mountOrderPanel:()=>Xt,showOrderDialog:()=>Jt,unmountOrderPanel:()=>Yt})
;var r=s(67294),o=s(73935),i=s(74245),n=s(94184),a=s.n(n),l=s(85452),c=s(16282),d=s(69397),u=s(69671),p=s(7424),h=s(14071),m=s(35849),v=s(47412),g=s(55588),b=s(70083),_=s(46055),f=s(65709);const C=(0,i.t)("Sell"),y=(0,i.t)("Buy"),k=(0,i.t)("No Data");class E extends r.PureComponent{constructor(e){super(e),this._isLongValue=!1,this._maxDigitsNumber=7,this._createClickHandler=e=>()=>this.props.onSideChanged(e),this._isLongValue=Boolean(this.props.quotes.spread&&this.props.quotes.spread.toString().length>this._maxDigitsNumber||this.props.quotes.ask&&this.props.quotes.ask.toString().length>this._maxDigitsNumber)}render(){const e=n(f.sideControl,[_.OrderPanelStatus.Editing,_.OrderPanelStatus.Preview].includes(this.props.status)&&f.disable,this.props.status===_.OrderPanelStatus.Wait&&f.wait),t=n(f.section,f.sell,this.props.status!==_.OrderPanelStatus.Wait&&-1===this.props.side&&f.active),s=n(f.section,f.buy,this.props.status!==_.OrderPanelStatus.Wait&&1===this.props.side&&f.active),o=this.props.quotes.bid?r.createElement("div",null,this.props.quotes.bid):r.createElement("div",{className:f.valueNoData},k),i=this.props.quotes.ask?r.createElement("div",null,this.props.quotes.ask):r.createElement("div",{className:f.valueNoData},k);return r.createElement("div",{className:e},r.createElement("div",{className:t,onClick:this._createClickHandler(-1),tabIndex:-1,"data-name":"side-control-sell"},r.createElement("div",{className:f.title},r.createElement("span",{className:this.props.currencyForCrypto&&f.typeSide},C),this.props.currencyForCrypto&&r.createElement("span",null,this.props.currencyForCrypto)),r.createElement("div",{className:f.value},o)),r.createElement("div",{className:s,onClick:this._createClickHandler(1),tabIndex:-1,"data-name":"side-control-buy"},r.createElement("div",{className:f.title},r.createElement("span",{className:this.props.currencyForCrypto&&f.typeSide},y),this.props.currencyForCrypto&&r.createElement("span",{className:f.typeSide},this.props.currencyForCrypto)),r.createElement("div",{className:f.value},i)),this.props.quotes.spread&&r.createElement("div",{className:n(f.spread,this._isLongValue&&f.isLongValue),"data-name":"side-control-spread"},this.props.quotes.spread))}}function w(e){const{model:t,disabled:s}=e,o=(0,g.useObservable)(t.value$,t.getValue()),i=(0,g.useObservable)(t.formattedQuotes$,t.getFormattedQuotes()),[n]=(0,b.useWatchedValue)(t.status);return r.createElement(E,{quotes:i,side:o,status:n,onSideChanged:e=>{s||(t.setValue(e),t.onControlFocused.fire())},currencyForCrypto:t.baseCurrency})}var S=s(85209),P=s(80113),M=s(72865),O=s(21659),N=s(79777),B=s(11703);const I={cancel:(0,i.t)("Cancel"),sendOrder:(0,i.t)("Send Order")};function D(e){const t=(0,r.useRef)(null),s=(0,M.useForceUpdate)();(0,r.useEffect)(()=>{const r=()=>s();return(0,c.ensureNotNull)(t.current).focus(),e.loading.subscribe(r),e.model.infoTableQuotesData().subscribe(r),()=>{e.loading.unsubscribe(r),e.model.infoTableQuotesData().unsubscribe(r)}});const o=r.createElement(P.InfoTable,{rows:e.model.infoTableQuotesData().value().rows,
header:e.model.infoTableQuotesData().value().header}),i=r.createElement(P.InfoTable,{rows:e.model.infoTableOrderData().rows,header:e.model.infoTableOrderData().header}),n=e.model.infoTableCustomData().map((e,t)=>r.createElement(P.InfoTable,{key:"custom-"+t,rows:e.rows,header:e.header})),a=0!==e.model.warnings.length&&r.createElement("div",{className:N.warning},r.createElement(O.Icon,{className:N.warning__icon,icon:B}),r.createElement("div",null,e.model.warnings.map(e=>r.createElement("div",{key:e},e)))),l=0!==e.model.errors.length,d=l&&r.createElement("div",{className:N.error},e.model.errors.map(e=>r.createElement("div",{key:e},e)));return r.createElement(r.Fragment,null,r.createElement("div",{className:N.content},o,r.createElement("div",{className:N.separator}),i,0!==n.length&&r.createElement("div",{className:N.separator}),n,d,a),r.createElement("div",{className:N.controls},r.createElement("div",{className:N.button},r.createElement(S.Button,{useFullWidth:!0,size:"l",intent:-1===e.side?"danger":"primary",onClick:e.model.onPlaceClick,reference:t,disabled:l||e.loading.value()},I.sendOrder)),r.createElement("div",{className:N.button},r.createElement(S.Button,{useFullWidth:!0,size:"l",intent:"default",appearance:"stroke",onClick:e.model.onCancelClick},I.cancel))))}var T=s(50774);class x extends r.PureComponent{constructor(){super(...arguments),this._createClickHandler=e=>()=>{this.props.disabled||this.props.onSelect(e)}}render(){const e=this._generateTabs();return r.createElement("div",null,r.createElement(T.SliderRow,null,e),r.createElement("div",null,this.props.children[this.props.activeTab||0]))}_generateTabs(){const{activeTab:e,disabled:t}=this.props;return r.Children.map(this.props.children,(s,o)=>{const i=void 0!==s.props.id?s.props.id:o;return r.createElement(T.SliderItem,{value:i,isActive:e===i,isDisabled:t,shouldUseDefaultCursor:!!this.props.shouldUseDefaultCursor,noBorder:!!this.props.noBorder,onClick:this._createClickHandler(i)},s.props.title)})}}function F(e){return r.createElement("div",null,e.children)}var H=s(9213);const V=(0,i.t)("Market"),R=(0,i.t)("Limit"),L=(0,i.t)("Stop"),A=(0,i.t)("Stop Limit");class W extends r.PureComponent{constructor(e){super(e),this._callback=()=>this.forceUpdate()}componentDidMount(){this.context.resizerWidth&&this.context.resizerWidth.subscribe(this._callback)}componentWillUnmount(){this.context.resizerWidth&&this.context.resizerWidth.unsubscribe(this._callback)}render(){const e=[];return this.props.supportMarketOrders&&e.push(r.createElement(F,{key:2,title:V,id:2})),this.props.supportLimitOrders&&e.push(r.createElement(F,{key:1,title:R,id:1})),this.props.supportStopOrders&&e.push(r.createElement(F,{key:3,title:L,id:3})),this.props.supportStopLimitOrders&&e.push(r.createElement(F,{key:4,title:A,id:4})),r.createElement(r.Fragment,null,r.createElement("div",{className:H.tabsContainer,tabIndex:-1},r.createElement(x,{activeTab:this.props.activeTab,shouldUseDefaultCursor:!0,onSelect:this.props.onSelect,disabled:this.props.disabled,noBorder:!0},e)),r.createElement("div",{
className:H.separator}))}}W.contextType=_.Context;var z=s(36624),K=s(58970),U=s(91436),q=s(77632),Z=s(67933),G=s(89505),J=s(36202),Q=s(43962),j=s(15236);const X=parseInt(j["css-value-calculator-width"]);class Y extends r.PureComponent{constructor(e){super(e),this._control=null,this._input=null,this._calc=null,this._getCurrentValue=()=>this.props.value||0,this._getDropdownPosition=()=>{if(null===this._control)return{x:0,y:0};const e=this._control.getBoundingClientRect();return{x:e.left+e.width-X,y:e.bottom+2}},this._onFocus=e=>{const t=(0,c.ensureNotNull)(this._calc);!G.mobiletouch&&t.contains(e.target)&&(0,c.ensureNotNull)(this._input).focus()},this._setRef=e=>{this._control=e},this._setCalcRef=e=>{this._calc=e},this._setInputRef=e=>{this._input=e},this._onKeyDown=e=>{!this.state.isOpened||13!==e.keyCode&&27!==e.keyCode||(e.stopPropagation(),this.setState({isOpened:!1})),Object.values(_.CalculatorDecKeyCodes).includes(e.keyCode)||Object.values(_.CalculatorIncKeyCodes).includes(e.keyCode)||this.setState({isOpened:!1}),this.props.onKeyDown&&this.props.onKeyDown(e)},this._onClickOutside=e=>{this._calc&&!this._calc.contains(e.target)&&this.setState({isOpened:!1})},this._updateValue=e=>{this.props.onValueChange(e)},this._toggle=()=>{this.setState(e=>({isOpened:!e.isOpened}))},this._setInputFocus=e=>{null!==e&&(e.focus(),e.setSelectionRange(e.value.length,e.value.length))},this.state={isOpened:!1}}componentDidMount(){5===this.props.focus&&this._setInputFocus(this._input)}render(){const{min:e,max:t,step:s,uiStep:o,error:i,errorMessage:a,className:l,errorHandler:c,highlight:d,highlightRemoveRoundBorder:u,intent:p,fontSizeStyle:h,...m}=this.props,v=r.createElement(O.Icon,{icon:J,className:n(Q.calculatorIcon,this.state.isOpened&&Q.isOpened),onClick:this._toggle});return r.createElement(q.OutsideEvent,{click:!0,mouseDown:!0,touchStart:!0,handler:this._onClickOutside},n=>r.createElement("span",{ref:n},r.createElement(U.NumberInput,{value:this.props.value||0,alwaysUpdateValueFromProps:this.state.isOpened,formatter:this.props.formatter,className:l,containerReference:this._setRef,inputReference:this._setInputRef,button:v,onValueChange:this._updateValue,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onKeyDown:this._onKeyDown,error:i,errorMessage:a,errorHandler:c,min:e,max:t,step:s,uiStep:o,controlDecKeyCodes:this.state.isOpened?[_.CalculatorDecKeyCodes.Minus,_.CalculatorDecKeyCodes.NumMinus,_.CalculatorDecKeyCodes.FirefoxMinus]:void 0,controlIncKeyCodes:this.state.isOpened?[_.CalculatorIncKeyCodes.Plus,_.CalculatorIncKeyCodes.NumPlus,_.CalculatorIncKeyCodes.FirefoxPlus]:void 0,highlight:d,highlightRemoveRoundBorder:u,intent:p,fontSizeStyle:h}),this.state.isOpened&&r.createElement(Z.QuantityCalculator,{...m,min:e,max:t,step:s,uiStep:o,valueGetter:this._getCurrentValue,position:this._getDropdownPosition(),targetEl:this._control,calcReference:this._setCalcRef,onClose:this._toggle,onFocus:this._onFocus,trackEventTarget:"Order Ticket"})))}}class $ extends r.PureComponent{constructor(e){super(e),this._defaultMax=9e15,
this._onFocus=()=>{this.props.onFocus&&this.props.onFocus(this.props.type)},this._onValueChange=e=>{this._onFocus(),this.props.control.value.setValue(e),this.props.control.onModifiedCallback()},this._callback=()=>this.forceUpdate()}componentDidMount(){this.props.control.value.subscribe(this._callback)}componentWillUnmount(){this.props.control.value.unsubscribe(this._callback)}render(){const{control:e,focus:t,min:s,max:o,step:i,uiStep:a,type:l,error:c,errorMessage:d,errorHandler:u,label:p,formatter:h,className:m,status:v,trackEvent:g,highlight:b,highlightRemoveRoundBorder:f,intent:C,fontSizeStyle:y}=this.props,k={value:e.value.value()||0,step:i,uiStep:a,className:n(Q.input,v===_.OrderPanelStatus.Wait&&Q.wait),error:c,errorMessage:d,errorHandler:u,onFocus:this._onFocus,formatter:h,onValueChange:this._onValueChange,calculatorUsedStat:()=>e.calculatorUsedStat(),highlight:b,highlightRemoveRoundBorder:f,intent:C,fontSizeStyle:y},E=o||this._defaultMax,w=0===l?r.createElement(Y,{...k,focus:t,min:s||i,max:E,trackEvent:g}):r.createElement(U.NumberInput,{...k,step:.01,min:s,max:E});return r.createElement("div",{className:n(m,Q.control)},r.createElement("div",{className:Q.label}," ",p," "),w)}}var ee=s(37016);const te=(0,i.t)("Risk"),se=(0,i.t)("Units"),re=(0,i.t)("Lots");class oe extends r.PureComponent{constructor(e){super(e),this._onFocus=e=>{e!==this.props.model.focusedControl.value()&&this.props.model.focusedControl.setValue(e),this.props.model.onControlFocused.fire()},this._errorHandler=e=>{this.props.model.setControlError(e)},this._callback=()=>this.forceUpdate()}componentDidMount(){this._subscribeToModel(this.props.model)}componentWillUnmount(){this._unsubscribeFromModel(this.props.model)}render(){var e;const t=this.context.value,{model:s,symbolHasLotSize:o,trackEvent:i,focus:a}=this.props,l=s.error.value(),c={errorHandler:this._errorHandler,error:l,status:s.status.value(),onFocus:this._onFocus,trackEvent:i,fontSizeStyle:"medium"},d=Boolean(l&&l.res),u=l&&l.msg,p=s.showRiskControls&&s.isRiskAvailable.value()&&(t.showPercentRiskInQty||t.showCurrencyRiskInQty);return r.createElement(r.Fragment,null,r.createElement(K.ControlGroupContext.Provider,{value:this._getGroupContextValue(!0,!p)},r.createElement($,{...c,...this._generateHighlightProps(0),control:s.quantity,min:s.qty.min,max:s.qty.max,step:s.qty.step,uiStep:s.qty.uiStep,type:0,formatter:s.formatter,label:null!==(e=s.units)&&void 0!==e?e:o?re:se,className:n(!p&&Q.single,Q.units),focus:a,error:d&&this._isSelectedControl(0),errorMessage:u})),p&&r.createElement("div",{className:Q.risk},t.showCurrencyRiskInQty&&r.createElement(K.ControlGroupContext.Provider,{value:this._getGroupContextValue(!1,!t.showPercentRiskInQty)},r.createElement($,{...c,...this._generateHighlightProps(1),control:s.riskInCurrency,step:s.riskStep,type:1,formatter:s.riskInCurrencyFormatter,label:s.currency+" "+te,error:d&&this._isSelectedControl(1),errorMessage:u})),t.showPercentRiskInQty&&r.createElement(K.ControlGroupContext.Provider,{value:this._getGroupContextValue(!1,!0)},r.createElement($,{...c,
...this._generateHighlightProps(2),control:s.riskInPercent,step:s.riskStep,type:2,formatter:s.riskInPercentFormatter,label:"% "+te,error:d&&this._isSelectedControl(2),errorMessage:u}))))}_generateHighlightProps(e){const t=this.props.model.error.value(),s=this.props.model.isRiskAvailable.value()?this._isSelectedControl(e):void 0;return{highlight:(this.context.value.showCurrencyRiskInQty||this.context.value.showPercentRiskInQty)&&(0===e?s:this._isSelectedControl(e)),highlightRemoveRoundBorder:0,intent:Boolean(t&&t.res)&&this._isSelectedControl(e)?"danger":void 0}}_isSelectedControl(e){return this.props.model.status.value()!==_.OrderPanelStatus.Wait&&this.props.model.focusedControl.value()===e}_subscribeToModel(e){e.focusedControl.subscribe(this._callback),e.isRiskAvailable.subscribe(this._callback),e.error.subscribe(this._callback)}_unsubscribeFromModel(e){e.focusedControl.unsubscribe(this._callback),e.isRiskAvailable.unsubscribe(this._callback),e.error.unsubscribe(this._callback)}_getGroupContextValue(e,t){return{isGrouped:!0,disablePositionAdjustment:!0,cellState:{isTop:!0,isRight:t,isBottom:!0,isLeft:e}}}}oe.contextType=ee.SettingsContext;var ie=s(58766),ne=s(93302),ae=s(65954),le=s(74971),ce=s(46299),de=s(50177),ue=s(98188);const pe=[1,5,10,25,50,75,100];function he(e){const t=(0,r.useRef)(null),[s,o]=(0,b.useWatchedValue)(e.value),[i,a]=(0,b.useWatchedValue)(e.focusedControl),[l,u]=(0,r.useState)(!1),[p,h]=(0,r.useState)(0),m=(0,ae.useWatchedValueReadonly)({watchedValue:e.error}),v=(0,ae.useWatchedValueReadonly)({watchedValue:e.balance}),f=(0,g.useObservable)(e.side$,e.initialSide),C=Boolean(m&&m.res),y=m&&m.msg,k=(0,r.useRef)(null);return(0,r.useEffect)(()=>{var t;5===e.initialFocus&&null!==(t=k.current)&&(t.focus(),t.setSelectionRange(t.value.length,t.value.length))},[]),r.createElement(r.Fragment,null,r.createElement(U.NumberInput,{...function(e){const t={highlightRemoveRoundBorder:0};S(e)&&(t.highlight=!0);Boolean(m&&m.res)&&S(e)&&(t.intent="danger");return t}(e.control),value:s,onBlur:e.forceRoundByStep?function(){if(null!==s&&void 0!==e.step){const t=new ne.Big(s),r=t.mod(e.step);if(!r.eq(0)){E(t.minus(r).toNumber())}}}:void 0,onValueChange:E,min:e.min,step:e.step,formatter:e.formatter,errorMessage:y,errorHandler:e.setControlError,error:C&&S(e.control),inputReference:function(e){k.current=e},innerLabel:l?void 0:r.createElement("span",{className:ue.label},e.label),onFocus:()=>{return t=e.control,a(t),void e.onControlFocused.fire();var t},className:n(ue.input,e.status.value()===_.OrderPanelStatus.Wait&&ue.wait),button:w()?r.createElement(de.CaretButton,{isDropped:l,onClick:function(){u(!l)}}):r.createElement(r.Fragment,null),containerReference:function(e){t.current=e},alwaysUpdateValueFromProps:e.forceRoundByStep,fontSizeStyle:e.fontSizeStyle}),w()&&null!==v&&r.createElement(le.PopupMenu,{position:function(){const e=(0,c.ensureNotNull)(t.current).getBoundingClientRect();return h(e.width),{x:e.left,y:e.top+e.height+1}},onClose:P,isOpened:l,doNotCloseOn:t.current,onKeyDown:function(e){switch((0,
d.hashFromEvent)(e)){case 27:l&&(e.preventDefault(),P())}},minWidth:p},pe.map(t=>{const s=function(e){return new ne.Big((0,c.ensureNotNull)(v).available).mul(.01).mul(e).toNumber()}(t),i=r.createElement(r.Fragment,null,t+"%  ",r.createElement("span",{className:ue.value},"("+e.formatter.format(s)+" "+e.label+")"));return r.createElement(ce.PopupMenuItem,{key:t.toString(),className:ue.popupMenuItem,label:i,onClick:()=>o(s)})})));function E(t){o(t),e.onModifiedCallback()}function w(){return null!==v&&v.available>0&&(-1===f?3===e.control:4===e.control)}function S(t){return e.status.value()!==_.OrderPanelStatus.Wait&&i===t}function P(){u(!1),(0,c.ensureNotNull)(t.current).focus()}}function me(e){const{model:t,className:s}=e,o=(0,g.useObservable)(t.quoteCurrencyUiParams$),a={side$:t.side$,initialSide:t.getSide(),status:t.status,formatter:t.formatter,error:t.error,focusedControl:t.focusedControl,onControlFocused:t.onControlFocused,setControlError:t.setControlError,fontSizeStyle:"medium"};return r.createElement(r.Fragment,null,r.createElement("div",{className:ue.title},(0,i.t)("Units")),r.createElement(ie.ControlGroup,{cols:1,rows:2,className:n(s,ue.wrapper)},r.createElement(he,{...a,value:t.quantity.value,onModifiedCallback:t.quantity.onModifiedCallback,label:t.info.baseCurrency,control:3,balance:t.baseCurrencyCryptoBalance,initialFocus:e.focus,forceRoundByStep:!0,step:t.info.qty.step,min:t.info.qty.min}),r.createElement(he,{...a,value:t.quoteCurrencyQuantity.value,onModifiedCallback:t.quoteCurrencyQuantity.onModifiedCallback,label:t.info.quoteCurrency,control:4,balance:t.quoteCurrencyCryptoBalance,step:null==o?void 0:o.step,min:null==o?void 0:o.min})))}var ve=s(80570),ge=s(65249),be=s(89954);function _e(e){const t=n(be.priceLabel,be[e.modifier.toLowerCase()]);return r.createElement("span",{className:n(t)},e.modifier)}var fe=s(10808);function Ce(e){const t=e.price===e.ask,s=e.price===e.bid,o=e.price===e.last,i=(t||s)&&e.ask===e.bid;let n,a;return e.displayPriceLabel&&(i&&1===e.side?n=r.createElement(_e,{modifier:"Ask"}):i&&-1===e.side?n=r.createElement(_e,{modifier:"Bid"}):t?n=r.createElement(_e,{modifier:"Ask"}):s&&(n=r.createElement(_e,{modifier:"Bid"})),a=r.createElement("div",{className:fe.labelsGroup},n,o&&r.createElement(_e,{modifier:"Last"}))),r.createElement("div",{className:fe.absolutePriceDropdownItem},r.createElement("div",{className:fe.price},e.price),a)}var ye=s(75604),ke=s(14897),Ee=s(22452),we=s(10805);const Se=(0,ve.makeKeyboardListener)(ye.InputWithError),Pe=(0,i.t)("Price"),Me=(0,i.t)("Price format is invalid.");class Oe extends r.PureComponent{constructor(e){super(e),this._priceControl=null,this._priceInput=null,this._dropdown=null,this._setDropdownRef=e=>{this._dropdown=e},this._setInitialFocus=()=>{!G.mobiletouch&&this._priceInput&&(this.props.priceType===_.PriceType.Limit&&1===this.props.focus||this.props.priceType===_.PriceType.Stop&&2===this.props.focus)&&(this._priceInput.setSelectionRange(this.state.displayPrice.length,this.state.displayPrice.length),this._priceInput.focus())},this._onFocus=e=>{
if(this.props.onControlFocused&&this.props.onControlFocused(0),this.props.errorHandler){const e=this.state.priceFormatter.parse(this.state.displayPrice);this.props.errorHandler(!e.res)}this.props.onFocus&&this.props.onFocus(e)},this._onOutsideClick=e=>{if(null!==this._priceControl&&!this._priceControl.contains(e.target)){const e=this.state.priceFormatter.parse(this.state.displayPrice);let t=this.props.displayPrice;t=e.res?this.state.priceFormatter.format(e.value>=0?e.value:Math.abs(e.value)):this.state.prices[(0,Ee.getDropdownItemsForDevice)()],this.setState({displayPrice:t},()=>{this._onPriceSelected(t)}),this.props.errorHandler&&this.props.errorHandler(!1)}this.state.isOpened&&this._dropdown&&!this._dropdown.contains(e.target)&&this._closeDropdown()},this._onInputChange=e=>{const t=e.currentTarget.value,s=this.state.priceFormatter.parse(t);this._onModifiedCallback(),this.props.errorHandler&&this.props.errorHandler(!Boolean(s.res)),this._onPriceSelected(t)},this._onTouchStart=e=>{e.stopPropagation(),this._swipeState.y=e.touches[0].clientY},this._onTouchMove=e=>{if(e.preventDefault(),e.stopPropagation(),e.changedTouches&&e.changedTouches.length&&null!==this._swipeState.y){const t=e.changedTouches[0].clientY-this._swipeState.y;if(Math.abs(t)<10)return;this._swipeState.direction=t>0?"up":"down","up"===this._swipeState.direction?this._prependPriceOnTouchMove():"down"===this._swipeState.direction&&this._appendPriceOnTouchMove()}},this._onTouchEnd=e=>{e.stopPropagation(),this._resetSwipeState()},this._onDropdownWheelNoPassiv=e=>{e.preventDefault(),e.stopPropagation(),e.deltaY<0?this._prependPriceOnWheel():this._appendPriceOnWheel()},this._onInputMouseWheel=e=>{e.preventDefault(),e.stopPropagation(),this._onModifiedCallback(),this._scrollPriceOnWheel(e.deltaY<0?1:-1)},this._onSelect=(e,t)=>{const s=this.state.priceFormatter.parse(t.text);this.props.errorHandler&&this.props.errorHandler(!s.res),this.setState({highlight:!0,displayPrice:t.text,selected:e,isPriceSelectedByWheelOrByDropdown:!0},()=>{this._onModifiedCallback(),this._closeDropdown(),this._onPriceSelected(t.text),!G.mobiletouch&&this._priceInput&&this._priceInput.focus()})},this._onNavigate=(e,t)=>{const s=this.state.command&&"prev"===this.state.command.name,r=this.state.command&&"next"===this.state.command.name;s?this._prependPriceOnNavigate():r&&this._appendPriceOnNavigate()},this._onMouseOver=e=>{this.setState({mouseOver:!0})},this._onMouseOut=e=>{this.setState({mouseOver:!1})},this._onOpenBtnClick=e=>{e.stopPropagation(),this.state.isOpened?this._closeDropdown():(this._openDropdown(),!G.mobiletouch&&this._priceInput&&(this._priceInput.setSelectionRange(this.state.displayPrice.length,this.state.displayPrice.length),this._priceInput.focus()),this.props.onControlFocused&&this.props.onControlFocused(0))},this._setPriceInput=e=>{this._priceInput=e},this._setPriceControl=e=>{this._priceControl=e},this._scrollPriceOnArrowUp=e=>{e.preventDefault(),this._onModifiedCallback(),this._prependPriceOnNavigate()},this._scrollPriceOnArrowDown=e=>{e.preventDefault(),
this._onModifiedCallback(),this._appendPriceOnNavigate()},this._selectPrev=e=>{e.preventDefault(),this._onModifiedCallback(),this.setState({command:{name:"prev"}})},this._selectNext=e=>{e.preventDefault(),this._onModifiedCallback(),this.setState({command:{name:"next"}})},this._openDropdown=()=>{this.setState({highlight:!0,isOpened:!0,keyboardEventHandlers:this._getKeyboardEventHandlers("open")})},this._closeDropdownWithStopPropagation=e=>{e&&(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()),this._closeDropdown()},this._closeDropdown=()=>{const e={isOpened:!1,keyboardEventHandlers:this._getKeyboardEventHandlers("close")};if(this.props.error||-1!==this.state.prices.indexOf(this.state.displayPrice)&&this.state.selected===Math.floor(this.state.prices.length/2))this.setState(e);else{const t=this.state.priceFormatter.parse(this.state.displayPrice),s=t.res?(0,Ee.generatePriceRangeFrom)(t.value,this.props.step,this.state.priceFormatter,(0,Ee.getDropdownItemsForDevice)()):this.state.prices;this.setState(t=>({...e,prices:s,selected:s.indexOf(this.state.displayPrice)}))}};const t=(0,Ee.generatePriceRangeFrom)((0,Ee.parsePrice)(e.displayPrice,e.priceFormatter),e.step,e.priceFormatter,(0,Ee.getDropdownItemsForDevice)());this.state={displayPrice:e.displayPrice,prices:t,selected:t.indexOf(e.displayPrice),highlight:this.props.highlight,isOpened:!1,mouseOver:!1,keyboardEventHandlers:this._getKeyboardEventHandlers("close"),priceFormatter:e.priceFormatter,step:e.step,isPriceSelectedByWheelOrByDropdown:!1},this._resetSwipeState()}componentDidMount(){this._setInitialFocus()}render(){var e;const t=n(we.absolutePriceControl,this.props.className),s=r.createElement("span",{className:we.priceLabel},null!==(e=this.props.priceLabel)&&void 0!==e?e:Pe),o=n(we.openIcon,this.state.isOpened&&we.opened,this.props.status===_.OrderPanelStatus.Wait&&we.wait),i=r.createElement("div",{className:we.openButton,onClick:this._onOpenBtnClick},r.createElement("div",{className:we.iconWrapper},r.createElement(O.Icon,{className:o,icon:ke})));return r.createElement(q.OutsideEvent,{click:!0,mouseDown:!0,touchStart:!0,handler:this._onOutsideClick},e=>r.createElement("span",{className:t,ref:e},s,r.createElement(Se,{className:this.props.inputClassName,containerReference:this._setPriceControl,inputReference:this._setPriceInput,keyboardEventHandlers:this.state.keyboardEventHandlers,value:this.state.displayPrice,warning:this.props.warning,error:this.props.error,errorMessage:this.props.errorMessage||Me,onChange:this._onInputChange,onFocus:this._onFocus,onBlur:this.props.onBlur,onMouseOver:this._onMouseOver,onMouseOut:this._onMouseOut,onWheelNoPassive:this._onInputMouseWheel,highlight:this.state.highlight,highlightRemoveRoundBorder:this.props.highlightRemoveRoundBorder,fontSizeStyle:this.props.fontSizeStyle},i),r.createElement(ge.DropdownList,{anchor:"bottom",root:"document",reference:this._setDropdownRef,className:we.list,command:this.state.command,isOpened:this.state.isOpened,items:this._makeListItems(),itemsClassName:we.item,width:this._getDropdownWidth(),
selected:this.state.selected,selectedClassName:we.selected,target:null!==this._priceControl?this._priceControl:void 0,attachmentOffsetY:3,inheritWidthFromTarget:!1,shouldScrollIfNotVisible:!1,onSelect:this._onSelect,onNavigate:this._onNavigate,onDropdownTouchStart:this._onTouchStart,onDropdownTouchMove:this._onTouchMove,onDropdownTouchEnd:this._onTouchEnd,onDropdownWheelNoPassive:this._onDropdownWheelNoPassiv})))}static getDerivedStateFromProps(e,t){if(e.displayPrice!==t.displayPrice||e.highlight!==t.highlight||e.priceFormatter!==t.priceFormatter||e.step!==t.step){const s=e.priceFormatter.parse(e.displayPrice),r=s.res?(0,Ee.generatePriceRangeFrom)(s.value,e.step,e.priceFormatter,(0,Ee.getDropdownItemsForDevice)()):t.prices,o=e.priceFormatter.format((0,Ee.parsePrice)(e.displayPrice,e.priceFormatter)),i={...t,displayPrice:e.displayPrice,priceFormatter:e.priceFormatter,step:e.step,isPriceSelectedByWheelOrByDropdown:!1,highlight:e.highlight};return e.error||(i.selected=r.indexOf(o),i.prices=r),i}return null}_onPriceSelected(e){"function"==typeof this.props.onPriceSelected&&this.props.onPriceSelected(e)}_resetSwipeState(){this._swipeState={direction:null,y:null}}_getKeyboardEventHandlers(e){return"close"===e?{[ve.KeyCode.UpArrow]:this._scrollPriceOnArrowUp,[ve.KeyCode.DownArrow]:this._scrollPriceOnArrowDown}:{[ve.KeyCode.Enter]:this._closeDropdownWithStopPropagation,[ve.KeyCode.Escape]:this._closeDropdownWithStopPropagation,[ve.KeyCode.UpArrow]:this._selectPrev,[ve.KeyCode.DownArrow]:this._selectNext}}_makeListItems(e=!0){return this.state.prices.map(t=>({text:t,elem:r.createElement(Ce,{price:t,ask:this.props.priceFormatter.format(this.props.ask),bid:this.props.priceFormatter.format(this.props.bid),last:this.props.priceFormatter.format(this.props.last),side:this.props.side,displayPriceLabel:e})}))}_prependPriceOnWheel(){const e=this.state.priceFormatter.format((0,Ee.parsePrice)(this.state.prices[0],this.state.priceFormatter)+1*this.props.step);this.setState(t=>({prices:[e].concat(t.prices.slice(0,-1)),selected:0===t.selected?1:t.selected+1}))}_appendPriceOnWheel(){const e=this.state.prices.length-1,t=this.state.priceFormatter.format((0,Ee.parsePrice)(this.state.prices[e],this.state.priceFormatter)+-1*this.props.step);this.setState(s=>({prices:s.prices.slice(1).concat(t),selected:s.selected===e?e-1:s.selected-1}))}_scrollPriceOnWheel(e){const t=this.state.priceFormatter.format((0,Ee.parsePrice)(this.state.prices[this.state.selected],this.state.priceFormatter)+e*this.props.step);this.setState({displayPrice:t},()=>{1===e?this._prependPriceOnNavigate():this._appendPriceOnNavigate()})}_prependPriceOnNavigate(){const e=[this.state.priceFormatter.format((0,Ee.parsePrice)(this.state.prices[0],this.state.priceFormatter)+1*this.props.step)].concat(this.state.prices.slice(0,-1)),t=this.state.prices.length-1;let s;s=this.state.selected<=0?0:this.state.selected>t?t:this.state.selected,this.setState({prices:e,displayPrice:e[s],selected:s,isPriceSelectedByWheelOrByDropdown:!0},()=>{this._onPriceSelected(e[s])})}_appendPriceOnNavigate(){
const e=this.state.priceFormatter.format((0,Ee.parsePrice)(this.state.prices[this.state.prices.length-1],this.state.priceFormatter)+-1*this.props.step),t=this.state.prices.slice(1).concat(e),s=this.state.prices.length-1;let r;r=this.state.selected<=0?0:this.state.selected>s?s:this.state.selected,this.setState({prices:t,displayPrice:t[r],selected:r,isPriceSelectedByWheelOrByDropdown:!0},()=>{this._onPriceSelected(t[r])})}_prependPriceOnTouchMove(){const e=(0,Ee.parsePrice)(this.state.prices[0],this.state.priceFormatter),t=(0,Ee.generateSingleDirectionItems)(1,e,this.props.step,1,this.state.priceFormatter);this.setState(e=>({prices:t.concat(e.prices.slice(0,this.state.prices.length-1)),selected:0===e.selected?1:e.selected+1}))}_appendPriceOnTouchMove(){const e=this.state.prices.length-1,t=(0,Ee.parsePrice)(this.state.prices[e],this.state.priceFormatter),s=(0,Ee.generateSingleDirectionItems)(1,t,this.props.step,-1,this.state.priceFormatter);this.setState(t=>({prices:t.prices.slice(1).concat(s),selected:t.selected===e?e-1:t.selected-1}))}_getDropdownWidth(){if(this.state.isOpened&&null!==this._priceControl&&(this.context.mode===_.OrderEditorDisplayMode.Popup||this.state.prices[0].length<=7)){return parseFloat(window.getComputedStyle(this._priceControl,null).getPropertyValue("width"))+2}}_onModifiedCallback(){this.props.onModifiedCallback&&this.props.onModifiedCallback()}}Oe.contextType=_.Context,Oe.defaultProps={className:"",inputClassName:""};var Ne=s(6506);function Be(e){return r.createElement("div",{className:Ne.relativePriceDropdownItem},r.createElement("div",{className:Ne.price},e.price))}var Ie=s(12781),De=s(37678);function Te(e,t){return e.findIndex(e=>e.displayValue===t)}const xe=/^[-+]?[0-9]*\.?[0-9]+$/;function Fe(e){return xe.test(e)}function He(e){return"ask"===e?"Ask":"bid"===e?"Bid":"Stop"}function Ve(e){return void 0!==e&&e>0?" + "+Math.abs(e):void 0!==e&&e<0?" - "+Math.abs(e):""}function Re(e,t){return He(e)+Ve(Math.round(t||0))}function Le(e){return void 0!==e?String(e):"0"}function Ae(e,t){const s=e.offset;return r=e.base,o=function(e,t){return(Math.abs(e)>=1?e:0)+(1===t?1:-1)}(s,t),{displayValue:He(r)+Ve(o),base:r,offset:o};var r,o}function We(e,t){const s=[],r=[],o={displayValue:He(e.base)+Ve(e.offset),base:e.base,offset:e.offset};for(let e=0;e<t;e++)s.unshift(Ae(0===e?o:s[0],1)),r.push(Ae(0===e?o:r[e-1],-1));return[...s,o,...r]}function ze(){return"phone"!==De.mediaState.device&&"phone-vertical"!==De.mediaState.device?6:4}var Ke=s(28611);const Ue=(0,ve.makeKeyboardListener)(ye.InputWithError),qe=(0,i.t)("Ticks",{context:"price"}),Ze=(0,i.t)("Price format is invalid.");class Ge extends r.PureComponent{constructor(e){super(e),this._priceInput=null,this._priceControl=null,this._dropdown=null,this._setDropdownRef=e=>{this._dropdown=e},this._onMouseOver=e=>{this.setState({mouseOver:!0})},this._onMouseOut=e=>{this.setState({mouseOver:!1})},this._onOutsideClick=e=>{this.state.isOpened&&this._dropdown&&!this._dropdown.contains(e.target)&&this._closeDropdown()},this._onFocus=e=>{this.setState({isEditing:!0,
displayValue:Le(this.state.value.offset)},()=>{var e,t;G.mobiletouch||null===this._priceInput||(e=this._priceInput,t=this.state.displayValue.length,e.setSelectionRange&&(e.focus(),e.setSelectionRange(0,t),e.select()))}),this.props.onControlFocused&&this.props.onControlFocused(1),this.props.onFocus&&this.props.onFocus(e)},this._onBlur=e=>{this.props.onBlur&&this.props.onBlur(e);const t=this.state.prices[0].base,s=Te(this.state.prices,Re(t,this.state.value.offset)),r=0<=s&&s<=this.state.prices.length-1?s:Math.floor(this.state.prices.length/2);this.setState({isEditing:!1,displayValue:this.state.prices[r].displayValue,selected:r},()=>{this._trackExitEditingModeEvent(this.state.prices[r].offset)})},this._onInputChange=e=>{this._onModifiedCallback();const t=e.currentTarget.value;if(Fe(t)){const e={base:this.state.value.base,offset:Number(t)},s=We(e,ze()),r=Te(s,Re(e.base,e.offset));this.setState({displayValue:t,prices:s,selected:r,isOpened:!1},()=>{this._onPriceSelected(e)})}else this.setState({displayValue:t,isOpened:!1})},this._onTouchStart=e=>{e.stopPropagation(),this._swipeState.y=e.touches[0].clientY},this._onTouchMove=e=>{if(e.preventDefault(),e.stopPropagation(),e.changedTouches&&e.changedTouches.length&&null!==this._swipeState.y){const t=e.changedTouches[0].clientY-this._swipeState.y;if(Math.abs(t)<10)return;this._swipeState.direction=t>0?"up":"down","up"===this._swipeState.direction?this._prependPriceOnTouchMove():"down"===this._swipeState.direction&&this._appendPriceOnTouchMove()}},this._onTouchEnd=e=>{e.stopPropagation(),this._resetSwipeState()},this._onDropdownWheelNoPassive=e=>{e.preventDefault(),e.stopPropagation(),e.deltaY<0?this._prependPriceOnWheel():this._appendPriceOnWheel()},this._onInputMouseWheel=e=>{e.preventDefault(),e.stopPropagation(),this._onModifiedCallback(),this._scrollPriceOnWheel(e.deltaY<0?1:-1)},this._onSelect=(e,t)=>{this.setState(s=>({highlight:!0,displayValue:this.state.isEditing?Le(t.offset):t.text,selected:e}),()=>{this._onModifiedCallback(),this._closeDropdown(),this._onPriceSelected(),this.setState({isEditing:!1},()=>{this._blurInput()})})},this._onNavigate=(e,t)=>{const s=this.state.command&&"prev"===this.state.command.name,r=this.state.command&&"next"===this.state.command.name;s?this._prependPriceOnNavigate():r&&this._appendPriceOnNavigate()},this._onOpenBtnClick=e=>{var t,s;e.preventDefault(),e.stopPropagation(),this.state.isOpened?this._closeDropdown():(this._openDropdown(),G.mobiletouch?null===(s=this._priceInput)||void 0===s||s.blur():null===(t=this._priceInput)||void 0===t||t.focus(),this.props.onControlFocused&&this.props.onControlFocused(1),this.setState({isEditing:!1,displayValue:this.state.displayValue},()=>{!G.mobiletouch&&this._priceInput&&this._priceInput.setSelectionRange(this.state.displayValue.length,this.state.displayValue.length)}))},this._switchEditingMode=e=>{e.preventDefault();const t=Number(this.state.displayValue);if(Number.isInteger(t))this.setState({isEditing:!1},()=>{this._blurInput()});else{const e=Math.round(t),s={base:this.state.value.base,offset:e
},r=We(s,ze()),o=Te(r,Re(s.base,s.offset));this.setState({displayValue:String(e),prices:r,selected:o,isEditing:!1},()=>{this._onPriceSelected(),this._blurInput()})}},this._setPriceInput=e=>{this._priceInput=e},this._setPriceControl=e=>{this._priceControl=e},this._scrollPriceOnArrowUp=e=>{e.preventDefault(),this._onModifiedCallback(),this._prependPriceOnNavigate()},this._scrollPriceOnArrowDown=e=>{e.preventDefault(),this._onModifiedCallback(),this._appendPriceOnNavigate()},this._selectPrev=e=>{e.preventDefault(),this._onModifiedCallback(),this.setState({command:{name:"prev"}})},this._selectNext=e=>{e.preventDefault(),this._onModifiedCallback(),this.setState({command:{name:"next"}})},this._openDropdown=()=>{this.setState({highlight:!0,isOpened:!0,keyboardEventHandlers:this._getKeyboardEventHandlers("open")})},this._closeDropdownOnKeyDown=e=>{e.preventDefault(),this._closeDropdown(),this.setState({isEditing:!1,displayValue:this.state.displayValue},()=>{this._blurInput()})},this._closeDropdown=()=>{var e;const t={isOpened:!1,keyboardEventHandlers:this._getKeyboardEventHandlers("close")};if(-1===Te(this.state.prices,this.state.displayValue)||this.state.selected!==Math.floor(this.state.prices.length/2)){const e=We({base:this.state.value.base,offset:this.state.value.offset||0},ze()),s=Te(e,this.state.displayValue);this.setState({...t,prices:e,selected:s})}else this.setState(t);G.mobiletouch&&(null===(e=this._priceInput)||void 0===e||e.blur())},this._trackExitEditingModeEvent=e=>{this.props.trackEvent&&this.props.trackEvent("Order Ticket","Relative Price - Exit Editing Mode",String(e))};const t=Re(e.initialValue.base,e.initialValue.offset),s=We(this.props.initialValue,ze()),r=Te(s,t);this.state={value:e.initialValue,displayValue:t,prices:s,selected:r,highlight:this.props.highlight,isOpened:!1,isEditing:!1,mouseOver:!1,keyboardEventHandlers:this._getKeyboardEventHandlers("close")},this._resetSwipeState()}render(){const e=n(Ke.relativePriceControl,this.props.className),t=r.createElement("span",{className:Ke.pipsLabel},qe),s=n(Ke.openIcon,this.state.isOpened&&Ke.opened,this.props.status===_.OrderPanelStatus.Wait&&Ke.wait),o=r.createElement("div",{className:Ke.openButton,onClick:this._onOpenBtnClick},r.createElement("div",{className:Ke.iconWrapper},r.createElement(O.Icon,{className:s,icon:ke}))),i=this.state.isEditing&&!Fe(this.state.displayValue),a=i||this.props.error,l=i?Ze:this.props.errorMessage;return r.createElement(q.OutsideEvent,{click:!0,mouseDown:!0,touchStart:!0,handler:this._onOutsideClick},s=>r.createElement("span",{className:e,ref:s},t,r.createElement(Ue,{className:this.props.inputClassName,containerReference:this._setPriceControl,inputReference:this._setPriceInput,keyboardEventHandlers:this.state.keyboardEventHandlers,value:this.state.displayValue,readonly:this.state.isOpened,warning:this.props.warning,error:a,errorMessage:l,onFocus:this._onFocus,onBlur:this._onBlur,onChange:this._onInputChange,onWheelNoPassive:this._onInputMouseWheel,onMouseOver:this._onMouseOver,onMouseOut:this._onMouseOut,noReadonlyStyles:!0,
highlight:this.state.highlight,highlightRemoveRoundBorder:this.props.highlightRemoveRoundBorder,fontSizeStyle:this.props.fontSizeStyle},o),r.createElement(ge.DropdownList,{anchor:"bottom",root:"document",reference:this._setDropdownRef,className:Ke.list,command:this.state.command,isOpened:this.state.isOpened,items:this._makeListItems(),itemsClassName:Ke.item,selected:this.state.selected,selectedClassName:Ke.selected,target:null!==this._priceControl?this._priceControl:void 0,attachmentOffsetY:3,inheritWidthFromTarget:!0,shouldScrollIfNotVisible:!1,onSelect:this._onSelect,onNavigate:this._onNavigate,onDropdownTouchStart:this._onTouchStart,onDropdownTouchMove:this._onTouchMove,onDropdownTouchEnd:this._onTouchEnd,onDropdownWheelNoPassive:this._onDropdownWheelNoPassive})))}static getDerivedStateFromProps(e,t){const s=Re(e.initialValue.base,e.initialValue.offset);if(!1===(0,Ie.comparator)(t.value,e.initialValue)||t.highlight!==e.highlight){const r=We(e.initialValue,ze()),o=Te(r,s);return{...t,highlight:e.highlight,value:e.initialValue,displayValue:t.isEditing?Le(e.initialValue.offset):s,prices:r,selected:o}}return null}_blurInput(){!G.mobiletouch&&this._priceInput&&this._priceInput.blur()}_onPriceSelected(e){if("function"==typeof this.props.onPriceSelected){const t=void 0!==e?e:this.state.prices[this.state.selected],s={base:t.base,offset:t.offset};this.props.onPriceSelected(s)}}_onModifiedCallback(){this.props.onModifiedCallback&&this.props.onModifiedCallback()}_resetSwipeState(){this._swipeState={direction:null,y:null}}_getKeyboardEventHandlers(e){return"close"===e?{[ve.KeyCode.UpArrow]:this._scrollPriceOnArrowUp,[ve.KeyCode.DownArrow]:this._scrollPriceOnArrowDown,[ve.KeyCode.Enter]:this._switchEditingMode}:{[ve.KeyCode.Enter]:this._closeDropdownOnKeyDown,[ve.KeyCode.Escape]:this._closeDropdownOnKeyDown,[ve.KeyCode.UpArrow]:this._selectPrev,[ve.KeyCode.DownArrow]:this._selectNext}}_makeListItems(){return this.state.prices.map((e,t)=>({base:e.base,offset:e.offset,text:e.displayValue,elem:r.createElement(Be,{price:e.displayValue})}))}_prependPriceOnWheel(){const e=Ae(this.state.prices[0],1);this.setState(t=>({prices:[e].concat(t.prices.slice(0,-1)),selected:0===t.selected?1:t.selected+1}))}_appendPriceOnWheel(){const e=this.state.prices.length-1,t=Ae(this.state.prices[e],-1);this.setState(s=>({prices:s.prices.slice(1).concat(t),selected:s.selected===e?e-1:s.selected-1}))}_scrollPriceOnWheel(e){const t=Ae(this.state.prices[this.state.selected],e);this.setState({displayValue:this.state.isEditing?Le(t.offset):t.displayValue},()=>{1===e?this._prependPriceOnNavigate():this._appendPriceOnNavigate()})}_prependPriceOnNavigate(){const e=Ae(this.state.prices[0],1);this.setState(t=>{const s=[e].concat(t.prices.slice(0,-1)),r=this.state.prices.length-1;let o;return o=this.state.selected<=0?0:this.state.selected>r?r:t.selected,{prices:s,selected:o}},()=>{this._onPriceSelected()})}_appendPriceOnNavigate(){const e=Ae(this.state.prices[this.state.prices.length-1],-1);this.setState(t=>{
const s=t.prices.slice(1).concat(e),r=this.state.prices.length-1;let o;return o=this.state.selected<=0?0:this.state.selected>r?r:t.selected,{prices:s,selected:o}},()=>{this._onPriceSelected()})}_prependPriceOnTouchMove(){const e=this.state.prices[0],t=[];t.unshift(Ae(e,1)),this.setState(e=>({prices:t.concat(e.prices.slice(0,this.state.prices.length-1)),selected:0===e.selected?1:e.selected+1}))}_appendPriceOnTouchMove(){const e=this.state.prices.length-1,t=this.state.prices[e],s=[];s.push(Ae(t,-1)),this.setState(t=>({prices:t.prices.slice(1).concat(s),selected:t.selected===e?e-1:t.selected-1}))}}function Je(e){const t=e.relativePrice.value();return null!==t?t:{base:1===e.side.value()?"ask":"bid",offset:0}}function Qe(e,t){return e.status!==_.OrderPanelStatus.Wait&&e.focusedControl===t}Ge.defaultProps={className:"",inputClassName:""};var je=s(4400);function Xe(e){const t=r.useContext(ee.SettingsContext),s=t.value.showRelativePriceControl&&!e.isRelativePriceControlHidden?2:1,o=e.status!==_.OrderPanelStatus.Wait&&e.error.res&&"warning"===e.error.severity;return r.createElement("div",{className:je.controlGroup},r.createElement(ie.ControlGroup,{className:je.controlContainer,cols:s,rows:1,disablePositionAdjustment:!0},r.createElement(Oe,{...i(0),className:je.control,priceType:e.priceType,inputClassName:n(je.input,e.status===_.OrderPanelStatus.Wait&&je.wait),status:e.status,displayPrice:e.absolutePrice,step:e.step,ask:e.ask,bid:e.bid,last:e.last,side:e.side,priceFormatter:e.priceFormatter,warning:o,error:e.error.res&&"error"===e.error.severity&&Qe(e,0),errorMessage:e.errorMessage,errorHandler:e.errorHandler,onControlFocused:e.onControlFocused,onPriceSelected:e.onAbsolutePriceSelected,displayPriceLabel:!e.isRelativePriceControlHidden,trackEvent:e.trackEvent,onModifiedCallback:e.modifiedAbsolutePriceControlStat,focus:e.focus,fontSizeStyle:e.fontSizeStyle,priceLabel:e.priceLabel}),t.value.showRelativePriceControl&&!e.isRelativePriceControlHidden&&r.createElement(Ge,{...i(1),className:n(je.control,je.relativePriceControl),inputClassName:n(je.input,e.status===_.OrderPanelStatus.Wait&&je.wait),status:e.status,initialValue:e.relativePrice,error:e.error.res&&"error"===e.error.severity&&Qe(e,1),errorMessage:e.errorMessage,onControlFocused:e.onControlFocused,onPriceSelected:e.onRelativePriceSelected,trackEvent:e.trackEvent,onModifiedCallback:e.modifiedRelativePriceControlStat,fontSizeStyle:e.fontSizeStyle})));function i(s){const r={highlightRemoveRoundBorder:0};return Qe(e,s)&&t.value.showRelativePriceControl&&(r.highlight=!0),r}}class Ye extends r.PureComponent{constructor(e){super(e),this._errorHandler=e=>{this.props.model.setControlError(e)},this._updatePrice=e=>{null!==e&&this._callback()},this._updateRelativePrice=e=>{null!==e&&this._callback()},this._onAbsolutePriceSelected=e=>{this.props.model.onAbsolutePriceSelected(e)},this._onRelativePriceSelected=e=>{this.props.model.onRelativePriceSelected(e)},this._onControlFocused=e=>{this.props.model.focusedControl.setValue(e),this.props.model.onControlFocused.fire()},
this._callback=()=>this.forceUpdate()}componentDidMount(){this._subscribeToModel(this.props.model)}componentWillUnmount(){this._unsubscribeFromModel(this.props.model)}render(){const e=this.props.model,t=e.quotes.value();return r.createElement(Xe,{status:e.status.value(),priceType:this.props.priceType,focusedControl:e.focusedControl.value(),absolutePrice:e.displayPrice.value(),relativePrice:Je(e),errorHandler:this._errorHandler,step:e.step.value(),ask:t.ask,bid:t.bid,last:t.last,side:e.side.value(),priceFormatter:e.formatter,error:e.error.value(),errorMessage:e.error.value().msg,onAbsolutePriceSelected:this._onAbsolutePriceSelected,onRelativePriceSelected:this._onRelativePriceSelected,modifiedAbsolutePriceControlStat:e.modifiedAbsolutePriceControlStat,modifiedRelativePriceControlStat:e.modifiedRelativePriceControlStat,onControlFocused:this._onControlFocused,isRelativePriceControlHidden:e.isRelativePriceControlHidden,trackEvent:this.props.trackEvent,focus:this.props.focus,fontSizeStyle:this.props.fontSizeStyle,priceLabel:this.props.priceLabel})}_subscribeToModel(e){e.focusedControl.subscribe(this._callback),e.displayPrice.subscribe(this._updatePrice),e.error.subscribe(this._callback),e.relativePrice.subscribe(this._updateRelativePrice),e.quotes.subscribe(this._callback),e.side.subscribe(this._callback),e.orderType.subscribe(this._callback),e.step.subscribe(this._callback)}_unsubscribeFromModel(e){e.focusedControl.unsubscribe(this._callback),e.displayPrice.unsubscribe(this._updatePrice),e.error.unsubscribe(this._callback),e.relativePrice.unsubscribe(this._updateRelativePrice),e.quotes.unsubscribe(this._callback),e.side.unsubscribe(this._callback),e.orderType.unsubscribe(this._callback),e.step.unsubscribe(this._callback)}}class $e extends r.PureComponent{constructor(e){super(e),this._callback=()=>this.forceUpdate()}componentDidMount(){this.props.model.orderType.subscribe(this._callback)}componentWillUnmount(){this.props.model.orderType.unsubscribe(this._callback)}render(){const{model:e,trackEvent:t,focus:s}=this.props,o=e.orderType.value(),n=3===o?e.stopPriceModel:e.limitPriceModel,a=4===o;return r.createElement(r.Fragment,null,a&&r.createElement(Ye,{key:"stopPrice",model:e.stopPriceModel,priceType:_.PriceType.Stop,trackEvent:t,focus:s,fontSizeStyle:"medium",priceLabel:(0,i.t)("Stop price")}),r.createElement(Ye,{key:n.id,model:n,priceType:3===o?_.PriceType.Stop:_.PriceType.Limit,trackEvent:t,focus:s,fontSizeStyle:"medium",priceLabel:a?(0,i.t)("Limit price"):void 0}))}}var et=s(41078),tt=s(75566),st=s(200);class rt extends r.PureComponent{constructor(e){super(e),this.onDurationChanged=e=>{this.props.model.currentDuration.setValue(e),this.props.model.onModifiedCallback()},this._onClick=()=>{this.props.model.onControlFocused.fire()},this._callback=()=>this.forceUpdate()}componentDidMount(){this.props.model.currentDuration.subscribe(this._callback),this.props.model.orderType.subscribe(this._callback)}componentWillUnmount(){this.props.model.currentDuration.unsubscribe(this._callback),
this.props.model.orderType.unsubscribe(this._callback)}render(){const e=this.props.model.currentDuration.value();return null===e?null:r.createElement(tt.DurationControl,{currentDuration:e,durationMetaInfoList:this._getDurationMetaInfoList(),onDurationChanged:this.onDurationChanged,onClose:this.props.onClose,onClick:this._onClick})}_getDurationMetaInfoList(){const e=this.props.model.orderType.value(),t=this.props.model.durationMetaInfoList;return(0,st.filterDurationsByOrderType)(e,t)}}var ot=s(98162),it=s(9187);const nt=r.lazy(async()=>({default:(await Promise.all([s.e(2986),s.e(6112)]).then(s.bind(s,61010))).LeverageDialog})),at=(0,it.withDialogLazyLoad)(nt);var lt=s(57040),ct=s(52318);function dt(e){const{leverage:t,onClick:s,onControlFocused:o,blocked:n,forceDisabled:l=!1,onBlockedClick:c}=e,d=void 0===t;let u=(0,i.t)("{value} leverage",{replace:{value:String(t)}});return d&&(u=(0,i.t)("No leverage")),n&&(u=(0,i.t)("Select leverage")),r.createElement("div",{className:ct.container,onClick:function(){if(n)return o.fire(),void c()}},r.createElement(lt.EditButton,{disabled:d||l||n,value:u,startSlot:d||n?void 0:"x",onClick:function(){s(),o.fire()},className:a()(ct.leverageButton,l&&ct.disabledLeverageButton)}))}function ut(e){const{model:t}=e,s=(0,ae.useWatchedValueReadonly)({watchedValue:t.leverageInfoWatchedValue}),o=(0,ae.useWatchedValueReadonly)({watchedValue:t.blocked}),i=t.leveragePreviewResult(),[n,a]=(0,r.useState)(!1),[l,c]=(0,r.useState)(null==s?void 0:s.leverage);(0,r.useEffect)(()=>{c(null==s?void 0:s.leverage)},[s]);const d=(0,r.useCallback)((0,ot.sequentialize)(e=>t.getLeverageInfo(e)),[t]);return r.createElement(r.Fragment,null,r.createElement(dt,{onClick:u,leverage:l,forceDisabled:n,blocked:o,onControlFocused:t.onControlFocused,onBlockedClick:t.onBlockedClick}),null!==s&&n&&void 0!==l&&r.createElement(at,{symbol:t.symbol,displaySymbol:t.displaySymbol,leverage:l,brokerName:t.brokerName,orderType:t.orderType,side:t.side,isOpen:n,onClose:u,onLeverageSet:t.setLeverage,onLeveragePreview:t.previewLeverage,title:s.title,min:s.min,max:s.max,step:s.step,customFields:t.customFields,infos:null==i?void 0:i.infos,warnings:null==i?void 0:i.warnings,errors:null==i?void 0:i.errors,onSetLeverageValueInOrderWidget:function(e){c(e)}}));function u(){n||d({symbol:t.symbol,orderType:t.orderType,side:t.side,customFields:t.customFields}),a(e=>!e)}}var pt=s(81713);class ht extends r.PureComponent{constructor(e){super(e),this._callback=()=>this.forceUpdate()}componentDidMount(){this.context.resizerWidth&&this.context.resizerWidth.subscribe(this._callback)}componentWillUnmount(){this.context.resizerWidth&&this.context.resizerWidth.unsubscribe(this._callback)}render(){const e={width:this.props.progress+"%"},t=n(pt.progress,100===this.props.progress&&pt.fullFilled,this.props.usedMargin>this.props.availableMargin&&pt.marginOverflow);return r.createElement("div",{className:n(pt.progressBarContainer,this.props.wait&&pt.wait)},r.createElement("div",{className:pt.marginsContainer},r.createElement("div",{className:pt.usedMargin
},r.createElement("div",null,(0,i.t)("Margin used")),r.createElement("span",null,(0,Ie.formatInfoValue)(this.props.usedMargin))),r.createElement("div",{className:pt.availableMargin},r.createElement("div",null,(0,i.t)("Margin available")),r.createElement("span",null,(0,Ie.formatInfoValue)(this.props.availableMargin)))),r.createElement("div",{className:pt.progressBar},r.createElement("div",{className:pt.track},r.createElement("div",{className:t,style:e}))))}}ht.contextType=_.Context;var mt=s(25725);function vt(e){const t=e.hasMarginMeter?r.createElement(ht,{usedMargin:e.usedMargin,availableMargin:e.availableMargin,progress:e.marginRatio,wait:e.status===_.OrderPanelStatus.Wait}):void 0;return r.createElement("div",{className:mt.orderInfo},r.createElement("div",{className:mt.title},e.title),r.createElement("div",{className:mt.contentWrapper},t,r.createElement(P.InfoTable,{rows:e.infoTableData.rows,header:e.infoTableData.header,disabled:e.status===_.OrderPanelStatus.Wait,rightAlignedValues:!0})))}class gt extends r.PureComponent{constructor(e){super(e),this._callback=()=>this.forceUpdate()}componentDidMount(){this._subscribeToModel(this.props.model)}componentWillUnmount(){this._unsubscribeFromModel(this.props.model)}render(){const e=this.props.model,t=e.usedMargin().value(),s=e.availableMargin().value();return r.createElement(vt,{title:e.title(),hasMarginMeter:e.hasMarginMeter(),usedMargin:t,availableMargin:s,marginRatio:(0,Ie.calculatedMarginRatio)(t,s),infoTableData:e.infoTableData().value(),status:this.props.status})}_subscribeToModel(e){e.availableMargin().subscribe(this._callback),e.usedMargin().subscribe(this._callback),e.infoTableData().subscribe(this._callback)}_unsubscribeFromModel(e){e.availableMargin().unsubscribe(this._callback),e.usedMargin().unsubscribe(this._callback),e.infoTableData().unsubscribe(this._callback)}}var bt=s(69878),_t=s(38606),ft=s(30976);function Ct(e){const{imageBlack:t,image:s,controls:o,text:i,title:n}=e,a=(0,ae.useWatchedValueReadonly)({watchedValue:bt.watchedTheme});return r.createElement("div",{className:ft.messageBlock},r.createElement("div",{className:ft.image,dangerouslySetInnerHTML:{__html:void 0!==t&&a===_t.StdTheme.Dark?t:s}}),r.createElement("div",{className:ft.title},n),r.createElement("div",{className:ft.text,dangerouslySetInnerHTML:{__html:i||""}}),o&&r.createElement("div",{className:ft.controls},o))}var yt=s(90592),kt=s(43384),Et=s(71324),wt=s(20897),St=s(36011),Pt=s(41458);const Mt=(0,h.getLogger)("Trading.OrderPanel"),Ot=(0,i.t)("Non tradable symbol"),Nt=(0,i.t)("Log In"),Bt=(0,i.t)("Connect to broker"),It=(0,i.t)("Log into your TradingView account to trade"),Dt=(0,i.t)("Log into your broker/exchange account to trade"),Tt=(0,i.t)("Sign up"),xt=(0,i.t)("Connect");class Ft extends r.PureComponent{constructor(e,t){super(e,t),this._orderWidgetBlock=null,this._orderTicketBlock=null,this._button=null,this._resizeHandler=null,this._focusBlock=()=>{null!==this._orderWidgetBlock&&this._orderWidgetBlock.focus()},this._onLayoutResizeHandleMousedown=e=>{
if(e.defaultPrevented||!e.cancelable)return;e.preventDefault();const t=Math.max(this._orderTicketBlock?this._orderTicketBlock.clientHeight:0,0);let s;s="touches"in e?e.touches[0].clientY:e.clientY;const r=e=>{let r;e.preventDefault(),r="touches"in e?e.touches[0].clientY:e.clientY;let o=t+(r-s);o<445&&(o=445),this._setOrderTicketHeight(o)},o=()=>{const{orderTicketHeight:e}=this.state;document.removeEventListener("mousemove",r),document.removeEventListener("touchmove",r),document.removeEventListener("mouseup",o),document.removeEventListener("touchend",o),void 0!==e&&0!==e&&(0,yt.isInteger)(e)&&u.setValue(m.settingsKeys.PANEL_HEIGHT,e)};document.addEventListener("mousemove",r),document.addEventListener("touchmove",r,{passive:!1}),document.addEventListener("mouseup",o),document.addEventListener("touchend",o,{passive:!1})},this._setOrderWidgetRef=e=>{this._orderWidgetBlock=e},this._setOrderTicketRef=e=>{this._orderTicketBlock=e},this._setButtonRef=e=>{this._button=e},this._setResizeHandlerRef=e=>{this._resizeHandler=e},this._forceUpdateAndReCalculateBounds=()=>{this.forceUpdate(()=>this.props.popupController&&this.props.popupController.recalculateBounds())},this._onSelectTab=e=>{this.props.model.orderType.setValue(e)},this._onStatusChange=e=>{var t;e===_.OrderPanelStatus.Wait&&(null===(t=this._orderWidgetBlock)||void 0===t?void 0:t.contains(document.activeElement))&&this._blur(),this._callback()},this._onKeyDown=e=>{const t=(0,d.hashFromEvent)(e);if(!(13!==t&&t!==d.hashShiftPlusEnter||this.props.model.disabled.value()||null===this._button)){if(l.CheckMobile.any())return this._blur();this._button.focus(),e.defaultPrevented||this._button.click()}},this._blur=()=>{document.activeElement instanceof HTMLElement?document.activeElement.blur():Mt.logWarn("Failed to deselect: active element is not HTMLElement")},this._handleClickSignIn=()=>{showSignModal({source:"Trading panel",sourceMeta:"Chart"})},this._handleClickSignUp=()=>{showSignModal({mode:"signup",source:"Trading panel",sourceMeta:"Chart"})},this._selectBroker=()=>{this.props.model.noBroker&&this.props.model.selectBroker()},this._callback=()=>{this.forceUpdate()};const s=this._isOrderInfoShown()?parseInt(u.getValue(m.settingsKeys.PANEL_HEIGHT,"")):NaN;this.state={orderTicketHeight:isNaN(s)?void 0:s,orderInfoAndSeparatorHeight:void 0}}componentDidMount(){this._subscribeToModel(this.props.model),this.props.settings.subscribe(this._forceUpdateAndReCalculateBounds),null!==this._resizeHandler&&(this._resizeHandler.addEventListener("mousedown",this._onLayoutResizeHandleMousedown,{passive:!1}),this._resizeHandler.addEventListener("touchstart",this._onLayoutResizeHandleMousedown,{passive:!1}))}componentDidUpdate(){var e;const{orderTicketHeight:t,orderInfoAndSeparatorHeight:s}=this.state,r=null===(e=this._orderWidgetBlock)||void 0===e?void 0:e.clientHeight;if(void 0!==r&&void 0!==t&&t!==r&&this._isOrderPreviewShown()&&(this._setOrderInfoAndSeparatorHeight(r-t),u.setValue(m.settingsKeys.PANEL_HEIGHT,r),this._setOrderTicketHeight(r)),
void 0!==r&&void 0!==t&&t===r&&this._isOrderInfoShown()&&void 0!==s){const e=r-s;this._setOrderTicketHeight(e),u.setValue(m.settingsKeys.PANEL_HEIGHT,e)}}componentWillUnmount(){var e;const{orderTicketHeight:t,orderInfoAndSeparatorHeight:s}=this.state,r=null===(e=this._orderWidgetBlock)||void 0===e?void 0:e.clientHeight;void 0!==r&&void 0!==t&&t===r&&void 0!==s&&u.setValue(m.settingsKeys.PANEL_HEIGHT,r-s),this._unsubscribeFromModel(this.props.model),this.props.settings.unsubscribe(this._forceUpdateAndReCalculateBounds),null!==this._resizeHandler&&(this._resizeHandler.removeEventListener("mousedown",this._onLayoutResizeHandleMousedown),this._resizeHandler.removeEventListener("touchstart",this._onLayoutResizeHandleMousedown))}render(){const{model:e,settings:t,trackEvent:s}=this.props,{orderTicketHeight:o}=this.state,i=this.context.mode,a=e.status.value(),d=a===_.OrderPanelStatus.Wait||l.CheckMobile.any()?void 0:this.props.focus,u=this._isOrderPriceSupported(e),p=this._isBracketsSupported(e)||this._isCryptoBracketsSupported(e),h=this._isDurationSupported(e),m=this._isLeverageSupported(e),g=u||e.supportModifyQuantity||m,b=u||e.supportModifyQuantity||m||p,f={value:t.value(),setValue:t.setValue.bind(t)},C=e.limitPriceModel&&e.limitPriceModel.isRelativePriceControlHidden||e.stopPriceModel&&e.stopPriceModel.isRelativePriceControlHidden,y={};(e.needSignIn||e.noBroker||e.notTradableText)&&(y.flexGrow=1),i===_.OrderEditorDisplayMode.Panel&&null!==e.orderInfoModel&&void 0!==o&&0!==o&&(y.height=o);const k=r.createElement(r.Fragment,null,e.sideModel&&r.createElement("div",{className:Pt.side},r.createElement(w,{model:e.sideModel,disabled:e.existingOrder})),e.limitPriceModel&&e.stopPriceModel&&r.createElement(W,{activeTab:e.orderType.value(),disabled:e.existingOrder,supportMarketOrders:e.supportMarketOrders,supportLimitOrders:e.supportLimitOrders,supportStopOrders:e.supportStopOrders,supportStopLimitOrders:e.supportStopLimitOrders,onSelect:this._onSelectTab}),e.limitPriceModel&&e.stopPriceModel&&e.quantityModel&&r.createElement("div",{className:n(Pt.centerBlock)},u&&r.createElement($e,{model:e,trackEvent:s,focus:d}),e.supportModifyQuantity&&r.createElement("div",{className:Pt.quantityWrapper},e.supportCryptoExchangeOrderTicket?r.createElement(me,{model:e.quantityModel,focus:d}):r.createElement(oe,{model:e.quantityModel,symbolHasLotSize:e.symbolHasLotSize,trackEvent:s,focus:d})),p&&r.createElement("div",{className:Pt["brackets-wrapper"]},g&&r.createElement("div",{className:Pt.separator}),r.createElement("div",{className:Pt.brackets},r.createElement(z.BracketControlGroup,{model:e,focus:d}))),h&&r.createElement("div",{className:Pt.duration},r.createElement(rt,{onClose:this._focusBlock,model:(0,c.ensureDefined)(e.durationModel)})),Array.isArray(e.customFieldModels.value())&&e.customFieldModels.value().length>0&&r.createElement("div",{className:Pt.customFieldsWrapper},b&&r.createElement("div",{className:Pt.separator}),r.createElement(kt.CustomFields,{customFieldModels:e.customFieldModels.value(),status:e.status,onClose:this._focusBlock,
alwaysShowAttachedErrors:e.isEmptyRequiredCustomFieldsHighlighted})),m&&r.createElement("div",{className:Pt.leverage},r.createElement(ut,{model:(0,c.ensureDefined)(e.leverageModel)}))),e.buttonModel&&r.createElement("div",{className:Pt.doneButton},r.createElement(et.PlaceAndModifyButtonContainer,{model:e,reference:this._setButtonRef})),!1);return r.createElement(ee.SettingsContext.Provider,{value:f},r.createElement("div",{className:n(Pt.orderWidget),onKeyDown:this._onKeyDown,tabIndex:-1,ref:this._setOrderWidgetRef},r.createElement("div",{ref:this._setOrderTicketRef,className:Pt.orderTicket,style:y},e.headerModel&&r.createElement(v.HeaderContainer,{model:e.headerModel,mode:i,className:Pt.header,showQuantityInsteadOfAmount:e.showQuantityInsteadOfAmount,currency:e.currency,supportBrackets:e.supportBrackets,supportOrderPreview:e.supportPlaceOrderPreview||e.supportModifyOrderPreview,showRiskControls:e.showRiskControls,hideRelativePriceSettingsItem:C}),!1,!1,e.notTradableText&&this._renderNotTradableBlock(e),this._isOrderPreviewShown()?r.createElement(D,{model:(0,c.ensureNotNull)(e.orderPreviewModel),side:e.side(),loading:e.loading}):k),this._isOrderInfoShown()&&r.createElement("div",{className:Pt.orderInfoAndSeparator},r.createElement("div",{className:Pt.separator}),r.createElement("div",{className:Pt.resizeHandler,ref:this._setResizeHandlerRef}),r.createElement(gt,{"data-name":"order-info",model:(0,c.ensureNotNull)(e.orderInfoModel),status:a}))))}_setOrderTicketHeight(e){null!==this._orderTicketBlock&&this.setState({orderTicketHeight:e})}_setOrderInfoAndSeparatorHeight(e){this.setState({orderInfoAndSeparatorHeight:e})}_subscribeToModel(e){var t;e.orderType.subscribe(this._forceUpdateAndReCalculateBounds),e.status.subscribe(this._onStatusChange),e.customFieldModels.subscribe(this._callback),e.isNoQuotes.subscribe(this._callback),null===(t=e.orderInfoModel)||void 0===t||t.infoTableData().subscribe(this._callback)}_unsubscribeFromModel(e){var t;e.orderType.unsubscribe(this._forceUpdateAndReCalculateBounds),e.status.unsubscribe(this._onStatusChange),e.customFieldModels.unsubscribe(this._callback),e.isNoQuotes.unsubscribe(this._callback),null===(t=e.orderInfoModel)||void 0===t||t.infoTableData().unsubscribe(this._callback)}_isOrderPriceSupported(e){return Boolean(2!==e.orderType.value()&&(!e.existingOrder||e.existingOrder&&e.supportModifyOrderPrice))}_isBracketsSupported(e){const t=2!==this.props.model.orderType.value()||e.supportMarketBrackets;return Boolean(e.supportBrackets&&t)}_isDurationSupported(e){return Boolean(e.durationModel&&(!e.existingOrder||e.existingOrder&&e.supportModifyDuration)&&e.durationModel.isDurationsAvailable())}_isCryptoBracketsSupported(e){return Boolean(e.supportCryptoBrackets)}_isLeverageSupported(e){return Boolean(e.supportLeverage)}_isOrderPreviewShown(){const{model:e}=this.props;return e.status.value()===_.OrderPanelStatus.Preview&&null!==e.orderPreviewModel}_isOrderInfoShown(){const{model:e}=this.props,t=e.status.value(),s=this._getCountOrderInfoTableRows()
;return this.context.mode===_.OrderEditorDisplayMode.Panel&&s>0&&t!==_.OrderPanelStatus.Preview&&p.enabled("order_info")}_getCountOrderInfoTableRows(){var e,t;return(null===(t=null===(e=this.props.model.orderInfoModel)||void 0===e?void 0:e.infoTableData().value().rows)||void 0===t?void 0:t.length)||0}_renderSignInBlock(){return r.createElement(Ct,{image:St,title:Nt,text:It,controls:r.createElement(r.Fragment,null,r.createElement("div",{className:Pt.button},r.createElement(S.Button,{onClick:this._handleClickSignIn,appearance:"stroke"},Nt)),r.createElement("div",{className:Pt.button},r.createElement(S.Button,{onClick:this._handleClickSignUp,appearance:"stroke"},Tt)))})}_renderNoBrokerBlock(){return r.createElement(Ct,{image:St,title:Bt,text:Dt,controls:r.createElement(S.Button,{onClick:this._selectBroker,appearance:"stroke"},xt)})}_renderNotTradableBlock(e){const t=e.tradableSolution?r.createElement(S.Button,{onClick:e.tradableSolution.apply},e.tradableSolution.title):void 0;return r.createElement(Ct,{image:Et,imageBlack:wt,title:Ot,text:e.notTradableText,controls:t})}}Ft.contextType=_.Context;var Ht=s(48781);class Vt extends r.PureComponent{constructor(e){super(e),this._onKeyDown=e=>{27===e.keyCode&&this.props.onCancel&&this.props.onCancel()}}render(){return r.createElement("div",{className:Ht.orderPanel,onKeyDown:this._onKeyDown},r.createElement(Ft,{model:this.props.model,settings:this.props.settings,key:this.props.model.id,trackEvent:this.props.trackEvent,focus:this.props.focus}))}}var Rt=s(63184),Lt=s(23593),At=s(46403),Wt=s(43650),zt=s(4311),Kt=s(91673),Ut=s(81681);const qt=r.memo(e=>{const{model:t,isOpened:s,settings:o,onClose:i,trackEvent:n,focus:a,onOpen:l}=e;return(0,Kt.useCommonDialogHandlers)({isOpened:s,onOpen:l,onClose:i}),r.createElement(At.MatchMedia,{rule:zt.DialogBreakpoints.TabletSmall},e=>r.createElement(Lt.PopupDialog,{className:Ut.dialog,isOpened:s,onKeyDown:u,fullscreen:e,rounded:!e,"data-name":"order-dialog-popup"},r.createElement(Rt.Body,{className:Ut.dialogBody},t&&o&&r.createElement(Wt.PopupContext.Consumer,null,d))));function d(e){return r.createElement(Ft,{settings:(0,c.ensureDefined)(o),model:(0,c.ensureNotNull)(t),key:(0,c.ensureNotNull)(t).id,trackEvent:n,focus:a,popupController:e})}function u(e){27===e.keyCode&&i&&i()}});let Zt=null,Gt=!1;function Jt(e){const{viewModel:t,settings:s,onClose:r,onOpen:i,focus:n,trackEvent:a}=e;Qt();const l={model:t,settings:s,isOpened:!0,onOpen:i,onClose:()=>{Qt(r),t.onDoneButtonClicked.reject(),void 0!==l.onClose&&(t.headerModel.pinButtonClicked().unsubscribe(null,l.onClose),t.headerModel.closeButtonClicked().unsubscribe(null,l.onClose)),Zt&&(o.unmountComponentAtNode(Zt),Gt=!1)},trackEvent:a,focus:n||$t(t.orderType.value())};jt(l),Gt=!0,void 0!==l.onClose&&(t.headerModel.pinButtonClicked().subscribe(null,l.onClose),t.headerModel.closeButtonClicked().subscribe(null,l.onClose))}function Qt(e){Gt&&(jt({model:null,isOpened:!1}),null==e||e())}function jt(e){null===Zt&&(Zt=document.createElement("div"),document.body.appendChild(Zt))
;const t=r.createElement(_.Context.Provider,{value:{mode:e.model&&e.model.mode.value()||_.OrderEditorDisplayMode.Panel,supportTrailingStop:Boolean(e.model&&e.model.supportTrailingStop)}},r.createElement(qt,{...e}));o.render(t,Zt)}function Xt(e,t,s,i,n,a){Yt(s);const l={model:e,settings:t,onClose:()=>{Yt(s),l.model.headerModel&&(l.model.headerModel.pinButtonClicked().unsubscribe(null,l.onClose),l.model.headerModel.closeButtonClicked().unsubscribe(null,l.onClose))},onCancel:()=>{l.model.headerModel&&l.model.headerModel.cancel()},trackEvent:a,focus:n||$t(e.orderType.value())};l.model.headerModel&&(l.model.headerModel.pinButtonClicked().subscribe(null,l.onClose),l.model.headerModel.closeButtonClicked().subscribe(null,l.onClose)),function(e,t,s){const i=r.createElement(_.Context.Provider,{value:{resizerWidth:s||null,mode:e.model.mode.value(),supportTrailingStop:Boolean(e.model.supportTrailingStop)}},r.createElement(Vt,{...e}));o.render(i,t)}(l,s,i)}function Yt(e){o.unmountComponentAtNode(e)}function $t(e){let t;switch(e){case 2:t=5;break;case 1:case 4:t=1;break;case 3:t=2;break;default:t=void 0}return t}},9187:(e,t,s)=>{"use strict";s.d(t,{withDialogLazyLoad:()=>i});var r=s(67294),o=s(89865);function i(e){return t=>{const s=(0,o.useIsMounted)();return((e=>{const[t,s]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{!t&&e&&s(!0)},[e]),t})(t.isOpen)||t.isOpen)&&s?r.createElement(r.Suspense,{fallback:null},r.createElement(e,{...t})):null}}},57040:(e,t,s)=>{"use strict";s.d(t,{EditButton:()=>l});var r=s(67294),o=s(94184),i=s(21659),n=s(55482),a=s(44766);function l(e){const{value:t,onClick:s,className:l,startSlot:c,disabled:d=!1}=e;return r.createElement("div",{className:o(a.wrap,d&&a.disabled,l),onClick:s,"data-name":"edit-button"},r.createElement("div",{className:o(a.text,"apply-overflow-tooltip")},void 0!==c&&c,r.createElement("span",null,t)),r.createElement(i.Icon,{icon:n,className:a.icon}))}},72865:(e,t,s)=>{"use strict";s.d(t,{useForceUpdate:()=>o});var r=s(67294);const o=()=>{const[,e]=(0,r.useReducer)((e,t)=>e+1,0);return e}},80570:(e,t,s)=>{"use strict";s.d(t,{KeyCode:()=>r,makeKeyboardListener:()=>n});var r,o=s(67294);!function(e){e[e.Enter=13]="Enter",e[e.Space=32]="Space",e[e.Backspace=8]="Backspace",e[e.DownArrow=40]="DownArrow",e[e.UpArrow=38]="UpArrow",e[e.RightArrow=39]="RightArrow",e[e.LeftArrow=37]="LeftArrow",e[e.Escape=27]="Escape",e[e.Tab=9]="Tab"}(r||(r={}));class i{constructor(){this._handlers=new Map}registerHandlers(e){Object.keys(e).forEach(t=>{const s=parseInt(t);let r=e[s];if(Array.isArray(r)||(r=[r]),this._handlers.has(s)){const e=this._handlers.get(s);e&&r.forEach(t=>e.add(t))}else this._handlers.set(s,new Set(r))})}unregisterHandlers(e){Object.keys(e).forEach(t=>{const s=parseInt(t);let r=e[s];if(Array.isArray(r)||(r=[r]),this._handlers.has(s)){const e=this._handlers.get(s);e&&r.forEach(t=>e.delete(t))}})}deleteAllHandlers(){this._handlers=new Map}registerHandler(e,t){if(this._handlers.has(e)){const s=this._handlers.get(e);s&&s.add(t)}else this._handlers.set(e,new Set([t]))}unregisterHandler(e,t){
if(this._handlers.has(e)){const s=this._handlers.get(e);s&&s.delete(t)}}listen(e){if(this._handlers.has(e.keyCode)){const t=this._handlers.get(e.keyCode);t&&t.forEach(t=>t(e))}}}function n(e){var t,s,r;return(r=class extends o.PureComponent{constructor(e){super(e),this._keyboardListener=new i,this._listener=this._keyboardListener.listen.bind(this._keyboardListener)}componentDidMount(){this._registerHandlers(this.props.keyboardEventHandlers)}componentDidUpdate(e){e.keyboardEventHandlers!==this.props.keyboardEventHandlers&&this._registerHandlers(this.props.keyboardEventHandlers)}render(){const{keyboardEventHandlers:t,...s}=this.props;return o.createElement(e,{...s,onKeyDown:this._listener})}_registerHandlers(e){e&&(this._keyboardListener.deleteAllHandlers(),this._keyboardListener.registerHandlers(e))}}).displayName=`KeyboardListener(${null!==(s=null!==(t=e.displayName)&&void 0!==t?t:e.name)&&void 0!==s?s:"Component"})`,r}},50774:(e,t,s)=>{"use strict";s.d(t,{DEFAULT_SLIDER_THEME:()=>a,SliderItem:()=>l,factory:()=>c,SliderRow:()=>d});var r=s(67294),o=s(94184),i=s(16282),n=s(16929);const a=n;function l(e){const t=o(e.className,n.tab,{[n.active]:e.isActive,[n.disabled]:e.isDisabled,[n.defaultCursor]:!!e.shouldUseDefaultCursor,[n.noBorder]:!!e.noBorder});return r.createElement("div",{className:t,onClick:e.onClick,ref:e.reference,"data-type":"tab-item","data-value":e.value,"data-name":"tab-item-"+e.value.toString().toLowerCase()},e.children)}function c(e){return class extends r.PureComponent{constructor(){super(...arguments),this.activeTab={current:null}}componentDidUpdate(){(0,i.ensureNotNull)(this._slider).style.transition="transform 350ms",this._componentDidUpdate()}componentDidMount(){this._componentDidUpdate()}render(){const{className:t}=this.props,s=this._generateTabs();return r.createElement("div",{className:o(t,n.tabs),"data-name":this.props["data-name"]},s,r.createElement(e,{reference:e=>{this._slider=e}}))}_generateTabs(){return this.activeTab.current=null,r.Children.map(this.props.children,e=>{const t=e,s=Boolean(t.props.isActive),o={reference:e=>{s&&(this.activeTab.current=e),t.props.reference&&t.props.reference(e)}};return r.cloneElement(t,o)})}_componentDidUpdate(){const e=(0,i.ensureNotNull)(this._slider).style;if(this.activeTab.current){const t=this.activeTab.current.offsetWidth,s=this.activeTab.current.offsetLeft;e.transform=`translateX(${s}px)`,e.width=t+"px",e.opacity="1"}else e.opacity="0"}}}const d=c((function(e){return r.createElement("div",{className:n.slider,ref:e.reference})}))},36202:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><mask width="17" height="20" fill="#000" x="6" y="4" maskUnits="userSpaceOnUse" id="aayofezey"><path fill="#fff" d="M6 4h17v20H6z"/><path fill-rule="evenodd" d="M9 5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H9Zm1 2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1h-9Zm2 8.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm2.5 1.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm5.5-1.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM10.5 21a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm5.5-1.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm2.5 1.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/></mask><path fill="currentcolor" d="M8 7a1 1 0 0 1 1-1V4a3 3 0 0 0-3 3h2Zm0 14V7H6v14h2Zm1 1a1 1 0 0 1-1-1H6a3 3 0 0 0 3 3v-2Zm11 0H9v2h11v-2Zm1-1a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2Zm0-14v14h2V7h-2Zm-1-1a1 1 0 0 1 1 1h2a3 3 0 0 0-3-3v2ZM9 6h11V4H9v2Zm1 2V6a2 2 0 0 0-2 2h2Zm0 2V8H8v2h2Zm0 0H8c0 1.1.9 2 2 2v-2Zm9 0h-9v2h9v-2Zm0 0v2a2 2 0 0 0 2-2h-2Zm0-2v2h2V8h-2Zm0 0h2a2 2 0 0 0-2-2v2Zm-9 0h9V6h-9v2Zm.5 10a2.5 2.5 0 0 0 2.5-2.5h-2a.5.5 0 0 1-.5.5v2ZM8 15.5a2.5 2.5 0 0 0 2.5 2.5v-2a.5.5 0 0 1-.5-.5H8Zm2.5-2.5A2.5 2.5 0 0 0 8 15.5h2c0-.28.22-.5.5-.5v-2Zm2.5 2.5a2.5 2.5 0 0 0-2.5-2.5v2c.28 0 .5.22.5.5h2Zm2 0a.5.5 0 0 1-.5.5v2a2.5 2.5 0 0 0 2.5-2.5h-2Zm-.5-.5c.28 0 .5.22.5.5h2a2.5 2.5 0 0 0-2.5-2.5v2Zm-.5.5c0-.28.22-.5.5-.5v-2a2.5 2.5 0 0 0-2.5 2.5h2Zm.5.5a.5.5 0 0 1-.5-.5h-2a2.5 2.5 0 0 0 2.5 2.5v-2Zm4 2a2.5 2.5 0 0 0 2.5-2.5h-2a.5.5 0 0 1-.5.5v2ZM16 15.5a2.5 2.5 0 0 0 2.5 2.5v-2a.5.5 0 0 1-.5-.5h-2Zm2.5-2.5a2.5 2.5 0 0 0-2.5 2.5h2c0-.28.22-.5.5-.5v-2Zm2.5 2.5a2.5 2.5 0 0 0-2.5-2.5v2c.28 0 .5.22.5.5h2Zm-10 4a.5.5 0 0 1-.5.5v2a2.5 2.5 0 0 0 2.5-2.5h-2Zm-.5-.5c.28 0 .5.22.5.5h2a2.5 2.5 0 0 0-2.5-2.5v2Zm-.5.5c0-.28.22-.5.5-.5v-2A2.5 2.5 0 0 0 8 19.5h2Zm.5.5a.5.5 0 0 1-.5-.5H8a2.5 2.5 0 0 0 2.5 2.5v-2Zm4 2a2.5 2.5 0 0 0 2.5-2.5h-2a.5.5 0 0 1-.5.5v2ZM12 19.5a2.5 2.5 0 0 0 2.5 2.5v-2a.5.5 0 0 1-.5-.5h-2Zm2.5-2.5a2.5 2.5 0 0 0-2.5 2.5h2c0-.28.22-.5.5-.5v-2Zm2.5 2.5a2.5 2.5 0 0 0-2.5-2.5v2c.28 0 .5.22.5.5h2Zm2 0a.5.5 0 0 1-.5.5v2a2.5 2.5 0 0 0 2.5-2.5h-2Zm-.5-.5c.28 0 .5.22.5.5h2a2.5 2.5 0 0 0-2.5-2.5v2Zm-.5.5c0-.28.22-.5.5-.5v-2a2.5 2.5 0 0 0-2.5 2.5h2Zm.5.5a.5.5 0 0 1-.5-.5h-2a2.5 2.5 0 0 0 2.5 2.5v-2Z" mask="url(#aayofezey)"/></svg>'},33796:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23" width="23" height="23"><path fill="none" stroke="currentColor" stroke-width="2" d="M17.09 6.5A7.5 7.5 0 1 0 11.5 19a7.481 7.481 0 0 0 5.59-2.5"/></svg>'},47532:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23" width="23" height="23"><path fill="currentColor" stroke="none" d="M2 10h18v2H2z"/></svg>'},42662:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23" width="23" height="23"><g fill="currentColor" stroke="none"><path d="M3 10h18v2H3z"/><path d="M11 2h2v18h-2z"/></g></svg>'},89720:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23" width="23" height="23"><g fill="none"><path stroke="currentColor" stroke-width="2" d="M4 12.5A7.5 7.5 0 1 0 11.5 5h-6"/><path fill="currentColor" d="M3 5l4-4v8z"/></g></svg>'},55482:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M13.5 7l1.65-1.65a.5.5 0 0 0 0-.7l-1.8-1.8a.5.5 0 0 0-.7 0L11 4.5M13.5 7L11 4.5M13.5 7l-8.35 8.35a.5.5 0 0 1-.36.15H2.5v-2.3a.5.5 0 0 1 .15-.35L11 4.5"/></svg>'},36011:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 132 76" width="132" height="76" fill="none"><mask fill="#fff" id="a"><path fill-rule="evenodd" clip-rule="evenodd" d="M114 76H24C10.745 76 0 65.255 0 52s10.745-24 24-24l.247.002C26.215 12.214 39.681 0 56 0c14.582 0 26.886 9.753 30.744 23.093A21.896 21.896 0 0 1 98 20c11.821 0 21.464 9.323 21.979 21.017C126.981 43.48 132 50.155 132 58c0 9.265-7 16.895-16 17.89V76h-2z"/></mask><path fill="currentColor" d="M24 28l.012-2H24v2zm.247.002l-.012 2 1.777.01.22-1.763-1.985-.247zm62.497-4.909l-1.921.556.72 2.49 2.226-1.328-1.025-1.718zm33.235 17.924l-1.999.087.06 1.35 1.274.45.665-1.887zM116 75.89l-.22-1.988-1.78.197v1.791h2zm0 .11v2h2v-2h-2zm-2-2H24v4h90v-4zm-90 0C11.85 74 2 64.15 2 52h-4c0 14.36 11.64 26 26 26v-4zM2 52c0-12.15 9.85-22 22-22v-4C9.64 26-2 37.64-2 52h4zm21.988-22l.247.001.024-4-.247-.001-.024 4zm2.244-1.751C28.077 13.45 40.702 2 56 2v-4C38.66-2 24.354 10.98 22.263 27.754l3.969.495zM56 2c13.668 0 25.206 9.142 28.823 21.649l3.842-1.111C84.567 8.365 71.497-2 56-2v4zm31.769 22.81A19.896 19.896 0 0 1 98 22v-4a23.896 23.896 0 0 0-12.28 3.376l2.049 3.435zM98 22c10.745 0 19.513 8.475 19.98 19.105l3.997-.176C121.415 28.17 110.896 18 98 18v4zm21.314 20.903C125.541 45.095 130 51.03 130 58h4c0-8.72-5.58-16.132-13.357-18.87l-1.329 3.773zM130 58c0 8.234-6.222 15.018-14.22 15.902l.44 3.976C126.222 76.772 134 68.296 134 58h-4zm-16 17.89V76h4v-.11h-4zm2-1.89h-2v4h2v-4z" mask="url(#a)"/><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M60 51.659a6 6 0 1 0-4 0V57a2 2 0 0 0 4 0v-5.341z"/></svg>'},11703:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path fill="#FB8C00" d="M0 9a9 9 0 1 1 18 0A9 9 0 0 1 0 9z"/><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/></svg>'},20897:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120" width="120" height="120" fill="none"><g clip-path="url(#adgm1bxe3)"><path fill="#2A2E39" fill-rule="evenodd" clip-rule="evenodd" d="M103.54 47.03a4.78 4.78 0 0 0-1.73 4.07c.98 10.62-2.18 22.78-9.61 33.6-14.03 20.43-37.97 28.36-53.47 17.72s-16.7-35.83-2.67-56.26c8.1-11.81 19.52-19.44 30.71-21.73a4.79 4.79 0 0 0 3.4-2.8c.64-1.47 1.43-2.9 2.38-4.28 7.3-10.5 21.14-13.47 30.93-6.62 9.78 6.85 11.8 20.91 4.52 31.42-1.3 1.87-2.8 3.5-4.46 4.88z"/><rect width="80" height="58" fill="#121722" stroke="#B2B5BE" stroke-width="2" rx="7" x="20" y="26"/><path stroke="#B2B5BE" stroke-linecap="round" stroke-width="2" d="M6 90h106"/><path fill="#B2B5BE" fill-rule="evenodd" clip-rule="evenodd" d="M48.53 50.6L52 54.05 53.06 53l-3.47-3.47 3.47-3.47L52 45l-3.47 3.47L45.06 45 44 46.06l3.47 3.47L44 53l1.06 1.06 3.47-3.47zM72.53 50.6L76 54.05 77.06 53l-3.47-3.47 3.47-3.47L76 45l-3.47 3.47L69.06 45 68 46.06l3.47 3.47L68 53l1.06 1.06 3.47-3.47z"/><path stroke="#B2B5BE" stroke-width="1.5" d="M51 64.5h17"/></g></svg>'},71324:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120" width="120" height="120" fill="none"><g clip-path="url(#ayusj0oi1)"><path fill="#F0F3FA" fill-rule="evenodd" clip-rule="evenodd" d="M103.54 47.03a4.78 4.78 0 0 0-1.73 4.07c.98 10.62-2.18 22.78-9.61 33.6-14.03 20.43-37.97 28.36-53.47 17.72s-16.7-35.83-2.67-56.26c8.1-11.81 19.52-19.44 30.71-21.73a4.79 4.79 0 0 0 3.4-2.8c.64-1.47 1.43-2.9 2.38-4.28 7.3-10.5 21.14-13.47 30.93-6.62 9.78 6.85 11.8 20.91 4.52 31.42-1.3 1.87-2.8 3.5-4.46 4.88z"/><rect width="80" height="58" fill="#fff" stroke="#1E222D" stroke-width="2" rx="7" x="20" y="26"/><path stroke="#1E222D" stroke-linecap="round" stroke-width="2" d="M6 90h106"/><path fill="#000" fill-rule="evenodd" clip-rule="evenodd" d="M48.53 50.6L52 54.05 53.06 53l-3.47-3.47 3.47-3.47L52 45l-3.47 3.47L45.06 45 44 46.06l3.47 3.47L44 53l1.06 1.06 3.47-3.47zm24 0L76 54.05 77.06 53l-3.47-3.47 3.47-3.47L76 45l-3.47 3.47L69.06 45 68 46.06l3.47 3.47L68 53l1.06 1.06 3.47-3.47z"/><path stroke="#000" stroke-width="1.5" d="M51 64.5h17"/></g></svg>'}}]);