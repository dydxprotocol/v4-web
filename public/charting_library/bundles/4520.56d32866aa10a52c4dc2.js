"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[4520],{738597:(e,i,o)=>{o.d(i,{getSeriesStylePropertiesDefinitions:()=>xe});var t=o(509806),n=o(664902),r=o(620004),l=(o(881593),o(588517)),s=o.n(l),a=o(156963),c=o(648067),d=o(849303),u=o(311757);const p=new n.TranslatedString("change color bars based on previous close",t.t(null,void 0,o(829353))),h=new n.TranslatedString("change HLC bars",t.t(null,void 0,o(655740))),y=new n.TranslatedString("change bar up color",t.t(null,void 0,o(476804))),f=new n.TranslatedString("change bar down color",t.t(null,void 0,o(171816))),g=new n.TranslatedString("change thin bars",t.t(null,void 0,o(672886))),v=new n.TranslatedString("change line price source",t.t(null,void 0,o(17119))),S=new n.TranslatedString("change line color",t.t(null,void 0,o(687828))),P=new n.TranslatedString("change line width",t.t(null,void 0,o(669125))),w=new n.TranslatedString("change area price source",t.t(null,void 0,o(201316))),b=new n.TranslatedString("change area line color",t.t(null,void 0,o(200661))),T=new n.TranslatedString("change area line width",t.t(null,void 0,o(206610))),m=new n.TranslatedString("change area fill color",t.t(null,void 0,o(897008))),D=new n.TranslatedString("change baseline price source",t.t(null,void 0,o(156819))),C=new n.TranslatedString("change baseline top line color",t.t(null,void 0,o(268621))),_=new n.TranslatedString("change baseline top line width",t.t(null,void 0,o(535339))),k=new n.TranslatedString("change baseline bottom line color",t.t(null,void 0,o(104164))),$=new n.TranslatedString("change baseline bottom line width",t.t(null,void 0,o(438990))),L=new n.TranslatedString("change baseline fill top area color",t.t(null,void 0,o(112673))),M=new n.TranslatedString("change baseline fill bottom area color",t.t(null,void 0,o(273163))),W=new n.TranslatedString("change base level",t.t(null,void 0,o(831547))),I=new n.TranslatedString("change high-low body visibility",t.t(null,void 0,o(330033))),B=new n.TranslatedString("change high-low body color",t.t(null,void 0,o(281080))),V=new n.TranslatedString("change high-low borders visibility",t.t(null,void 0,o(279236))),O=new n.TranslatedString("change high-low border color",t.t(null,void 0,o(676885))),x=new n.TranslatedString("change high-low labels visibility",t.t(null,void 0,o(142981))),A=new n.TranslatedString("change high-low labels color",t.t(null,void 0,o(531937))),j=(new n.TranslatedString("change renko wick visibility",t.t(null,void 0,o(109473))),new n.TranslatedString("change renko wick up color",t.t(null,void 0,o(707747))),new n.TranslatedString("change renko wick down color",t.t(null,void 0,o(875986))),new n.TranslatedString("change the display of real prices on price scale (instead of Heiken-Ashi price)",t.t(null,void 0,o(639783))),new n.TranslatedString("change range thin bars",t.t(null,void 0,o(328143))),new n.TranslatedString("change range bars style",t.t(null,void 0,o(735116))),
new n.TranslatedString("change {candleType} body visibility",t.t(null,void 0,o(647202)))),F=new n.TranslatedString("change {candleType} up color",t.t(null,void 0,o(861118))),N=new n.TranslatedString("change {candleType} down color",t.t(null,void 0,o(136320))),U=new n.TranslatedString("change {candleType} border visibility",t.t(null,void 0,o(123986))),E=new n.TranslatedString("change {candleType} up border color",t.t(null,void 0,o(405464))),H=new n.TranslatedString("change {candleType} down border color",t.t(null,void 0,o(492330))),R=new n.TranslatedString("change {candleType} wick visibility",t.t(null,void 0,o(239987))),G=new n.TranslatedString("change {candleType} wick up color",t.t(null,void 0,o(445543))),z=new n.TranslatedString("change {candleType} wick down color",t.t(null,void 0,o(660164))),J=new n.TranslatedString("change {chartType} up color",t.t(null,void 0,o(59414))),q=new n.TranslatedString("change {chartType} down color",t.t(null,void 0,o(685503))),K=new n.TranslatedString("change {chartType} projection bar up color",t.t(null,void 0,o(50453))),Q=new n.TranslatedString("change {chartType} projection bar down color",t.t(null,void 0,o(618465))),X=new n.TranslatedString("change {chartType} border bar up color",t.t(null,void 0,o(811107))),Y=new n.TranslatedString("change {chartType} border bar down color",t.t(null,void 0,o(179088))),Z=new n.TranslatedString("change {chartType} projection border bar up color",t.t(null,void 0,o(761250))),ee=new n.TranslatedString("change {chartType} projection border bar up color",t.t(null,void 0,o(761250))),ie=new n.TranslatedString("change column up color",t.t(null,void 0,o(985709))),oe=new n.TranslatedString("change column down color",t.t(null,void 0,o(112155))),te=new n.TranslatedString("change column price source",t.t(null,void 0,o(166890))),ne=t.t(null,void 0,o(563243)),re=t.t(null,void 0,o(586953)),le=t.t(null,void 0,o(405536)),se=t.t(null,void 0,o(587151)),ae=t.t(null,void 0,o(855314)),ce=t.t(null,void 0,o(883760)),de=t.t(null,void 0,o(872269)),ue=t.t(null,void 0,o(226458)),pe=t.t(null,void 0,o(224248)),he=t.t(null,void 0,o(301277)),ye=t.t(null,void 0,o(457417)),fe=t.t(null,void 0,o(350430)),ge=t.t(null,void 0,o(986846)),ve=t.t(null,void 0,o(658747)),Se=t.t(null,void 0,o(111157)),Pe=t.t(null,void 0,o(683610)),we=t.t(null,void 0,o(339667)),be=(t.t(null,void 0,o(280293)),t.t(null,void 0,o(994089))),Te=t.t(null,void 0,o(405704)),me=(t.t(null,void 0,o(729881)),t.t(null,void 0,o(507445))),De=t.t(null,void 0,o(883760)),Ce=t.t(null,void 0,o(872269)),_e=t.t(null,void 0,o(194420)),ke=t.t(null,void 0,o(983678)),$e=t.t(null,void 0,o(715857)),Le=t.t(null,void 0,o(275310));t.t(null,void 0,o(832733)),t.t(null,void 0,o(16812)),t.t(null,void 0,o(463528));function Me(e,i,o,t){return(0,r.createCheckablePropertyDefinition)({checked:(0,r.convertToDefinitionProperty)(e,i.barColorsOnPrevClose,p)},{id:`${o}${t}`,title:ne})}function We(e,i,o,t,n,l){const a=(0,c.createWVFromGetterAndSubscription)((()=>e.model().isInReplay.bind(e.model())()&&false),e.model().onInReplayStateChanged());return(0,
r.createOptionsPropertyDefinition)({disabled:(0,r.convertFromReadonlyWVToDefinitionProperty)(a),option:(0,r.convertToDefinitionProperty)(e,i.priceSource,l)},{id:`${t}${n}`,title:pe,options:new(s())(o)})}function Ie(e,i,o,t){const n=(0,u.removeSpaces)(o.originalText());return[(0,r.createTwoColorsPropertyDefinition)({checked:(0,r.convertToDefinitionProperty)(e,i.drawBody,j.format({candleType:o})),color1:(0,r.getColorDefinitionProperty)(e,i.upColor,null,F.format({candleType:o})),color2:(0,r.getColorDefinitionProperty)(e,i.downColor,null,N.format({candleType:o}))},{id:`${t}Symbol${n}CandlesColor`,title:ce}),(0,r.createTwoColorsPropertyDefinition)({checked:(0,r.convertToDefinitionProperty)(e,i.drawBorder,U.format({candleType:o})),color1:(0,r.getColorDefinitionProperty)(e,i.borderUpColor,null,E.format({candleType:o})),color2:(0,r.getColorDefinitionProperty)(e,i.borderDownColor,null,H.format({candleType:o}))},{id:`${t}Symbol${n}BordersColor`,title:de}),(0,r.createTwoColorsPropertyDefinition)({checked:(0,r.convertToDefinitionProperty)(e,i.drawWick,R.format({candleType:o})),color1:(0,r.getColorDefinitionProperty)(e,i.wickUpColor,null,G.format({candleType:o})),color2:(0,r.getColorDefinitionProperty)(e,i.wickDownColor,null,z.format({candleType:o}))},{id:`${t}Symbol${n}WickColors`,title:ue})]}function Be(e,i,o,t){return[We(e,i,o,t,"SymbolLinePriceSource",v),(0,r.createLinePropertyDefinition)({color:(0,r.getColorDefinitionProperty)(e,i.color,null,S),width:(0,r.convertToDefinitionProperty)(e,i.linewidth,P)},{id:`${t}SymbolLineStyle`,title:he})]}function Ve(e,i,o,t){const n=[];{const l=(0,u.removeSpaces)(o.originalText()),s=(0,r.createColorPropertyDefinition)({color:(0,r.getColorDefinitionProperty)(e,i.upColor,null,J.format({chartType:o}))},{id:`${t}Symbol${l}UpBars`,title:Pe}),a=(0,r.createColorPropertyDefinition)({color:(0,r.getColorDefinitionProperty)(e,i.downColor,null,q.format({chartType:o}))},{id:`${t}Symbol${l}DownBars`,title:we}),c=(0,r.createColorPropertyDefinition)({color:(0,r.getColorDefinitionProperty)(e,i.upColorProjection,null,K.format({chartType:o}))},{id:`${t}Symbol${l}ProjectionUpBars`,title:be}),d=(0,r.createColorPropertyDefinition)({color:(0,r.getColorDefinitionProperty)(e,i.downColorProjection,null,Q.format({chartType:o}))},{id:`${t}Symbol${l}ProjectionDownBars`,title:Te});n.push(s,a,c,d)}return n}function Oe(e,i,o,t){const n=[];{const l=(0,u.removeSpaces)(o.originalText()),s=(0,r.createTwoColorsPropertyDefinition)({color1:(0,r.getColorDefinitionProperty)(e,i.upColor,null,J.format({chartType:o})),color2:(0,r.getColorDefinitionProperty)(e,i.borderUpColor,null,X.format({chartType:o}))},{id:`${t}Symbol${l}UpBars`,title:Pe}),a=(0,r.createTwoColorsPropertyDefinition)({color1:(0,r.getColorDefinitionProperty)(e,i.downColor,null,q.format({chartType:o})),color2:(0,r.getColorDefinitionProperty)(e,i.borderDownColor,null,Y.format({chartType:o}))},{id:`${t}Symbol${l}DownBars`,title:we}),c=(0,r.createTwoColorsPropertyDefinition)({color1:(0,r.getColorDefinitionProperty)(e,i.upColorProjection,null,K.format({chartType:o})),
color2:(0,r.getColorDefinitionProperty)(e,i.borderUpColorProjection,null,Z.format({chartType:o}))},{id:`${t}Symbol${l}ProjectionUpBars`,title:be}),d=(0,r.createTwoColorsPropertyDefinition)({color1:(0,r.getColorDefinitionProperty)(e,i.downColorProjection,null,Q.format({chartType:o})),color2:(0,r.getColorDefinitionProperty)(e,i.borderDownColorProjection,null,ee.format({chartType:o}))},{id:`${t}Symbol${l}ProjectionDownBars`,title:Te});n.push(s,a,c,d)}return n}function xe(e,i,l,c,u){switch(l){case 0:return function(e,i,o){return[Me(e,i,o,"SymbolBarStyleBarColorsOnPrevClose"),(0,r.createCheckablePropertyDefinition)({checked:(0,r.convertToDefinitionProperty)(e,i.dontDrawOpen,h)},{id:`${o}SymbolDontDrawOpen`,title:re}),(0,r.createColorPropertyDefinition)({color:(0,r.getColorDefinitionProperty)(e,i.upColor,null,y)},{id:`${o}SymbolUpColor`,title:le}),(0,r.createColorPropertyDefinition)({color:(0,r.getColorDefinitionProperty)(e,i.downColor,null,f)},{id:`${o}SymbolDownColor`,title:se}),(0,r.createCheckablePropertyDefinition)({checked:(0,r.convertToDefinitionProperty)(e,i.thinBars,g)},{id:`${o}SymbolBarThinBars`,title:ae})]}(e,i.barStyle.childs(),u);case 1:return function(e,i,r){return[Me(e,i,r,"SymbolCandleStyleBarColorsOnPrevClose"),...Ie(e,i,new n.TranslatedString("candle",t.t(null,void 0,o(130792))),r)]}(e,i.candleStyle.childs(),u);case 2:return Be(e,i.lineStyle.childs(),c.seriesPriceSources,u);case 14:return Be(e,i.lineWithMarkersStyle.childs(),c.seriesPriceSources,u);case 15:return Be(e,i.steplineStyle.childs(),c.seriesPriceSources,u);case 3:return function(e,i,o,t){return[We(e,i,o,t,"SymbolAreaPriceSource",w),(0,r.createLinePropertyDefinition)({color:(0,r.getColorDefinitionProperty)(e,i.linecolor,null,b),width:(0,r.convertToDefinitionProperty)(e,i.linewidth,T)},{id:`${t}SymbolAreaLineStyle`,title:he}),(0,r.createTwoColorsPropertyDefinition)({color1:(0,r.getColorDefinitionProperty)(e,i.color1,i.transparency,m),color2:(0,r.getColorDefinitionProperty)(e,i.color2,i.transparency,m)},{id:`${t}SymbolAreaFills`,title:ge})]}(e,i.areaStyle.childs(),c.seriesPriceSources,u);case 16:return function(e,i,o,t){return[(0,r.createLinePropertyDefinition)({color:(0,r.getColorDefinitionProperty)(e,i.highLineColor,null,b),width:(0,r.convertToDefinitionProperty)(e,i.highLineWidth,T)},{id:`${t}SymbolHLCAreaHighLineStyle`,title:ke}),(0,r.createLinePropertyDefinition)({color:(0,r.getColorDefinitionProperty)(e,i.lowLineColor,null,b),width:(0,r.convertToDefinitionProperty)(e,i.lowLineWidth,T)},{id:`${t}SymbolHLCAreaLowLineStyle`,title:Le}),(0,r.createLinePropertyDefinition)({color:(0,r.getColorDefinitionProperty)(e,i.closeLineColor,null,b),width:(0,r.convertToDefinitionProperty)(e,i.closeLineWidth,T)},{id:`${t}SymbolHLCAreaCloseLineStyle`,title:$e}),(0,r.createTwoColorsPropertyDefinition)({color1:(0,r.getColorDefinitionProperty)(e,i.highCloseFillColor,null,m),color2:(0,r.getColorDefinitionProperty)(e,i.closeLowFillColor,null,m)},{id:`${t}SymbolHLCAreaFills`,title:ge})]}(e,i.hlcAreaStyle.childs(),c.seriesPriceSources,u);case 9:
return Ie(e,i.hollowCandleStyle.childs(),new n.TranslatedString("hollow candles",t.t(null,void 0,o(375165))),u);case 10:return function(e,i,o,t){return[We(e,i,o,t,"SymbolBaseLinePriceSource",D),(0,r.createLinePropertyDefinition)({color:(0,r.getColorDefinitionProperty)(e,i.topLineColor,null,C),width:(0,r.convertToDefinitionProperty)(e,i.topLineWidth,_)},{id:`${t}SymbolBaseLineTopLine`,title:ye}),(0,r.createLinePropertyDefinition)({color:(0,r.getColorDefinitionProperty)(e,i.bottomLineColor,null,k),width:(0,r.convertToDefinitionProperty)(e,i.bottomLineWidth,$)},{id:`${t}SymbolBaseLineBottomLine`,title:fe}),(0,r.createTwoColorsPropertyDefinition)({color1:(0,r.getColorDefinitionProperty)(e,i.topFillColor1,null,L),color2:(0,r.getColorDefinitionProperty)(e,i.topFillColor2,null,L)},{id:`${t}SymbolBaseLineTopFills`,title:ve}),(0,r.createTwoColorsPropertyDefinition)({color1:(0,r.getColorDefinitionProperty)(e,i.bottomFillColor1,null,M),color2:(0,r.getColorDefinitionProperty)(e,i.bottomFillColor2,null,M)},{id:`${t}SymbolBaseLineBottomFills`,title:Se}),(0,r.createNumberPropertyDefinition)({value:(0,r.convertToDefinitionProperty)(e,i.baseLevelPercentage,W,[d.floor])},{id:`${t}SymbolBaseLevelPercentage`,title:me,type:0,min:new(s())(0),max:new(s())(100),step:new(s())(1),unit:new(s())("%")})]}(e,i.baselineStyle.childs(),c.seriesPriceSources,u);case 13:return function(e,i,o,t){return[We(e,i,o,t,"SymbolColumnPriceSource",te),Me(e,i,t,"SymbolColumnStyleColumnColorsOnPrevClose"),(0,r.createColorPropertyDefinition)({color:(0,r.getColorDefinitionProperty)(e,i.upColor,null,ie)},{id:`${t}SymbolUpColor`,title:le}),(0,r.createColorPropertyDefinition)({color:(0,r.getColorDefinitionProperty)(e,i.downColor,null,oe)},{id:`${t}SymbolDownColor`,title:se})]}(e,i.columnStyle.childs(),c.seriesPriceSources,u)}if(12===l&&a.enabled("chart_style_hilo")){return function(e,i,o){return[(0,r.createColorPropertyDefinition)({checked:(0,r.convertToDefinitionProperty)(e,i.drawBody,I),color:(0,r.getColorDefinitionProperty)(e,i.color,null,B)},{id:`${o}SymbolBodiesColor`,title:De}),(0,r.createColorPropertyDefinition)({checked:(0,r.convertToDefinitionProperty)(e,i.showBorders,V),color:(0,r.getColorDefinitionProperty)(e,i.borderColor,null,O)},{id:`${o}SymbolBorderColor`,title:Ce}),(0,r.createTextPropertyDefinition)({checked:(0,r.convertToDefinitionProperty)(e,i.showLabels,x),color:(0,r.getColorDefinitionProperty)(e,i.labelColor,null,A)},{id:`${o}SymbolLabels`,title:_e,isEditable:!1,isMultiLine:!1})]}(e,i.hiloStyle.childs(),u)}if(!i.hasOwnProperty("haStyle"))return[];if(c.isJapaneseChartsAvailable&&8===l){return function(e,i,r){const l=[];return l.push(Me(e,i,r,"SymbolHAStyleBarColorsOnPrevClose"),...Ie(e,i,new n.TranslatedString("Heikin Ashi",t.t(null,void 0,o(240530))),r)),l}(e,i.haStyle.childs(),u)}if(c.isJapaneseChartsAvailable&&a.enabled("japanese_chart_styles")){if(4===l||5===l||6===l||7===l||8===l)switch(l){case 4:return function(e,i,r){return[...Oe(e,i,new n.TranslatedString("renko",t.t(null,void 0,o(47500))),r)]}(e,i.renkoStyle.childs(),u);case 5:
return Ve(e,i.kagiStyle.childs(),new n.TranslatedString("kagi",t.t(null,void 0,o(932387))),u);case 6:return Ve(e,i.pnfStyle.childs(),new n.TranslatedString("point & figure",t.t(null,void 0,o(77828))),u);case 7:return Oe(e,i.pbStyle.childs(),new n.TranslatedString("line break",t.t(null,void 0,o(259905))),u)}0}return[]}},44520:(e,i,o)=>{o.d(i,{SeriesPropertyDefinitionsViewModel:()=>pe,basePriceSources:()=>de,seriesPrecisionValues:()=>ue});var t=o(650151),n=o(509806),r=o(664902),l=o(156963),s=o(620004),a=o(444474),c=o(588517),d=o.n(c),u=o(681434),p=o(738597),h=o(849303);const y=new r.TranslatedString("change {inputName} property",n.t(null,void 0,o(621547)));function f(e){return e.map((e=>({value:e,title:n.t(e,{context:"input"},o(788601))})))}function g(e,i,l,a,c,p,g){const v=[];return l.forEach((l=>{if(!function(e,i){return!e.isHidden&&(void 0===e.visible||function(e,i){if(!e)return!0;const o=e.split("==");return!(o.length<2)&&i[o[0]].value()===o[1]}(e.visible,i))}(l,a))return;const S=l.id;if(!a.hasOwnProperty(S))return;const P=a[S],w=function(e,i){return"style"===e.id?"Box size assignment method":"boxSize"===e.id?"Box size":i.childs().name.value()}(l,c[S]),b=function(e){return n.t(e,{context:"input"},o(788601))}(w),T=new r.TranslatedString(w,b);if("options"in l){const i=(0,t.ensure)(l.options);v.push((0,s.createOptionsPropertyDefinition)({option:(0,s.convertToDefinitionProperty)(e,P,y.format({inputName:T}))},{id:`${g}${l.name}`,title:b,options:new(d())(f(i))}))}else if("integer"!==l.type){if("float"===l.type){let o;return o=function(e,i){return!((i===(0,u.chartStyleStudyId)(4)||i===(0,u.chartStyleStudyId)(6))&&"boxSize"===e||i===(0,u.chartStyleStudyId)(5)&&"reversalAmount"===e)}(S,i)||null===p.value()?new(d())(l.min):p,void v.push((0,s.createNumberPropertyDefinition)({value:(0,s.convertToDefinitionProperty)(e,P,y.format({inputName:T}))},{id:`${g}${l.name}`,title:b,type:1,min:o,max:new(d())(l.max),defval:l.defval}))}"text"!==l.type?"bool"!==l.type||v.push((0,s.createCheckablePropertyDefinition)({checked:(0,s.convertToDefinitionProperty)(e,P,y.format({inputName:T}))},{id:`${g}${l.name}`,title:b})):v.push((0,s.createTextPropertyDefinition)({text:(0,s.convertToDefinitionProperty)(e,P,y.format({inputName:T}))},{id:`${g}${l.name}`,title:b,isEditable:!0,isMultiLine:!1}))}else v.push((0,s.createNumberPropertyDefinition)({value:(0,s.convertToDefinitionProperty)(e,P,y.format({inputName:T}),[h.floor])},{id:`${g}${l.name}`,title:b,type:0,min:new(d())(l.min),max:new(d())(l.max),defval:l.defval}))})),v}var v=o(6835),S=o(817680),P=o(648067),w=o(144273),b=o(471453);const T=(0,v.getLogger)("Chart.Definitions.Series"),m=l.enabled("show_average_close_price_line_and_label"),D=l.enabled("pre_post_market_sessions"),C=new r.TranslatedString("change decimal places",n.t(null,void 0,o(71809))),_=new r.TranslatedString("change timezone",n.t(null,void 0,o(820505))),k=(new r.TranslatedString("adjust data for dividends",n.t(null,void 0,o(342390))),new r.TranslatedString("use settlement as close on daily interval",n.t(null,void 0,o(398402))),
new r.TranslatedString("adjust for contract changes",n.t(null,void 0,o(399511))),new r.TranslatedString("change session",n.t(null,void 0,o(765303)))),$=new r.TranslatedString("change extended hours color",n.t(null,void 0,o(31317))),L=new r.TranslatedString("change pre market color",n.t(null,void 0,o(746257))),M=new r.TranslatedString("change post market color",n.t(null,void 0,o(449973))),W=new r.TranslatedString("change price line visibility",n.t(null,void 0,o(867761))),I=new r.TranslatedString("change price line color",n.t(null,void 0,o(177640))),B=new r.TranslatedString("change price line width",n.t(null,void 0,o(497322))),V=new r.TranslatedString("change previous close price line visibility",n.t(null,void 0,o(259883))),O=new r.TranslatedString("change previous close price line color",n.t(null,void 0,o(891183))),x=new r.TranslatedString("change previous close price line width",n.t(null,void 0,o(87631))),A=(new r.TranslatedString("change pre/post market price lines visibility",n.t(null,void 0,o(350393))),new r.TranslatedString("change pre market line color",n.t(null,void 0,o(60852))),new r.TranslatedString("change post market line color",n.t(null,void 0,o(5969))),new r.TranslatedString("change bid and ask lines visibility",n.t(null,void 0,o(432311)))),j=new r.TranslatedString("change bid line color",n.t(null,void 0,o(436703))),F=new r.TranslatedString("change ask line color",n.t(null,void 0,o(129180))),N=new r.TranslatedString("change high and low price lines visibility",n.t(null,void 0,o(992556))),U=new r.TranslatedString("change high and low price line color",n.t(null,void 0,o(560944))),E=new r.TranslatedString("change high and low price line width",n.t(null,void 0,o(983708))),H=new r.TranslatedString("change average close price line visibility",n.t(null,void 0,o(498866))),R=new r.TranslatedString("change average close price line color",n.t(null,void 0,o(730385))),G=new r.TranslatedString("change average close price line width",n.t(null,void 0,o(568927))),z=(n.t(null,void 0,o(909994)),n.t(null,void 0,o(25866))),J=(n.t(null,void 0,o(710989)),n.t(null,void 0,o(999983)),n.t(null,void 0,o(362521))),q=n.t(null,void 0,o(915107)),K=n.t(null,void 0,o(8094)),Q=n.t(null,void 0,o(947586)),X=(n.t(null,void 0,o(906350)),n.t(null,void 0,o(173947))),Y=n.t(null,void 0,o(587492)),Z=n.t(null,void 0,o(539280)),ee=n.t(null,void 0,o(330777)),ie=n.t(null,void 0,o(608136)),oe=n.t(null,void 0,o(931691)),te=n.t(null,void 0,o(710591)),ne=n.t(null,void 0,o(94884)),re=n.t(null,void 0,o(822353)),le=n.t(null,void 0,o(204329)),se=n.t(null,void 0,o(439292)),ae=n.t(null,void 0,o(470816)),ce=[{priceScale:2,minMove:1,frac:!0},{priceScale:4,minMove:1,frac:!0},{priceScale:8,minMove:1,frac:!0},{priceScale:16,minMove:1,frac:!0},{priceScale:32,minMove:1,frac:!0},{priceScale:64,minMove:1,frac:!0},{priceScale:128,minMove:1,frac:!0},{priceScale:320,minMove:1,frac:!0}],de=[{title:Z,value:"open",id:"price-source-open"},{title:ee,value:"high",id:"price-source-high"},{title:ie,value:"low",id:"price-source-low"},{title:oe,value:"close",id:"price-source-close"
},{title:te,value:"hl2",id:"price-source-hl2"},{title:ne,value:"hlc3",id:"price-source-hlc3"},{title:re,value:"ohlc4",id:"price-source-ohlc4"}];function ue(){const e=[{title:le,value:"default"}],i=function(e=15){const i=[];for(let o=0;o<=e;o++)i.push({priceScale:Math.pow(10,o),minMove:1,frac:!1});return i}();for(let o=0;o<i.length;o++){const t=Math.log10(i[o].priceScale),n=0===t?"Integer":1===t?`${t} decimal`:`${t} decimals`;e.push({title:n,value:`${i[o].priceScale},${i[o].minMove},${i[o].frac}`})}for(let i=0;i<ce.length;i++)e.push({title:`${ce[i].minMove}/${ce[i].priceScale}`,value:`${ce[i].priceScale},${ce[i].minMove},${ce[i].frac}`});return e}class pe{constructor(e,i,o,t,n,r){this._definitions=null,this._inputsSubscriptions=null,this._isDestroyed=!1,this._propertyPages=null,this._seriesMinTickWV=null,this._sessionIdOptionsWV=new(d())([]),this._series=e,this._undoModel=i,this._model=this._undoModel.model(),this._propertyPageId=o,this._propertyPageName=t,this._propertyPageIcon=n,this._timezonePropertyObj=r,this._series.onStyleChanged().subscribe(this,this._updateDefinitions),this._series.properties().childs().rangeStyle.childs().barStyle.listeners().subscribe(this,this._updateDefinitions),this._series.dataEvents().symbolResolved().subscribe(this,this._updateSeriesMinTickWV),this._series.dataEvents().symbolResolved().subscribe(this,this._updateSessionIdOptionsWV),this._updateSeriesMinTickWV(),this._updateSessionIdOptionsWV()}destroy(){null!==this._propertyPages&&this._propertyPages.forEach((e=>{(0,s.destroyDefinitions)(e.definitions.value())})),this._series.onStyleChanged().unsubscribe(this,this._updateDefinitions),this._series.properties().childs().rangeStyle.childs().barStyle.listeners().unsubscribeAll(this),this._series.dataEvents().symbolResolved().unsubscribeAll(this),this._unsubscribeInputsUpdate(),this._isDestroyed=!0}propertyPages(){return null===this._propertyPages?this._getDefinitions().then((e=>{var i;if(this._isDestroyed)throw new Error("SeriesPropertyDefinitionsViewModel already destroyed");return null===this._propertyPages&&(this._propertyPages=[{id:this._propertyPageId,title:this._propertyPageName,icon:this._propertyPageIcon,definitions:new(d())(e.definitions),visible:null!==(i=e.visible)&&void 0!==i?i:new(d())(!0).readonly()}]),this._propertyPages})):Promise.resolve(this._propertyPages)}_seriesMinTick(){const e=this._series.symbolInfo();return null!==e?e.minmov/e.pricescale:null}_updateSeriesMinTickWV(){null===this._seriesMinTickWV?this._seriesMinTickWV=new(d())(this._seriesMinTick()):this._seriesMinTickWV.setValue(this._seriesMinTick())}_updateSessionIdOptionsWV(){if(!D)return;const e=this._series.symbolInfo();if(null===e)return;const i=(e.subsessions||[]).filter((e=>!e.private)).map((e=>({title:(0,b.translateSessionDescription)(e.description),value:e.id})));this._sessionIdOptionsWV.setValue(i)}_updateDefinitions(){null!==this._definitions&&(0,s.destroyDefinitions)(this._definitions.definitions),this._definitions=null,this._unsubscribeInputsUpdate(),this._createSeriesDefinitions().then((e=>{
if(this._isDestroyed)throw new Error("SeriesPropertyDefinitionsViewModel already destroyed");(0,t.ensureNotNull)(this._propertyPages)[0].definitions.setValue(e.definitions)}))}_getDefinitions(){return null===this._definitions?this._createSeriesDefinitions():Promise.resolve(this._definitions)}_unsubscribeInputsUpdate(){null!==this._inputsSubscriptions&&(this._inputsSubscriptions.forEach((e=>{e.unsubscribeAll(this)})),this._inputsSubscriptions=null)}_subscribeInputsUpdate(e,i){const o=[];e.forEach((e=>{if(void 0!==e.visible){const t=e.visible.split("==");if(2===t.length){const e=i[t[0]];-1===o.indexOf(e)&&(e.subscribe(this,this._updateDefinitions),o.push(e))}}})),o.length>0?this._inputsSubscriptions=o:this._inputsSubscriptions=null}_createSeriesDefinitions(){const e=this._series.properties().childs(),i=this._series.getInputsProperties(),r=this._series.getInputsInfoProperties(),l=e.style.value(),a=this._series.getStyleShortName();return new Promise((e=>{const o=(0,u.chartStyleStudyId)(l);null!==o?this._model.studyMetaInfoRepository().findById({type:"java",studyId:o}).then((o=>{if(this._isDestroyed)throw new Error("SeriesPropertyDefinitionsViewModel already destroyed");if(null!==this._definitions)return void e(null);const n=(0,t.ensureNotNull)(this._seriesMinTickWV),l=g(this._undoModel,o.id,o.inputs,i,r,n,a);this._subscribeInputsUpdate(o.inputs,i),e(l)})).catch((i=>{T.logWarn(`Find meta info for create series definitions with error - ${(0,S.errorToString)(i)}`),e(null)})):e(null)})).then((i=>{if(this._isDestroyed)throw new Error("SeriesPropertyDefinitionsViewModel already destroyed");if(null!==this._definitions)return this._definitions;const t=(0,p.getSeriesStylePropertiesDefinitions)(this._undoModel,e,l,{seriesPriceSources:de,isJapaneseChartsAvailable:true},"mainSeries");null!==i&&t.push(...i);const r=(0,s.createOptionsPropertyDefinition)({option:(0,s.convertToDefinitionProperty)(this._undoModel,e.minTick,C)},{id:`${a}SymbolMinTick`,title:X,options:new(d())(ue())}),c=(0,s.createOptionsPropertyDefinition)({option:(0,s.convertToDefinitionProperty)(this._undoModel,this._timezonePropertyObj.property,_)},{id:`${a}SymbolTimezone`,title:Y,options:new(d())(this._timezonePropertyObj.values)});return this._definitions={definitions:[(0,s.createPropertyDefinitionsGeneralGroup)(t,"generalSymbolStylesGroup",(0,u.getTranslatedChartStyleName)(l)),(0,s.createPropertyDefinitionsGeneralGroup)(this._seriesPriceLinesDefinitions(a),"priceLinesGroup",n.t(null,void 0,o(131971))),(0,s.createPropertyDefinitionsGeneralGroup)([...this._seriesDataDefinitions(a),r,c],"dataModififcationGroup",n.t(null,void 0,o(181285)))]},this._definitions}))}_seriesDataDefinitions(e){const i=[];if(D){const o=this._series.sessionIdProxyProperty(),t=(0,w.combineWithFilteredUpdate)(((e,i)=>!i&&(0,u.symbolHasSeveralSessions)(this._series.symbolInfo())),((e,i)=>i||!e),this._series.symbolResolvingActive(),(0,P.createWVFromProperty)(this._series.isDWMProperty())),n=(0,s.createOptionsPropertyDefinition)({option:(0,s.convertToDefinitionProperty)(this._undoModel,o,k),
visible:(0,s.convertFromReadonlyWVToDefinitionProperty)(t)},{id:"sessionId",title:z,options:this._sessionIdOptionsWV});i.push(n);const r=this._model.sessions().graphicsInfo();let l=!1;r.backgrounds&&(l=void 0!==r.backgrounds.outOfSession);const a=l?this._createOutOfSessionDefinition(e):this._createPrePostMarketDefinition(e);i.push(a)}return i}_createOutOfSessionDefinition(e){const i=this._model.sessions().properties().childs().graphics.childs().backgrounds.childs().outOfSession.childs();return(0,s.createColorPropertyDefinition)({color:(0,s.getColorDefinitionProperty)(this._undoModel,i.color,i.transparency,$)},{id:`${e}SymbolExtendedHoursColors`,title:J})}_createPrePostMarketDefinition(e){const i=(0,w.combineWithFilteredUpdate)(((e,i)=>!i&&(0,u.symbolHasPreOrPostMarket)(this._series.symbolInfo())&&!(0,u.isRegularSessionId)(this._series.sessionIdProxyProperty().value())),((e,i)=>i||!e),this._series.symbolResolvingActive(),(0,P.createWVFromProperty)(this._series.isDWMProperty())),o=this._model.sessions(),t=o.properties().childs().graphics.childs().backgrounds.childs().preMarket.childs(),n=o.properties().childs().graphics.childs().backgrounds.childs().postMarket.childs();return(0,s.createTwoColorsPropertyDefinition)({color1:(0,s.getColorDefinitionProperty)(this._undoModel,t.color,t.transparency,L),color2:(0,s.getColorDefinitionProperty)(this._undoModel,n.color,n.transparency,M),visible:(0,s.convertFromReadonlyWVToDefinitionProperty)(i)},{id:`${e}SymbolExtendedHoursColors`,title:J})}_seriesPriceLinesDefinitions(e){const i=[],o=this._series.properties().childs();if(this._series.hasClosePrice()){const t=(0,s.createLinePropertyDefinition)({checked:(0,s.convertToDefinitionProperty)(this._undoModel,o.showPriceLine,W),color:(0,s.getColorDefinitionProperty)(this._undoModel,o.priceLineColor,null,I),width:(0,s.convertToDefinitionProperty)(this._undoModel,o.priceLineWidth,B)},{id:`${e}SymbolLastValuePriceLine`,title:q});i.push(t)}if(this._series.hasClosePrice()){const t=(0,P.combineProperty)((e=>!e),this._series.isDWMProperty()),n=(0,s.createLinePropertyDefinition)({visible:(0,a.makeProxyDefinitionPropertyDestroyable)(t),checked:(0,s.convertToDefinitionProperty)(this._undoModel,o.showPrevClosePriceLine,V),color:(0,s.getColorDefinitionProperty)(this._undoModel,o.prevClosePriceLineColor,null,O),width:(0,s.convertToDefinitionProperty)(this._undoModel,o.prevClosePriceLineWidth,x)},{id:`${e}SymbolPrevClosePriceLine`,title:K});i.push(n)}const t=o.highLowAvgPrice.childs(),n=(0,s.createLinePropertyDefinition)({checked:(0,s.convertToDefinitionProperty)(this._undoModel,t.highLowPriceLinesVisible,N),color:(0,s.getColorDefinitionProperty)(this._undoModel,t.highLowPriceLinesColor,null,U),width:(0,s.convertToDefinitionProperty)(this._undoModel,t.highLowPriceLinesWidth,E)},{id:`${e}SymbolHighLowPriceLines`,title:se});if(i.push(n),m){const o=(0,s.createLinePropertyDefinition)({checked:(0,s.convertToDefinitionProperty)(this._undoModel,t.averageClosePriceLineVisible,H),color:(0,
s.getColorDefinitionProperty)(this._undoModel,t.averagePriceLineColor,null,R),width:(0,s.convertToDefinitionProperty)(this._undoModel,t.averagePriceLineWidth,G)},{id:`${e}SymbolAverageClosePriceLine`,title:ae});i.push(o)}if(this._model.hasCustomSource("bidask")){const t=o.bidAsk,n=(0,s.createTwoColorsPropertyDefinition)({checked:(0,s.convertToDefinitionProperty)(this._undoModel,t.childs().visible,A),color1:(0,s.getColorDefinitionProperty)(this._undoModel,t.childs().bidLineColor,null,j),color2:(0,s.getColorDefinitionProperty)(this._undoModel,t.childs().askLineColor,null,F)},{id:`${e}SymbolBidAskLines`,title:Q});i.push(n)}return i}}}}]);