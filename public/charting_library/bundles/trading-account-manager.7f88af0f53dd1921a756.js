(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[8354],{119277:e=>{e.exports={}},946587:e=>{e.exports={wrapper:"wrapper-bUw_gKIQ",input:"input-bUw_gKIQ",box:"box-bUw_gKIQ",icon:"icon-bUw_gKIQ",noOutline:"noOutline-bUw_gKIQ","intent-danger":"intent-danger-bUw_gKIQ",check:"check-bUw_gKIQ",dot:"dot-bUw_gKIQ"}},794090:e=>{e.exports={checkbox:"checkbox-pJWVW1z6",reverse:"reverse-pJWVW1z6",label:"label-pJWVW1z6",baseline:"baseline-pJWVW1z6"}},288798:e=>{e.exports={"icon-wrapper":"icon-wrapper-Y27sEArj","no-active-state":"no-active-state-Y27sEArj","with-tooltip":"with-tooltip-Y27sEArj","intent-default":"intent-default-Y27sEArj","intent-danger":"intent-danger-Y27sEArj","intent-warning":"intent-warning-Y27sEArj","intent-success":"intent-success-Y27sEArj",icon:"icon-Y27sEArj"}},531428:e=>{e.exports={}},982730:e=>{e.exports={}},945966:e=>{e.exports={"default-drawer-min-top-distance":"100px",wrap:"wrap-yBUNQyVA",positionBottom:"positionBottom-yBUNQyVA",backdrop:"backdrop-yBUNQyVA",drawer:"drawer-yBUNQyVA",positionLeft:"positionLeft-yBUNQyVA"}},181621:e=>{e.exports={checkbox:"checkbox-h77ElFIj"}},655498:e=>{e.exports={"tablet-small-breakpoint":"screen and (max-width: 430px)",item:"item-RhC5uhZw",hovered:"hovered-RhC5uhZw",isDisabled:"isDisabled-RhC5uhZw",isActive:"isActive-RhC5uhZw",shortcut:"shortcut-RhC5uhZw",toolbox:"toolbox-RhC5uhZw",withIcon:"withIcon-RhC5uhZw",icon:"icon-RhC5uhZw",labelRow:"labelRow-RhC5uhZw",label:"label-RhC5uhZw",showOnHover:"showOnHover-RhC5uhZw"}},190948:e=>{e.exports={icon:"icon-XIHzWm6B",dropped:"dropped-XIHzWm6B"}},408323:(e,t,i)=>{"use strict";i.d(t,{CheckboxInput:()=>d});var s=i(50959),r=i(497754),o=i(72571),n=i(465890),a=i(946587),l=i.n(a);function d(e){const t=r(l().box,l()[`intent-${e.intent}`],{[l().check]:!Boolean(e.indeterminate),[l().dot]:Boolean(e.indeterminate),[l().noOutline]:-1===e.tabIndex}),i=r(l().wrapper,e.className);return s.createElement("span",{className:i,title:e.title,style:e.style},s.createElement("input",{id:e.id,tabIndex:e.tabIndex,className:l().input,type:"checkbox",name:e.name,checked:e.checked,disabled:e.disabled,value:e.value,autoFocus:e.autoFocus,role:e.role,onChange:function(){e.onChange&&e.onChange(e.value)},ref:e.reference,"aria-required":e["aria-required"]}),s.createElement("span",{className:t},s.createElement(o.Icon,{icon:n,className:l().icon})))}},302946:(e,t,i)=>{"use strict";i.d(t,{Checkbox:()=>d});var s=i(50959),r=i(497754),o=i(732834),n=i(408323),a=i(794090),l=i.n(a);class d extends s.PureComponent{render(){const{inputClassName:e,labelClassName:t,...i}=this.props,o=r(this.props.className,l().checkbox,{[l().reverse]:Boolean(this.props.labelPositionReverse),[l().baseline]:Boolean(this.props.labelAlignBaseline)}),a=r(l().label,t,{[l().disabled]:this.props.disabled});let d=null;return this.props.label&&(d=s.createElement("span",{className:a,title:this.props.title},this.props.label)),s.createElement("label",{className:o},s.createElement(n.CheckboxInput,{...i,className:e}),d)}}d.defaultProps={value:"on"};(0,o.makeSwitchGroupItem)(d)},
409245:(e,t,i)=>{"use strict";function s(e){const{reference:t,...i}=e;return{...i,ref:t}}i.d(t,{renameRef:()=>s})},252130:(e,t,i)=>{"use strict";i.d(t,{useIsMounted:()=>r});var s=i(50959);const r=()=>{const e=(0,s.useRef)(!1);return(0,s.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}},525388:(e,t,i)=>{"use strict";i.d(t,{useMergedRefs:()=>o});var s=i(50959),r=i(273388);function o(e){return(0,s.useCallback)((0,r.mergeRefs)(e),e)}},306032:(e,t,i)=>{"use strict";i.d(t,{useResizeObserver:()=>n});var s=i(50959),r=i(159255);function o(e,t){null!==e&&("function"==typeof e?e(t):e.current=t)}function n(e,t=[]){const{callback:i,ref:n=null}=function(e){return"function"==typeof e?{callback:e}:e}(e),a=(0,s.useRef)(null),l=(0,s.useRef)(i);l.current=i;const d=function(e){const t=(0,s.useMemo)((()=>function(e){const t=i=>{e(i),t.current=i};return t.current=null,t}((e=>{n.current(e)}))),[]),i=(0,s.useRef)(null),r=t=>{if(null===t)return o(i.current,t),void(i.current=null);i.current!==e&&(i.current=e,o(i.current,t))},n=(0,s.useRef)(r);return n.current=r,(0,s.useLayoutEffect)((()=>{if(null!==t.current)return n.current(t.current),()=>n.current(null)}),[e]),t}(n),c=(0,s.useCallback)((e=>{d(e),null!==a.current&&(a.current.disconnect(),null!==e&&a.current.observe(e))}),[d,a]);return function(e,t){("undefined"==typeof window?s.useEffect:s.useLayoutEffect)(e,t)}((()=>(a.current=new r.default(((e,t)=>{l.current(e,t)})),d.current&&c(d.current),()=>{var e;null===(e=a.current)||void 0===e||e.disconnect()})),[d,...t]),c}},732834:(e,t,i)=>{"use strict";i.d(t,{SwitchGroup:()=>o,makeSwitchGroupItem:()=>n});var s=i(50959),r=i(719036);class o extends s.PureComponent{constructor(){super(...arguments),this._subscriptions=new Set,this._getName=()=>this.props.name,this._getValues=()=>this.props.values,this._getOnChange=()=>this.props.onChange,this._subscribe=e=>{this._subscriptions.add(e)},this._unsubscribe=e=>{this._subscriptions.delete(e)}}getChildContext(){return{switchGroupContext:{getName:this._getName,getValues:this._getValues,getOnChange:this._getOnChange,subscribe:this._subscribe,unsubscribe:this._unsubscribe}}}render(){return this.props.children}componentDidUpdate(e){this._notify(this._getUpdates(this.props.values,e.values))}_notify(e){this._subscriptions.forEach((t=>t(e)))}_getUpdates(e,t){return[...t,...e].filter((i=>t.includes(i)?!e.includes(i):e.includes(i)))}}function n(e){var t;return t=class extends s.PureComponent{constructor(){super(...arguments),this._onChange=e=>{this.context.switchGroupContext.getOnChange()(e)},this._onUpdate=e=>{e.includes(this.props.value)&&this.forceUpdate()}}componentDidMount(){this.context.switchGroupContext.subscribe(this._onUpdate)}render(){return s.createElement(e,{...this.props,name:this._getName(),onChange:this._onChange,checked:this._isChecked()})}componentWillUnmount(){this.context.switchGroupContext.unsubscribe(this._onUpdate)}_getName(){return this.context.switchGroupContext.getName()}_isChecked(){return this.context.switchGroupContext.getValues().includes(this.props.value)}},t.contextTypes={
switchGroupContext:r.any.isRequired},t}o.childContextTypes={switchGroupContext:r.any.isRequired}},247465:(e,t,i)=>{"use strict";i.d(t,{makeCancelable:()=>r,isCancelled:()=>o});class s{}function r(e){let t=!1;return{promise:new Promise(((i,r)=>{e.then((e=>t?r(new s):i(e))),e.catch((e=>r(t?new s:e)))})),cancel(){t=!0}}}function o(e){return e instanceof s}},99357:(e,t,i)=>{"use strict";i.d(t,{LogoSize:()=>n,getLogoUrlResolver:()=>d});var s=i(650151);(0,i(817808).getLogger)("Common.InitData");const r=window.initData||{};function o(){return r}var n;!function(e){e[e.Medium=0]="Medium",e[e.Large=1]="Large"}(n||(n={}));class a{constructor(e){(0,s.assert)(""!==e,"S3 base url must be a non-empty string"),this._baseUrl=e}getSymbolLogoUrl(e,t){switch((0,s.assert)(""!==e,"logo id must be a non-empty string"),t){case n.Medium:return this._baseUrl+`${e}.svg`;case n.Large:return this._baseUrl+`${e}--big.svg`}}getCountryFlagUrl(e,t){return this.getSymbolLogoUrl("country/"+e,t)}getCryptoLogoUrl(e,t){return this.getSymbolLogoUrl("crypto/"+e,t)}getProviderLogoUrl(e,t){return this.getSymbolLogoUrl("provider/"+e,t)}}let l;function d(){if(!l){const e=o(),t=e.settings?e.settings.S3_LOGO_SERVICE_BASE_URL:"";l=new a(t)}return l}},572476:(e,t,i)=>{"use strict";i.d(t,{CircleLogo:()=>o});var s=i(50959),r=i(497754);i(982730);function o(e){var t,i;const o=(n=e.size,a=e.className,r("tv-circle-logo",`tv-circle-logo--${n}`,a));var n,a;const l=null!==(i=null!==(t=e.alt)&&void 0!==t?t:e.title)&&void 0!==i?i:"";return function(e){return"logoUrl"in e&&void 0!==e.logoUrl&&0!==e.logoUrl.length}(e)?s.createElement("img",{className:o,src:e.logoUrl,alt:l,title:e.title,loading:e.loading}):s.createElement("span",{className:o,title:e.title},e.placeholderLetter)}},163694:(e,t,i)=>{"use strict";i.d(t,{DrawerManager:()=>o,DrawerContext:()=>n});var s=i(50959),r=i(285089);class o extends s.PureComponent{constructor(e){super(e),this._isBodyFixed=!1,this._addDrawer=e=>{this.setState((t=>({stack:[...t.stack,e]})))},this._removeDrawer=e=>{this.setState((t=>({stack:t.stack.filter((t=>t!==e))})))},this.state={stack:[]}}componentDidUpdate(e,t){!t.stack.length&&this.state.stack.length&&((0,r.setFixedBodyState)(!0),this._isBodyFixed=!0),t.stack.length&&!this.state.stack.length&&this._isBodyFixed&&((0,r.setFixedBodyState)(!1),this._isBodyFixed=!1)}componentWillUnmount(){this.state.stack.length&&this._isBodyFixed&&(0,r.setFixedBodyState)(!1)}render(){return s.createElement(n.Provider,{value:{addDrawer:this._addDrawer,removeDrawer:this._removeDrawer,currentDrawer:this.state.stack.length?this.state.stack[this.state.stack.length-1]:null}},this.props.children)}}const n=s.createContext(null)},759339:(e,t,i)=>{"use strict";i.d(t,{Drawer:()=>h});var s=i(50959),r=i(650151),o=i(497754),n=i(220863),a=i(8361),l=i(163694),d=i(28466),c=i(742554),u=i(945966);function h(e){const{position:t="Bottom",onClose:i,children:h,className:p,theme:_=u}=e,m=(0,r.ensureNotNull)((0,s.useContext)(l.DrawerContext)),[g]=(0,s.useState)((()=>(0,n.randomHash)())),b=(0,s.useRef)(null),v=(0,
s.useContext)(d.CloseDelegateContext);return(0,s.useLayoutEffect)((()=>((0,r.ensureNotNull)(b.current).focus({preventScroll:!0}),v.subscribe(m,i),m.addDrawer(g),()=>{m.removeDrawer(g),v.unsubscribe(m,i)})),[]),s.createElement(a.Portal,null,s.createElement("div",{className:o(u.wrap,u[`position${t}`])},g===m.currentDrawer&&s.createElement("div",{className:u.backdrop,onClick:i}),s.createElement(c.TouchScrollContainer,{className:o(u.drawer,_.drawer,u[`position${t}`],p),tabIndex:-1,ref:b,"data-name":e["data-name"]},h)))}},661851:(e,t,i)=>{"use strict";i.d(t,{useObservable:()=>r});var s=i(50959);function r(e,t){const[i,r]=(0,s.useState)(t);return(0,s.useEffect)((()=>{const t=e.subscribe(r);return()=>t.unsubscribe()}),[e]),i}},102478:(e,t,i)=>{"use strict";i.d(t,{useResizeObserver:()=>s.useResizeObserver});var s=i(306032)},297265:(e,t,i)=>{"use strict";i.d(t,{useWatchedValueReadonly:()=>r});var s=i(50959);const r=(e,t=!1)=>{const i="watchedValue"in e?e.watchedValue:void 0,r="defaultValue"in e?e.defaultValue:e.watchedValue.value(),[o,n]=(0,s.useState)(i?i.value():r);return(t?s.useLayoutEffect:s.useEffect)((()=>{if(i){n(i.value());const e=e=>n(e);return i.subscribe(e),()=>i.unsubscribe(e)}return()=>{}}),[i]),o}},379266:(e,t,i)=>{"use strict";i.d(t,{PopupMenuItemToggle:()=>l});var s=i(50959),r=i(497754),o=i(192063),n=i(302946),a=i(181621);function l(e){const{isDisabled:t,hint:i,label:l,isChecked:d,checkboxClassName:c,labelClassName:u,indeterminate:h,...p}=e;return s.createElement(o.PopupMenuItem,{...p,isDisabled:t,shortcut:i,dontClosePopup:!0,labelRowClassName:u,label:s.createElement(n.Checkbox,{disabled:t,label:l,checked:d,indeterminate:h,className:r(a.checkbox,c)})})}},192063:(e,t,i)=>{"use strict";i.d(t,{DEFAULT_POPUP_MENU_ITEM_THEME:()=>d,PopupMenuItem:()=>u});var s=i(50959),r=i(497754),o=i(370981),n=i(32133),a=i(800417),l=i(655498);const d=l;function c(e){e.stopPropagation()}function u(e){const{id:t,role:i,"aria-label":d,"aria-selected":u,"aria-checked":h,className:p,title:_,labelRowClassName:m,labelClassName:g,shortcut:b,forceShowShortcuts:v,icon:f,isActive:w,isDisabled:C,isHovered:y,appearAsDisabled:S,label:T,link:E,showToolboxOnHover:x,target:k,rel:P,toolbox:M,reference:D,onMouseOut:A,onMouseOver:F,onKeyDown:I,suppressToolboxClick:R=!0,theme:N=l,tabIndex:O,tagName:L,renderComponent:U}=e,B=(0,a.filterDataProps)(e),V=(0,s.useRef)(null),H=(0,s.useMemo)((()=>function(e){function t(t){const{reference:i,...r}=t,o=null!=e?e:r.href?"a":"div",n="a"===o?r:function(e){const{download:t,href:i,hrefLang:s,media:r,ping:o,rel:n,target:a,type:l,referrerPolicy:d,...c}=e;return c}(r);return s.createElement(o,{...n,ref:i})}return t.displayName=`DefaultComponent(${e})`,t}(L)),[L]),z=null!=U?U:H;return s.createElement(z,{...B,id:t,role:i,"aria-label":d,"aria-selected":u,"aria-checked":h,className:r(p,N.item,f&&N.withIcon,{[N.isActive]:w,[N.isDisabled]:C||S,[N.hovered]:y}),title:_,href:E,target:k,rel:P,reference:function(e){V.current=e,"function"==typeof D&&D(e);"object"==typeof D&&(D.current=e)},onClick:function(t){
const{dontClosePopup:i,onClick:s,onClickArg:r,trackEventObject:a}=e;if(C)return;a&&(0,n.trackEvent)(a.category,a.event,a.label);s&&s(r,t);i||(0,o.globalCloseMenu)()},onContextMenu:function(t){const{trackEventObject:i,trackRightClick:s}=e;i&&s&&(0,n.trackEvent)(i.category,i.event,`${i.label}_rightClick`)},onMouseUp:function(t){const{trackEventObject:i,trackMouseWheelClick:s}=e;if(1===t.button&&E&&i){let e=i.label;s&&(e+="_mouseWheelClick"),(0,n.trackEvent)(i.category,i.event,e)}},onMouseOver:F,onMouseOut:A,onKeyDown:I,tabIndex:O},void 0!==f&&s.createElement("span",{className:N.icon,dangerouslySetInnerHTML:{__html:f}}),s.createElement("span",{className:r(N.labelRow,m)},s.createElement("span",{className:r(N.label,g)},T)),(void 0!==b||v)&&s.createElement("span",{className:N.shortcut},(W=b)&&W.split("+").join(" + ")),void 0!==M&&s.createElement("span",{onClick:R?c:void 0,className:r(N.toolbox,{[N.showOnHover]:x})},M));var W}},515783:(e,t,i)=>{"use strict";i.d(t,{ToolWidgetCaret:()=>l});var s=i(50959),r=i(497754),o=i(72571),n=i(190948),a=i(100578);function l(e){const{dropped:t,className:i}=e;return s.createElement(o.Icon,{className:r(i,n.icon,{[n.dropped]:t}),icon:a})}},742554:(e,t,i)=>{"use strict";i.d(t,{TouchScrollContainer:()=>a});var s=i(50959),r=i(259142),o=i(650151),n=i(601227);const a=(0,s.forwardRef)(((e,t)=>{const{children:i,...o}=e,a=(0,s.useRef)(null);return(0,s.useImperativeHandle)(t,(()=>a.current)),(0,s.useLayoutEffect)((()=>{if(n.CheckMobile.iOS())return null!==a.current&&(0,r.disableBodyScroll)(a.current,{allowTouchMove:l(a)}),()=>{null!==a.current&&(0,r.enableBodyScroll)(a.current)}}),[]),s.createElement("div",{ref:a,...o},i)}));function l(e){return t=>{const i=(0,o.ensureNotNull)(e.current),s=document.activeElement;return!i.contains(t)||null!==s&&i.contains(s)&&s.contains(t)}}},635194:e=>{e.exports={button:"button-uO7HM85b",hover:"hover-uO7HM85b",isInteractive:"isInteractive-uO7HM85b",isGrouped:"isGrouped-uO7HM85b",isActive:"isActive-uO7HM85b",isOpened:"isOpened-uO7HM85b",isDisabled:"isDisabled-uO7HM85b",text:"text-uO7HM85b",icon:"icon-uO7HM85b"}},977907:e=>{e.exports={title:"title-t_2RnW3_"}},17049:e=>{e.exports={button:"button-reABrhVR",hover:"hover-reABrhVR",arrow:"arrow-reABrhVR",arrowWrap:"arrowWrap-reABrhVR",isOpened:"isOpened-reABrhVR"}},225358:e=>{e.exports={title:"title-lGi9oSiA",currency:"currency-lGi9oSiA",activeCurrency:"activeCurrency-lGi9oSiA",label:"label-lGi9oSiA",labelWrapper:"labelWrapper-lGi9oSiA",summary:"summary-lGi9oSiA",dropdown:"dropdown-lGi9oSiA",singleItemDropdown:"singleItemDropdown-lGi9oSiA",content:"content-lGi9oSiA"}},42800:e=>{e.exports={wrapper:"wrapper-zvvkNck6",brokerDropdownMobileWrapper:"brokerDropdownMobileWrapper-zvvkNck6",betaBadgeWrapper:"betaBadgeWrapper-zvvkNck6"}},222230:e=>{e.exports={headerWrapper:"headerWrapper-KJ0nxgKZ",brokerBlock:"brokerBlock-KJ0nxgKZ",betaBadge:"betaBadge-KJ0nxgKZ"}},43192:e=>{e.exports={itemWrapper:"itemWrapper-F2g8L5wH",value:"value-F2g8L5wH",title:"title-F2g8L5wH"}},700134:e=>{e.exports={wrapper:"wrapper-Ax5iOL84"}},380919:e=>{
e.exports={accountManager:"accountManager-EvYTEOnj",topPanel:"topPanel-EvYTEOnj",secondaryPanel:"secondaryPanel-EvYTEOnj",content:"content-EvYTEOnj",page:"page-EvYTEOnj"}},224835:e=>{e.exports={pageContainer:"pageContainer-HC4_TH_A"}},175729:e=>{e.exports={counter:"counter-dmmvLBYX",text:"text-dmmvLBYX",count:"count-dmmvLBYX",blue:"blue-dmmvLBYX",grey:"grey-dmmvLBYX",green:"green-dmmvLBYX",orange:"orange-dmmvLBYX",red:"red-dmmvLBYX"}},84281:e=>{e.exports={counter:"counter-UwhSJJYn",text:"text-UwhSJJYn",count:"count-UwhSJJYn"}},341096:e=>{e.exports={tableContainer:"tableContainer-JA3_uijK",fitContent:"fitContent-JA3_uijK",withScroll:"withScroll-JA3_uijK",noScroll:"noScroll-JA3_uijK"}},946857:e=>{e.exports={title:"title-fi3Z_00Q"}},89268:e=>{e.exports={container:"container-QW8IGXHt",sticky:"sticky-QW8IGXHt"}},142490:e=>{e.exports={menuButton:"menuButton-DVg1Grol",icon:"icon-DVg1Grol",label:"label-DVg1Grol",checkBox:"checkBox-DVg1Grol"}},569155:e=>{e.exports={wrapper:"wrapper-yP475nGL",icon:"icon-yP475nGL",message:"message-yP475nGL",iconQuestionInformation:"iconQuestionInformation-yP475nGL"}},943:e=>{e.exports={wrapper:"wrapper-TZ9CwwBa",info:"info-TZ9CwwBa",title:"title-TZ9CwwBa",description:"description-TZ9CwwBa"}},403915:e=>{e.exports={text:"text-D05_SITj"}},500407:e=>{e.exports={gray:"gray-CoVXFN_G",blue:"blue-CoVXFN_G",red:"red-CoVXFN_G",green:"green-CoVXFN_G",orange:"orange-CoVXFN_G"}},413148:e=>{e.exports={"desktop-cell-padding":"6px 16px 2px",wrapper:"wrapper-ukGraUqj",rightAligned:"rightAligned-ukGraUqj"}},64340:e=>{e.exports={wrapper:"wrapper-ASfUmg0G",gap:"gap-ASfUmg0G"}},751835:e=>{e.exports={"mobile-row-padding":"4px","mobile-row-border-size":"1px","mobile-row-margin":"38px","content-font-size":"14px","desktop-cell-padding":"6px 16px 2px",root:"root-NxtKLwIn",table:"table-NxtKLwIn",tableBody:"tableBody-NxtKLwIn",tableHead:"tableHead-NxtKLwIn",headCell:"headCell-NxtKLwIn",headCellContent:"headCellContent-NxtKLwIn",cell:"cell-NxtKLwIn",capitalize:"capitalize-NxtKLwIn",rightAlignedCell:"rightAlignedCell-NxtKLwIn",cellContent:"cellContent-NxtKLwIn",hideLabelOnMobile:"hideLabelOnMobile-NxtKLwIn",hideCellOnMobile:"hideCellOnMobile-NxtKLwIn",row:"row-NxtKLwIn",withMargin:"withMargin-NxtKLwIn",lastRow:"lastRow-NxtKLwIn",withVirtualization:"withVirtualization-NxtKLwIn",highlightedRow:"highlightedRow-NxtKLwIn",inactiveRow:"inactiveRow-NxtKLwIn",linkedRow:"linkedRow-NxtKLwIn",successRow:"successRow-NxtKLwIn",dangerRow:"dangerRow-NxtKLwIn",tableWrapper:"tableWrapper-NxtKLwIn",tableWrapperEmpty:"tableWrapperEmpty-NxtKLwIn",fixedCell:"fixedCell-NxtKLwIn"}},696:e=>{e.exports={"mobile-row-padding":"4px","mobile-row-border-size":"1px","mobile-row-margin":"38px","content-font-size":"14px","cell-lateral-padding":"32px","desktop-cell-padding":"6px 16px 2px"}},513949:e=>{e.exports={tooltip:"tooltip-fGEUfvyy"}},811583:e=>{e.exports={wrapper:"wrapper-dUSOTWuR"}},572480:e=>{e.exports={mobile:"screen and (max-width: 567px)"}},152867:(e,t,i)=>{"use strict";i.d(t,{DEFAULT_TOOL_WIDGET_BUTTON_THEME:()=>a,ToolWidgetButton:()=>l})
;var s=i(50959),r=i(497754),o=i(72571),n=i(635194);const a=n,l=s.forwardRef(((e,t)=>{const{icon:i,isActive:a,isOpened:l,isDisabled:d,isGrouped:c,isHovered:u,onClick:h,text:p,textBeforeIcon:_,title:m,theme:g=n,className:b,forceInteractive:v,"data-name":f,...w}=e,C=r(b,g.button,m&&"apply-common-tooltip",{[g.isActive]:a,[g.isOpened]:l,[g.isInteractive]:(v||Boolean(h))&&!d,[g.isDisabled]:d,[g.isGrouped]:c,[g.hover]:u}),y=i&&("string"==typeof i?s.createElement(o.Icon,{className:g.icon,icon:i}):s.cloneElement(i,{className:r(g.icon,i.props.className)}));return s.createElement("div",{...w,ref:t,"data-role":"button",className:C,onClick:d?void 0:h,title:m,"data-name":f},_&&p&&s.createElement("div",{className:r("js-button-text",g.text)},p),y,!_&&p&&s.createElement("div",{className:r("js-button-text",g.text)},p))}))},809842:(e,t,i)=>{"use strict";i.d(t,{ToolWidgetMenuSummary:()=>n});var s=i(50959),r=i(497754),o=i(977907);function n(e){return s.createElement("div",{className:r(e.className,o.title)},e.children)}},155185:(e,t,i)=>{"use strict";i.d(t,{DEFAULT_TOOL_WIDGET_MENU_THEME:()=>p,ToolWidgetMenu:()=>_});var s=i(50959),r=i(497754),o=i(544377),n=i(515783),a=i(800417),l=i(163694),d=i(759339),c=i(838683),u=i(930052),h=i(17049);const p=h;class _ extends s.PureComponent{constructor(e){super(e),this._wrapperRef=null,this._controller=s.createRef(),this._handleWrapperRef=e=>{this._wrapperRef=e,this.props.reference&&this.props.reference(e)},this._handleClick=e=>{e.target instanceof Node&&e.currentTarget.contains(e.target)&&(this._handleToggleDropdown(),this.props.onClick&&this.props.onClick(e,!this.state.isOpened))},this._handleToggleDropdown=e=>{const{onClose:t,onOpen:i}=this.props,{isOpened:s}=this.state,r="boolean"==typeof e?e:!s;this.setState({isOpened:r}),r&&i&&i(),!r&&t&&t()},this._handleClose=()=>{this.close()},this.state={isOpened:!1}}render(){const{id:e,arrow:t,content:i,isDisabled:o,isDrawer:l,isShowTooltip:d,title:c,className:h,hotKey:p,theme:_,drawerBreakpoint:m}=this.props,{isOpened:g}=this.state,b=r(h,_.button,{"apply-common-tooltip":d||!o,[_.isDisabled]:o,[_.isOpened]:g});return s.createElement("div",{id:e,className:b,onClick:o?void 0:this._handleClick,title:c,"data-tooltip-hotkey":p,ref:this._handleWrapperRef,"data-role":"button",...(0,a.filterDataProps)(this.props)},i,t&&s.createElement("div",{className:_.arrow},s.createElement("div",{className:_.arrowWrap},s.createElement(n.ToolWidgetCaret,{dropped:g}))),this.state.isOpened&&(m?s.createElement(u.MatchMedia,{rule:m},(e=>this._renderContent(e))):this._renderContent(l)))}close(){this._handleToggleDropdown(!1)}update(){null!==this._controller.current&&this._controller.current.update()}_renderContent(e){const{menuDataName:t,minWidth:i,menuClassName:r,maxHeight:n,drawerPosition:a="Bottom",children:u}=this.props,{isOpened:h}=this.state,p={horizontalMargin:this.props.horizontalMargin||0,verticalMargin:this.props.verticalMargin||2,verticalAttachEdge:this.props.verticalAttachEdge,horizontalAttachEdge:this.props.horizontalAttachEdge,
verticalDropDirection:this.props.verticalDropDirection,horizontalDropDirection:this.props.horizontalDropDirection,matchButtonAndListboxWidths:this.props.matchButtonAndListboxWidths},_=Boolean(h&&e&&a),m=function(e){return"function"==typeof e}(u)?u({isDrawer:_}):u;return _?s.createElement(l.DrawerManager,null,s.createElement(d.Drawer,{onClose:this._handleClose,position:a,"data-name":t},m)):s.createElement(o.PopupMenu,{controller:this._controller,closeOnClickOutside:this.props.closeOnClickOutside,doNotCloseOn:this,isOpened:h,minWidth:i,onClose:this._handleClose,position:(0,c.getPopupPositioner)(this._wrapperRef,p),className:r,maxHeight:n,"data-name":t},m)}}_.defaultProps={arrow:!0,closeOnClickOutside:!0,theme:h}},496894:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AccountManagerHeaderDropdowns:()=>m});var s=i(50959),r=i(601227),o=i(509806),n=i(497754),a=i.n(n),l=i(650151),d=i(155185),c=i(192063),u=i(809842),h=i(225358);function p(e){const{currentAccount:t,accountsList:n,currentAccountUpdate:p}=e,[_,m]=(0,s.useState)(t);(0,s.useEffect)((()=>(p.subscribe(null,b),()=>{p.unsubscribe(null,b)})),[p,n]);const g=void 0!==_.currency?`${_.name} (${_.currency})`:_.name;return 1===n.length?s.createElement("div",{className:h.content},s.createElement("span",{className:h.singleItemDropdown},g)):s.createElement(d.ToolWidgetMenu,{isDrawer:r.CheckMobile.any(),content:s.createElement("span",{className:h.content},g),className:h.dropdown},s.createElement(u.ToolWidgetMenuSummary,{className:h.summary},o.t(null,void 0,i(728534))),n.map((e=>{const t=_.id===e.id;return s.createElement(c.PopupMenuItem,{labelClassName:h.labelWrapper,isActive:t,label:s.createElement("div",{className:h.label},s.createElement("div",{className:h.title},e.name),void 0!==e.currency&&s.createElement("div",{className:a()(h.currency,t&&h.activeCurrency)},"(",e.currency,")")),onClick:()=>e.callBack(),key:e.id})})));function b(e){m((0,l.ensureDefined)(n.find((t=>t.id===e))))}}var _=i(42800);function m(e){const{brokerDropdownProps:t,accountDropdownProps:i}=e,o=r.CheckMobile.any()&&(null==t?void 0:t.isBeta);return s.createElement("div",{className:_.wrapper},void 0!==t&&s.createElement("div",{className:o?_.brokerDropdownMobileWrapper:void 0},s.createElement(BrokerDropdown,{...t}),o&&s.createElement(BetaBrokerBadge,{size:BadgeSize.Small,showSupportButton:!0,wrapperClassName:_.betaBadgeWrapper})),s.createElement(p,{...i}))}},495413:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AccountManager:()=>hs});var s,r=i(509806),o=i(50959),n=i(500962),a=i(159255),l=i(650151),d=i(688401),c=i(601227),u=i(484727),h=(i(119277),i(972535)),p=i(635991),_=i(606615),m=i(922157),g=i.n(m),b=i(247424),v=i(670340),f=i(870122),w=i(561626),C=i(131227);!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(s||(s={}));const y={saveTab:"",noSlider:!1,onTabClick:!1,loadedClass:"i-loaded",tabsContainerClass:"tv-tabs",tabClass:"tv-tabs__tab",tabDisabledClass:"disabled",activeTabClass:"i-active",activePageClass:"active",sliderClass:"tv-tabs__slider",scrollBoxClass:"tv-tabs__scroll-box",scrollWrapClass:"tv-tabs__scroll-wrap",
lArrowClass:"tv-tabs__left-arrow",rArrowClass:"tv-tabs__right-arrow"},S=b,T=v;class E{constructor(e,t,i={}){this._animating=!1,this._prevWidth=-1,this._bindings=[],this._options=(0,_.deepExtend)({},y,i),this.tabChanged=new(g()),this._elTabs=e,this._elPages=t,this._elScrollWrap=k(this._options.scrollWrapClass||"",this._elTabs,"wrapInner"),this._elScrollBox=k(this._options.scrollBoxClass||"",this._elScrollWrap,"wrapInner"),this._options.noSlider||(this._elSlider=k(this._options.sliderClass||"",this._elScrollBox,"append")),h.mobiletouch||(this._elArrowLeft=k(this._options.lArrowClass||"",this._elTabs,"append",`<div class="${this._options.lArrowClass||""} i-slided">${S}</div>`),this._elArrowRight=k(this._options.rArrowClass||"",this._elTabs,"append",`<div class="${this._options.rArrowClass||""} i-slided">${T}</div>`),this._addClass(this._elArrowLeft,this._options.addLeftArrowsClass),this._addClass(this._elArrowRight,this._options.addRightArrowsClass)),this._addClass(this._elScrollBox,this._options.addScrollBoxClass),this._addClass(this._elSlider,this._options.addSliderClass),this._addClass(this._elTabs,this._options.tabsContainerClass),this._addClass(this.getTabsArray(),this._options.tabClass),this._addClass(this._elTabs,this._options.loadedClass),this.checkScrollArrows(!0),this._initActivePage(),this._bindEvents()}getTabsArray(){const e=this._elScrollBox.children;if(!this._options.sliderClass)return Array.prototype.slice.call(e);const t=[];for(let i=0;i<e.length;i++){const s=e[i];D(s,this._options.sliderClass)||t.push(s)}return t}getPagesArray(){return this._elPages?Array.prototype.slice.call(this._elPages.children):[]}getElTabs(){return this._elTabs}getElPages(){return this._elPages}checkScrollArrows(e=!1){const t=Math.ceil(this._elScrollWrap.scrollLeft),i=x(this._elScrollWrap),r=this._elScrollWrap.scrollWidth-i-2;function o(e){M(e,"i-slided"),e.style.transition=""}function n(t,i){P(t,"i-slided"),e&&(t.style.transition="none")}this._elArrowLeft&&(t>=1?o(this._elArrowLeft):(t<=1||this._elScrollWrap.scrollWidth<=i)&&n(this._elArrowLeft,s.Left)),this._elArrowRight&&(r-t>1?o(this._elArrowRight):(t>=r||this._elScrollWrap.scrollWidth<=i)&&n(this._elArrowRight,s.Right))}index(){const e=this.getElActiveTab();return e?this.getTabsArray().indexOf(e):-1}getElActiveTab(){return this._getActiveElement(this.getTabsArray(),this._options.activeTabClass||"",this._options.inactiveTabClass)}getElActivePage(){return this._getActiveElement(this.getPagesArray(),this._options.activePageClass||"",this._options.inactivePageClass)}setActivePage(e,t,i){if(-1===e||e===this.index()&&!i)return;const s=this.index();function r(t,i,s){t.forEach(((t,r)=>{const o=e===r;i&&A(t,i,o),s&&A(t,s,!o)}))}r(this.getTabsArray(),this._options.activeTabClass,this._options.inactiveTabClass),r(this.getPagesArray(),this._options.activePageClass,this._options.inactivePageClass),this._options.noSlider||this.updateSlider(s,e,t),this._options.saveTab&&f.setValue(this._options.saveTab,e),this.tabChanged.fire(e)}updateSlider(e,t,i){if(this._options.noSlider)return
;const s=this.getTabsArray()[t];if(0===s.clientWidth||0===s.clientHeight||"none"===window.getComputedStyle(s).getPropertyValue("display"))return;const r=window.getComputedStyle(s);let o=s.offsetLeft+parseInt(r.getPropertyValue("padding-left")),n=x(s);const a=s.querySelector(".js-tabs__slider-pos");if(a){const e=window.getComputedStyle(a);o+=parseInt(e.getPropertyValue("padding-left"))+a.offsetLeft,n-=n-x(a)}if(i=i||-1===e||document.all&&!window.atob)this._elSlider.style.left=o+"px",this._elSlider.style.width=n+"px";else{this._animating=!0;const e=parseInt(getComputedStyle(this._elSlider).left),t=parseInt(getComputedStyle(this._elSlider).width);(0,C.doAnimate)({from:e,to:o,duration:p.dur,onStep:(e,t)=>{this._elSlider.style.left=t+"px"}}),(0,C.doAnimate)({from:t,to:n,duration:p.dur,onStep:(e,t)=>{this._elSlider.style.width=t+"px"},onComplete:()=>{this._animating=!1}})}}onTabClick(e){const t=e.currentTarget||e.target,i=this.getTabsArray().indexOf(t);-1===i||this._isTabDisabled(t)||this.setActivePage(i),document.activeElement.blur(),e.preventDefault()}resizeSlider(){if(this._options.noSlider)return;const e=this._elTabs.offsetWidth;if(e===this._prevWidth)return;this._prevWidth=e;const t=this.index();this.updateSlider(t,t,!0)}count(){return this.getTabsArray().length}add(e,t){this._elScrollBox.appendChild(e),this._elPages&&t&&this._elPages.appendChild(t),this._bindTabEvents(e),this.checkScrollArrows(!0)}remove(e){function t(e){e.parentElement&&e.parentElement.removeChild(e)}const i=this.tabAt(e);i&&(this._unbindTabEvents(i),t(i));const s=this.pageAt(e);s&&t(s);const r=e-1>=0?e-1:0;this.setActivePage(r),this.checkScrollArrows(!0)}indexOfTab(e){return this.getTabsArray().indexOf(e)}indexOfPage(e){return this.getPagesArray().indexOf(e)}pageAt(e){return this.getPagesArray()[e]||null}tabAt(e){return this.getTabsArray()[e]||null}deselect(){const e=this.getElActiveTab();this._options.activeTabClass&&e&&M(e,this._options.activeTabClass);const t=this.getElActivePage();return this._options.activePageClass&&t&&M(t,this._options.activePageClass),this._elSlider&&(this._elSlider.style.left="",this._elSlider.style.width=""),this}stop(){this._unbindEvents({})}_addClass(e,t){"string"==typeof t&&(Array.isArray(e)||(e=[e]),e.forEach((e=>{P(e,t)})))}_initActivePage(){let e=0;this._options.saveTab&&(e=f.getInt(this._options.saveTab,0));const t=this.index();-1!==t&&(e=t),void 0!==this._options.activeTab&&(e=this._options.activeTab),this.setActivePage(e,!0,!0)}_bindEvents(){this.getTabsArray().forEach(this._bindTabEvents.bind(this)),this._bindOneEvent({eventName:"scroll",listener:this.checkScrollArrows.bind(this,!1),target:this._elScrollWrap}),this._elArrowLeft&&this._bindOneEvent({eventName:"click",listener:()=>{const e=this.getTabsArray();let t=0,i=!1;const s=this._elScrollWrap.scrollLeft;(0,w.isRtl)()&&e.reverse(),e.forEach((e=>{if(i)return;const r=e.offsetLeft+e.offsetWidth;r>s?i=!0:t=r})),(0,C.doAnimate)({from:this._elScrollWrap.scrollLeft,to:this._elScrollWrap.scrollLeft+Math.floor(t-s-x(this._elArrowLeft)),duration:p.dur/2,onStep:(e,t)=>{
this._elScrollWrap.scrollLeft=t}})},target:this._elArrowLeft}),this._elArrowRight&&this._bindOneEvent({eventName:"click",listener:()=>{const e=this.getTabsArray();let t=0;const i=(0,w.isRtl)()?0:this._elScrollWrap.scrollLeft+x(this._elScrollWrap);(0,w.isRtl)()&&e.reverse(),e.forEach((e=>{if(0!==t)return;const s=e.offsetLeft+e.offsetWidth;s>i&&(t=s)})),(0,C.doAnimate)({from:this._elScrollWrap.scrollLeft,to:this._elScrollWrap.scrollLeft+Math.ceil(t-i+x((0,l.ensureDefined)(this._elArrowRight))),duration:p.dur/2,onStep:(e,t)=>{this._elScrollWrap.scrollLeft=t}})},target:this._elArrowRight});const e=Array.prototype.slice.call(this._elTabs.querySelectorAll(".js-tabs__slider-hover")||[]);e.length&&e.forEach((e=>this._bindOneEvent({eventName:"mouseenter",listener:e=>{if(this._animating)return;const t=e.currentTarget;t&&this._options.activeTabClass&&D(t,this._options.activeTabClass)&&this._hoverSlider(t)},target:e})));let t=null;const i=()=>{t=null,this.checkScrollArrows(!0),this._options.noSlider||this.resizeSlider()};this._bindOneEvent({eventName:"resize",listener:()=>{null===t&&(t=window.requestAnimationFrame(i))},target:window})}_bindTabEvents(e){this._bindOneEvent({eventName:"click",listener:e=>{"function"==typeof this._options.onTabClick?this._options.onTabClick(e):this.onTabClick(e)},target:e})}_unbindTabEvents(e){this._unbindEvents({target:e})}_bindOneEvent(e){e.target.addEventListener(e.eventName,e.listener),this._bindings.push(e)}_unbindEvents(e){const t=t=>!(void 0!==t.eventName&&t.eventName!==e.eventName||void 0!==t.target&&t.target!==e.target||void 0!==t.listener&&t.listener!==e.listener);this._bindings.filter(t).forEach((e=>e.target.removeEventListener(e.eventName,e.listener))),this._bindings=this._bindings.filter((e=>!t(e)))}_getActiveElement(e,t,i){return e.filter((e=>t?D(e,t):!!i&&!D(e,i)))[0]||null}_isTabDisabled(e){return D(e,"i-disabled")||this._options.tabDisabledClass&&D(e,this._options.tabDisabledClass)||e.hasAttribute("disabled")}_hoverSlider(e){const t=x(e),i=window.getComputedStyle(e),s=e.offsetLeft+parseInt(i.getPropertyValue("padding-left"))+parseInt(i.getPropertyValue("margin-left"));(0,C.doAnimate)({from:parseInt(getComputedStyle(this._elSlider).left),to:s,duration:p.dur/4,onStep:(e,t)=>{this._elSlider.style.left=t+"px"}}),(0,C.doAnimate)({from:parseInt(getComputedStyle(this._elSlider).width),to:t,duration:p.dur/4,onStep:(e,t)=>{this._elSlider.style.width=t+"px"}});const r=()=>{this.getElActiveTab()===e&&this._unhoverSlider(e),e.removeEventListener("mousleave",r)};e.addEventListener("mouseleave",r)}_unhoverSlider(e){const t=window.getComputedStyle(e),i=e.querySelector(".js-tabs__slider-pos"),s=window.getComputedStyle(i),r=e.offsetLeft+parseInt(t.getPropertyValue("padding-left"))+parseInt(t.getPropertyValue("margin-left"))+parseInt(s.getPropertyValue("padding-left"))+i.offsetLeft,o=x(e),n=o-(o-x(i));(0,C.doAnimate)({from:parseInt(getComputedStyle(this._elSlider).left),to:r,duration:p.dur/2,onStep:(e,t)=>{this._elSlider.style.left=t+"px"}}),(0,C.doAnimate)({
from:parseInt(getComputedStyle(this._elSlider).width),to:n,duration:p.dur/2,onStep:(e,t)=>{this._elSlider.style.width=t+"px"}})}}function x(e){if(0===e.offsetWidth)return 0;{const t=window.getComputedStyle(e);return e.offsetWidth-parseFloat(t.getPropertyValue("padding-left"))-parseFloat(t.getPropertyValue("padding-right"))-parseFloat(t.getPropertyValue("border-left-width"))-parseFloat(t.getPropertyValue("border-right-width"))}}function k(e,t,i,s){let r=t.querySelector("."+e);if(!r){const o=document.createElement("div");if(o.innerHTML=s||`<div class="${e}"></div>`,r=o.firstElementChild,"append"===i)t.appendChild(r);else{if("wrapInner"!==i)throw new Error("Unknown insertMethod");{const e=Array.prototype.slice.call(t.childNodes);for(let t=0;t<e.length;t++)r.appendChild(e[t]);t.appendChild(r)}}}return r}function P(e,t){e.classList.add(...F(t))}function M(e,t){e.classList.remove(...F(t))}function D(e,t){return F(t).every((t=>e.classList.contains(t)))}function A(e,t,i){F(t).forEach((t=>e.classList.toggle(t,i)))}function F(e){return e.split(/\s+/)}var I=i(842974),R=i(282926);class N{constructor(e){this._delegates=e}subscribe(e,t,i){this._delegates.forEach((s=>s.subscribe(e,t,i)))}unsubscribe(e,t){this._delegates.forEach((i=>i.unsubscribe(e,t)))}unsubscribeAll(e){this._delegates.forEach((t=>t.unsubscribeAll(e)))}}var O=i(140641),L=i(488563),U=i(21218);function B(e){return 0!==e.qty||0!==e.longQty&&void 0!==e.longQty||0!==e.shortQty&&void 0!==e.shortQty}var V,H=i(561738);!function(e){e.Success="success",e.Danger="danger"}(V||(V={}));var z=i(247465);class W{constructor(e){this._active=!1,this._created=!1,this._started=!1,this._fullUpdateDelegate=null,this._partialUpdateDelegate=null,this._deleteUpdateDelegate=null,this._noMoreEntries=!1,this._isLoadingMore=!1,this._fullUpdateCancel=null,this._exportData=async()=>{const e=this._active;e||(this.start(),await this.setActive(!0));const t=this._view.exportData();return e||await this.setActive(!1),t},this._viewVisibilityHandler=e=>{this._model.setActive(e)},this._sortingChangeHandler=e=>{this._updateModelSortingState(e)},this._sizeChangeHandler=()=>{this._updateModelSortingState({column:this._view.sortingColumn(),mode:this._view.sortingMode()})};const{idProperty:t,name:i,model:s,view:r,source:o,subscriptions:n,supportPagination:a}=e;this._idProperty=t,this._model=s,this._view=r,this._name=i,this._source=o,this._subscriptions=n,this._supportPagination=Boolean(a)}start(){this._started||(this._updateModelSortingState({column:this._view.sortingColumn(),mode:this._view.sortingMode()}),this._subscribeUpdates(),this._subscribeView(),this._started=!0)}stop(){this._started&&(this._unsubscribeUpdates(),this._unsubscribeView(),this.reset(),this._started=!1)}isStarted(){return this._started}async setActive(e){(0,l.assert)(!e||this._started,"Should be started first"),this._active!==e&&(this._active=e,this._active&&!this._created&&await this._fullUpdate(),this._model.setActive(e))}isActive(){return this._active}reset(){this._active?this._fullUpdate():(this._deleteRows(),this._created=!1)}
destroy(){this._unsubscribeUpdates(),this._unsubscribeView()}getDataExporter(){return{name:this._name,exportData:this._exportData}}setHeight(e){this._view.setHeight(e)}highlightRowById(e){this._view.highlightRowById(e)}setRowInactiveById(e,t){this._view.setRowInactiveById(e,t)}setRowInactiveByFilter(e){this._view.setRowInactiveByFilter(e)}addFormatter(e){this._view.addFormatter(e)}addFormatters(e){for(const t of e)this.addFormatter(t)}isRowInViewport(e){return this._view.isRowInViewport(e)}setColumnAvailable(e,t){this._view.setColumnAvailable(e,t)}setRowLinkedByFilter(e){this._view.setRowLinkedByFilter(e)}setRowLinkedById(e,t){this._view.setRowLinkedById(e,t)}rowIdAtEvent(e){return this._view.rowIdAtEvent(e)}rowAtEvent(e){const t=this._view.rowIdAtEvent(e);if(void 0!==t)return this.rowById(t)}rowById(e){return this._model.data().get(e)}_update(e){return!!this._created&&(this._model.addRow(e),!0)}_deleteRow(e){this._created&&this._model.deleteRow(e)}_deleteRows(){this._model.deleteRows(),this._created=!1}_fullUpdate(){if(this._deleteRows(),this._noMoreEntries=!1,!this._active)return Promise.resolve();this._fullUpdateCancel&&this._fullUpdateCancel();const e=(0,z.makeCancelable)(this._source());return this._fullUpdateCancel=e.cancel,e.promise.then((e=>{this._fullUpdateCancel=null,this._model.addRows(e),this._created=!0,this._onCreated()})).catch((e=>{if(!(0,z.isCancelled)(e))throw e}))}_onCreated(){}_loadMoreIfBottomVisible(e){if(this._isLoadingMore||!e||this._noMoreEntries)return;const t=this._model.rows().length-1;if(-1===t)return;const i=this._model.rows()[t][this._idProperty];this._isLoadingMore=!0,this._source(i).then((e=>{0!==e.length?(this._model.addRows(e),this._isLoadingMore=!1):this._noMoreEntries=!0})).catch((()=>{this._isLoadingMore=!1}))}_subscribeView(){this._view.onSizeChange.subscribe(this,this._sizeChangeHandler),this._view.onTableVisibilityChange.subscribe(this,this._viewVisibilityHandler),this._view.onSortingChange.subscribe(this,this._sortingChangeHandler),this._supportPagination&&this._view.onBottomVisibilityChange.subscribe(this,this._loadMoreIfBottomVisible)}_unsubscribeView(){this._view.onSizeChange.unsubscribe(this,this._sizeChangeHandler),this._view.onTableVisibilityChange.unsubscribe(this,this._viewVisibilityHandler),this._view.onSortingChange.unsubscribe(this,this._sortingChangeHandler),this._view.onBottomVisibilityChange.unsubscribe(this,this._loadMoreIfBottomVisible)}_updateModelSortingState(e){const t=0!==this._view.size()||this._supportPagination?e.mode:null;this._model.setSortingState({column:null===t?void 0:e.column,mode:t})}_subscribeUpdates(){if(this._fullUpdateDelegate)throw new Error("should unsubscribe first");this._fullUpdateDelegate=this._subscriptions.fullUpdateDelegate,this._fullUpdateDelegate.subscribe(this,this._fullUpdate),this._partialUpdateDelegate=this._subscriptions.rowUpdateDelegate,this._partialUpdateDelegate.subscribe(this,this._update),this._subscriptions.rowDeleteDelegate&&(this._deleteUpdateDelegate=this._subscriptions.rowDeleteDelegate,
this._deleteUpdateDelegate.subscribe(this,this._deleteRow))}_unsubscribeUpdates(){this._fullUpdateDelegate&&(this._fullUpdateDelegate.unsubscribe(this,this._fullUpdate),delete this._fullUpdateDelegate),this._partialUpdateDelegate&&(this._partialUpdateDelegate.unsubscribe(this,this._update),delete this._partialUpdateDelegate),this._deleteUpdateDelegate&&(this._deleteUpdateDelegate.unsubscribe(this,this._deleteRow),delete this._deleteUpdateDelegate)}}var j=i(84281);class K extends class{constructor(e,t){this._active=!1,this._content=e,this._id=t.id,this._name=t.name,this._header=function(e){if(!e.headerCounter){const t=document.createElement("span");return t.textContent=e.name,t}const t=document.createElement("div");t.className=j.counter;const i=document.createElement("div");i.className=j.text,i.textContent=e.name;const s=document.createElement("div");return s.className=`${j.count} js-header-count`,s.textContent="0",t.appendChild(i),t.appendChild(s),t}(t),this._countElement=this._header.querySelector(".js-header-count")}setActive(e){this._active!==e&&(this._active=e,this._onActiveChanged(e))}isActive(){return this._active}reset(){}destroy(){}header(){return this._header}content(){return this._content}name(){return this._name}id(){return this._id||this._name}contextItems(e){return[]}topline(){return null}_setCount(e){null!==this._countElement&&(this._countElement.innerHTML=String(e))}_onActiveChanged(e){}}{constructor(e,t,i){super(e,t),this._tableControllers=i}reset(){this._tableControllers.forEach((e=>e.reset())),super.reset()}destroy(){this._tableControllers.forEach((e=>e.destroy())),super.destroy()}setHeight(e){this._tableControllers.forEach((t=>t.setHeight(e)))}getExporters(){const e=this._tableControllers.map((e=>e.getDataExporter()));return{title:this.name(),exporters:e}}contextRow(e){}_onActiveChanged(e){this._tableControllers.forEach((t=>t.setActive(e)))}}var G=i(150335),$=i(604406),Y=i(499445),q=i(951327),Z=i(943624);var Q=i(486028),J=i(58594),X=i(338650),ee=i(696546),te=(i(99357),i(159537),i(497754)),ie=i.n(te);i(531428);i(572476);var se=i(930052);i(839391),i(588163);new Map;var re=i(943);new Map;function oe(e){const{brokerSymbol:t}=e;return o.createElement("div",{className:re.title},t)}function ne(e){return o.createElement(se.MatchMedia,{rule:H.TradingLayoutBreakpoint.Mobile},(t=>t?o.createElement("span",null,e.brokerSymbol):o.createElement(oe,{...e})))}var ae=i(500407);function le(e){return 1===e?ae.blue:ae.red}function de(e){const{side:t}=e;return o.createElement("span",{className:le(t)},(0,ee.sideToText)(t))}function ce(e){const{side:t}=e;return o.createElement("span",{className:le(t)},(0,ee.positionSideToText)(t))}var ue=i(403915);function he(e){const{value:t,noWrap:i}=e;return o.createElement("span",{className:ie()(ue.text,i&&ue.noWrap)},t)}const pe=" ";function _e(e){const{priceFormatter:t,price:i,prevPrice:s}=e,r=(0,$.splitThousands)(t.format(i),pe);if(void 0===s)return{same:r};const o=(0,$.splitThousands)(t.format(s),pe),n=r.split("").findIndex(((e,t)=>e!==o[t]));if(-1===n)return{same:r};return{
same:r.substring(0,n),differs:r.substring(n)}}function me(e){const{price:t,prevPrice:i,lastCharSup:s}=e,{same:r,differs:n}=_e(e);return void 0===n||void 0===i?function(e,t){return o.createElement("span",null,t?ge(e):(0,w.forceLTRStr)(e))}(r,s):o.createElement("span",null,r,o.createElement("span",{className:t>i?ae.green:ae.red},s?ge(n):n))}function ge(e){const t=/^([^]*)(\S)(\s*)$/.exec(e);return"0"===e||null===t?o.createElement(o.Fragment,null,(0,w.forceLTRStr)(e)):o.createElement(o.Fragment,null,t[1],o.createElement("sup",null,t[2]),void 0!==t[3]&&""!==t[3]&&o.createElement("sup",null,t[3]))}const be={3:ae.gray,6:ae.blue,5:ae.red,2:ae.green,1:ae.orange,4:void 0};function ve(e){const{status:t}=e;return o.createElement("span",{className:be[t],style:{textTransform:"capitalize"}},(0,I.orderStatusToText)(t))}function fe(e){const{profit:t,currency:i}=e;if(!(0,Q.isNumber)(t))return"";const s=(0,G.fixComputationError)(t),r=s>0?"+":"",o=void 0!==i?` ${i}`:"";return(0,w.forceLTRStr)(r+(0,$.splitThousands)((s||0).toFixed(2),pe)+o)}function we(e){const t=fe(e);return""===t?o.createElement("span",null):o.createElement("span",{className:ie()(e.profit<0&&ae.red,e.profit>0&&ae.green)},t)}const Ce=new Y.DateTimeFormatter,ye=new class{constructor(){this._dateFormatter=new Z.DateFormatter,this._timeFormatter=new q.TimeFormatter}format(e){const t=new Date(e.dateOrDateTime);let i=this._dateFormatter.format(t);return e.hasTime&&(i+=" "+this._timeFormatter.format(t)),i}formatLocal(e){const t=new Date(e.dateOrDateTime);let i=this._dateFormatter.formatLocal(t);return e.hasTime&&(i+=" "+this._timeFormatter.formatLocal(t)),i}},Se=new J.PercentageFormatter;function Te({values:e}){return e.join(pe)}function Ee(e){const{values:[t],prevValues:[i]=[void 0],priceFormatter:s}=e;return(0,I.isDefined)(t)?function(e){const{same:t,differs:i}=_e(e);return(0,w.forceLTRStr)(`${t}${i||""}`)}({price:t,prevPrice:null!=i?i:void 0,priceFormatter:s}):""}const xe=[{name:"symbol",formatElement:({values:[e,t]})=>o.createElement(ne,{brokerSymbol:e,symbol:t}),formatText:Te},{name:"side",formatElement:({values:[e]})=>o.createElement(de,{side:e}),formatText:({values:[e]})=>(0,ee.sideToText)(e)},{name:"positionSide",formatElement:({values:[e]})=>o.createElement(ce,{side:e}),formatText:({values:[e]})=>(0,ee.positionSideToText)(e)},{name:"text",formatElement:e=>o.createElement(he,{value:Te(e)}),formatText:Te},{name:"type",formatText:({values:[e,t,i]})=>(0,ee.orderTypeToText)({orderType:e,parentId:t,stopType:i})},{name:"formatPrice",formatElement:({values:[e],priceFormatter:t,prevValues:[i]=[void 0]})=>(0,I.isDefined)(e)&&(0,I.isDefined)(t)?o.createElement(me,{priceFormatter:t,price:e,prevPrice:null!=i?i:void 0}):void 0,formatText:Ee},{name:"formatPriceForexSup",formatElement:({values:[e],priceFormatter:t,prevValues:[i]=[void 0]})=>(0,I.isDefined)(e)?o.createElement(me,{priceFormatter:t,price:e,prevPrice:null!=i?i:void 0,lastCharSup:t.hasForexAdditionalPrecision()}):void 0,formatText:Ee},{name:"status",formatElement:({values:[e]})=>(0,I.isDefined)(e)?o.createElement(ve,{
status:e}):void 0,formatText:({values:[e]})=>(0,I.isDefined)(e)?(0,X.capitalizeFirstLetter)((0,ee.orderStatusToText)(e)):""},{name:"date",formatText:({values:[e]})=>(0,I.isDefined)(e)&&Pe(e)?Ce.format(new Date(e)):""},{name:"localDate",formatText:({values:[e]})=>(0,I.isDefined)(e)&&Pe(e)?Ce.formatLocal(new Date(e)):""},{name:"dateOrDateTime",formatText:({values:[e]})=>(0,I.isDefined)(e)&&Pe(e.dateOrDateTime)?ye.format(e):""},{name:"localDateOrDateTime",formatText:({values:[e]})=>(0,I.isDefined)(e)&&Pe(e.dateOrDateTime)?ye.formatLocal(e):""},{name:"fixed",formatText:({values:[e]})=>!(0,I.isDefined)(e)||isNaN(e)?"":(0,w.forceLTRStr)(Math.abs(e||0)<.001?"0.00":(0,$.splitThousands)((e||0).toFixed(2),pe))},{name:"variablePrecision",formatText:({values:[e]})=>!(0,I.isDefined)(e)||isNaN(e)?"":(0,w.forceLTRStr)(String((0,G.fixComputationError)(e)))},{name:"pips",formatText:({values:[e]})=>(0,Q.isNumber)(e)?(0,w.forceLTRStr)(Math.abs(e)<.01?"0.0":(0,$.splitThousands)(e.toFixed(1),pe)):""},{name:"integerSeparated",formatText:({values:[e]})=>(0,Q.isNumber)(e)?(0,w.forceLTRStr)((0,$.splitThousands)(e.toFixed(0),pe)):""},{name:"formatQuantity",formatText:({values:[e]})=>(0,Q.isNumber)(e)?(0,w.forceLTRStr)((0,$.splitThousands)(e,pe)):""},{name:"profit",formatElement:({values:[e]})=>(0,I.isDefined)(e)?o.createElement(we,{profit:e}):void 0,formatText:({values:[e]})=>(0,I.isDefined)(e)?fe({profit:e}):""},{name:"profitInInstrumentCurrency",formatElement:({values:[e,t]})=>(0,I.isDefined)(e)?o.createElement(we,{profit:e,currency:t}):void 0,formatText:({values:[e,t]})=>(0,I.isDefined)(e)?fe({profit:e,currency:t}):""},{name:"percentage",formatText:({values:[e]})=>(0,Q.isNumber)(e)?(0,w.forceLTRStr)(Se.format(e)):""},{name:"marginPercent",formatText:({values:[e]})=>(0,I.isDefined)(e)?isFinite(e)?e<.01?e+"%":Se.format(e):"> 200%":""},{name:"empty",formatText:()=>""}],ke={name:"default",formatText:Te};function Pe(e){return"number"==typeof e?e>0:""!==e}var Me=i(341096);function De(e={}){const{withScroll:t=!1,fitContent:i=!1}=e,s=document.createElement("div");return s.classList.add(Me.tableContainer),s.classList.toggle(Me.withScroll,t),s.classList.toggle(Me.noScroll,!t),s.classList.toggle(Me.fitContent,i),s}var Ae=i(343370);function Fe(e){return void 0!==e.sortProp&&""!==e.sortProp?e.sortProp:e.dataFields.length>0?e.dataFields[0]:void 0}function Ie(e,t){return void 0===e&&void 0!==t?1:void 0!==e&&void 0===t?-1:void 0===e||void 0===t?0:e<t?1:e>t?-1:0}class Re{constructor(e){this.onRowsChanged=new(g()),this.onRowChanged=new(g()),this._rowsData=new Map,this._priceFormatters=new Map,this._rows=[],this._isActive=!1,this._sortingPostponed=!1,this._sortingMode=null;const{columns:t,options:i,priceFormatterGetter:s,reverse:r=!0}=e,{idProperty:o,defaultSortingParameters:n,group:a}=i;this._idProperty=o,this._reverse=r,this._defaultSortingInfo=void 0!==n?{sortingProperty:n.property,sortingMode:!1===n.asc?1:0}:void 0,this._group=a,this._priceFormatterGetter=s,this._sortAndGroupRowsThrottled=(0,Ae.default)((()=>{this._sortAndGroupRows(),this._update()
}),1e3),this._columns=new Map(t.map((e=>[e.id,e])))}setActive(e){this._isActive=e,this._onTableStateChanged(e)}addRow(e){const t=e[this._idProperty];this._rowsData.has(t)?this._updateRow(t,e):(this._addRowData(e),this._sortAndGroupRowsThrottled.cancel(),this._sortAndGroupRows(),this._update())}addRows(e){for(const t of e){const e=t[this._idProperty];this._rowsData.has(e)?this._updateRowData(e,t):this._addRowData(t)}this._sortAndGroupRows(),this._update()}rows(){return this._rows}data(){return this._rowsData}deleteRow(e){const t=this._rowsData.get(e);void 0!==t&&(this._rowsData.delete(e),this._rows.splice(this._rows.indexOf(t),1),this._update())}deleteRows(){this._deleteRows(),this._update()}destroy(){this._sortAndGroupRowsThrottled.cancel(),this._deleteRows()}setSortingState(e){this._sortingColumn=e.column,this._sortingMode=e.mode,this._onSortingChange()}async resolvePriceFormatter(e){if(void 0!==this._priceFormatterGetter)try{const t=this._rowsData.get(e);if(void 0===t||void 0!==t.priceFormatter)return;t.priceFormatter=null;const i=this._priceFormatters.get(e);if(void 0!==i)return t.priceFormatter=i,void this._update();const s=await this._priceFormatterGetter(t);this._priceFormatters.set(e,s),t.priceFormatter=s,this._update()}catch(e){}}_deleteRows(){this._rowsData.clear(),this._rows=[]}_sortAndGroupRows(){this._isActive?this._rows.sort(((e,t)=>function(e){var t;const{aRow:i,bRow:s,sortingMode:r,sortingProperty:o,groupDefiner:n}=e;let a=0;if(void 0!==n&&(a=Ie(n(i),n(s))),0===a&&(a=i.isTotalRow?1:s.isTotalRow?-1:0),null===r||0!==a||void 0===o)return a;let l=i[o],d=s[o];return void 0!==(null==l?void 0:l.dateOrDateTime)&&(l=l.dateOrDateTime,d=null!==(t=null==d?void 0:d.dateOrDateTime)&&void 0!==t?t:1/0),a=Ie(l,d),0===r?-a:a}({aRow:e,bRow:t,groupDefiner:this._group,...this._getSortingInfo()}))):this._sortingPostponed=!0}_getSortingInfo(){var e,t,i;const s=void 0!==this._sortingColumn?this._columns.get(this._sortingColumn):void 0,r=void 0!==s?Fe(s):void 0;return void 0!==r?{sortingProperty:r,sortingMode:this._sortingMode}:{sortingProperty:null===(e=this._defaultSortingInfo)||void 0===e?void 0:e.sortingProperty,sortingMode:null!==(i=null===(t=this._defaultSortingInfo)||void 0===t?void 0:t.sortingMode)&&void 0!==i?i:null}}_onSortingChange(){this._sortAndGroupRowsThrottled.cancel(),null===this._sortingMode&&this._resetRowsOrder(),this._sortAndGroupRows(),this._update()}_resetRowsOrder(){this._rows=[...this._rowsData.values()],this._reverse&&this._rows.reverse()}_onTableStateChanged(e){if(!e)return this._sortAndGroupRowsThrottled.cancel(),void(this._sortingPostponed=!0);this._update()}_update(){this._isActive&&(this._sortingPostponed&&(this._sortingPostponed=!1,this._sortAndGroupRows()),this.onRowsChanged.fire())}_updateRowData(e,t){var i,s;const r=(0,l.ensureDefined)(this._rowsData.get(e)),{prevValue:o,priceFormatter:n,...a}=r;for(const e of Object.keys(r))delete r[e];Object.assign(r,t,{priceFormatter:n,prevValue:a}),this.onRowChanged.fire(e)
;const d=(null===(i=this._group)||void 0===i?void 0:i.call(this,r))!==(null===(s=this._group)||void 0===s?void 0:s.call(this,a)),{sortingProperty:c}=this._getSortingInfo();(void 0!==c&&t[c]!==a[c]||d)&&this._sortAndGroupRowsThrottled()}_updateRow(e,t){this._updateRowData(e,t),this._update()}_addRowData({...e}){this._rowsData.set(e[this._idProperty],e),this._reverse?this._rows.unshift(e):this._rows.push(e)}}var Ne=i(23642),Oe=i(10170),Le=i(304889),Ue=i(6461),Be=i(416014),Ve=i(692831),He=i(788872),ze=(i(567886),i(220863)),We=i(821737),je=i(210596),Ke=i.n(je),Ge=i(297265),$e=i(152867),Ye=i(155185),qe=i(838683),Ze=i(379266),Qe=i(753327),Je=i(142490),Xe=i(407499);const et=new(Ke())(null).readonly();function tt(e){const{items:t,onCheck:s,overlapManagerWV:n}=e,a=(0,Ge.useWatchedValueReadonly)({watchedValue:null!=n?n:et}),l=(0,o.useMemo)((()=>t.filter((e=>e.visible))),[t]);return o.createElement(Qe.SlotContext.Provider,{value:a},o.createElement(Ye.ToolWidgetMenu,{horizontalDropDirection:qe.HorizontalDropDirection.FromRightToLeft,horizontalAttachEdge:qe.HorizontalAttachEdge.Right,className:Je.menuButton,arrow:!1,isDrawer:c.CheckMobile.any(),content:o.createElement($e.ToolWidgetButton,{className:Je.icon,title:r.t(null,void 0,i(398065)),icon:Xe})},t.map((e=>o.createElement(Ze.PopupMenuItemToggle,{key:e.id,label:e.title,isChecked:e.visible,labelClassName:Je.label,className:Je.checkBox,onClick:()=>{return t=e.id,void s(t);var t},isDisabled:1===l.length&&l[0].id===e.id})))))}var it=i(89268);function st(e){const{isSticky:t,...i}=e;return o.createElement("div",{className:ie()(it.container,t&&it.sticky)},o.createElement(tt,{...i}))}var rt=i(298314),ot=i(42357),nt=i(240933),at=i(147791),lt=i.n(at);function dt(e){let t=0;return e.querySelectorAll("*").forEach((e=>{t=Math.max(e.scrollWidth,t)})),t}var ct=i(413148);const ut="HeadCell";function ht(e){const{column:t,alignment:i,dispatch:s,onColumnsReordered:r,onWidthChange:n,columnsReorderingEnabled:a}=e,l=(0,o.useRef)(null),[{isDragging:d},c,u]=(0,ot.useDrag)((()=>({type:ut,item:{id:t.key},canDrag:()=>a,collect:e=>({isDragging:e.isDragging()})}))),[,h]=(0,nt.useDrop)((()=>({accept:ut,hover:(e,i)=>{var r;if(e.id===t.key)return;const o=null===(r=l.current)||void 0===r?void 0:r.getBoundingClientRect(),n=i.getClientOffset(),a=i.getDifferenceFromInitialOffset();void 0!==o&&null!==n&&null!==a&&function(e,t,i,s){const r=t-i,o=.4*(s-i);return e>0?r>o:r<o}(a.x,n.x,o.left,o.right)&&s({type:He.ActionType.ReorderColumns,columnKey:e.id,targetColumnKey:t.key})},drop:()=>{r()}}))),p=(0,o.useRef)(!1);return(0,o.useEffect)((()=>{""!==t.title&&c(h(l)),u((0,rt.getEmptyImage)(),{captureDraggingState:!0})}),[t]),(0,o.useEffect)((()=>{if(null===l.current||p.current)return;const e=dt(l.current);0!==e&&(n(e),p.current=!0)})),o.createElement("div",{ref:l,className:ie()(ct.wrapper,"right"===i&&ct.rightAligned),style:{opacity:d?.4:1}},o.createElement(lt(),{...e}))}var pt=i(403309),_t=i.n(pt);function mt(e){const{visibilityHandler:t,...i}=e;return(0,o.useLayoutEffect)((()=>(t(i.rowKeyValue,!0),
()=>t(i.rowKeyValue,!1))),[]),o.createElement(_t(),{...i})}var gt=i(696);const bt={mobileRowPadding:vt(gt["mobile-row-padding"]),mobileRowBorderSize:vt(gt["mobile-row-border-size"]),mobileRowMargin:vt(gt["mobile-row-margin"]),contentFontSize:gt["content-font-size"],maxCellWidth:200,minCellWidth:80,cellLateralPadding:vt(gt["cell-lateral-padding"])+2};function vt(e){return Number(e.replace("px",""))}var ft=i(102478),wt=i(811583);function Ct(e){const{children:t,onWidthChange:i}=e,[s,r]=(0,o.useState)(),[n,a]=(0,o.useState)(!1),l=(0,ft.useResizeObserver)((e=>{const[{target:t}]=e;if(!(t instanceof HTMLElement))return;r(t.innerText);const s=Math.max(t.scrollWidth,dt(t));0!==s&&i(s),a(s>t.offsetWidth)}));return o.createElement("div",{ref:l,className:ie()(wt.wrapper,n&&"apply-common-tooltip"),"data-tooltip":s},t)}function yt(e,t){if(0===e.length)return[[t],[t.prevValue]];const[i,s]=e.reduce(((e,i)=>{var s;return e[0].push(t[i]),e[1].push(null===(s=t.prevValue)||void 0===s?void 0:s[i]),e}),[[],[]]);return[i,s]}function St(e,t){if(!1===e.showOnMobile)return!0;const[i]=yt(e.dataFields,t),s=!1===e.showZeroValues;return i.every((e=>s&&0===e||""===e||null==e))}const Tt={mobile:22,desktop:22},Et={symbol:{mobile:Tt.mobile,desktop:Tt.desktop}};function xt(e){var t;return void 0===e?{...Tt}:null!==(t=Et[e])&&void 0!==t?t:{...Tt}}var kt=i(72571),Pt=i(804395);function Mt(){const[e,t]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{t(Pt.mobiletouch)}),[]),e}var Dt=i(409245),At=i(525388),Ft=i(482353),It=i(527941),Rt=i(499084),Nt=i(530162),Ot=i(288798),Lt=i.n(Ot);const Ut={info:It,question:Ft,check:Rt,exclamation:Nt};function Bt(e){return o.createElement("span",{...(0,Dt.renameRef)(e),className:te(e.className,Lt()["no-active-state"])})}function Vt(e){const{icon:t,intent:i="default",ariaLabel:s,tooltip:r,className:n,reference:a,showTooltipOnTouch:l=!0,renderComponent:d=Bt,showTooltip:c,hideTooltip:u,onFocus:h,onBlur:p,onClick:_}=e,m=Mt()?l:Boolean(r),g=o.useRef(null),b=(0,At.useMergedRefs)([a,g]),v=function(e){const{showTooltip:t,hideTooltip:i,onFocus:s,onBlur:r,onClick:n,ref:a}=e,l=Mt();return{onBlur:(0,o.useCallback)((e=>{i&&i(),r&&r(e)}),[i,r]),onFocus:(0,o.useCallback)((e=>{t&&t(e.currentTarget,{tooltipDelay:200}),s&&s(e)}),[t,s]),onClick:(0,o.useCallback)((e=>{var t;l&&(null===(t=a.current)||void 0===t||t.focus()),n&&n(e)}),[n]),tabIndex:0}}({showTooltip:c,hideTooltip:u,onFocus:h,onBlur:p,onClick:_,ref:g}),f=o.useMemo((()=>function(e,t){return t?Ut[t]:"success"===e?Ut.check:Ut.exclamation}(i,t)),[t,i]);return o.createElement(d,{className:te(n,Lt()["icon-wrapper"],Lt()[`intent-${i}`],m&&r&&Lt()["with-tooltip"],m&&r&&"apply-common-tooltip"),title:m?r:void 0,"aria-label":s,reference:b,...v},o.createElement(kt.Icon,{"aria-hidden":!0,icon:f,className:Lt().icon}))}var Ht=i(744471),zt=i(513949);function Wt(){const[e,t]=(0,o.useState)(),i=(0,o.useRef)(null);return(0,o.useEffect)((()=>{if(null===i.current||i.current.offsetWidth>=i.current.scrollWidth)return;const s=i.current.textContent;null!==s&&s!==e&&t(s)})),
[i,void 0!==e?o.createElement("div",{className:zt.tooltip},o.createElement(Vt,{icon:"info",ariaLabel:e,tooltip:e,onClick:jt,hideTooltip:Ht.hide})):null]}function jt(e){e.stopPropagation(),h.mobiletouch&&((0,Ht.tooltipClickHandler)(e),document.addEventListener("touchend",(e=>e.preventDefault()),{once:!0}))}var Kt=i(64340);function Gt(e){const{children:t}=e,[i,s]=Wt();return o.createElement(o.Fragment,null,o.createElement("div",{className:ie()(Kt.wrapper,null===s&&Kt.gap),ref:i},t),s)}var $t=i(751835);const Yt={0:He.SortDirection.Ascend,1:He.SortDirection.Descend},qt={[V.Danger]:$t.dangerRow,[V.Success]:$t.successRow};class Zt{constructor(e=0){this._mode=e}value(){return this._mode}next(){switch(this._mode){case 0:this._mode=1;break;case 1:this._mode=null;break;case null:this._mode=0}return this._mode}reset(){this._mode=0}}function Qt({values:e}){return e.map((e=>null!=e?String(e):"")).join(pe).replace(/&nbsp;/g,pe)}const Jt=new We.PriceFormatter;function Xt(e){return`Column ${e} metainfo`}function ei(e,t){return!1===e.showZeroValues&&t.every((e=>0===e))}Ue.default.fieldDelimiter="";class ti{constructor(e){var t;this.onTableVisibilityChange=new(g()),this.onBottomVisibilityChange=new(g()),this.onSizeChange=new(g()),this.onSortingChange=new(g()),this._isVisible=!1,this._tableWrapperKey=(0,ze.randomHashN)(5),this._rowHeightCache=new Map,this._rowsElements=new Map,this._rowsDisplayOptions=new Map,this._columnsWidth=new Map,this._columnWidthChangeHandlers=new Map,this._highlightTimeoutIds=new Map,this._formatters=new Map,this._visibleColumns=new Set,this._cellContentCaches=new WeakMap,this._hiddenFilterColumns=new Set,this._visibleRows=new Set,this._invalidateRowCache=e=>{this._rowHeightCache.delete(e)},this._makeHeadCellAttributes=({column:{key:e}})=>{const t="settings"===e,i={className:ie()($t.headCell,t&&!this._isMobile&&$t.fixedCell)};return this._isMobile||(i.width=this._fixedColumns?"50%":this._columnsWidth.get(e),t&&(i.width=68)),i},this._setColumnWidth=(e,t)=>{const i=t+bt.cellLateralPadding,s=this._columnsWidth.get(e);void 0!==s&&i<=s||(this._columnsWidth.set(e,i),this._render())},this._updateTableProps=e=>{if(e.type===He.ActionType.UpdateSortDirection){const t=this._columnsMetainfo.get(e.columnKey);if(void 0===t||t.notSortable||void 0===Fe(t))return;this._handleSortingUpdate(e.columnKey)}this._tableProps=(0,Ve.kaReducer)(this._tableProps,e),this._render()},this._handleEmptyRows=()=>{0===this._model.rows().length&&this._resetTableVirtualScrollPosition()},this._calculateRowHeight=e=>{var t,i;const s=null===(i=null===(t=this._virtualization)||void 0===t?void 0:t.rowHeightParams)||void 0===i?void 0:i[this._isMobile?"mobile":"desktop"];if(void 0===s)return this._isMobile?22:48;if("number"==typeof s)return s;const r=e[this._idProperty],o=this._isMobile&&this._isFirstRow(r)?bt.mobileRowMargin:0,n=this._rowHeightCache.get(r);if(void 0!==n)return n+o;const a=s(e,this._visibleColumns,this._columnsMetainfo);return this._rowHeightCache.set(r,a),a+o},this._makeHeadCellContent=e=>{const{column:t}=e;if("settings"===t.key){
const e=this._getAvailableColumnsFilterItems();if(0!==e.length)return o.createElement(st,{...this._columnsFilterProps,items:e})}const i=this._columnsMetainfo.get(t.key);return void 0!==(null==i?void 0:i.help)?o.createElement("span",{className:"apply-common-tooltip",title:i.help},t.title):t.title},this._makeTextContent=e=>{var t,i,s;const{row:r,columnId:o}=e,n=this._columnsMetainfo.get(o);if(void 0===n)return"";const[a,l]=yt(n.dataFields,r);if(ei(n,a))return"";return(void 0!==n.formatter&&null!==(i=null===(t=this._formatters.get(n.formatter))||void 0===t?void 0:t.formatText)&&void 0!==i?i:Qt)({values:a,prevValues:n.highlightDiff?l:void 0,priceFormatter:null!==(s=r.priceFormatter)&&void 0!==s?s:Jt})},this._makeCellContent=e=>{var t,i,s;const{row:r,columnId:n}=e,a=this._columnsMetainfo.get(n);if(void 0===a)return;const[l,d]=yt(a.dataFields,r);if(ei(a,l))return o.createElement(o.Fragment,null);let c=Qt;if(void 0!==a.formatter){const e=this._formatters.get(a.formatter);c=null!==(i=null!==(t=null==e?void 0:e.formatElement)&&void 0!==t?t:null==e?void 0:e.formatText)&&void 0!==i?i:c}const u=this._getCellContentCaches(r),h=u.get(a.id),p=null!==(s=r.priceFormatter)&&void 0!==s?s:Jt;if(0!==a.dataFields.length&&void 0!==h&&h.priceFormatter===p&&this._isMobile===h.isMobile&&(0,Q.deepEquals)(l,h.values)[0])return h.content;this._model.resolvePriceFormatter(r[this._idProperty]);const _=c({values:l,prevValues:a.highlightDiff?d:void 0,priceFormatter:p});let m;return m=this._isMobile?void 0!==_?o.createElement(Gt,null,_):o.createElement(o.Fragment,null):this._fixedColumns?o.createElement(o.Fragment,null,_):o.createElement(Ct,{onWidthChange:this._getColumnWidthChangeHandler(a.id)},_),u.set(a.id,{values:l,content:m,priceFormatter:p,isMobile:this._isMobile}),m},this._makeRowContent=e=>o.createElement(mt,{...e,visibilityHandler:this._handleRowVisibilityChange}),this._handleRowVisibilityChange=(e,t)=>{t?this._visibleRows.add(e):this._visibleRows.delete(e)},this._makeRowAttributes=({rowKeyValue:e,rowData:t})=>{var i;const s=this._rowsDisplayOptions.get(e),r=null===(i=this._rowBadgeTypeInferrer)||void 0===i?void 0:i.call(this,t);return{className:ie()($t.row,(null==s?void 0:s.isInactive)&&$t.inactiveRow,(null==s?void 0:s.isLinked)&&$t.linkedRow,void 0!==r&&qt[r],this._isFirstRow(e)&&$t.withMargin,this._isLastRow(e)&&$t.lastRow),"data-row-id":e,ref:t=>this._setRowElement(e,t),onClick:(e,t)=>{var i,s;null===(s=null===(i=this._rowEventsHandlers)||void 0===i?void 0:i.onClick)||void 0===s||s.call(i,t.childProps.rowData,this._isMobile)},onMouseEnter:(e,t)=>{var i,s;null===(s=null===(i=this._rowEventsHandlers)||void 0===i?void 0:i.onMouseEnter)||void 0===s||s.call(i,t.childProps.rowData,this._isMobile)},onMouseLeave:(e,t)=>{var i,s;null===(s=null===(i=this._rowEventsHandlers)||void 0===i?void 0:i.onMouseLeave)||void 0===s||s.call(i,t.childProps.rowData,this._isMobile)}}},this._setRowElement=(e,t)=>{this._rowsElements.set(e,t)},this._makeCellAttributes=({column:e,rowData:t})=>{const{title:i,key:s}=e,r=(0,
l.ensureDefined)(this._columnsMetainfo.get(s),Xt(s)),o=St(r,t);return{className:ie()($t.cell,("right"===(null==r?void 0:r.alignment)||"settings"===s)&&$t.rightAlignedCell,!1===(null==r?void 0:r.showLabelOnMobile)&&!1,o&&$t.hideCellOnMobile,"settings"===s&&!this._isMobile&&$t.fixedCell),"data-label":i}},this._makeCellContentAttributes=({column:e,rowData:t})=>{var i;const{key:s}=e,r=(0,l.ensureDefined)(this._columnsMetainfo.get(s),Xt(s)),o=void 0!==(null==r?void 0:r.tooltipProperty)?null===(i=t[r.tooltipProperty])||void 0===i?void 0:i[r.id]:void 0,n=xt(r.formatter);return{style:{height:this._isMobile?n.mobile:n.desktop},className:ie()($t.cellContent,void 0!==o&&"apply-common-tooltip common-tooltip-html",!1!==(null==r?void 0:r.isCapitalize)&&$t.capitalize),title:o}},this._makeTableWrapperAttributes=()=>{var e;return{className:ie()($t.tableWrapper,(null===(e=this._virtualization)||void 0===e?void 0:e.enabled)&&$t.tableWrapperEmpty),onScroll:this._onTableScroll,key:this._tableWrapperKey}},this._onTableScroll=(e,{baseFunc:t})=>{this._update.cancel(),t(e),this._checkBottomIsVisible(e.currentTarget)},this._resizeHandler=({matches:e})=>{this._isMobile=e,this._visibleColumns.clear(),this._columnsVisibilityInfo=this._makeColumnsVisibilityInfo(),this._columnsFilterProps=this._makeColumnsFilterProps(),this._tableProps.columns=this._makeColumns(),this._rowHeightCache.clear(),this.onSizeChange.fire()},this._saveColumnsOrder=()=>{var e;this._trackEvent(this._id,"Reorder columns");const t=this._tableProps.columns.map((e=>e.key));null===(e=this._getSettingsStorage())||void 0===e||e.setTableColumnsOrder(this._id,t)};const{id:i,model:s,className:r,container:n,columns:a,virtualization:d,stickyMobileColumnsFilter:c,idProperty:u,overlapManager:h,rowBadgeTypeInferrer:p,fixedColumns:_,getSettingsStorage:m,rowEventsHandlers:b,trackEvent:v}=e;this._id=i,this._model=s,this._fixedColumns=_,this._sortingColumnKey=`${this._id}.sort.column`,this._sortingModeKey=`${this._id}.sort.mode`,this._container=n,this._idProperty=u,this._virtualization=d,this._overlapManager=h,this._isStickyMobileColumnsFilter=c,this._columnsMetainfo=new Map(a.map((e=>[e.id,e]))),this._rowBadgeTypeInferrer=p,this._getSettingsStorage=m,this._trackEvent=v,this._rowEventsHandlers=b,this._checkBottomIsVisible=(0,Le.default)(this._checkBottomIsVisible,100),this._update=(0,Ae.default)(this._render,1e3);const f=this._getSavedSortingParameters();let w;this._sortingColumn=null==f?void 0:f.columnId,this._sortingModeSwitcher=new Zt(void 0===f?null:f.mode),(null==d?void 0:d.enabled)&&(w={itemHeight:this._calculateRowHeight}),this._mobileMediaQuery=window.matchMedia(H.TradingLayoutBreakpoint.Mobile),this._isMobile=this._mobileMediaQuery.matches,(0,Be.mediaQueryAddEventListener)(this._mobileMediaQuery,this._resizeHandler);const C="IntersectionObserver"in window;C||(this._isVisible=!0),this._containerVisibilityObserver=C?new IntersectionObserver((e=>{e.forEach((({intersectionRatio:e})=>{this._isVisible=0!==e,this._isVisible?this._render():this._resetTableVirtualScrollPosition(),
this.onTableVisibilityChange.fire(this._isVisible)}))})):null,null===(t=this._containerVisibilityObserver)||void 0===t||t.observe(this._container),this._columnsVisibilityInfo=this._makeColumnsVisibilityInfo(),this._columnsFilterProps=this._makeColumnsFilterProps(),this._tableProps={columns:this._makeColumns(),dispatch:this._updateTableProps,rowKeyField:this._idProperty,virtualScrolling:w,sortingMode:He.SortingMode.SingleTripleStateRemote,childComponents:{rootDiv:{elementAttributes:()=>({className:$t.root})},table:{elementAttributes:()=>({className:ie()($t.table,r,void 0!==w&&$t.withVirtualization),"data-selector":"table",style:{borderCollapse:"separate"}})},tableBody:{elementAttributes:()=>({className:$t.tableBody})},tableHead:{elementAttributes:()=>({className:$t.tableHead})},headRow:{elementAttributes:()=>({className:$t.headRow})},headCell:{elementAttributes:this._makeHeadCellAttributes,content:e=>{var t,i;return o.createElement(ht,{...e,alignment:null!==(i=null===(t=this._columnsMetainfo.get(e.column.key))||void 0===t?void 0:t.alignment)&&void 0!==i?i:"left",dispatch:(0,Le.default)(this._updateTableProps,15),onColumnsReordered:this._saveColumnsOrder,onWidthChange:this._getColumnWidthChangeHandler(e.column.key),columnsReorderingEnabled:!this._isMobile})}},cell:{elementAttributes:this._makeCellAttributes},tableWrapper:{elementAttributes:this._makeTableWrapperAttributes},dataRow:{content:this._makeRowContent,elementAttributes:this._makeRowAttributes},cellText:{content:({column:e,rowData:t})=>this._makeCellContent({columnId:e.key,row:t}),elementAttributes:this._makeCellContentAttributes},headCellContent:{elementAttributes:()=>({className:$t.headCellContent}),content:this._makeHeadCellContent}}},this._render(),this._subscribeModel()}rowIdAtEvent(e){return function(e){if(void 0!==e.dataset.rowId)return e.dataset.rowId;let t=e.parentElement;for(;null!==t;){if(void 0!==t.dataset.rowId)return t.dataset.rowId;t=t.parentElement}}(e.target)}isRowInViewport(e){return this._visibleRows.has(e)}sortingColumn(){return this._sortingColumn}sortingMode(){return this._sortingModeSwitcher.value()}size(){return this._isMobile?0:1}highlightRowById(e){const t=this._rowElementById(e);void 0!==t&&(clearTimeout(this._highlightTimeoutIds.get(e)),t.classList.remove($t.highlightedRow),t.classList.add($t.highlightedRow),this._highlightTimeoutIds.set(e,setTimeout((()=>{t.classList.remove($t.highlightedRow)}),700)))}addFormatter(e){this._formatters.set(e.name,e)}setColumnAvailable(e,t){if(this._setColumnAvailableInFilter(e,t),t){const t=this._isMobile?".invisibleMobileColumns":".invisibleColumns";if(f.getJSON(`${this._id}${t}`,[]).includes(e))return}this._setColumnVisibility(e,t)}setHeight(e){void 0!==this._tableProps.virtualScrolling&&(this._tableProps.virtualScrolling={...this._tableProps.virtualScrolling,tbodyHeight:e}),this._tableProps.childComponents={...this._tableProps.childComponents,tableWrapper:{elementAttributes:()=>({...this._makeTableWrapperAttributes(),style:{height:e}})}},this._render()}setRowInactiveById(e,t){var i
;(null===(i=this._rowsDisplayOptions.get(e))||void 0===i?void 0:i.isInactive)!==t&&(this._setRowInactiveById(e,t),this._render())}setRowInactiveByFilter(e){this._model.data().forEach(((t,i)=>this._setRowInactiveById(i,e(t)))),this._render()}setRowLinkedById(e,t){var i;(null===(i=this._rowsDisplayOptions.get(e))||void 0===i?void 0:i.isLinked)!==t&&(this._setRowLinkedById(e,t),this._render())}setRowLinkedByFilter(e){this._model.data().forEach(((t,i)=>this._setRowLinkedById(i,e(t)))),this._render()}destroy(){var e;(0,Be.mediaQueryRemoveEventListener)(this._mobileMediaQuery,this._resizeHandler),this._unsubscribeModel(),null===(e=this._containerVisibilityObserver)||void 0===e||e.disconnect(),n.unmountComponentAtNode(this._container)}exportData(){const e=[...this._columnsVisibilityInfo.values()];return this._model.rows().map((t=>{const i={};for(const{isVisible:s,label:r,id:o}of e){if(!s||"settings"===o)continue;const e=this._makeTextContent({columnId:o,row:t});i[r]=e||""}return i}))}isMobile(){return this._isMobile}_setRowInactiveById(e,t){this._updateRowDisplayOptions(e,{isInactive:t})}_setRowLinkedById(e,t){this._updateRowDisplayOptions(e,{isLinked:t})}_rowElementById(e){var t;return null!==(t=this._rowsElements.get(e))&&void 0!==t?t:void 0}_makeColumns(){const e=new Map;for(const[t,i]of this._columnsMetainfo){const{isVisible:s,isVisibleOnMobile:r,forceInvisible:o}=(0,l.ensureDefined)(this._columnsVisibilityInfo.get(t),Xt(t)),n={key:t,title:i.label,visible:(this._isMobile?r:s)&&!o,style:{minWidth:this._isMobile?void 0:bt.minCellWidth,maxWidth:this._isMobile?void 0:bt.maxCellWidth}},a=this._sortingModeSwitcher.value();t===this._sortingColumn&&null!==a&&(n.sortDirection=Yt[a]),e.set(n.key,n)}const t=this._getSavedColumnsOrder();return this._columnsMetainfo.has("settings")||(e.set("settings",{key:"settings",title:"",visible:!0}),this._columnsMetainfo.set("settings",{label:"",id:"settings",alignment:"right",dataFields:[],formatter:"empty",notSortable:!0,showOnMobile:!1})),this._isMobile||void 0===t?[...e.values()]:this._reorderColumns(t,e)}_resetTableVirtualScrollPosition(){void 0!==this._tableProps.virtualScrolling&&(this._tableProps.virtualScrolling={...this._tableProps.virtualScrolling,scrollTop:0},this._tableWrapperKey=(0,ze.randomHashN)(5),this._render(!0))}_render(e=!1){if(!e&&!this._isVisible)return;const t=this._model.rows();let i=[];this._isMobile&&0!==t.length&&(i=this._getAvailableColumnsFilterItems()),n.render(o.createElement(o.Fragment,null,0!==i.length&&o.createElement(st,{...this._columnsFilterProps,items:i}),o.createElement(Ne.DndProvider,{backend:Oe.HTML5Backend},o.createElement(Ve.Table,{...this._tableProps,dispatch:this._updateTableProps,data:t}))),this._container)}_updateRowDisplayOptions(e,t){const i=this._rowsDisplayOptions.get(e);this._rowsDisplayOptions.set(e,{...i,...t})}_handleSortingUpdate(e){e===this._sortingColumn?this._sortingModeSwitcher.next():(this._sortingColumn=e,this._sortingModeSwitcher.reset()),this._updateSortingColumnSettings(),this.onSortingChange.fire({column:e,
mode:this._sortingModeSwitcher.value()})}_updateSortingColumnSettings(){const e=this._sortingModeSwitcher.value();if(null===e)return f.remove(this._sortingColumnKey),void f.remove(this._sortingModeKey);f.setValue(this._sortingColumnKey,this._sortingColumn),f.setValue(this._sortingModeKey,e)}_getSavedSortingParameters(){const e=f.getValue(this._sortingColumnKey);if(void 0===e)return;const t=f.getInt(this._sortingModeKey);return{columnId:e,mode:null!=t?t:1}}_setColumnAvailableInFilter(e,t){t?this._hiddenFilterColumns.delete(e):this._hiddenFilterColumns.add(e)}_getCellContentCaches(e){let t=this._cellContentCaches.get(e);return void 0===t&&(t=new Map,this._cellContentCaches.set(e,t)),t}_getColumnWidthChangeHandler(e){let t=this._columnWidthChangeHandlers.get(e);return void 0===t&&(t=t=>this._setColumnWidth(e,t),this._columnWidthChangeHandlers.set(e,t)),t}_makeColumnsVisibilityInfo(){const e=new Map,t=[...this._columnsMetainfo.values()].filter((e=>e.hideByDefault)).map((e=>e.id)),i=f.getJSON(`${this._id}.invisibleColumns`,t),s=f.getJSON(`${this._id}.invisibleMobileColumns`,t);return this._columnsMetainfo.forEach((t=>{const r=i.includes(t.id),o=s.includes(t.id);(this._isMobile?o:r)?this._visibleColumns.delete(t.id):this._visibleColumns.add(t.id),e.set(t.id,{isVisible:!r,isVisibleOnMobile:!o,isAlwaysVisible:!0===t.notHideable,id:t.id,label:t.label})})),e}_isFirstRow(e){var t;return e===(null===(t=this._model.rows()[0])||void 0===t?void 0:t[this._idProperty])}_isLastRow(e){var t;const i=this._model.rows();return e===(null===(t=i[i.length-1])||void 0===t?void 0:t[this._idProperty])}_checkBottomIsVisible(e){const t=e.querySelector('[data-selector="table"]');if(null===t)return;const{bottom:i}=t.getBoundingClientRect(),s=window.innerHeight-i>=-100;this.onBottomVisibilityChange.fire(s)}_makeColumnsFilterProps(){return{items:[...this._columnsVisibilityInfo.values()].filter((e=>"settings"!==e.id&&!e.isAlwaysVisible)).map((e=>({id:e.id,title:e.label,visible:(this._isMobile?e.isVisibleOnMobile:e.isVisible)&&!e.forceInvisible}))),onCheck:e=>this._toggleColumnVisibility(e),overlapManagerWV:this._overlapManager,isSticky:this._isStickyMobileColumnsFilter}}_toggleColumnVisibility(e){const t=!this._visibleColumns.has(e);this._setColumnVisibility(e,t);const i=`${this._id}${this._isMobile?".invisibleMobileColumns":".invisibleColumns"}`,s=new Set(f.getJSON(i,[]));t?s.delete(e):s.add(e),f.setJSON(i,[...s])}_setColumnVisibility(e,t){t?this._visibleColumns.add(e):this._visibleColumns.delete(e);const i=this._columnsVisibilityInfo.get(e);void 0!==i&&(this._isMobile?this._columnsVisibilityInfo.set(e,{...i,isVisibleOnMobile:t&&!i.forceInvisible}):this._columnsVisibilityInfo.set(e,{...i,isVisible:t&&!i.forceInvisible}),this._columnsFilterProps=this._makeColumnsFilterProps()),void 0!==this._tableProps.virtualScrolling&&this._rowHeightCache.clear(),this._updateTableProps({type:t?He.ActionType.ShowColumn:He.ActionType.HideColumn,columnKey:e})}_getAvailableColumnsFilterItems(){
return this._columnsFilterProps.items.filter((e=>!this._hiddenFilterColumns.has(e.id)))}_subscribeModel(){this._model.onRowChanged.subscribe(this,this._invalidateRowCache),this._model.onRowsChanged.subscribe(this,this._handleEmptyRows),this._model.onRowsChanged.subscribe(this,this._update)}_unsubscribeModel(){this._model.onRowChanged.unsubscribe(this,this._invalidateRowCache),this._model.onRowsChanged.unsubscribe(this,this._handleEmptyRows),this._model.onRowsChanged.unsubscribe(this,this._update)}_reorderColumns(e,t){const i=new Map(t),s=i.get("settings");i.delete("settings");const r=[];for(const t of e){const e=i.get(t);void 0!==e&&(r.push(e),i.delete(t))}return r.push(...i.values()),void 0!==s&&r.push(s),r}_getSavedColumnsOrder(){var e;return null===(e=this._getSettingsStorage())||void 0===e?void 0:e.tableColumnsOrder(this._id)}}var ii=i(946857);class si extends K{constructor(e){const t=De({withScroll:!0}),i=[],s=[],r=[];e.tables.forEach((o=>{var n,a,l;const d=De({withScroll:!0,fitContent:1!==e.tables.length}),c=document.createElement("div"),u=new Re({options:o.options,priceFormatterGetter:o.priceFormatterFn,reverse:null===(n=o.flags)||void 0===n?void 0:n.reverse,columns:o.columns}),h=new ti({id:o.id,model:u,container:c,columns:o.columns,idProperty:o.options.idProperty,className:o.options.className,stickyMobileColumnsFilter:!0,overlapManager:e.overlapManager,fixedColumns:null===(a=o.flags)||void 0===a?void 0:a.fixedColumns,getSettingsStorage:e.getTableSettingsStorage,rowEventsHandlers:o.rowEventsHandlers,trackEvent:e.trackEvent});if(o.title){const e=function(e){const t=document.createElement("h3");return t.className=ii.title,t.textContent=e,t}(o.title);d.appendChild(e)}d.appendChild(c),t.appendChild(d);const p=new W({idProperty:o.options.idProperty,name:o.title||void 0,model:u,view:h,source:o.source,subscriptions:o.subscriptions,supportPagination:null===(l=o.flags)||void 0===l?void 0:l.supportPagination});s.push(u),r.push(h),i.push(p),p.addFormatters(o.formatters.concat(xe)),p.start()}));const o={id:e.id,name:e.title,headerCounter:!1};super(t,o,i),this._tableViewModels=s,this._tableViews=r,this._contentPage=t}setHeight(e){var t,i;if(1!==this._tableControllers.length)return;const s=this._tableViews[0].isMobile()?e:e-(null!==(i=null===(t=this._contentPage.getElementsByTagName("h3")[0])||void 0===t?void 0:t.offsetHeight)&&void 0!==i?i:0);this._tableControllers[0].setHeight(s)}destroy(){this._tableViewModels.forEach((e=>e.destroy())),this._tableViews.forEach((e=>e.destroy())),super.destroy()}}const ri=[{label:r.t(null,void 0,i(631976)),id:"time",dataFields:["time"],formatter:"localDate"},{label:r.t(null,void 0,i(767369)),id:"title",dataFields:["title"]},{label:r.t(null,void 0,i(37229)),id:"text",dataFields:["text"]}];class oi extends K{constructor(e,t,i){super(e,t,i),i.forEach((e=>e.addFormatters(t.formatters.concat(xe))))}}const ni=2*bt.mobileRowPadding+bt.mobileRowBorderSize;function ai(e,t,i){let s=ni;for(const r of t){const t=(0,l.ensureDefined)(i.get(r),"Column metainfo");St(t,e)||(s+=xt(t.formatter).mobile)}
return s}class li extends oi{constructor(e){var t;const i=De(),s="id",r=new Re({options:{idProperty:s,defaultSortingParameters:e.initialSorting},priceFormatterGetter:e.priceFormatterFn,columns:e.columns}),o=new ti({id:e.id,model:r,container:i,columns:e.columns,idProperty:s,virtualization:{enabled:!0,rowHeightParams:{mobile:ai}},overlapManager:e.overlapManager,rowBadgeTypeInferrer:e.rowBadgeTypeInferrer,getSettingsStorage:e.getTableSettingsStorage,rowEventsHandlers:e.tableRowEventsHandlers,trackEvent:e.trackEvent}),n=new(null!==(t=e.tableController)&&void 0!==t?t:W)({idProperty:s,model:r,view:o,source:e.source,subscriptions:e.subscriptions});super(i,{id:e.id,name:e.title,headerCounter:!1,formatters:e.formatters},[n]),this._tableViewModel=r,this._tableView=o,n.start()}destroy(){this._tableViewModel.destroy(),this._tableView.destroy(),super.destroy()}}class di{constructor(e,t,i,s){this.filterFullUpdateDelegate=new(g()),this.filterObjectUpdateDelegate=new(g()),this.filterObjectDeleteDelegate=new(g()),this._filteredObjects=[],this._requestsCount=0,this._started=!1,this._objectsRequest=null,this._source=e,this._objectUpdateDelegate=t,this._objectDeleteDelegate=i,this._fullUpdateDelegate=s}start(){this._requestsCount++;const e=this._source,t=this._objectsRequest||Promise.resolve([]);this._objectsRequest=t.then((()=>e())).then((e=>{const t=e.filter((e=>this._satisfy(e)));return this._requestsCount--,this._requestsCount||(this.stop(),this._filteredObjects=t,this._objectsRequest=null,this._objectUpdateDelegate.subscribe(this,this._onObjectUpdated),this._objectDeleteDelegate&&this._objectDeleteDelegate.subscribe(this,this._onObjectDeleted),this._fullUpdateDelegate.subscribe(this,this._onFullUpdate),this._started=!0),t.slice(0)}))}stop(){this._objectUpdateDelegate.unsubscribe(this,this._onObjectUpdated),this._fullUpdateDelegate.unsubscribe(this,this._onFullUpdate),this._objectDeleteDelegate&&this._objectDeleteDelegate.unsubscribe(this,this._onObjectDeleted),this._filteredObjects=[],this._started=!1}isStarted(){return this._started}filterSource(){return this._objectsRequest?this._objectsRequest:Promise.resolve(this._filteredObjects.slice(0))}_satisfy(e){throw new Error("should be implemented")}_onFullUpdate(){this.stop(),this.start(),this.filterFullUpdateDelegate.fire()}_onObjectDeleted(e){const t=this._filteredObjects.find((t=>t.id===e));t&&this.filterObjectDeleteDelegate.fire(t.id)}_onObjectUpdated(e){const t=this._filteredObjects.find((t=>t.id===e.id)),i=t?this._filteredObjects.indexOf(t):-1;this._satisfy(e)?(t?this._filteredObjects[i]=e:this._filteredObjects.push(e),this.filterObjectUpdateDelegate.fire(e)):t&&(this.filterObjectDeleteDelegate.fire(t.id),this._filteredObjects.splice(i,1))}}class ci extends W{constructor(e){super(e),this._onLinkingBound=this._onLinking.bind(this),d.linking.proSymbol.subscribe(this._onLinkingBound)}destroy(){d.linking.proSymbol.unsubscribe(this._onLinkingBound),super.destroy()}_update(e){if(!super._update(e))return!1;const t=d.linking.proSymbol.value()
;return this.setRowLinkedById(e.id,t===e.symbol),!0}_onCreated(){this.setRowLinkedByFilter((e=>e.symbol===d.linking.proSymbol.value()))}_onLinking(e){this.setRowLinkedByFilter((t=>t.symbol===e))}}var ui=i(175729);function hi(e,t){const i=document.createElement("div");i.className="tv-tabs tv-tabs--no-border tv-tabs--secondary-active tv-tabs--no-margin tv-tabs--semi-compact";for(const s of e){const e=document.createElement("div");e.className=`tv-tabs__tab ${s.id}`;const r=document.createElement("div");r.className="tv-tabs__wrap";const o=document.createElement("div");o.className=ui.counter;const n=document.createElement("div");n.className=ui.text,n.textContent=s.name;const a=document.createElement("div");a.className=`${ui.count} js-counter-category-${s.id} js-counter-count`;const l=null==t?void 0:t[s.id];void 0!==l&&a.classList.add(l),a.textContent="0",o.appendChild(n),o.appendChild(a),r.appendChild(o),e.appendChild(r),i.appendChild(e)}return i}var pi=i(252130),_i=i(122621),mi=i(569155),gi=i(970706),bi=i(333765);function vi(e){const{closeFn:t,closeTitle:s,isDisabled:n}=e;return o.createElement($e.ToolWidgetButton,{className:mi.icon,title:null!=s?s:r.t(null,{context:"position"},i(987323)),icon:bi,onClick:e=>{e.stopPropagation(),t()},isDisabled:n})}function fi(e){const{editFn:t,editTitle:s,isDisabled:n}=e;return o.createElement($e.ToolWidgetButton,{className:mi.icon,title:null!=s?s:r.t(null,void 0,i(116744)),icon:gi,onClick:()=>t(),isDisabled:n})}const wi={[_i.OrderOrPositionMessageType.Information]:"default",[_i.OrderOrPositionMessageType.Warning]:"warning",[_i.OrderOrPositionMessageType.Error]:"danger"};function Ci(e){e.stopPropagation(),h.mobiletouch&&((0,Ht.tooltipClickHandler)(e),document.addEventListener("touchend",(e=>e.preventDefault()),{once:!0}))}function yi(e){const{type:t,text:i}=e;return o.createElement("div",{className:mi.message},o.createElement(Vt,{className:mi.iconQuestionInformation,icon:"info",intent:wi[t],ariaLabel:i,tooltip:i,onClick:Ci,hideTooltip:Ht.hide}))}function Si(e){const[t,i]=(0,o.useState)(!1),s=(0,pi.useIsMounted)(),{closeFn:r,closeTitle:n,editFn:a,editTitle:l,message:d}=e;return o.createElement("span",{className:mi.wrapper},void 0!==d&&o.createElement(yi,{...d}),void 0!==a&&o.createElement(fi,{editFn:a,editTitle:l,isDisabled:t}),void 0!==r&&o.createElement(vi,{closeFn:async function(){try{i(!0),await(null==r?void 0:r())}finally{s.current&&i(!1)}},closeTitle:n,isDisabled:t}))}var Ti=i(311460);const Ei=r.t(null,void 0,i(120294));function xi(e){return{text:void 0!==(null==e?void 0:e.text)&&""!==e.text?`${Ei}\n\n${e.text}`:Ei,type:(null==e?void 0:e.type)===Ti.OrderOrPositionMessageType.Error?Ti.OrderOrPositionMessageType.Error:Ti.OrderOrPositionMessageType.Warning}}const ki="Orders Page";class Pi{constructor(e,t,i,s){this._source=e,this._totalCount=0,this._activeCount=0,this._orderUpdateDelegate=t,this._fullUpdateDelegate=i,this._possibleStatuses=s,this._statusCount=this._emptyStatuses(),this.countChanged=new(g()),this._recalcCountsDelayed=(0,Le.default)(this._recalcCounts.bind(this),100)}
start(){this._orderUpdateDelegate.subscribe(this,this._recalcCountsDelayed),this._fullUpdateDelegate.subscribe(this,this._recalcCountsDelayed),this._recalcCounts()}stop(){this._statusCount=this._emptyStatuses(),this._orderUpdateDelegate.unsubscribe(this,this._recalcCountsDelayed),this._fullUpdateDelegate.unsubscribe(this,this._recalcCountsDelayed)}_emptyStatuses(){const e={};return this._possibleStatuses.forEach((t=>{e[t]=0})),e}_recalcCounts(){const e=this._emptyStatuses();this._source().then((t=>{let i=0;t.forEach((t=>{const s=e[t.status];void 0!==s&&(e[t.status]=s+1,6!==t.status&&3!==t.status||i++)})),this._possibleStatuses.forEach((t=>{e[t]!==this._statusCount[t]&&(this._statusCount[t]=e[t],this.countChanged.fire(t,(0,l.ensureDefined)(this._statusCount[t])))})),this._totalCount!==t.length&&(this._totalCount=t.length,this.countChanged.fire(0,this._totalCount)),this._activeCount!==i&&(this._activeCount=i,this.countChanged.fire(-1,this._activeCount))}))}}class Mi extends di{constructor(e,t,i,s){super(e,t,i,s),this._filterStatus=null}setFilterStatus(e){this._filterStatus=e,this.isStarted()&&(this.stop(),this.start())}filterStatus(){return this._filterStatus}_satisfy(e){return!this._filterStatus||e.status===this._filterStatus}}class Di extends di{constructor(e,t,i,s,r){super(e,t,i,s),this._functor=r}_satisfy(e){return this._functor(e)}}class Ai{constructor(e,t,i){this._orders=[],this._source=e,this._rowUpdateDelegate=t,this._fullUpdateDelegate=i,this._orders=[],this.newStatusDelegate=new(g())}start(){this._source().then((e=>{this._orders=e.slice(0),this._rowUpdateDelegate.subscribe(this,this._onRowUpdated),this._fullUpdateDelegate.subscribe(this,this._onFullUpdate)}))}stop(){this._fullUpdateDelegate.unsubscribe(this,this._onFullUpdate),this._rowUpdateDelegate.unsubscribe(this,this._onRowUpdated),this._orders=[]}_onFullUpdate(){this.stop(),this.start()}_onRowUpdated(e){const t=this._orders.find((t=>t.id===e.id));t&&t.status===e.status||(this.newStatusDelegate.fire(e),t?t.status=e.status:this._orders.push(Object.assign({},e)))}}class Fi extends ci{constructor(e){super(e),this._title=e.title,this._getFilterStatus=e.filterStatusGetter,this._isAlwaysActive=e.isAlwaysActive}fullUpdate(){return this._fullUpdate()}getDataExporter(){const e=super.getDataExporter(),t=this._getFilterStatus(),s=null!==t?(0,I.orderStatusToText)(t):r.t(null,void 0,i(695271));return e.name=`${this._title} ${s}`,e}_update(e){return!!super._update(e)&&(this.setRowInactiveById(e.id,!this._filterByStatus(e.status)),!0)}_onCreated(){super._onCreated(),this.setRowInactiveByFilter((e=>!this._filterByStatus(e.status)))}_filterByStatus(e){return this._isAlwaysActive||null!==this._getFilterStatus()||(0,I.isOrderActive)(e)}}const Ii={"orderstatus-working":ui.blue,"orderstatus-inactive":ui.grey,"orderstatus-filled":ui.green,"orderstatus-cancelled":ui.orange,"orderstatus-rejected":ui.red},Ri=["formatPrice","formatPriceForexSup"],Ni="orderSettings";class Oi extends K{constructor(e){
const t=e.formatters||[],s=new Di(e.source,e.subscriptions.rowUpdateDelegate,null,e.subscriptions.fullUpdateDelegate,e.filter),n=new Pi(s.filterSource.bind(s),s.filterObjectUpdateDelegate,s.filterFullUpdateDelegate,e.possibleOrderStatuses),a=new Mi(s.filterSource.bind(s),s.filterObjectUpdateDelegate,s.filterObjectDeleteDelegate,s.filterFullUpdateDelegate),l=e.subscriptions.fullUpdateDelegate;e.source=a.filterSource.bind(a),e.subscriptions.rowUpdateDelegate=a.filterObjectUpdateDelegate,e.subscriptions.rowDeleteDelegate=a.filterObjectDeleteDelegate,e.subscriptions.fullUpdateDelegate=a.filterFullUpdateDelegate;const d=De(),c="id",u={group:e=>+(0,I.isOrderActive)(e.status),idProperty:c,defaultSortingParameters:e.initialSorting},h=e.columns.map((e=>Ri.includes(e.formatter)?{...e,showZeroValues:!1}:e)),p=[...h,{label:"",id:"settings",alignment:"right",dataFields:[],formatter:Ni,notSortable:!0,showOnMobile:!1}],_=new Re({columns:p,priceFormatterGetter:e.priceFormatterFn,options:u}),m=new ti({id:e.tableId,model:_,className:"orders",container:d,columns:p,idProperty:c,virtualization:{enabled:!0,rowHeightParams:{mobile:ai}},overlapManager:e.overlapManager,getSettingsStorage:e.getTableSettingsStorage,rowEventsHandlers:e.tableRowEventsHandlers,trackEvent:e.trackEvent}),g={id:e.id,name:e.title,headerCounter:e.headerCounter},b=new Fi({idProperty:c,title:e.title,model:_,view:m,source:e.source,subscriptions:e.subscriptions,filterStatusGetter:()=>this._ordersFilter.filterStatus(),isAlwaysActive:e.isAlwaysActive});super(d,g,[b]),this._tableViewModel=_,this._tableView=m,this._tableController=b,this._globalFullUpdateDelegate=l,this._statusWatcher=new Ai(s.filterSource.bind(s),s.filterObjectUpdateDelegate,s.filterFullUpdateDelegate),this._orderPreFilter=s,this._ordersFilter=a,this._statusesCount=n,this._activeCount=0,this._highlightChanges=e.highlightChanges,this._possibleOrderStatuses=e.possibleOrderStatuses,this._columns=h,this._pendingNewOrdersByStatuses={},this._configFlags=e.configFlags,this._trackEvent=e.trackEvent,this._closeFn=t=>(e.trackEvent(ki,"Cancel Order"),e.cancelFn(t)),this._editFn=(t,i,s,r)=>(e.trackEvent(ki,"Edit Order"),e.modifyFn(t,i,s,r));const v={name:Ni,formatElement:({values:[e]})=>{const t=""!==e.symbol,s=!t||!(0,I.isOrderActive)(e.status),n=s&&this._isPlacingOrderCancellingDisabled(e.status)?void 0:()=>this._closeFn(e.id),a=s||!(0,I.isModifyOrderSupported)(e,this._configFlags)?void 0:()=>this._editFn(e),l=t?e.message:xi(e.message);return o.createElement(Si,{closeFn:n,closeTitle:r.t(null,void 0,i(620036)),editFn:a,editTitle:(0,U.appendEllipsis)(r.t(null,void 0,i(433241))),message:l})},formatText:()=>""};b.addFormatters([...xe,v,...t]);const f=this._possibleOrderStatuses.map(this._translateStatus);this._filter=hi([{id:"status-all",name:r.t(null,void 0,i(695271))}].concat(f),Ii),this._filterTabs=new E(this._filter,void 0,{noSlider:!0}),this._subscribeUpdates()}destroy(){this._unsubscribeUpdates(),this._tableViewModel.destroy(),this._tableView.destroy(),super.destroy()}contextItems(e){
const t=this._tableController.rowIdAtEvent(e);if(void 0===t)return[];const s=this._tableController.rowById(t);if(void 0===s||""===s.symbol)return[];const o=[];return(0,I.isModifyOrderSupported)(s,this._configFlags)&&o.push({text:(0,U.appendEllipsis)(r.t(null,void 0,i(433241))),enabled:(0,I.isOrderActive)(s.status),action:()=>this._editFn(s)}),o.push({text:r.t(null,void 0,i(316075)),enabled:(0,I.isOrderActive)(s.status)||!this._isPlacingOrderCancellingDisabled(s.status),action:()=>this._closeFn(t)}),o}contextRow(e){return this._tableController.rowAtEvent(e)}topline(){return this._filter}get filter(){return this._filter}_subscribeUpdates(){this._tableController.start(),this._orderPreFilter.start(),this._ordersFilter.start(),this._statusesCount.start(),this._statusWatcher.start(),this._statusWatcher.newStatusDelegate.subscribe(this,this._onNewStatus),this._filterTabs.tabChanged.subscribe(this,this._onFilterChanged),this._statusesCount.countChanged.subscribe(this,this._onCountChanged),this._globalFullUpdateDelegate.subscribe(this,this._onGlobalFullUpdate)}_unsubscribeUpdates(){this._statusWatcher.newStatusDelegate.unsubscribe(this,this._onNewStatus),this._statusWatcher.stop(),this._ordersFilter.stop(),this._statusesCount.stop(),this._tableController.stop(),this._filterTabs.tabChanged.unsubscribe(this,this._onFilterChanged),this._statusesCount.countChanged.unsubscribe(this,this._onCountChanged),this._globalFullUpdateDelegate.unsubscribe(this,this._onGlobalFullUpdate)}_onGlobalFullUpdate(){this._pendingNewOrdersByStatuses={},this._updateFiltersActiveState()}_count(){this._setCount(this._activeCount)}_translateStatus(e){const t=(0,I.orderStatusToText)(e),i=t[0].toUpperCase()+t.slice(1);return{id:Li(e),name:i}}_onFilterChanged(e){const t=0===e?null:this._possibleOrderStatuses[e-1];this._trackEvent(ki,"Order status filter",null!==t?(0,I.orderStatusToText)(t):void 0),this._ordersFilter.setFilterStatus(t),this._columns.filter((e=>e.hasOwnProperty("supportedStatusFilters"))).forEach((e=>{var i;void 0!==e.supportedStatusFilters&&this._tableController.setColumnAvailable(e.id,e.supportedStatusFilters.includes(null!==(i=t)&&void 0!==i?i:0))})),this._tableController.fullUpdate().then((()=>{if(t){const e=this._pendingNewOrdersByStatuses[t];void 0!==e&&e.forEach((e=>this._tableController.highlightRowById(e)))}this._removeActiveState()}))}_onCountChanged(e,t){const i=this._filter.querySelectorAll(".js-counter-count");if(0===e)return void(i[0].textContent=String(t));if(-1===e&&this._activeCount!==t)return this._activeCount=t,void this._count();const s=this._possibleOrderStatuses.indexOf(e);-1!==s&&(i[s+1].textContent=String(t))}_onNewStatus(e){var t;4!==e.status&&(this._possibleOrderStatuses.forEach((t=>{const i=this._pendingNewOrdersByStatuses[t];if(void 0!==i){const t=i.indexOf(e.id);-1!==t&&i.splice(t,1)}})),this._pendingNewOrdersByStatuses[e.status]||(this._pendingNewOrdersByStatuses[e.status]=[]),null===(t=this._pendingNewOrdersByStatuses[e.status])||void 0===t||t.push(e.id),setTimeout((()=>{var t
;const i=this._ordersFilter.filterStatus();let s=!1;i&&i!==e.status||this._tableController.isRowInViewport(e.id)&&(this._tableController.highlightRowById(e.id),s=!0),s||this._pendingNewOrdersByStatuses[e.status]&&-1!==(null===(t=this._pendingNewOrdersByStatuses[e.status])||void 0===t?void 0:t.indexOf(e.id))&&this._updateFiltersActiveState(),this._scheduleRemoveActiveState()}),0))}_scheduleRemoveActiveState(){this._activeStateRemovalScheduled||(this._activeStateRemovalScheduled=!0,setTimeout((()=>this._removeActiveState()),1e3))}_removeActiveState(){this._activeStateRemovalScheduled=!1;const e=this._ordersFilter.filterStatus();e?this._pendingNewOrdersByStatuses[e]=[]:this._pendingNewOrdersByStatuses={},this._updateFiltersActiveState()}_updateFiltersActiveState(){this._highlightChanges&&this._possibleOrderStatuses.forEach((e=>{var t,i;const s=this._pendingNewOrdersByStatuses[e]&&(null===(t=this._pendingNewOrdersByStatuses[e])||void 0===t?void 0:t.length);null===(i=this._filter.querySelector(`.js-counter-category-${Li(e)}`))||void 0===i||i.classList.toggle("i-active",!!s)}))}_isPlacingOrderCancellingDisabled(e){return!this._configFlags.supportPlacingOrderCancelling||4!==e}}function Li(e){switch(e){case 2:return"orderstatus-filled";case 1:return"orderstatus-cancelled";case 6:return"orderstatus-working";case 3:return"orderstatus-inactive";case 4:return"orderstatus-placing";case 5:return"orderstatus-rejected";default:return"orderstatus-unknown"}}var Ui=i(224835);const Bi="Trading.PositionsTable.Filter";class Vi{constructor(e,t,i){this._totalCount=0,this._recalcCountsDelayed=(0,Le.default)(this._recalcCounts.bind(this),100),this._source=e,this._rowUpdateDelegate=t,this._fullUpdateDelegate=i,this.countChanged=new(g())}start(){this._rowUpdateDelegate.subscribe(this,this._recalcCountsDelayed),this._fullUpdateDelegate.subscribe(this,this._recalcCountsDelayed),this._recalcCounts()}stop(){this._rowUpdateDelegate.unsubscribe(this,this._recalcCountsDelayed),this._fullUpdateDelegate.unsubscribe(this,this._recalcCountsDelayed)}_recalcCounts(){this._source().then((e=>{const t=e.filter((e=>B(e)));this._totalCount!==t.length&&(this._totalCount=t.length,this.countChanged.fire(this._totalCount))}))}}function Hi(e){const{id:t,name:i,content:s,source:r,subscriptions:o,columns:n,priceFormatterFn:a,rowEventsHandlers:l,overlapManager:d,getTableSettingsStorage:c,trackEvent:u}=e,h="id",p=new Re({priceFormatterGetter:a,columns:n,options:{idProperty:h}}),_=new ti({id:t,model:p,className:"positions",container:s,columns:n,idProperty:h,virtualization:{enabled:!0,rowHeightParams:{mobile:ai}},getSettingsStorage:c,overlapManager:d,rowEventsHandlers:l,trackEvent:u});return{model:p,view:_,controller:new zi({idProperty:h,name:i,model:p,view:_,source:r,subscriptions:o})}}class zi extends ci{_update(e){return B(e)?super._update(e):(this._deleteRow(e.id),!0)}}const Wi=["formatPrice","formatPriceForexSup"],ji=r.t(null,void 0,i(948313)),Ki=r.t(null,void 0,i(518617)),Gi=r.t(null,void 0,i(42168)),$i="positionSettings",Yi="tradeSettings";class qi extends K{
constructor(e){const t=function(){const e=document.createElement("div");return e.classList.add(Ui.pageContainer),e}(),s={id:"positions",name:ji,headerCounter:!0},n=De(),a=e.positions.columns.map((e=>Wi.includes(e.formatter)?{...e,showZeroValues:!1}:e));a.push({label:"",id:"settings",alignment:"right",dataFields:["id","message","symbol"],formatter:$i,notSortable:!0,showOnMobile:!1});const d=Hi({id:e.brokerId+".positions",name:e.trades?Ki:ji,content:n,source:e.positions.source,subscriptions:Object.assign({},e.positions.subscriptions,{fullUpdateDelegate:e.fullUpdateDelegate}),columns:a,priceFormatterFn:e.priceFormatterFn,overlapManager:e.overlapManager,getTableSettingsStorage:e.getTableSettingsStorage,rowEventsHandlers:e.tableRowEventsHandlers,trackEvent:e.trackEvent});t.appendChild(n);const c=[d.controller];let u,h=null;if(e.trades){const i=e.trades.columns.map((e=>Wi.includes(e.formatter)?{...e,showZeroValues:!1}:e));i.push({label:"",id:"settings",alignment:"right",dataFields:["id","message","canBeClosed","symbol"],formatter:Yi,notSortable:!0,showOnMobile:!1}),h=De(),u=Hi({id:e.brokerId+".trades",name:Gi,content:h,source:e.trades.source,subscriptions:Object.assign({},e.trades.subscriptions,{fullUpdateDelegate:e.fullUpdateDelegate}),columns:i,priceFormatterFn:e.priceFormatterFn,overlapManager:e.overlapManager,getTableSettingsStorage:e.getTableSettingsStorage,rowEventsHandlers:e.tableRowEventsHandlers,trackEvent:e.trackEvent}),t.appendChild(h),c.push(u.controller)}super(t,s,c),this._positionsTableContainer=n,this._tradesTableContainer=h,this._positionsTableController=d.controller,this._positionsTableViewModel=d.model,this._positionsTableView=d.view,this._tradesTableController=null==u?void 0:u.controller,this._tradesTableViewModel=null==u?void 0:u.model,this._tradesTableView=null==u?void 0:u.view;const p=e.formatters||[];this._fullUpdateDelegate=e.fullUpdateDelegate,this._posSubscriptions=e.positions.subscriptions,this._checkSupportTrades=e.checkSupportTrades,this._trackEvent=e.trackEvent,this._storeFunctions(e);const _={name:$i,formatElement:({values:[e,t,s]})=>{const n=""===s,a=n||null===this._closePositionFn?void 0:this._closePositionFn.bind(null,e),l=n||null===this._editPositionFn?void 0:this._editPositionFn.bind(null,e),d=n?xi(t):t;return o.createElement(Si,{closeFn:a,closeTitle:r.t(null,{context:"position"},i(987323)),editFn:l,editTitle:(0,U.appendEllipsis)(r.t(null,void 0,i(911810))),message:d})},formatText:()=>""};if(this._positionsTableController.addFormatters([_,...xe,...p]),e.trades){const t={name:Yi,formatElement:({values:[e,t,s,n]})=>{const a=""===n,l=a||null===this._closeTradeFn||!s?void 0:this._closeTradeFn.bind(null,e),d=a||null===this._editTradeFn?void 0:this._editTradeFn.bind(null,e);return o.createElement(Si,{closeFn:l,closeTitle:r.t(null,{context:"position"},i(987323)),editFn:d,editTitle:(0,U.appendEllipsis)(r.t(null,void 0,i(911810))),message:t})},formatText:()=>""};(0,l.ensure)(this._tradesTableController).addFormatters([t,...xe,...p]),
this._tradesCounter=new Vi(e.trades.source,e.trades.subscriptions.countUpdateDelegate,this._fullUpdateDelegate)}else this._tradesCounter=null;this._positionsCounter=new Vi(e.positions.source,this._posSubscriptions.countUpdateDelegate,this._fullUpdateDelegate),this._constructFilter(),this._subscribeUpdates();const m=f.getInt(Bi,0),g=this._checkSupportTrades()?m:1;this._filterTabs.setActivePage(g),this._selectPage(g)}contextItems(e){const t=this._activeTableController(),s=t.rowIdAtEvent(e);if(void 0===s)return[];const o=(0,l.ensureDefined)(t.rowById(s));if(""===o.symbol)return[];const n=[];return 0===this._filterTabs.index()?(this._editTradeFn&&n.push({text:(0,U.appendEllipsis)(r.t(null,void 0,i(911810))),action:this._editTradeFn.bind(null,s)}),this._closeTradeFn&&o.canBeClosed&&n.push({text:r.t(null,void 0,i(437431)),action:this._closeTradeFn.bind(null,s)}),n):(this._editPositionFn&&n.push({text:(0,U.appendEllipsis)(r.t(null,void 0,i(911810))),action:this._editPositionFn.bind(null,s)}),this._closePositionFn&&n.push({text:r.t(null,void 0,i(437431)),action:this._closePositionFn.bind(null,s)}),this._reversePositionFn&&n.push({text:r.t(null,void 0,i(419780)),action:this._reversePositionFn.bind(null,s)}),n)}contextRow(e){return this._activeTableController().rowAtEvent(e)}topline(){return this._checkSupportTrades()?this._filter:null}destroy(){var e,t;this._unsubscribeUpdates(),this._positionsTableViewModel.destroy(),this._positionsTableView.destroy(),null===(e=this._tradesTableViewModel)||void 0===e||e.destroy(),null===(t=this._tradesTableView)||void 0===t||t.destroy(),super.destroy()}_onActiveChanged(e){e?this._activeTableController().setActive(!0):(this._positionsTableController.setActive(!1),this._tradesTableController&&this._tradesTableController.setActive(!1))}_onPositionsCountChanged(e){this._setCount(e),this._setTabCount(1,e)}_onTradesCountChanged(e){this._setTabCount(0,e)}_setTabCount(e,t){this._filter.querySelectorAll(".js-counter-count")[e].innerHTML=String(t)}_activeTableController(){return this._checkSupportTrades()&&0===this._filterTabs.index()?(0,l.ensure)(this._tradesTableController):this._positionsTableController}_subscribeUpdates(){this._positionsCounter.start(),this._positionsCounter.countChanged.subscribe(this,this._onPositionsCountChanged),this._tradesCounter&&(this._tradesCounter.start(),this._tradesCounter.countChanged.subscribe(this,this._onTradesCountChanged)),this._filterTabs.tabChanged.subscribe(this,this._selectPage),this._fullUpdateDelegate.subscribe(this,this._showFilterIfNeeded)}_unsubscribeUpdates(){this._positionsCounter.stop(),this._positionsCounter.countChanged.unsubscribe(this,this._onPositionsCountChanged),this._tradesCounter&&(this._tradesCounter.stop(),this._tradesCounter.countChanged.unsubscribe(this,this._onTradesCountChanged)),this._filterTabs.tabChanged.unsubscribe(this,this._selectPage),this._fullUpdateDelegate.unsubscribe(this,this._showFilterIfNeeded)}_constructFilter(){this._filter=hi([{id:"type-individual",name:Gi},{id:"type-net",name:Ki}]),
this._filterTabs=new E(this._filter,void 0,{noSlider:!0})}_showFilterIfNeeded(){this.isActive()&&this._checkSupportTrades()?this._filter.classList.remove("js-hidden"):(this._filter.classList.add("js-hidden"),this._tradesTableController&&this._tradesTableController.stop())}_selectPage(e){const t=1===e;t?this._positionsTableController.start():this._tradesTableController&&this._tradesTableController.start(),this._positionsTableContainer.classList.toggle("js-hidden",!t),this._tradesTableContainer&&this._tradesTableContainer.classList.toggle("js-hidden",t),this._positionsTableController.setActive(t),this._tradesTableController&&this._tradesTableController.setActive(!t),f.setValue(Bi,e)}_storeFunctions(e){const t="Positions Page",i=e.positions.closeFn;this._closePositionFn=i?e=>(this._trackEvent(t,"Close Position"),i(e)):null;const s=e.positions.editFn;this._editPositionFn=s?e=>(this._trackEvent(t,"Edit Position"),s(e)):null;const r=e.positions.reverseFn;this._reversePositionFn=r?e=>(this._trackEvent(t,"Reverse Position"),r(e)):null;const o=e.trades;if(o){const e=o.closeFn;this._closeTradeFn=e?i=>(this._trackEvent(t,"Close Trade"),e(i)):null;const i=o.editFn;this._editTradeFn=i?e=>(this._trackEvent(t,"Edit Trade"),i(e)):null}}}var Zi=i(661851),Qi=i(43192);function Ji(e){const{wValue:t,formatter:i,text:s}=e,r=(0,Ge.useWatchedValueReadonly)({watchedValue:t}),n=(0,o.useMemo)((()=>{return e=null!=i?i:"fixed",null!==(t=xe.find((t=>t.name===e)))&&void 0!==t?t:ke;var e,t}),[i]),a=(0,o.useMemo)((()=>function(e,t){var i;const s=(null!==(i=e.formatElement)&&void 0!==i?i:e.formatText)({values:[t]});return"string"!=typeof s?s:s.replace(/&nbsp;/g," ")}(n,r)),[n,r]);return void 0===a?o.createElement(o.Fragment,null):o.createElement("div",{className:Qi.itemWrapper},o.createElement("div",{className:Qi.value},a),o.createElement("div",{className:Qi.title},s))}var Xi=i(700134);function es(e){const{summaryFields:t,summaryFieldsVisibilityInfo:i}=e;return o.createElement("div",{className:Xi.wrapper},t.map((e=>{var t;return(null===(t=i.get(e.text))||void 0===t?void 0:t.visible)?o.createElement(Ji,{...e,key:e.text}):null})))}var ts=i(496894),is=i(222230);function ss(e){const{brokerDropdownProps:t,accountDropdownProps:i,summaryFieldsVisibilityManager:s,summaryFields:r,isBetaBroker:n}=e,a=(0,Zi.useObservable)(s.fieldsVisibilityInfo$,s.fieldsVisibilityInfo()),l=void 0!==i,d=0!==r.length;return l||d?o.createElement(se.MatchMedia,{rule:H.TradingLayoutBreakpoint.Mobile},(e=>o.createElement("div",{className:is.headerWrapper},l&&o.createElement("div",{className:is.brokerBlock},o.createElement(ts.AccountManagerHeaderDropdowns,{brokerDropdownProps:t,accountDropdownProps:i}),!1),d&&o.createElement(es,{summaryFields:r,summaryFieldsVisibilityInfo:a})))):o.createElement(o.Fragment,null)}var rs=i(747073),os=i(662402);function ns(e){const{element:t}=e;return o.createElement("div",{ref:e=>{null!==e&&(e.contains(t)||(null!==e.firstChild&&e.removeChild(e.firstChild),e.append(t)))}})}var as=i(685014),ls=i(951983),ds=i(380919);const cs=[6,3,2,1,5],us=[2,1,5]
;class hs{constructor(e){this._showContextMenu=async e=>{e.preventDefault();let t=await this._contextItems(e);void 0!==t&&(u.enabled("property_pages")||(t=t.slice(0,-1)),R.ContextMenuManager.showMenu((0,I.convertActionDescriptionsToActions)(t),function(e){const t=e instanceof MouseEvent?e:e.touches[0];return{clientX:t.clientX,clientY:t.clientY}}(e),void 0,{menuName:"AccountManagerContextMenu"}))};const{broker:t,bridge:i,mode:s,summaryFieldsVisibilityManager:r,overlapManager:o}=e;this._adapter=(0,l.ensureNotNull)(t),this._bridge=i,this._container=i.container,this._mode=s,this._overlapManager=o,this._summaryFieldsVisibilityManager=r,this._pages=[],this._topLines={},this._trading=(0,l.ensureNotNull)((0,O.tradingService)()),this._info=this._adapter.accountManagerInfo(),this._dispatch=this.bindContextMenu(),this._contentResizeObserver=new a.default((e=>{this._contentHeight=e[0].contentRect.height,this._pages[this._tabs.index()].setHeight(this._contentHeight)})),this._renderTemplate(),this._tabs=this._initializeTabs()}async priceFormatter(e){return e.symbol?this._trading.formatter(e.symbol):null}remove(){for(this._unmountComponentBySelector(".js-account-manager-header"),this._unsubscribe(),this._pages.forEach((e=>e.destroy())),this.unbindContextMenu();this._container.firstChild;)this._container.removeChild(this._container.firstChild)}bindContextMenu(){return window.matchMedia(H.TradingLayoutBreakpoint.Mobile).matches&&c.CheckMobile.any()?this._bindTapMenu():c.CheckMobile.iOS()?this._bindLongPressMenu():this._bindContextMenu()}unbindContextMenu(){null!==this._dispatch&&(this._dispatch(),this._dispatch=null)}static async create(e){const t=new hs(e);return await t._create(),t._hideSecondaryPanelIfEmpty(),t._subscribe(),t._fullUpdate(),t}_bindContextMenu(){return this._container.addEventListener("contextmenu",this._showContextMenu),()=>this._container.removeEventListener("contextmenu",this._showContextMenu)}_bindLongPressMenu(){let e;const t=t=>{clearTimeout(e),e=setTimeout((()=>this._showContextMenu(t)),400)},i=()=>clearTimeout(e);return this._container.addEventListener("touchstart",t),this._container.addEventListener("touchend",i),this._container.addEventListener("touchmove",i),()=>{clearTimeout(e),this._container.removeEventListener("touchstart",t),this._container.removeEventListener("touchend",i),this._container.removeEventListener("touchmove",i)}}_bindTapMenu(){const e=e=>{void 0!==this._currentPage().contextRow(e)&&this._showContextMenu(e)},t=e=>{e.preventDefault()};return this._container.addEventListener("click",e),this._container.addEventListener("contextmenu",t),()=>{this._container.removeEventListener("click",e),this._container.removeEventListener("contextmenu",t)}}_unmountComponentBySelector(e){const t=this._container.querySelector(e);null!==t&&n.unmountComponentAtNode(t)}_initializeTabs(){const e=(0,l.ensureNotNull)(this._container.querySelector(".js-content")),t=new E((0,l.ensureNotNull)(this._container.querySelector(".js-top-panel-tabs")),e);return t.tabChanged.subscribe(this,this._onPageChanged),t}
_linkTableRowSymbol(e,t){t||void 0===e.symbol||""===e.symbol||d.linking.symbol.setValue(e.symbol)}_onTableRowClick(e,t,i,s){const r=e;t||""===r.symbol||(d.linking.symbol.value()!==r.symbol?d.linking.symbol.setValue(r.symbol):i.setSelectedItem({id:r.id,type:s}))}_onTableRowMouseEnter(e,t,i,s){const r=e;t||d.linking.symbol.value()!==r.symbol||i.setHoveredItem({id:r.id,type:s})}_onTableRowMouseLeave(e,t,i){const s=e;t||d.linking.symbol.value()!==s.symbol||i.dropHoveredItem()}_makeTableRowEventsHandlers(e,t){return{onClick:(i,s)=>this._onTableRowClick(i,s,e,t),onMouseEnter:(i,s)=>this._onTableRowMouseEnter(i,s,e,t),onMouseLeave:(t,i)=>this._onTableRowMouseLeave(t,i,e)}}async _getPages(){const e=this._adapter.metainfo().id,t=this._adapter.accountManagerInfo(),s=this._adapter.metainfo().configFlags,n=this._getPagesAvailabilityInfo(),a=(0,l.ensureNotNull)(this._trading.brokerCommandsUI()),d={},c=await this._trading.tradedItemsChartCollectionFacade(),u=void 0!==t.customFormatters?t.customFormatters.map((({name:e,formatText:t,formatElement:i})=>void 0===i?{name:e,formatText:t}:{name:e,formatText:t,formatElement:e=>{const t=i(e);return t instanceof window.parent.Element?o.createElement(ns,{element:t}):t}})):[];if(n.positions){const i=this._makeTableRowEventsHandlers(c,os.TradedItemType.Position);d.positionPage={ctor:qi,ctorArguments:{brokerId:e,formatters:u,tableRowEventsHandlers:i,priceFormatterFn:this.priceFormatter.bind(this),checkSupportTrades:()=>!0===s.supportTrades,positions:{source:()=>this._adapter.positions().then((e=>e.filter((e=>B(e))))),closeFn:a.closePosition.bind(a),editFn:s.supportPositionBrackets?a.editPositionBrackets.bind(a):null,reverseFn:s.supportReversePosition?a.reversePosition.bind(a):null,columns:(0,l.ensureDefined)(t.positionColumns),subscriptions:{rowUpdateDelegate:new N([this._adapter.positionPartialUpdate,this._adapter.positionUpdate]),countUpdateDelegate:this._adapter.positionUpdate,plSubscription:this._adapter.subscribePL.bind(this._adapter)}},trades:s.supportTrades?{source:()=>this._adapter.trades().then((e=>e.filter((e=>0!==e.qty)))),closeFn:s.supportCloseTrade?a.closeTrade.bind(a):null,editFn:s.supportTradeBrackets?(0,l.ensureDefined)(a.editTradeBrackets).bind(a):null,reverseFn:null,columns:(0,l.ensureDefined)(t.tradeColumns||t.positionColumns),subscriptions:{rowUpdateDelegate:new N([this._adapter.tradePartialUpdate,this._adapter.tradeUpdate]),countUpdateDelegate:this._adapter.tradeUpdate,plSubscription:this._adapter.subscribePL.bind(this._adapter)}}:null,fullUpdateDelegate:this._adapter.currentAccountUpdate,overlapManager:this._overlapManager,getTableSettingsStorage:this._trading.getBrokerTradingSettingsStorage,trackEvent:this._trading.trackEvent}}}const h=this._adapter.orders.bind(this._adapter),p=this._makeTableRowEventsHandlers(c,os.TradedItemType.Order);d.orderPage={ctor:Oi,ctorArguments:{id:"Orders",title:r.t(null,void 0,i(293104)),source:h,cancelFn:a.cancelOrder.bind(a),modifyFn:a.modifyOrder.bind(a),columns:t.orderColumns,headerCounter:!0,tableId:e+".orders",tableRowEventsHandlers:p,
formatters:u,priceFormatterFn:this.priceFormatter.bind(this),subscriptions:{fullUpdateDelegate:this._adapter.currentAccountUpdate,rowUpdateDelegate:new N([this._adapter.orderPartialUpdate,this._adapter.orderUpdate]),orderUpdateDelegate:this._adapter.orderUpdate},possibleOrderStatuses:cs.filter((e=>!t.possibleOrderStatuses||-1!==t.possibleOrderStatuses.indexOf(e))),filter:()=>!0,highlightChanges:!0,initialSorting:t.orderColumnsSorting,configFlags:s,overlapManager:this._overlapManager,getTableSettingsStorage:this._trading.getBrokerTradingSettingsStorage,trackEvent:this._trading.trackEvent}};const _=this._adapter.ordersHistory.bind(this._adapter);return n.history&&(d.historyPage={ctor:Oi,ctorArguments:{id:"History",title:r.t(null,void 0,i(197698)),source:()=>Promise.all([h(),_()]).then((e=>[].concat(...e))),cancelFn:a.cancelOrder.bind(a),modifyFn:a.modifyOrder.bind(a),columns:(0,l.ensureDefined)(t.historyColumns),headerCounter:!1,tableId:e+".history",tableRowEventsHandlers:p,formatters:u,priceFormatterFn:this.priceFormatter.bind(this),subscriptions:{fullUpdateDelegate:this._adapter.currentAccountUpdate,rowUpdateDelegate:new N([this._adapter.orderPartialUpdate,this._adapter.orderUpdate]),orderUpdateDelegate:this._adapter.orderUpdate},possibleOrderStatuses:us.filter((e=>!t.possibleOrderStatuses||-1!==t.possibleOrderStatuses.indexOf(e))),filter:e=>![3,4,6].includes(e.status),highlightChanges:!1,initialSorting:t.historyColumnsSorting,isAlwaysActive:!0,configFlags:s,overlapManager:this._overlapManager,getTableSettingsStorage:this._trading.getBrokerTradingSettingsStorage,trackEvent:this._trading.trackEvent}}),d.customPages=t.pages.map((t=>{const i=t.tables.map((i=>{var s;return{id:`${e}.${t.id}.${i.id}`,title:i.title||"",columns:i.columns,source:i.getData,options:{className:"balances",idProperty:"id",defaultSortingParameters:i.initialSorting},formatters:u,priceFormatterFn:this.priceFormatter.bind(this),subscriptions:{fullUpdateDelegate:this._adapter.currentAccountUpdate,rowUpdateDelegate:i.changeDelegate},flags:i.flags,rowEventsHandlers:(null===(s=i.flags)||void 0===s?void 0:s.supportLinking)?{onClick:this._linkTableRowSymbol}:void 0}}));return{ctor:si,ctorArguments:{id:t.id,title:t.title,tables:i,overlapManager:this._overlapManager,getTableSettingsStorage:this._trading.getBrokerTradingSettingsStorage,trackEvent:this._trading.trackEvent}}})),n.notifications&&(d.notificationsPage={ctor:li,ctorArguments:{id:"notifications_log",title:r.t(null,void 0,i(386249)),source:()=>Promise.resolve(this._trading.getNotifications()),columns:ri,formatters:[],priceFormatterFn:this.priceFormatter.bind(this),subscriptions:{fullUpdateDelegate:this._trading.onNotificationsChanged,rowUpdateDelegate:this._trading.onNewNotification},overlapManager:this._overlapManager,initialSorting:{property:"time",asc:!1},rowBadgeTypeInferrer:ps,getTableSettingsStorage:this._trading.getBrokerTradingSettingsStorage,trackEvent:this._trading.trackEvent}}),d}_getPagesAvailabilityInfo(){const e=this._adapter.metainfo().configFlags;return{
positions:Boolean(e.supportPositions),orders:!0,history:Boolean(e.supportOrdersHistory),tradeHistory:Boolean(e.supportTradeHistoryTabInAccountManager),notifications:Boolean(u.enabled("show_trading_notifications_history")&&e.showNotificationsLog)}}_renderTemplate(){const e=this._getPagesAvailabilityInfo(),t=Object.values(e).filter((e=>e)).length+this._adapter.accountManagerInfo().pages.length,i=(0,l.ensureNotNull)((0,L.parseHtmlElement)(((e=0)=>`\n<div class="${ds.accountManager}">\n\t<div class="js-account-manager-header"></div>\n\t<div class="${ds.topPanel} js-top-panel">\n\t\t<div class="tv-tabs tv-tabs--semi-compact tv-tabs--no-margin tv-tabs--no-border js-top-panel-tabs">\n\t\t\t${'<div class="tv-tabs__tab js-tab"></div>'.repeat(e)}\n\t\t</div>\n\t</div>\n\t<div class="${ds.secondaryPanel} js-secondary-panel">\n\t\t<div class="js-secondary-tabs"></div>\n\t</div>\n\t<div class="${ds.content} js-content">\n\t\t${`<div class="${ds.page} js-page"></div>`.repeat(e)}\n\t</div>\n</div>`)(t)));this._container.appendChild(i)}async _create(){const e=await this._getPages();for(const t of Object.values(e))if(Array.isArray(t)){const e=t.map((e=>new e.ctor(e.ctorArguments)));this._pages.push(...e)}else this._pages.push(new t.ctor(t.ctorArguments));const t=(0,l.ensureNotNull)(this._container.querySelector(".js-content"));this._contentResizeObserver.observe(t),this._render();const i=this._container.querySelectorAll(".js-page"),s=this._container.querySelectorAll(".js-tab");this._pages.forEach(((e,t)=>{i[t].innerHTML="",i[t].appendChild(e.content()),s[t].innerHTML="",s[t].appendChild(e.header())}))}async _render(){let e;1===this._mode&&(e=await(0,rs.makeAccountManagerHeaderDropdownsProps)(this._trading,this._summaryFieldsVisibilityManager,(()=>this._getDataExporters()))),n.render(o.createElement(ss,{...e,summaryFields:this._info.summary,summaryFieldsVisibilityManager:this._summaryFieldsVisibilityManager,isBetaBroker:this._adapter.metainfo().isBeta}),this._container.querySelector(".js-account-manager-header"))}_getDataExporters(){const e=new Map;for(const t of this._pages){const i=t.getExporters();e.set(i.title,i)}return e}_subscribe(){const e=e=>{e?this._updatePagesActiveStatuses():this._pages.forEach((e=>e.setActive(!1)))};this._bridge.visible.subscribe(e,{callWithLast:!0}),this._dispatchVisibilityHandler=()=>this._bridge.visible.unsubscribe(e),this._attachFilter()}_onPageChanged(e){this._attachFilter(),this._hideSecondaryPanelIfEmpty(),this._trading.trackEvent("Bottom Panel",`Select ${this._pages[e].id()} page`),this._updatePagesActiveStatuses()}_hideSecondaryPanelIfEmpty(){(0,l.ensureNotNull)(this._container.querySelector(".js-secondary-panel")).classList.toggle("js-hidden",null===this._currentPage().topline())}_updatePagesActiveStatuses(){const e=1===this._adapter.connectionStatus(),t=this._tabs.index();void 0!==this._contentHeight&&this._pages[t].setHeight(this._contentHeight);for(let i=0;i<this._pages.length;i++)this._pages[i].setActive(t===i&&e)}_detachFilter(){const e=(0,
l.ensureNotNull)(this._container.querySelector(".js-secondary-tabs")).children;for(const t of Array.from(e))t.classList.add("js-hidden")}_attachFilter(){if(this._detachFilter(),this._topLines[this._currentPageIndex()])this._topLines[this._currentPageIndex()].classList.remove("js-hidden");else if(this._currentPage().topline()){const e=(0,l.ensureNotNull)(this._currentPage().topline());(0,l.ensureNotNull)(this._container.querySelector(".js-secondary-tabs")).appendChild(e),this._topLines[this._currentPageIndex()]=e}}_fullUpdate(){this._pages.forEach((e=>e.reset()))}_unsubscribe(){this._tabs&&(this._tabs.tabChanged.unsubscribe(this,this._onPageChanged),this._tabs.stop()),this._contentResizeObserver.disconnect(),this._dispatchVisibilityHandler&&(this._dispatchVisibilityHandler(),delete this._dispatchVisibilityHandler);const e=this._container.querySelector(".js-secondary-tabs");if(null!==e)for(;e.firstChild;)e.removeChild(e.firstChild);this._topLines={}}_currentPageIndex(){return this._tabs.index()}_currentPage(){return this._pages[this._currentPageIndex()]}async _contextItems(e){const t=this._currentPage().contextRow(e);if(void 0===t)return;const s="Bottom Panel Context Menu",o=this._currentPage().contextItems(e);if(this._info&&this._info.contextMenuActions)return this._info.contextMenuActions(e,o);const n={separator:!0},a=[];if(1===this._mode){0!==o.length&&o.push(n);const e=d.linking.proSymbol.value(),t=await this._trading.makeNewOrderContextMenuAction(e,s);a.push(t)}else"symbol"in t&&(0!==o.length&&o.push(n),a.push({text:r.t(null,void 0,i(903147)).replace("{symbol}",t.symbol),icon:as,action:()=>{this._trading.trackEvent(s,"Open chart"),d.linking.symbol.setValue(t.symbol),this._trading.tradingPanelPopup.hide()}}));return u.enabled("property_pages")&&(o.length>0&&a.push(n),a.push({text:(0,U.appendEllipsis)(r.t(null,void 0,i(670360))),icon:ls,action:()=>{this._trading.trackEvent(s,"Trading Properties"),this._trading.showTradingProperties()}})),o.concat(a)}}function ps(e){return"danger"===e.type?V.Danger:"success"===e.type?V.Success:void 0}},311460:(e,t,i)=>{"use strict";i.d(t,{StopType:()=>s.StopType,OrderOrPositionMessageType:()=>r.OrderOrPositionMessageType,AccountType:()=>r.AccountType,DisconnectType:()=>r.DisconnectType});var s=i(971204),r=i(122621)},662402:(e,t,i)=>{"use strict";var s;i.d(t,{TradedItemType:()=>s}),function(e){e[e.Position=0]="Position",e[e.Order=1]="Order"}(s||(s={}))},561738:(e,t,i)=>{"use strict";i.d(t,{TradingLayoutBreakpoint:()=>r});var s=i(572480);const r={Mobile:s.mobile}},338650:(e,t,i)=>{"use strict";function s(e){return e.charAt(0).toUpperCase()+e.substring(1)}i.d(t,{capitalizeFirstLetter:()=>s})},970706:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M13.5 7l1.65-1.65a.5.5 0 0 0 0-.7l-1.8-1.8a.5.5 0 0 0-.7 0L11 4.5M13.5 7L11 4.5M13.5 7l-8.35 8.35a.5.5 0 0 1-.36.15H2.5v-2.3a.5.5 0 0 1 .15-.35L11 4.5"/></svg>'},499084:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16Zm3.87-12.15c.36.2.49.66.28 1.02l-4 7a.75.75 0 0 1-1.18.16l-3-3a.75.75 0 1 1 1.06-1.06l2.3 2.3 3.52-6.14a.75.75 0 0 1 1.02-.28Z"/></svg>'},530162:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>'},527941:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM8 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm1 2c.49 0 1 .59 1 1v3.01c0 .42-.51.99-1 .99s-1-.57-1-.99V9c0-.41.51-1 1-1Z"/></svg>'},482353:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16Zm0-3a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM6 7.5a3 3 0 1 1 6 0c0 .96-.6 1.48-1.17 1.98-.55.48-1.08.95-1.08 1.77h-1.5c0-1.37.7-1.9 1.33-2.38.49-.38.92-.71.92-1.37C10.5 6.67 9.82 6 9 6s-1.5.67-1.5 1.5H6Z"/></svg>'},685014:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" fill-rule="evenodd" d="M8 5.5h12A2.5 2.5 0 0 1 22.5 8v12a2.5 2.5 0 0 1-2.5 2.5H8A2.5 2.5 0 0 1 5.5 20V8A2.5 2.5 0 0 1 8 5.5zM4 8a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4H8a4 4 0 0 1-4-4V8zm15.49 5.07a.75.75 0 1 0-.98-1.14l-2.97 2.55-2.51-2.51a.75.75 0 0 0-1.02-.04l-3.5 3a.75.75 0 1 0 .98 1.14l2.97-2.55 2.51 2.51c.28.28.72.3 1.02.04l3.5-3z"/></svg>'},465890:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 9" width="11" height="9" fill="none"><path stroke-width="2" d="M0.999878 4L3.99988 7L9.99988 1"/></svg>'},100578:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 8" width="16" height="8"><path fill="currentColor" d="M0 1.475l7.396 6.04.596.485.593-.49L16 1.39 14.807 0 7.393 6.122 8.58 6.12 1.186.08z"/></svg>'},333765:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"><path fill="currentColor" d="M9.707 9l4.647-4.646-.707-.708L9 8.293 4.354 3.646l-.708.708L8.293 9l-4.647 4.646.708.708L9 9.707l4.646 4.647.708-.707L9.707 9z"/></svg>'},247424:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.5 1.5L3.5 7l5 5.5"/></svg>'},670340:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.5 1.5l5 5.5-5 5.5"/></svg>'},407499:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 6 26" width="3" height="13" fill="currentColor"><circle cx="3" cy="3" r="3"/><circle cx="3" cy="13" r="3"/><circle cx="3" cy="23" r="3"/></svg>'},987323:e=>{e.exports={ar:["إغلاق"],ca_ES:"Close",cs:"Close",de:"Close",el:"Close",en:"Close",es:["Cierre"],fa:"Close",fr:["Fermer"],he_IL:["סגור"],hu_HU:["Zárás"],id_ID:["Tutup"],it:["Chiudi"],ja:["決済"],ko:["종"],ms_MY:["Tutup"],nl_NL:"Close",pl:["Zamknij"],pt:["Fechar"],ro:"Close",ru:["Закрыть позицию"],sv:["Stäng"],th:["ปิด"],tr:["Kapat"],vi:["Đóng"],zh:["平仓"],zh_TW:["平倉"]}},398065:e=>{e.exports={ar:["إنشاء العمود"],ca_ES:["Configuració columna"],cs:"Column setup",de:["Säulen-Einstellung"],el:"Column setup",en:"Column setup",es:["Configuración columna"],fa:"Column setup",fr:["Configuration des colonnes"],he_IL:["הגדרת עמודות"],hu_HU:["Oszlopbeállítás"],id_ID:["Pengaturan Kolom"],it:["Impostazione colonne"],ja:["カラムの設定"],ko:["컬럼 셋업"],ms_MY:["Persediaan lajur"],nl_NL:"Column setup",pl:["Konfiguracja kolumn"],pt:["Configuração das Colunas"],ro:"Column setup",ru:["Настройка столбцов"],sv:["Ordna kolumner"],th:["ตั้งค่าคอลัมน์"],tr:["Sütun ayarları"],vi:["Thiết lập Cột"],zh:["栏目设置"],zh_TW:["欄目設定"]}},620036:e=>{e.exports={ar:["إلغاء"],ca_ES:["Cancel·la"],cs:["Zrušit"],de:["Abbrechen"],el:["Άκυρο"],en:"Cancel",es:["Cancelar"],fa:["لغو"],fr:["Annuler"],he_IL:["ביטול"],hu_HU:["Törlés"],id_ID:["Batal"],it:["Annulla"],ja:["キャンセル"],ko:["취소"],ms_MY:["Batal"],nl_NL:["Annuleren"],pl:["Anuluj"],pt:["Cancelar"],ro:"Cancel",ru:["Отмена"],sv:["Avbryt"],th:["ยกเลิก"],tr:["İptal"],vi:["Hủy bỏ"],zh:["取消"],zh_TW:["取消"]}},316075:e=>{e.exports={ar:["إلغاء أمر"],ca_ES:["Cancel·lar ordre"],cs:"Cancel Order",de:["Auftrag abbrechen"],el:"Cancel Order",en:"Cancel Order",es:["Cancelar orden"],fa:"Cancel Order",fr:["Annuler Ordre"],he_IL:["בטל פקודה"],hu_HU:["Megbízás Törlése"],id_ID:["Batalkan Order"],it:["Annulla ordine"],ja:["注文をキャンセル"],ko:["주문 취소"],ms_MY:["Batalkan Pesanan"],nl_NL:"Cancel Order",pl:["Anuluj zlecenie"],pt:["Cancelar ordem"],ro:"Cancel Order",ru:["Отменить заявку"],sv:["Avbryt order"],th:["ยกเลิกคำสั่ง"],tr:["Emir İptal"],vi:["Hủy Lệnh"],zh:["取消订单"],zh_TW:["取消報單"]}},437431:e=>{e.exports={ar:["إغلاق صفقة"],ca_ES:"Close Position",cs:"Close Position",de:["Position Schließen"],el:"Close Position",en:"Close Position",es:["Cerrar posición"],fa:"Close Position",fr:["Fermer la Position"],he_IL:["סגור פוזיציה"],hu_HU:["Záró Pozíció"],id_ID:["Tutup Posisi"],it:["Chiudi posizione"],ja:["ポジション決済"],ko:["포지션 닫기"],ms_MY:["Kedudukan Penutup"],nl_NL:"Close Position",pl:["Zamknij pozycję"],pt:["Fechar Posição"],ro:"Close Position",ru:["Закрыть позицию"],sv:["Stäng position"],th:["ปิดสถานะ"],tr:["Pozisyonu Kapat"],vi:["Đóng Trạng thái"],zh:["平仓"],zh_TW:["平倉"]}},728534:e=>{e.exports={ar:["الحسابات"],ca_ES:"Accounts",cs:"Accounts",de:["Konten"],el:"Accounts",en:"Accounts",es:["Cuentas"],fa:"Accounts",fr:["Comptes"],he_IL:["חשבונות"],hu_HU:"Accounts",id_ID:["Akun"],it:["Conti"],ja:["口座"],ko:["계정"],ms_MY:["Akaun"],nl_NL:"Accounts",pl:["Konta"],
pt:["Contas"],ro:"Accounts",ru:["Счета"],sv:["Konton"],th:["บัญชี"],tr:["Hesaplar"],vi:["Tài khoản"],zh:["账户"],zh_TW:["賬戶"]}},695271:e=>{e.exports={ar:["كل"],ca_ES:["Tots"],cs:["Vše"],de:["Alle"],el:"All",en:"All",es:["Todos"],fa:["همه"],fr:["Tout"],he_IL:["הכל"],hu_HU:["Összes"],id_ID:["Seluruhnya"],it:["Tutto"],ja:["すべて"],ko:["전체"],ms_MY:["Semua"],nl_NL:"All",pl:["Wszystko"],pt:["Todos"],ro:"All",ru:["Все"],sv:["Alla"],th:["ทั้งหมด"],tr:["Tümü"],vi:["Tất cả"],zh:["全部"],zh_TW:["全部"]}},116744:e=>{e.exports={ar:["تعديل"],ca_ES:["Editar"],cs:["Upravit"],de:["Bearbeiten"],el:"Edit",en:"Edit",es:["Editar"],fa:["ویرایش"],fr:["Editer"],he_IL:["עריכה"],hu_HU:["Szerkesztés"],id_ID:"Edit",it:["Modifica"],ja:["編集"],ko:["편집"],ms_MY:"Edit",nl_NL:["Aanpassen"],pl:["Edytuj"],pt:["Editar"],ro:"Edit",ru:["Редактировать"],sv:["Redigera"],th:["ปรับเปลียน"],tr:["Düzenle"],vi:["Chỉnh sửa"],zh:["编辑"],zh_TW:["編輯"]}},197698:e=>{e.exports={ar:["السجل"],ca_ES:"History",cs:"History",de:["Verlauf"],el:"History",en:"History",es:["Histórico"],fa:"History",fr:["Historique"],he_IL:["היסטוריה"],hu_HU:["Előzmények"],id_ID:["Histori"],it:["Storico"],ja:["履歴"],ko:["과거"],ms_MY:["Sejarah"],nl_NL:"History",pl:["Historia"],pt:["Histórico"],ro:"History",ru:["История"],sv:["Historik"],th:["ประวัติศาสตร์"],tr:["Geçmiş"],vi:["Lịch sử"],zh:["历史"],zh_TW:["歷史"]}},42168:e=>{e.exports={ar:["مراكز فردية"],ca_ES:"Individual Positions",cs:"Individual Positions",de:["Einzelpositionen"],el:"Individual Positions",en:"Individual Positions",es:["Posiciones individuales"],fa:"Individual Positions",fr:["Positions individuelles"],he_IL:"Individual Positions",hu_HU:"Individual Positions",id_ID:["Posisi Individual"],it:["Posizioni individuali"],ja:["個別ポジション"],ko:["개별 포지션"],ms_MY:["Kedudukan Individu"],nl_NL:"Individual Positions",pl:["Pojedyncze Pozycje"],pt:["Posições Individuais"],ro:"Individual Positions",ru:["Индивидуальные позиции"],sv:["Individuella positioner"],th:["สถานะส่วนบุคคล"],tr:["Bireysel Pozisyonlar"],vi:["Vị thế Cá nhân"],zh:["个人持仓"],zh_TW:["個人部位"]}},903147:e=>{e.exports={ar:["فتح الرسم البياني {symbol}"],ca_ES:"Open chart with {symbol}",cs:"Open chart with {symbol}",de:["Chart öffnen für {symbol}"],el:"Open chart with {symbol}",en:"Open chart with {symbol}",es:["Abrir gráfico con {symbol}"],fa:"Open chart with {symbol}",fr:["Ouvrir le graphique avec {symbol}"],he_IL:["פתח גרף עם {symbol}"],hu_HU:"Open chart with {symbol}",id_ID:["Buka chart {symbol}"],it:["Apri grafico {symbol}"],ja:["{symbol} のチャートを開く"],ko:["{symbol} 차트 열기"],ms_MY:["Buka carta dengan {symbol}"],nl_NL:"Open chart with {symbol}",pl:["Otwórz wykres z {symbol}"],pt:["Abrir o gráfico com {symbol}"],ro:"Open chart with {symbol}",ru:["Открыть график {symbol}"],sv:["Öppet diagram med {symbol}"],th:["เปิดชาร์ตด้วย {symbol}"],tr:["Grafiği {symbol} ile aç"],vi:["Mở biểu đồ với {symbol}"],zh:["打开{symbol}图表"],zh_TW:["打開 {symbol} 圖表"]}},293104:e=>{e.exports={ar:["أوامر التداول"],ca_ES:["Ordres"],cs:"Orders",de:"Orders",el:"Orders",en:"Orders",es:["Órdenes"],fa:"Orders",fr:["Ordres"],he_IL:["פקודות"],
hu_HU:["Megbízások"],id_ID:["Order"],it:["Ordini"],ja:["注文"],ko:["주문"],ms_MY:["Pesanan"],nl_NL:"Orders",pl:["Zlecenia"],pt:["Ordens"],ro:"Orders",ru:["Заявки"],sv:["Ordrar"],th:["ออเดอร์"],tr:["Emirler"],vi:["Lệnh"],zh:["订单"],zh_TW:["訂單"]}},433241:e=>{e.exports={ar:["تعديل الأمر"],ca_ES:["Modifica ordre"],cs:"Modify Order",de:["Order modifizieren"],el:"Modify Order",en:"Modify Order",es:["Modificar orden"],fa:"Modify Order",fr:["Modifier l'ordre"],he_IL:["שנה הוראה"],hu_HU:"Modify Order",id_ID:["Memodifikasi Order"],it:["Modifica ordine"],ja:["注文の変更"],ko:["오더 고치기"],ms_MY:["Ubah Suai Pesanan"],nl_NL:"Modify Order",pl:["Modyfikuj zlecenie"],pt:["Modificar ordem"],ro:"Modify Order",ru:["Изменить заявку"],sv:["Ändra order"],th:["แก้ไขออเดอร์"],tr:["Emir Değiştir"],vi:["Chỉnh Lệnh"],zh:["修改订单"],zh_TW:["修改訂單"]}},386249:e=>{e.exports={ar:["سجل الإشعارات"],ca_ES:"Notifications log",cs:"Notifications log",de:["Handelsprotokoll"],el:"Notifications log",en:"Notifications log",es:["Registro de notificaciones"],fa:"Notifications log",fr:["Journal des notifications"],he_IL:["יומן התראות"],hu_HU:["Értesítési napló"],id_ID:["Log pemberitahuan"],it:["Registro notifiche"],ja:["通知履歴"],ko:["알림 로그"],ms_MY:["Log Notifikasi"],nl_NL:"Notifications log",pl:["Dziennik powiadomień"],pt:["Registro de notificações"],ro:"Notifications log",ru:["Журнал уведомлений"],sv:["Meddelandelogg"],th:["บันทึกการแจ้งเตือน"],tr:["Bildirimler"],vi:["Nhật ký thông báo"],zh:["通知日志"],zh_TW:["通知紀錄"]}},518617:e=>{e.exports={ar:["إجمالي المراكز"],ca_ES:"Net Positions",cs:"Net Positions",de:["Nettopositionen"],el:"Net Positions",en:"Net Positions",es:["Posiciones Netas"],fa:"Net Positions",fr:["Positions nettes"],he_IL:["פוזיציות נטו"],hu_HU:"Net Positions",id_ID:["Posisi Bersih"],it:["Posizioni nette"],ja:["ネットポジション"],ko:["넷 포지션"],ms_MY:["Kedudukan Bersih"],nl_NL:"Net Positions",pl:["Pozycje Netto"],pt:["Posições Líquidas"],ro:"Net Positions",ru:["Чистые позиции"],sv:["Nettopositioner"],th:["สถานะสุทธิ"],tr:["Net Pozisyonlar"],vi:["Vị thế thực"],zh:["净持仓"],zh_TW:["淨部位"]}},948313:e=>{e.exports={ar:["مراكز تداول"],ca_ES:["Posicions"],cs:"Positions",de:["Positionen"],el:"Positions",en:"Positions",es:["Posiciones"],fa:"Positions",fr:"Positions",he_IL:["פוזיציות"],hu_HU:["Pozíciók"],id_ID:["Posisi"],it:["Posizioni"],ja:["ポジション"],ko:["포지션"],ms_MY:["Kedudukan"],nl_NL:"Positions",pl:["Pozycje"],pt:["Posições"],ro:"Positions",ru:["Позиции"],sv:["Positioner"],th:["ตำแหน่ง"],tr:["Pozisyonlar"],vi:["Vị thế"],zh:["持仓"],zh_TW:["持倉"]}},911810:e=>{e.exports={ar:["حماية المركز"],ca_ES:"Protect Position",cs:"Protect Position",de:["Position absichern"],el:"Protect Position",en:"Protect Position",es:["Proteger posición"],fa:"Protect Position",fr:["Protéger la position"],he_IL:["הגן על הפוזיציה."],hu_HU:"Protect Position",id_ID:["Lindungi Posisi"],it:["Proteggi posizione"],ja:["ポジション保護"],ko:["프로텍트 포지션"],ms_MY:["Melindungi Kedudukan"],nl_NL:"Protect Position",pl:["Zabezpiecz pozycję"],pt:["Proteger a posição"],ro:"Protect Position",ru:["Защитить позицию"],sv:["Skydda position"],
th:["ป้องกันโพซิชั่น"],tr:["Pozisyonu Koru"],vi:["Bảo vệ Vị thế"],zh:["保护持仓"],zh_TW:["保護倉位"]}},419780:e=>{e.exports={ar:["عكس الصفقة"],ca_ES:"Reverse Position",cs:"Reverse Position",de:["Position Umkehren"],el:"Reverse Position",en:"Reverse Position",es:["Revertir posición"],fa:"Reverse Position",fr:["Inverser la Position"],he_IL:["הפוך פוזיציה"],hu_HU:["Fordított Pozíció"],id_ID:["Membalik Posisi"],it:["Inverti posizione"],ja:["ポジションを反転"],ko:["리버스 포지션"],ms_MY:["Kedudukan Terbalik"],nl_NL:"Reverse Position",pl:["Odwróć pozycje"],pt:["Reverter Posição"],ro:"Reverse Position",ru:["Перевернуть позицию"],sv:["Omvänd position"],th:["ตำแหน่งการย้อนกลับ"],tr:["Karşıt Pozisyon"],vi:["Vị thế Đảo ngược"],zh:["平仓反手"],zh_TW:["平倉反手"]}},120294:e=>{e.exports={ar:["لم يتم التعرف على الرمز. يتم عرض بيانات التداول في وضع القراءة فقط."],ca_ES:"The symbol is not recognized. Trading data is displayed in read-only mode.",cs:"The symbol is not recognized. Trading data is displayed in read-only mode.",de:["Das Symbol wird nicht erkannt. Die Trading-Daten werden im Lese-Modus angezeigt."],el:"The symbol is not recognized. Trading data is displayed in read-only mode.",en:"The symbol is not recognized. Trading data is displayed in read-only mode.",es:["No se ha reconocido el símbolo. Los datos del trading se muestran en modo de solo lectura."],fa:"The symbol is not recognized. Trading data is displayed in read-only mode.",fr:["Le symbole n'est pas reconnu. Les données de trading sont affichées en mode lecture seule."],he_IL:["הסימול אינו מזוהה. נתוני המסחר מוצגים במצב קריאה בלבד."],hu_HU:"The symbol is not recognized. Trading data is displayed in read-only mode.",id_ID:["Simbol tidak dikenali. Data trading ditampilkan dalam mode hanya-membaca."],it:["Il simbolo non è riconosciuto. I dati di trading sono mostrati in modalità di sola lettura."],ja:["シンボルが認識できません。取引データは読み取り専用で表示されています。"],ko:["알 수 없는 심볼입니다. 트레이딩 데이터는 리드-온리 모드로 디스플레이됩니다."],ms_MY:["Simbol adalah tidak dikenali. Data perdagangan ini dipaparkan dalam mod baca sahaja."],nl_NL:"The symbol is not recognized. Trading data is displayed in read-only mode.",pl:["Symbol nie został rozpoznany. Dane handlowe są wyświetlane w trybie tylko do odczytu."],pt:["O símbolo não é reconhecido. Os dados de negociação são exibidos no modo somente leitura."],ro:"The symbol is not recognized. Trading data is displayed in read-only mode.",ru:["Символ не распознаётся. Торговые данные будут отображаться режиме только для чтения."],sv:["Symbolen känns inte igen. Handelsdata visas i skrivskyddat läge."],th:["ไม่รู้จักสัญลักษณ์ ข้อมูลการซื้อขายจะแสดงในโหมดอ่านอย่างเดียว"],tr:["Sembol tanınmıyor. İşlem verileri ancak salt okunur modda görüntülenebilir."],vi:["Mã giao dịch không được xác nhận. Dữ liệu giao dịch được hiển thị ở chế độ chỉ đọc."],zh:["此商品代码无法识别。交易数据以只读模式显示。"],zh_TW:["此商品代碼無法識別。交易數據以唯讀模式顯示。"]}},767369:e=>{e.exports={ar:["عنوان"],ca_ES:["Títol"],cs:"Title",de:["Titel"],el:"Title",en:"Title",es:["Título"],fa:"Title",fr:["Titre"],he_IL:["כותרת"],hu_HU:["Cím"],id_ID:["Judul"],it:["Titolo"],ja:["タイトル"],
ko:["타이틀"],ms_MY:["Tajuk"],nl_NL:"Title",pl:["Tytuł"],pt:["Título"],ro:"Title",ru:["Заголовок"],sv:["Titel"],th:["หัวเรื่อง"],tr:["Başlık"],vi:["Tiêu đề"],zh:["标题"],zh_TW:["標題"]}},670360:e=>{e.exports={ar:["ضبط إعدادات التداول"],ca_ES:"Trading Settings",cs:"Trading Settings",de:["Trading Einstelllungen"],el:"Trading Settings",en:"Trading Settings",es:["Configuración del trading"],fa:"Trading Settings",fr:["Paramètres de trading"],he_IL:["הגדרות מסחר"],hu_HU:"Trading Settings",id_ID:["Pengaturan Trading"],it:["Impostazioni trading"],ja:["トレード設定"],ko:["트레이딩 세팅"],ms_MY:["Tetapan Dagangan"],nl_NL:"Trading Settings",pl:["Ustawienia tradingowe"],pt:["Preferências de Negociação"],ro:"Trading Settings",ru:["Настройки торговли"],sv:["Inställningar för handel"],th:["การตั้งค่าการซื้อขาย"],tr:["İşlem Ayarları"],vi:["Cài đặt Giao dịch"],zh:["交易设置"],zh_TW:["交易設定"]}}}]);