(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[7502],{629084:e=>{e.exports={badge:"badge-TRXznVu1",content:"content-TRXznVu1",anchor:"anchor-TRXznVu1",button:"button-TRXznVu1","size-xsmall":"size-xsmall-TRXznVu1","size-small":"size-small-TRXznVu1","size-medium":"size-medium-TRXznVu1","size-large":"size-large-TRXznVu1","size-xlarge":"size-xlarge-TRXznVu1"}},559814:e=>{e.exports={priceLabel:"priceLabel-YoRsy2lA",list:"list-YoRsy2lA",item:"item-YoRsy2lA",selected:"selected-YoRsy2lA",input:"input-YoRsy2lA",wait:"wait-YoRsy2lA"}},367911:e=>{e.exports={absolutePriceDropdownItem:"absolutePriceDropdownItem-GMSGY3cQ",price:"price-GMSGY3cQ",labelsGroup:"labelsGroup-GMSGY3cQ"}},383241:e=>{e.exports={wrapper:"wrapper-Fe4_Wrqf",select:"select-Fe4_Wrqf",selectMenu:"selectMenu-Fe4_Wrqf",dateTimePickerWrapper:"dateTimePickerWrapper-Fe4_Wrqf",dateTimePickerInput:"dateTimePickerInput-Fe4_Wrqf",focused:"focused-Fe4_Wrqf",icon:"icon-Fe4_Wrqf",title:"title-Fe4_Wrqf"}},421937:e=>{e.exports={wrapper:"wrapper-o_DoQ7J4",title:"title-o_DoQ7J4",dateTimeWrapper:"dateTimeWrapper-o_DoQ7J4",mobileDateTimeWrapper:"mobileDateTimeWrapper-o_DoQ7J4",mobilePickerControl:"mobilePickerControl-o_DoQ7J4",mobileDateInputContainer:"mobileDateInputContainer-o_DoQ7J4",mobileDateInput:"mobileDateInput-o_DoQ7J4",mobileDateInputIcon:"mobileDateInputIcon-o_DoQ7J4",timeInput:"timeInput-o_DoQ7J4",buttonWrapper:"buttonWrapper-o_DoQ7J4",button:"button-o_DoQ7J4"}},605692:e=>{e.exports={container:"container-GU7pM4lc",leverageButton:"leverageButton-GU7pM4lc",disabledLeverageButton:"disabledLeverageButton-GU7pM4lc"}},18776:e=>{e.exports={dialog:"dialog-YhaAN0Pn",dialogBody:"dialogBody-YhaAN0Pn"}},532890:e=>{e.exports={orderInfo:"orderInfo-djRJjbL9",title:"title-djRJjbL9",contentWrapper:"contentWrapper-djRJjbL9",right:"right-djRJjbL9"}},593770:e=>{e.exports={panelContainer:"panelContainer-bDVhz0vR",orderPanel:"orderPanel-bDVhz0vR"}},932804:e=>{e.exports={content:"content-WaBvHbWP",separator:"separator-WaBvHbWP",controls:"controls-WaBvHbWP",button:"button-WaBvHbWP",warning:"warning-WaBvHbWP",warning__icon:"warning__icon-WaBvHbWP",error:"error-WaBvHbWP"}},436133:e=>{e.exports={controlGroup:"controlGroup-OLWHr1sT",absolutePriceControl:"absolutePriceControl-OLWHr1sT",withRelative:"withRelative-OLWHr1sT",relativePriceControl:"relativePriceControl-OLWHr1sT"}},710077:e=>{e.exports={messageBlock:"messageBlock-vYhn6q01",image:"image-vYhn6q01",title:"title-vYhn6q01",text:"text-vYhn6q01",controls:"controls-vYhn6q01"}},826561:e=>{e.exports={orderWidget:"orderWidget-EZFXA9Ts",header:"header-EZFXA9Ts",side:"side-EZFXA9Ts",doneButton:"doneButton-EZFXA9Ts",customField:"customField-EZFXA9Ts",duration:"duration-EZFXA9Ts",centerBlock:"centerBlock-EZFXA9Ts",customFieldsWrapper:"customFieldsWrapper-EZFXA9Ts",separator:"separator-EZFXA9Ts",notice:"notice-EZFXA9Ts",resizeHandler:"resizeHandler-EZFXA9Ts",orderTicket:"orderTicket-EZFXA9Ts",orderInfoAndSeparator:"orderInfoAndSeparator-EZFXA9Ts",topWrapper:"topWrapper-EZFXA9Ts","brackets-wrapper":"brackets-wrapper-EZFXA9Ts",
brackets:"brackets-EZFXA9Ts",quantityWrapper:"quantityWrapper-EZFXA9Ts",title:"title-EZFXA9Ts",leverage:"leverage-EZFXA9Ts",button:"button-EZFXA9Ts"}},623850:e=>{e.exports={priceLabel:"priceLabel-K9tnBGBz",ask:"ask-K9tnBGBz",bid:"bid-K9tnBGBz",last:"last-K9tnBGBz"}},148065:e=>{e.exports={progressBarContainer:"progressBarContainer-elKSW_VE",marginsContainer:"marginsContainer-elKSW_VE",margin:"margin-elKSW_VE",title:"title-elKSW_VE",price:"price-elKSW_VE",usedMargin:"usedMargin-elKSW_VE",progressBar:"progressBar-elKSW_VE",track:"track-elKSW_VE",progress:"progress-elKSW_VE",fullFilled:"fullFilled-elKSW_VE",marginOverflow:"marginOverflow-elKSW_VE",wait:"wait-elKSW_VE"}},473872:e=>{e.exports={"css-value-calculator-width":"150px"}},776514:e=>{e.exports={"css-value-calculator-width":"150px",calculator:"calculator-Yzrtltj_",calculator__inputBorder:"calculator__inputBorder-Yzrtltj_",calculator__input:"calculator__input-Yzrtltj_",calculator__input__innerInput:"calculator__input__innerInput-Yzrtltj_",calculator__btns:"calculator__btns-Yzrtltj_",buttonIcon:"buttonIcon-Yzrtltj_"}},174369:e=>{e.exports={menuBox:"menuBox-nMKePMU6"}},408446:e=>{e.exports={wrapper:"wrapper-hjgL9Xba",label:"label-hjgL9Xba",wait:"wait-hjgL9Xba",title:"title-hjgL9Xba",popupMenuItem:"popupMenuItem-hjgL9Xba",value:"value-hjgL9Xba"}},488075:e=>{e.exports={wrapper:"wrapper-_mCZw_Xj",control:"control-_mCZw_Xj",label:"label-_mCZw_Xj",units:"units-_mCZw_Xj",single:"single-_mCZw_Xj",calculatorIcon:"calculatorIcon-_mCZw_Xj",isOpened:"isOpened-_mCZw_Xj",risk:"risk-_mCZw_Xj",wait:"wait-_mCZw_Xj"}},518514:e=>{e.exports={pipsLabel:"pipsLabel-yHyvgF5e",openButton:"openButton-yHyvgF5e",iconWrapper:"iconWrapper-yHyvgF5e",openIcon:"openIcon-yHyvgF5e",wait:"wait-yHyvgF5e",opened:"opened-yHyvgF5e",list:"list-yHyvgF5e",item:"item-yHyvgF5e",selected:"selected-yHyvgF5e",input:"input-yHyvgF5e"}},898440:e=>{e.exports={relativePriceDropdownItem:"relativePriceDropdownItem-KPtv6_cr",price:"price-KPtv6_cr"}},305560:e=>{e.exports={restrictions:"restrictions-vdWMJWM7",restriction:"restriction-vdWMJWM7",hardToBorrow:"hardToBorrow-vdWMJWM7",halted:"halted-vdWMJWM7"}},742271:e=>{e.exports={restrictions:"restrictions-ui3k5sx5",sideControl:"sideControl-ui3k5sx5",section:"section-ui3k5sx5",active:"active-ui3k5sx5",sell:"sell-ui3k5sx5",buy:"buy-ui3k5sx5",title:"title-ui3k5sx5",typeSide:"typeSide-ui3k5sx5",value:"value-ui3k5sx5",valueNoData:"valueNoData-ui3k5sx5",spread:"spread-ui3k5sx5",isLongValue:"isLongValue-ui3k5sx5",disable:"disable-ui3k5sx5"}},40481:e=>{e.exports={tabsContainer:"tabsContainer-LCqQPfga",separator:"separator-LCqQPfga"}},574292:e=>{e.exports={scrollWrap:"scrollWrap-Lt5uPNKI"}},10283:e=>{e.exports={container:"container-NJ53a2WP",overlayScrollWrap:"overlayScrollWrap-NJ53a2WP",wrapper:"wrapper-NJ53a2WP"}},82461:e=>{e.exports={wrap:"wrap-cbCWDq_M","wrap--horizontal":"wrap--horizontal-cbCWDq_M",bar:"bar-cbCWDq_M",barInner:"barInner-cbCWDq_M","barInner--horizontal":"barInner--horizontal-cbCWDq_M","bar--horizontal":"bar--horizontal-cbCWDq_M"}},586355:e=>{e.exports={
tabs:"tabs-g47ZTMzc",tab:"tab-g47ZTMzc",noBorder:"noBorder-g47ZTMzc",disabled:"disabled-g47ZTMzc",active:"active-g47ZTMzc",defaultCursor:"defaultCursor-g47ZTMzc",slider:"slider-g47ZTMzc",content:"content-g47ZTMzc"}},252130:(e,t,r)=>{"use strict";r.d(t,{useIsMounted:()=>s});var o=r(50959);const s=()=>{const e=(0,o.useRef)(!1);return(0,o.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}},42107:(e,t,r)=>{"use strict";r.d(t,{DurationControl:()=>K});var o=r(509806),s=r(50959),n=r(601227),i=r(654936),a=r(72571),l=r(102691),c=r(838683),u=r(842974),d=r(922157),p=r.n(d),h=r(28466),m=r(917780),g=r(192063),_=r(155185),v=r(930052),f=r(996038),b=r(650151)
;const y=JSON.parse('{"ar_AE":{"language":"ar","language_name":"العربية","flag":"ae","geoip_code":"ae","countries_with_this_language":["ae","bh","dj","dz","eg","er","iq","jo","km","kw","lb","ly","ma","mr","om","qa","sa","sd","so","sy","td","tn","ye"],"priority":500,"dir":"rtl","iso":"ar","iso_639_3":"arb","show_on_widgets":true,"global_name":"Arabic"},"br":{"language":"pt","language_name":"Português","flag":"br","geoip_code":"br","priority":650,"iso":"pt","iso_639_3":"por","show_on_widgets":true,"global_name":"Portuguese"},"ca_ES":{"language":"ca_ES","language_name":"Català","flag":"es","geoip_code":"es","priority":745,"iso":"ca","iso_639_3":"cat","disabled":true,"show_on_widgets":true,"global_name":"Catalan"},"cs":{"language":"cs","language_name":"Czech","flag":"cz","geoip_code":"cz","priority":718,"iso":"cs","iso_639_3":"ces","show_on_widgets":true,"global_name":"Czech","is_in_european_union":true,"isBattle":true},"de_DE":{"language":"de","language_name":"Deutsch","flag":"de","geoip_code":"de","countries_with_this_language":["at","ch"],"priority":756,"iso":"de","iso_639_3":"deu","show_on_widgets":true,"global_name":"German","is_in_european_union":true},"en":{"language":"en","language_name":"English","flag":"us","geoip_code":"us","priority":1000,"iso":"en","iso_639_3":"eng","show_on_widgets":true,"global_name":"English","is_only_recommended_tw_autorepost":true},"es":{"language":"es","language_name":"Español","flag":"es","geoip_code":"es","countries_with_this_language":["mx","ar","ve","cl","co","pe","uy","py","cr","gt","c","bo","pa","pr"],"priority":744,"iso":"es","iso_639_3":"spa","show_on_widgets":true,"global_name":"Spanish","is_in_european_union":true},"fa_IR":{"language":"fa","language_name":"فارسى","flag":"ir","geoip_code":"ir","priority":480,"dir":"rtl","iso":"fa","iso_639_3":"fas","show_on_widgets":false,"global_name":"Iranian","disabled":true},"fr":{"language":"fr","language_name":"Français","flag":"fr","geoip_code":"fr","priority":750,"iso":"fr","iso_639_3":"fra","show_on_widgets":true,"global_name":"French","is_in_european_union":true},"he_IL":{"language":"he_IL","language_name":"עברית","flag":"il","geoip_code":"il","priority":490,"dir":"rtl","iso":"he","iso_639_3":"heb","show_on_widgets":true,"global_name":"Israeli"},"hu_HU":{"language":"hu_HU","language_name":"Magyar","flag":"hu","geoip_code":"hu","priority":724,"iso":"hu","iso_639_3":"hun","show_on_widgets":true,"global_name":"Hungarian","is_in_european_union":true,"disabled":true},"id":{"language":"id_ID","language_name":"Bahasa Indonesia","flag":"id","geoip_code":"id","priority":648,"iso":"id","iso_639_3":"ind","show_on_widgets":true,"global_name":"Indonesian"},"in":{"language":"en","language_name":"English ‎(India)‎","flag":"in","geoip_code":"in","priority":800,"iso":"en","iso_639_3":"eng","show_on_widgets":true,"global_name":"Indian"},"it":{"language":"it","language_name":"Italiano","flag":"it","geoip_code":"it","priority":737,"iso":"it","iso_639_3":"ita","show_on_widgets":true,"global_name":"Italian","is_in_european_union":true},"ja":{"language":"ja","language_name":"日本語","flag":"jp","geoip_code":"jp","priority":600,"iso":"ja","iso_639_3":"jpn","show_on_widgets":true,"global_name":"Japanese"},"kr":{"language":"ko","language_name":"한국어","flag":"kr","geoip_code":"kr","priority":550,"iso":"ko","iso_639_3":"kor","show_on_widgets":true,"global_name":"Korean"},"ms_MY":{"language":"ms_MY","language_name":"Bahasa Melayu","flag":"my","geoip_code":"my","priority":647,"iso":"ms","iso_639_3":"zlm","show_on_widgets":true,"global_name":"Malaysian"},"pl":{"language":"pl","language_name":"Polski","flag":"pl","geoip_code":"pl","priority":725,"iso":"pl","iso_639_3":"pol","show_on_widgets":true,"global_name":"Polish","is_in_european_union":true},"ru":{"language":"ru","language_name":"Русский","flag":"ru","geoip_code":"ru","countries_with_this_language":["am","by","kg","kz","md","tj","tm","uz"],"priority":700,"iso":"ru","iso_639_3":"rus","show_on_widgets":true,"global_name":"Russian","is_only_recommended_tw_autorepost":true},"sv_SE":{"language":"sv","language_name":"Svenska","flag":"se","geoip_code":"se","priority":723,"iso":"sv","iso_639_3":"swe","show_on_widgets":true,"global_name":"Swedish","is_in_european_union":true},"th_TH":{"language":"th","language_name":"ภาษาไทย","flag":"th","geoip_code":"th","priority":646,"iso":"th","iso_639_3":"tha","show_on_widgets":true,"global_name":"Thai"},"tr":{"language":"tr","language_name":"Türkçe","flag":"tr","geoip_code":"tr","priority":713,"iso":"tr","iso_639_3":"tur","show_on_widgets":true,"global_name":"Turkish","is_only_recommended_tw_autorepost":true},"vi_VN":{"language":"vi","language_name":"Tiếng Việt","flag":"vn","geoip_code":"vn","priority":645,"iso":"vi","iso_639_3":"vie","show_on_widgets":true,"global_name":"Vietnamese"},"zh_CN":{"language":"zh","language_name":"简体中文","flag":"cn","geoip_code":"cn","countries_with_this_language":["zh"],"priority":537,"iso":"zh-Hans","iso_639_3":"cmn","show_on_widgets":true,"global_name":"Chinese"},"zh_TW":{"language":"zh_TW","language_name":"繁體中文","flag":"tw","geoip_code":"tw","countries_with_this_language":["hk"],"priority":536,"iso":"zh-Hant","iso_639_3":"cmn","show_on_widgets":true,"global_name":"Taiwanese"},"el":{"language":"el","language_name":"Greek","flag":"gr","geoip_code":"gr","priority":625,"iso":"el","iso_639_3":"ell","global_name":"Greek","is_in_european_union":true,"isBattle":true},"nl_NL":{"language":"nl_NL","language_name":"Dutch","flag":"nl","geoip_code":"nl","priority":731,"iso":"nl","iso_639_3":"nld","global_name":"Dutch","is_in_european_union":true,"isBattle":true},"ro":{"language":"ro","language_name":"Romanian","flag":"ro","geoip_code":"ro","priority":707,"iso":"ro","iso_639_3":"ron","global_name":"Romanian","is_in_european_union":true,"isBattle":true}}'),k=function(){
const e=document.querySelectorAll("link[rel~=link-locale][data-locale]");if(0===e.length)return y;const t={};return e.forEach((e=>{const r=(0,b.ensureNotNull)(e.getAttribute("data-locale"));t[r]={...y[r],href:e.href}})),t}();const C=(E=E||window.locale,null===(w=k[E])||void 0===w?void 0:w.iso);var E,w;const S=new Intl.DateTimeFormat(C,{hour:"2-digit",minute:"2-digit"});function T(e){return S.format(e)}function M(e,t){return(t.hasDatePicker?function(e){const t=e.toLocaleString(C,{day:"2-digit"}),r=e.toLocaleString(C,{month:"2-digit"});return`${e.toLocaleString(C,{year:"numeric"})}-${r}-${t}`}(e):"")+(t.hasTimePicker?", "+T(e):"")}var D=r(805184),P=r(350324),N=r(493173),I=r(50368),B=r(44807),O=r(508550),x=r(614793),L=r(421937);const z=(0,N.mergeThemes)(P.DEFAULT_INPUT_DATE_THEME,{container:L.mobileDateInputContainer,date:L.mobileDateInput,icon:L.mobileDateInputIcon}),F=n.CheckMobile.any();function H(e){return s.createElement(P.DateInput,{theme:F?z:void 0,...e})}class W extends s.PureComponent{constructor(e){super(e),this._todayMidnight=new Date((new Date).setHours(0,0,0,0)),this._onSelect=()=>{this.props.onSelect(this.state.date,this.state.time)},this._onDateSelect=e=>{null!==e&&this.setState({date:e},this._handleMobileSelect)},this._onTimeSelect=e=>{const t=function(e){const[t,r]=e.split(":"),o=new Date;return o.setHours(Number(t),Number(r)),o}(e);this.setState({time:t},this._handleMobileSelect)},this._handleMobileSelect=()=>{F&&this._onSelect()},this._onKeyDown=e=>{e.stopPropagation()},this.state={date:this.props.initDateTime,time:this.props.initDateTime}}render(){const e=s.createElement(x.DatePicker,{minDate:this._todayMidnight,initial:this.state.date,InputComponent:H,withCalendar:!1,onPick:this._onDateSelect,revertInvalidData:!0}),t=s.createElement(B.TimeInput,{className:!F&&L.timeInput,value:(n=this.state.time,(0,O.twoDigitsFormat)(n.getHours())+":"+(0,O.twoDigitsFormat)(n.getMinutes())),onChange:this._onTimeSelect});var n;return F?s.createElement("div",{className:L.mobileDateTimeWrapper},this.props.durationMetaInfo.hasDatePicker&&s.createElement("div",{className:L.mobilePickerControl},s.createElement("span",{className:L.title},o.t(null,void 0,r(676912))),e),this.props.durationMetaInfo.hasTimePicker&&s.createElement("div",{className:L.mobilePickerControl},s.createElement("span",{className:L.title},o.t(null,void 0,r(631976))),t)):s.createElement("div",{className:L.wrapper,onKeyDown:this._onKeyDown},s.createElement("div",{className:L.dateTimeWrapper},this.props.durationMetaInfo.hasDatePicker&&e,this.props.durationMetaInfo.hasTimePicker&&t),this.props.durationMetaInfo.hasDatePicker&&s.createElement(I.Calendar,{key:this.state.date.valueOf(),selectedDate:this.state.date,minDate:this._todayMidnight,onSelect:this._onDateSelect,popupStyle:!1}),s.createElement("div",{className:L.buttonWrapper},s.createElement(D.Button,{className:L.button,type:"submit",size:"l",onClick:this._onSelect},this._makeButtonText())))}_makeButtonText(){const e=this.state.date.getFullYear(),t=this.state.date.toLocaleString("default",{month:"2-digit"
}),s=this.state.date.toLocaleString("default",{day:"2-digit"}),n=T(this.state.time);return o.t(null,void 0,r(127446)).replace("{dateTime}",`${e}-${t}-${s} ${n}`)}}var V=r(383241),R=r(598475);const A=new(p());function K(e){const{currentDuration:t,durationMetaInfoList:d,onDurationChanged:p,onClick:g}=e,b=(0,u.findDurationMetaInfo)(d,t.type);if(void 0===b)return null;const y=b.hasDatePicker||b.hasTimePicker,k=n.CheckMobile.any(),C=(0,s.useMemo)((()=>void 0!==t.datetime?new Date(t.datetime):["GTT","GTD"].includes(t.type)?(0,u.makeDatePlus24UTCHours)():new Date),[t.datetime,t.type]),E=(0,s.useMemo)((()=>M(C,b)),[C,b]),w=(0,s.useMemo)((()=>d.map((e=>({content:e.name,value:e.value})))),[d]),S=w.length<2,T=s.createElement(W,{durationMetaInfo:b,initDateTime:C,onSelect:function(t,r){const o=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),r.getUTCHours(),r.getUTCMinutes());e.onDurationChanged({type:e.currentDuration.type,datetime:o}),n.CheckMobile.iOS()||L()}});function D(e){return s.createElement(m.Select,{onClick:g,className:V.select,menuClassName:e?V.selectMenu:void 0,value:null==b?void 0:b.value,items:w,"data-name":"duration-type-selector",disabled:S,hideArrowButton:S,onChange:x,stretch:!0,matchButtonAndListboxWidths:!0})}const[P,N]=(0,s.useState)(!1),I=s.createElement(i.Input,{className:P&&!k?V.focused:null,inputClassName:V.dateTimePickerInput,value:E,"data-name":"duration-datetime-selector",stretch:!0,readonly:!0,intent:P&&!k?"primary":"default",noReadonlyStyles:!0,endSlot:s.createElement(l.EndSlot,{icon:!0,interactive:!1},s.createElement(a.Icon,{icon:R,className:V.icon}))});return s.createElement(v.MatchMedia,{rule:f.DialogBreakpoints.TabletSmall},(e=>s.createElement("div",{className:V.wrapper},s.createElement("span",{className:V.title},o.t(null,void 0,r(625318))),e?s.createElement(_.ToolWidgetMenu,{className:V.menuButton,content:D(e),arrow:!1,children:s.createElement(U,{menuItems:w,onTypeSelect:x}),isDrawer:!0,isDisabled:S,closeOnClickOutside:!0}):D(e),y&&(k?T:s.createElement(h.CloseDelegateContext.Provider,{value:A},s.createElement(_.ToolWidgetMenu,{className:V.dateTimePickerWrapper,content:I,arrow:!1,closeOnClickOutside:!0,verticalDropDirection:c.VerticalDropDirection.FromBottomToTop,horizontalDropDirection:c.HorizontalDropDirection.FromRightToLeft,horizontalAttachEdge:c.HorizontalAttachEdge.Right,verticalAttachEdge:c.VerticalAttachEdge.Top,onOpen:B,onClose:O},T))))));function B(){N(!0)}function O(){N(!1)}function x(e){const r={type:e},o=(0,u.findDurationMetaInfo)(d,e);void 0!==o&&(o.hasDatePicker||o.hasTimePicker)&&(r.datetime=t.datetime||(0,u.getTimestamp)((0,u.makeDatePlus24UTCHours)())),p(r),L()}function L(){void 0!==e.onClose&&e.onClose(),A.fire()}}function U(e){const{menuItems:t,onTypeSelect:r}=e;return s.createElement(s.Fragment,null,Object.values(t).map((e=>{var t;return s.createElement(g.PopupMenuItem,{key:e.value,label:null!==(t=e.content)&&void 0!==t?t:e.value,onClick:r,onClickArg:e.value})})))}},129018:(e,t,r)=>{"use strict";r.d(t,{QuantityCalculator:()=>C})
;var o=r(50959),s=r(960521),n=r(860152),i=r(544377),a=r(510618),l=r(493173),c=r(72571),u=r(600297),d=r(587125),p=r(886630),h=r(180185),m=r(173164),g=r(789048),_=r(801593),v=r(808787),f=r(776514);function b(e){const{min:t,max:r,step:s,uiStep:n,reference:i,withInput:a,valueInput:l,onChangeValueInput:b,onClick:y,onClose:k,onFocus:C}=e,[E,w]=(0,o.useState)(!1),[S,T]=(0,o.useState)(void 0),[M,D]=(0,o.useState)(!1),P=o.createElement(c.Icon,{className:f.buttonIcon,icon:g}),N=o.createElement(c.Icon,{className:f.buttonIcon,icon:m}),I=o.createElement(c.Icon,{className:f.buttonIcon,icon:_}),B=o.createElement(c.Icon,{className:f.buttonIcon,icon:v}),O=(0,o.useCallback)((e=>{const o={min:t,max:r,step:s},n=(0,p.checkQtyError)(o,e,!0),i=M||n.res,a=M?undefined:n.msg;w(i),T(a)}),[M,t,r,s]);return(0,o.useEffect)((()=>{O(l)}),[O,l]),o.createElement("div",{className:f.calculator,tabIndex:-1,ref:i,onFocus:C,onKeyDown:e=>{l&&!E&&13===(0,h.hashFromEvent)(e)&&k()}},a&&o.createElement("div",{className:f.calculator__inputBorder},o.createElement(d.NumberInput,{className:f.calculator__input,inputClassName:f.calculator__innerInput,borderStyle:"none",value:l,max:r,min:t,step:s,uiStep:n,mode:"float",error:E,errorMessage:S,errorHandler:function(e){D(e)},onValueChange:b})),o.createElement("div",{className:f.calculator__btns},o.createElement(u.Button,{value:-s,type:u.ButtonType.IncDec,icon:P,onClick:y}),o.createElement(u.Button,{value:s,type:u.ButtonType.IncDec,icon:N,onClick:y}),o.createElement(u.Button,{value:1,type:u.ButtonType.PlusValue,onClick:y}),o.createElement(u.Button,{value:5,type:u.ButtonType.PlusValue,onClick:y}),o.createElement(u.Button,{value:25,type:u.ButtonType.PlusValue,onClick:y}),o.createElement(u.Button,{value:100,type:u.ButtonType.PlusValue,onClick:y}),o.createElement(u.Button,{value:500,type:u.ButtonType.PlusValue,onClick:y}),o.createElement(u.Button,{value:1e3,type:u.ButtonType.PlusValue,onClick:y}),o.createElement(u.Button,{value:0,type:u.ButtonType.Clear,icon:I,onClick:y}),o.createElement(u.Button,{value:t||s,type:u.ButtonType.Default,icon:B,onClick:y})))}var y=r(174369);const k=(0,l.mergeThemes)(a.DEFAULT_MENU_THEME,{menuBox:y.menuBox});class C extends o.PureComponent{constructor(e){super(e),this._setCalcRef=e=>{this.props.calcReference&&this.props.calcReference(e)},this._calculatorStepHandler=(e,t)=>{const{min:r,max:o,uiStep:i,trackEventTarget:a,trackEvent:l}=this.props;if(void 0!==l&&void 0!==a&&l(a,"Calculator Button",(0,n.prepareCalculatorEventText)(e,t)),t===u.ButtonType.Clear||t===u.ButtonType.Default)return this._updateValueByCalc(e);const c=this.props.valueGetter();if(null===c)return;let d=Number((0,s.Big)(c).plus(e));if((d<r||o<d)&&t!==u.ButtonType.IncDec)return this._updateValueByCalc(c);if(t===u.ButtonType.IncDec){if(d=this._calcByStep(c,e,r,i),o<d)return this._updateValueByCalc(o);if(d<r)return this._updateValueByCalc(r)}return this._updateValueByCalc(d)},this._updateValueByCalc=e=>{this._handlerValueInput(e),this.props.onValueChange(e,!0),void 0!==this.props.errorHandler&&this.props.errorHandler(!1),
this.props.calculatorUsedStat&&this.props.calculatorUsedStat()},this.state={valueInput:e.valueGetter()},this._handlerValueInput=this._handlerValueInput.bind(this)}render(){const{min:e,max:t,step:r,uiStep:s,withInput:n,targetEl:a,position:l,onFocus:c,onClose:u,onClickOutside:d,onKeyboardClose:p}=this.props;return o.createElement(i.PopupMenu,{isOpened:!0,onClose:u,onClickOutside:d,onKeyboardClose:p,position:l,doNotCloseOn:a,theme:k},o.createElement(b,{min:e,max:t,step:r,uiStep:s,withInput:n,reference:this._setCalcRef,valueInput:this.state.valueInput,onChangeValueInput:this._updateValueByCalc,onClick:this._calculatorStepHandler,onFocus:c,onClose:u}))}_calcByStep(e,t,r,o){const n=Math.sign(t),i=Math.abs(null!=o?o:t),a=new s.Big(e),l=a.minus(r).mod(t);let c=a.plus(n*i);return l.eq(0)||(c=c.plus((n>0?0:1)*i).minus(l)),c.toNumber()}_handlerValueInput(e){this.setState({valueInput:e})}}},73288:(e,t,r)=>{"use strict";r.d(t,{OverlayScrollContainer:()=>h});var o=r(50959),s=r(497754),n=r.n(s),i=r(650151),a=r(218954),l=r(561626);const c=r(82461);function u(e){const{size:t,scrollSize:r,clientSize:s,scrollProgress:u,onScrollProgressChange:d,horizontal:p,theme:h=c,onDragStart:m,onDragEnd:g,minBarSize:_=40}=e,v=(0,o.useRef)(null),f=(0,o.useRef)(null),[b,y]=(0,o.useState)(!1),k=(0,o.useRef)(0);(0,o.useEffect)((()=>{const e=(0,i.ensureNotNull)(v.current).ownerDocument;return b?(m&&m(),e&&(e.addEventListener("mousemove",M),e.addEventListener("mouseup",D))):g&&g(),()=>{e&&(e.removeEventListener("mousemove",M),e.removeEventListener("mouseup",D))}}),[b]);const C=t/r||0,E=s*C||0,w=Math.max(E,_),S=(t-w)/(t-E),T=function(e){if((0,l.isRtl)()&&p)return e-r+s;return e}((0,a.clamp)(u,0,r-t));return o.createElement("div",{ref:v,className:n()(h.wrap,p&&h["wrap--horizontal"]),style:{[p?"width":"height"]:t},onMouseDown:function(e){if(e.isDefaultPrevented())return;e.preventDefault();const o=(0,i.ensureNotNull)(f.current).getBoundingClientRect();k.current=(p?o.width:o.height)/2;const s=r-t;let n=P(e.nativeEvent,(0,i.ensureNotNull)(v.current))-k.current;n<0?(n=0,k.current=P(e.nativeEvent,(0,i.ensureNotNull)(v.current))):n>s*C*S&&(n=s*C*S,k.current=P(e.nativeEvent,(0,i.ensureNotNull)(v.current))-n);d(n/C/S),y(!0)}},o.createElement("div",{ref:f,className:n()(h.bar,p&&h["bar--horizontal"]),style:{[p?"minWidth":"minHeight"]:_,[p?"width":"height"]:w,transform:`translate${p?"X":"Y"}(${T*C*S||0}px)`},onMouseDown:function(e){e.preventDefault(),k.current=P(e.nativeEvent,(0,i.ensureNotNull)(f.current)),y(!0)}},o.createElement("div",{className:n()(h.barInner,p&&h["barInner--horizontal"])})));function M(e){const t=P(e,(0,i.ensureNotNull)(v.current))-k.current;d(t/C/S)}function D(e){y(!1)}function P(e,t){const r=t.getBoundingClientRect();return p?e.clientX-r.left:e.clientY-r.top}}var d=r(921258),p=r(574292);function h(e){const{reference:t,className:r,containerHeight:n=0,containerWidth:i=0,contentHeight:a=0,contentWidth:l=0,scrollPosTop:c=0,scrollPosLeft:h=0,onVerticalChange:m,onHorizontalChange:g,visible:_}=e,[v,f]=(0,d.useHover)(),[b,y]=(0,
o.useState)(!1),k=n<a,C=i<l,E=k&&C?8:0;return o.createElement("div",{...f,ref:t,className:s(r,p.scrollWrap),style:{visibility:_||v||b?"visible":"hidden"}},k&&o.createElement(u,{size:n-E,scrollSize:a-E,clientSize:n-E,scrollProgress:c,onScrollProgressChange:function(e){m&&m(e)},onDragStart:w,onDragEnd:S}),C&&o.createElement(u,{size:i-E,scrollSize:l-E,clientSize:i-E,scrollProgress:h,onScrollProgressChange:function(e){g&&g(e)},onDragStart:w,onDragEnd:S,horizontal:!0}));function w(){y(!0)}function S(){y(!1)}}},109955:(e,t,r)=>{"use strict";r.d(t,{OverlayScrollWrapper:()=>c});var o=r(50959),s=r(497754),n=r.n(s),i=r(73288),a=r(139043),l=r(10283);function c(e){const{children:t,className:r,reference:s,hasCustomTouchScrollAnimation:c,scrollContainerRef:u,...d}=e,[p,h,m,g]=(0,a.useOverlayScroll)(u,c);return(0,o.useImperativeHandle)(s,(()=>({updateScrollState:g}))),o.createElement("div",{...d,...h,className:n()(l.container,r)},o.createElement(i.OverlayScrollContainer,{...p,className:l.overlayScrollWrap}),o.createElement("div",{className:l.wrapper,ref:function(e){m.current=e},onScroll:g},t))}},585938:(e,t,r)=>{"use strict";r.d(t,{useForceUpdate:()=>s});var o=r(50959);const s=()=>{const[,e]=(0,o.useReducer)((e=>e+1),0);return e}},139043:(e,t,r)=>{"use strict";r.d(t,{useOverlayScroll:()=>l});var o=r(50959),s=r(650151),n=r(921258),i=r(601227);const a={onMouseOver:()=>{},onMouseOut:()=>{}};function l(e,t=i.CheckMobile.any()){const r=(0,o.useRef)(null),l=e||(0,o.useRef)(null),[c,u]=(0,n.useHover)(),[d,p]=(0,o.useState)({reference:r,containerHeight:0,containerWidth:0,contentHeight:0,contentWidth:0,scrollPosTop:0,scrollPosLeft:0,onVerticalChange:function(e){p((t=>({...t,scrollPosTop:e}))),(0,s.ensureNotNull)(l.current).scrollTop=e},onHorizontalChange:function(e){p((t=>({...t,scrollPosLeft:e}))),(0,s.ensureNotNull)(l.current).scrollLeft=e},visible:c}),h=(0,o.useCallback)((()=>{if(!l.current)return;const{clientHeight:e,scrollHeight:t,scrollTop:o,clientWidth:s,scrollWidth:n,scrollLeft:i}=l.current,a=r.current?r.current.offsetTop:0;p((r=>({...r,containerHeight:e-a,contentHeight:t-a,scrollPosTop:o,containerWidth:s,contentWidth:n,scrollPosLeft:i})))}),[]);function m(){p((e=>({...e,scrollPosTop:(0,s.ensureNotNull)(l.current).scrollTop,scrollPosLeft:(0,s.ensureNotNull)(l.current).scrollLeft})))}return(0,o.useEffect)((()=>{c&&h(),p((e=>({...e,visible:c})))}),[c]),(0,o.useEffect)((()=>{const e=l.current;return e&&e.addEventListener("scroll",m),()=>{e&&e.removeEventListener("scroll",m)}}),[l]),[d,t?a:u,l,h]}},327871:(e,t,r)=>{"use strict";r.d(t,{KeyCode:()=>o,makeKeyboardListener:()=>i});var o,s=r(50959);!function(e){e[e.Enter=13]="Enter",e[e.Space=32]="Space",e[e.Backspace=8]="Backspace",e[e.DownArrow=40]="DownArrow",e[e.UpArrow=38]="UpArrow",e[e.RightArrow=39]="RightArrow",e[e.LeftArrow=37]="LeftArrow",e[e.Escape=27]="Escape",e[e.Tab=9]="Tab"}(o||(o={}));class n{constructor(){this._handlers=new Map}registerHandlers(e){Object.keys(e).forEach((t=>{const r=parseInt(t);let o=e[r];if(Array.isArray(o)||(o=[o]),this._handlers.has(r)){
const e=this._handlers.get(r);e&&o.forEach((t=>e.add(t)))}else this._handlers.set(r,new Set(o))}))}unregisterHandlers(e){Object.keys(e).forEach((t=>{const r=parseInt(t);let o=e[r];if(Array.isArray(o)||(o=[o]),this._handlers.has(r)){const e=this._handlers.get(r);e&&o.forEach((t=>e.delete(t)))}}))}deleteAllHandlers(){this._handlers=new Map}registerHandler(e,t){if(this._handlers.has(e)){const r=this._handlers.get(e);r&&r.add(t)}else this._handlers.set(e,new Set([t]))}unregisterHandler(e,t){if(this._handlers.has(e)){const r=this._handlers.get(e);r&&r.delete(t)}}listen(e){if(this._handlers.has(e.keyCode)){const t=this._handlers.get(e.keyCode);t&&t.forEach((t=>t(e)))}}}function i(e){var t,r,o;return(o=class extends s.PureComponent{constructor(e){super(e),this._keyboardListener=new n,this._listener=this._keyboardListener.listen.bind(this._keyboardListener)}componentDidMount(){this._registerHandlers(this.props.keyboardEventHandlers)}componentDidUpdate(e){e.keyboardEventHandlers!==this.props.keyboardEventHandlers&&this._registerHandlers(this.props.keyboardEventHandlers)}render(){const{keyboardEventHandlers:t,...r}=this.props;return s.createElement(e,{...r,onKeyDown:this._listener})}_registerHandlers(e){e&&(this._keyboardListener.deleteAllHandlers(),this._keyboardListener.registerHandlers(e))}}).displayName=`KeyboardListener(${null!==(r=null!==(t=e.displayName)&&void 0!==t?t:e.name)&&void 0!==r?r:"Component"})`,o}},768766:(e,t,r)=>{"use strict";r.d(t,{DEFAULT_SLIDER_THEME:()=>a,SliderItem:()=>l,factory:()=>c,SliderRow:()=>u});var o=r(50959),s=r(497754),n=r(650151),i=r(586355);const a=i;function l(e){const t=s(e.className,i.tab,{[i.active]:e.isActive,[i.disabled]:e.isDisabled,[i.defaultCursor]:!!e.shouldUseDefaultCursor,[i.noBorder]:!!e.noBorder});return o.createElement("div",{className:t,onClick:e.onClick,ref:e.reference,"data-type":"tab-item","data-value":e.value,"data-name":"tab-item-"+e.value.toString().toLowerCase()},e.children)}function c(e){return class extends o.PureComponent{constructor(){super(...arguments),this.activeTab={current:null}}componentDidUpdate(){(0,n.ensureNotNull)(this._slider).style.transition="transform 350ms",this._componentDidUpdate()}componentDidMount(){this._componentDidUpdate()}render(){const{className:t}=this.props,r=this._generateTabs();return o.createElement("div",{className:s(t,i.tabs),"data-name":this.props["data-name"]},r,o.createElement(e,{reference:e=>{this._slider=e}}))}_generateTabs(){return this.activeTab.current=null,o.Children.map(this.props.children,(e=>{const t=e,r=Boolean(t.props.isActive),s={reference:e=>{r&&(this.activeTab.current=e),t.props.reference&&t.props.reference(e)}};return o.cloneElement(t,s)}))}_componentDidUpdate(){const e=(0,n.ensureNotNull)(this._slider).style;if(this.activeTab.current){const t=this.activeTab.current.offsetWidth,r=this.activeTab.current.offsetLeft;e.transform=`translateX(${r}px)`,e.width=`${t}px`,e.opacity="1"}else e.opacity="0"}}}const u=c((function(e){return o.createElement("div",{className:i.slider,ref:e.reference})}))},838683:(e,t,r)=>{
"use strict";r.d(t,{VerticalAttachEdge:()=>o,HorizontalAttachEdge:()=>s,VerticalDropDirection:()=>n,HorizontalDropDirection:()=>i,getPopupPositioner:()=>c});var o,s,n,i,a=r(650151);!function(e){e[e.Top=0]="Top",e[e.Bottom=1]="Bottom"}(o||(o={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(s||(s={})),function(e){e[e.FromTopToBottom=0]="FromTopToBottom",e[e.FromBottomToTop=1]="FromBottomToTop"}(n||(n={})),function(e){e[e.FromLeftToRight=0]="FromLeftToRight",e[e.FromRightToLeft=1]="FromRightToLeft"}(i||(i={}));const l={verticalAttachEdge:o.Bottom,horizontalAttachEdge:s.Left,verticalDropDirection:n.FromTopToBottom,horizontalDropDirection:i.FromLeftToRight,verticalMargin:0,horizontalMargin:0,matchButtonAndListboxWidths:!1};function c(e,t){return(r,c)=>{const u=(0,a.ensureNotNull)(e).getBoundingClientRect(),{verticalAttachEdge:d=l.verticalAttachEdge,verticalDropDirection:p=l.verticalDropDirection,horizontalAttachEdge:h=l.horizontalAttachEdge,horizontalDropDirection:m=l.horizontalDropDirection,horizontalMargin:g=l.horizontalMargin,verticalMargin:_=l.verticalMargin,matchButtonAndListboxWidths:v=l.matchButtonAndListboxWidths}=t,f=d===o.Top?-1*_:_,b=h===s.Right?u.right:u.left,y=d===o.Top?u.top:u.bottom,k={x:b-(m===i.FromRightToLeft?r:0)+g,y:y-(p===n.FromBottomToTop?c:0)+f};return v&&(k.overrideWidth=u.width),k}}},300646:(e,t,r)=>{"use strict";r.r(t),r.d(t,{closeOrderDialog:()=>er,mountOrderPanel:()=>rr,showOrderDialog:()=>Jt,unmountOrderPanel:()=>or});var o,s=r(50959),n=r(500962),i=r(497754),a=r.n(i),l=r(601227),c=r(650151),u=r(180185),d=r(509806),p=r(870122),h=r(484727),m=r(817808),g=r(128943),_=r(74752),v=r(661851),f=r(901317),b=r(363111);!function(e){e.XSmall="xsmall",e.Small="small",e.Medium="medium",e.Large="large",e.XLarge="xlarge"}(o||(o={}));var y=r(629084),k=r.n(y);function C(e){const{size:t=o.Medium,className:r}=e;return a()(k().badge,t&&k()[`size-${t}`],r)}function E(e){const{children:t,contentClassName:r}=e;return s.createElement("span",{className:a()(k().content,r)},t)}function w(e){const{size:t,children:r,className:o,contentClassName:n,...i}=e;return s.createElement("span",{...i,className:C({size:t,className:o})},s.createElement(E,{contentClassName:n},r))}var S=r(122621),T=r(305560);function M(e){return e===S.RestrictionType.HardToBorrow?T.hardToBorrow:e===S.RestrictionType.Halted?T.halted:null}function D(e){return s.createElement("div",{className:T.restrictions},e.restrictionTypes.map(((e,t)=>s.createElement(w,{key:t,size:o.Small,className:a()(T.restriction,M(e))},e))))}var P=r(742271);const N=d.t(null,void 0,r(392553)),I=d.t(null,void 0,r(618156)),B=d.t(null,void 0,r(93875));class O extends s.PureComponent{constructor(e){super(e),this._isLongValue=!1,this._maxDigitsNumber=7,this._createClickHandler=e=>()=>this.props.onSideChanged(e),this._isLongValue=Boolean(this.props.quotes.spread&&this.props.quotes.spread.toString().length>this._maxDigitsNumber||this.props.quotes.ask&&this.props.quotes.ask.toString().length>this._maxDigitsNumber)}render(){
const e=i(P.sideControl,[b.OrderPanelStatus.Editing,b.OrderPanelStatus.Preview].includes(this.props.status)&&P.disable),t=i(P.section,P.sell,this.props.status!==b.OrderPanelStatus.Wait&&-1===this.props.side&&P.active),r=i(P.section,P.buy,this.props.status!==b.OrderPanelStatus.Wait&&1===this.props.side&&P.active),o=this.props.quotes.bid?s.createElement("div",null,this.props.quotes.bid):s.createElement("div",{className:P.valueNoData},B),n=this.props.quotes.ask?s.createElement("div",null,this.props.quotes.ask):s.createElement("div",{className:P.valueNoData},B);return s.createElement(s.Fragment,null,0!==this.props.restrictionTypes.length&&s.createElement("div",{className:P.restrictions},s.createElement(D,{restrictionTypes:this.props.restrictionTypes})),s.createElement("div",{className:e},s.createElement("div",{className:t,onClick:this._createClickHandler(-1),tabIndex:-1,"data-name":"side-control-sell"},s.createElement("div",{className:P.title},s.createElement("span",{className:this.props.currencyForCrypto&&P.typeSide},N),this.props.currencyForCrypto&&s.createElement("span",null,this.props.currencyForCrypto)),s.createElement("div",{className:P.value},o)),s.createElement("div",{className:r,onClick:this._createClickHandler(1),tabIndex:-1,"data-name":"side-control-buy"},s.createElement("div",{className:P.title},s.createElement("span",{className:this.props.currencyForCrypto&&P.typeSide},I),this.props.currencyForCrypto&&s.createElement("span",{className:P.typeSide},this.props.currencyForCrypto)),s.createElement("div",{className:P.value},n)),this.props.quotes.spread&&s.createElement("div",{className:i(P.spread,this._isLongValue&&P.isLongValue),"data-name":"side-control-spread"},this.props.quotes.spread)))}}function x(e){const{model:t,disabled:r}=e,o=(0,v.useObservable)(t.value$,t.getValue()),n=(0,v.useObservable)(t.formattedQuotes$,t.getFormattedQuotes()),i=(0,v.useObservable)(t.restrictionTypes$,t.getRestrictionTypes()),[a]=(0,f.useWatchedValue)(t.status);return s.createElement(O,{quotes:n,side:o,status:a,restrictionTypes:i,currencyForCrypto:t.baseCurrency,onSideChanged:e=>{r||(t.setValue(e),t.onControlFocused.fire())}})}var L=r(805184),z=r(564245),F=r(585938),H=r(72571),W=r(932804),V=r(364366);const R={cancel:d.t(null,void 0,r(620036)),sendOrder:d.t(null,void 0,r(493472))};function A(e){const t=(0,s.useRef)(null),r=(0,F.useForceUpdate)();(0,s.useEffect)((()=>{const o=()=>r();return(0,c.ensureNotNull)(t.current).focus(),e.loading.subscribe(o),e.model.infoTableQuotesData().subscribe(o),()=>{e.loading.unsubscribe(o),e.model.infoTableQuotesData().unsubscribe(o)}}));const o=s.createElement(z.InfoTable,{rows:e.model.infoTableQuotesData().value().rows,header:e.model.infoTableQuotesData().value().header}),n=s.createElement(z.InfoTable,{rows:e.model.infoTableOrderData().rows,header:e.model.infoTableOrderData().header}),i=e.model.infoTableCustomData().map(((e,t)=>s.createElement(z.InfoTable,{key:`custom-${t}`,rows:e.rows,header:e.header}))),a=0!==e.model.warnings.length&&s.createElement("div",{className:W.warning
},s.createElement(H.Icon,{className:W.warning__icon,icon:V}),s.createElement("div",null,e.model.warnings.map((e=>s.createElement("div",{key:e},e))))),l=0!==e.model.errors.length,u=l&&s.createElement("div",{className:W.error},e.model.errors.map((e=>s.createElement("div",{key:e},e))));return s.createElement(s.Fragment,null,s.createElement("div",{className:W.content},o,s.createElement("div",{className:W.separator}),n,0!==i.length&&s.createElement("div",{className:W.separator}),i,u,a),s.createElement("div",{className:W.controls},s.createElement("div",{className:W.button},s.createElement(L.Button,{useFullWidth:!0,size:"l",intent:-1===e.side?"danger":"primary",onClick:e.model.onPlaceClick,reference:t,disabled:l||e.loading.value()},R.sendOrder)),s.createElement("div",{className:W.button},s.createElement(L.Button,{useFullWidth:!0,size:"l",intent:"default",appearance:"stroke",onClick:e.model.onCancelClick},R.cancel))))}var K=r(768766);class U extends s.PureComponent{constructor(){super(...arguments),this._createClickHandler=e=>()=>{this.props.disabled||this.props.onSelect(e)}}render(){const e=this._generateTabs();return s.createElement("div",null,s.createElement(K.SliderRow,null,e),s.createElement("div",null,this.props.children[this.props.activeTab||0]))}_generateTabs(){const{activeTab:e,disabled:t}=this.props;return s.Children.map(this.props.children,((r,o)=>{const n=void 0!==r.props.id?r.props.id:o;return s.createElement(K.SliderItem,{value:n,isActive:e===n,isDisabled:t,shouldUseDefaultCursor:!!this.props.shouldUseDefaultCursor,noBorder:!!this.props.noBorder,onClick:this._createClickHandler(n)},r.props.title)}))}}function Z(e){return s.createElement("div",null,e.children)}var j=r(40481);const q=d.t(null,void 0,r(359758)),Y=d.t(null,void 0,r(398157)),X=d.t(null,void 0,r(905023)),G=d.t(null,void 0,r(802654));class $ extends s.PureComponent{constructor(e){super(e),this._callback=()=>this.forceUpdate()}componentDidMount(){this.context.resizerWidth&&this.context.resizerWidth.subscribe(this._callback)}componentWillUnmount(){this.context.resizerWidth&&this.context.resizerWidth.unsubscribe(this._callback)}render(){const e=[];return this.props.supportMarketOrders&&e.push(s.createElement(Z,{key:2,title:q,id:2})),this.props.supportLimitOrders&&e.push(s.createElement(Z,{key:1,title:Y,id:1})),this.props.supportStopOrders&&e.push(s.createElement(Z,{key:3,title:X,id:3})),this.props.supportStopLimitOrders&&e.push(s.createElement(Z,{key:4,title:G,id:4})),s.createElement(s.Fragment,null,s.createElement("div",{className:j.tabsContainer,tabIndex:-1},s.createElement(U,{activeTab:this.props.activeTab,shouldUseDefaultCursor:!0,onSelect:this.props.onSelect,disabled:this.props.disabled,noBorder:!0},e)),s.createElement("div",{className:j.separator}))}}$.contextType=b.Context;var Q=r(788865),J=r(380327),ee=r(587125),te=r(923235),re=r(129018),oe=r(972535),se=r(914987),ne=r(488075),ie=r(473872);const ae=parseInt(ie["css-value-calculator-width"]);class le extends s.PureComponent{constructor(e){super(e),this._control=null,this._input=null,
this._calc=null,this._getCurrentValue=()=>this.props.value||0,this._getDropdownPosition=()=>{if(null===this._control)return{x:0,y:0};const e=this._control.getBoundingClientRect();return{x:e.left+e.width-ae,y:e.bottom+2}},this._onFocus=e=>{const t=(0,c.ensureNotNull)(this._calc);!oe.mobiletouch&&t.contains(e.target)&&(0,c.ensureNotNull)(this._input).focus()},this._setRef=e=>{this._control=e},this._setCalcRef=e=>{this._calc=e},this._setInputRef=e=>{this._input=e},this._onKeyDown=e=>{!this.state.isOpened||13!==e.keyCode&&27!==e.keyCode||(e.stopPropagation(),this.setState({isOpened:!1})),Object.values(b.CalculatorDecKeyCodes).includes(e.keyCode)||Object.values(b.CalculatorIncKeyCodes).includes(e.keyCode)||this.setState({isOpened:!1}),this.props.onKeyDown&&this.props.onKeyDown(e)},this._onClickOutside=e=>{this._calc&&!this._calc.contains(e.target)&&this.setState({isOpened:!1})},this._updateValue=e=>{this.props.onValueChange(e)},this._toggle=()=>{this.setState((e=>({isOpened:!e.isOpened})))},this._setInputFocus=e=>{null!==e&&(e.focus(),e.setSelectionRange(e.value.length,e.value.length))},this.state={isOpened:!1}}componentDidMount(){5===this.props.focus&&this._setInputFocus(this._input)}render(){const{min:e,max:t,step:r,uiStep:o,error:n,errorMessage:a,className:l,errorHandler:c,highlight:u,highlightRemoveRoundBorder:d,intent:p,fontSizeStyle:h,...m}=this.props,g=s.createElement(H.Icon,{icon:se,className:i(ne.calculatorIcon,this.state.isOpened&&ne.isOpened),onClick:this._toggle});return s.createElement(te.OutsideEvent,{click:!0,mouseDown:!0,touchStart:!0,handler:this._onClickOutside},(i=>s.createElement("span",{ref:i},s.createElement(ee.NumberInput,{value:this.props.value||0,alwaysUpdateValueFromProps:!0,shouldApplyValueOnBlur:!1,formatter:this.props.formatter,className:l,containerReference:this._setRef,inputReference:this._setInputRef,button:g,onValueChange:this._updateValue,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onKeyDown:this._onKeyDown,error:n,errorMessage:a,errorHandler:c,min:e,max:t,step:r,uiStep:o,controlDecKeyCodes:this.state.isOpened?[b.CalculatorDecKeyCodes.Minus,b.CalculatorDecKeyCodes.NumMinus,b.CalculatorDecKeyCodes.FirefoxMinus]:void 0,controlIncKeyCodes:this.state.isOpened?[b.CalculatorIncKeyCodes.Plus,b.CalculatorIncKeyCodes.NumPlus,b.CalculatorIncKeyCodes.FirefoxPlus]:void 0,highlight:u,highlightRemoveRoundBorder:d,intent:p,fontSizeStyle:h}),this.state.isOpened&&s.createElement(re.QuantityCalculator,{...m,min:e,max:t,step:r,uiStep:o,valueGetter:this._getCurrentValue,position:this._getDropdownPosition(),targetEl:this._control,calcReference:this._setCalcRef,onClose:this._toggle,onFocus:this._onFocus,errorHandler:c,trackEventTarget:"Order Ticket"}))))}}function ce(e){const{control:t,focus:r,min:o,max:n,step:a,uiStep:l,type:c,error:u,errorMessage:d,errorHandler:p,label:h,formatter:m,className:g,status:_,trackEvent:f,highlight:y,highlightRemoveRoundBorder:k,intent:C,fontSizeStyle:E}=e,w=(0,v.useObservable)(t.value$,t.getValue()),S=()=>{e.onFocus&&e.onFocus(c)},T={value:w||0,step:a,uiStep:l,
className:i(ne.input,_===b.OrderPanelStatus.Wait&&ne.wait),error:u,errorMessage:d,errorHandler:p,onFocus:S,formatter:m,onValueChange:e=>{S(),t.setValue(e),t.onModifiedCallback()},calculatorUsedStat:()=>t.calculatorUsedStat(),highlight:y,highlightRemoveRoundBorder:k,intent:C,fontSizeStyle:E},M=n||9e15,D=0===c?s.createElement(le,{...T,focus:r,min:o||a,max:M,trackEvent:f}):s.createElement(ee.NumberInput,{...T,step:.01,min:o,max:M});return s.createElement("div",{className:i(g,ne.control)},s.createElement("div",{className:ne.label}," ",h," "),D)}var ue=r(895318);const de=d.t(null,void 0,r(563833)),pe=d.t(null,void 0,r(125933)),he=d.t(null,void 0,r(357653));class me extends s.PureComponent{constructor(e){super(e),this._subscriptions=[],this._onFocus=e=>{e!==this.props.model.getFocusedControl()&&this.props.model.setFocusedControl(e),this.props.model.onControlFocused.fire()},this._errorHandler=e=>{this.props.model.setControlError(e)},this._callback=()=>this.forceUpdate()}componentDidMount(){this._subscribeToModel(this.props.model)}componentWillUnmount(){this._unsubscribeFromModel()}render(){var e;const t=this.context.value,{model:r,symbolHasLotSize:o,status:n,trackEvent:a,focus:l}=this.props,c=r.getError(),u={errorHandler:this._errorHandler,error:c,status:n,onFocus:this._onFocus,trackEvent:a,fontSizeStyle:"medium"},d=Boolean(c&&c.res),p=c&&c.msg,h=r.showRiskControls&&r.isRiskAvailable()&&(t.showPercentRiskInQty||t.showCurrencyRiskInQty);return s.createElement(s.Fragment,null,s.createElement(J.ControlGroupContext.Provider,{value:this._getGroupContextValue(!0,!h)},s.createElement(ce,{...u,...this._generateHighlightProps(0),control:r.quantity,min:r.qty.min,max:r.qty.max,step:r.qty.step,uiStep:r.qty.uiStep,type:0,formatter:r.formatter,label:null!==(e=r.units)&&void 0!==e?e:o?he:pe,className:i(!h&&ne.single,ne.units),focus:l,error:d&&this._isSelectedControl(0),errorMessage:p})),h&&s.createElement("div",{className:ne.risk},t.showCurrencyRiskInQty&&s.createElement(J.ControlGroupContext.Provider,{value:this._getGroupContextValue(!1,!t.showPercentRiskInQty)},s.createElement(ce,{...u,...this._generateHighlightProps(1),control:r.riskInCurrency,step:r.riskStep,type:1,formatter:r.riskInCurrencyFormatter,label:r.currency+" "+de,error:d&&this._isSelectedControl(1),errorMessage:p})),t.showPercentRiskInQty&&s.createElement(J.ControlGroupContext.Provider,{value:this._getGroupContextValue(!1,!0)},s.createElement(ce,{...u,...this._generateHighlightProps(2),control:r.riskInPercent,step:r.riskStep,type:2,formatter:r.riskInPercentFormatter,label:"% "+de,error:d&&this._isSelectedControl(2),errorMessage:p}))))}_generateHighlightProps(e){const t=this.props.model.getError(),r=this.props.model.isRiskAvailable()?this._isSelectedControl(e):void 0;return{highlight:(this.context.value.showCurrencyRiskInQty||this.context.value.showPercentRiskInQty)&&(0===e?r:this._isSelectedControl(e)),highlightRemoveRoundBorder:0,intent:Boolean(t&&t.res)&&this._isSelectedControl(e)?"danger":void 0}}_isSelectedControl(e){
return this.props.status!==b.OrderPanelStatus.Wait&&this.props.model.getFocusedControl()===e}_subscribeToModel(e){this._subscriptions=[e.focusedControl$.subscribe(this._callback),e.isRiskAvailable$.subscribe(this._callback),e.error$.subscribe(this._callback)]}_unsubscribeFromModel(){this._subscriptions.forEach((e=>e.unsubscribe()))}_getGroupContextValue(e,t){return{isGrouped:!0,disablePositionAdjustment:!0,cellState:{isTop:!0,isRight:t,isBottom:!0,isLeft:e}}}}me.contextType=ue.SettingsContext;var ge=r(493455),_e=r(960521),ve=r(544377),fe=r(192063),be=r(763802),ye=r(408446);const ke=[1,5,10,25,50,75,100];function Ce(e){const{control:t,controlType:r,error:o,side:n,focusedControl:a,setFocusedControl:l}=e,d=(0,s.useRef)(null),p=(0,s.useRef)(null),h=(0,v.useObservable)(t.value$,t.getValue()),m=(0,v.useObservable)(e.balanceValue$,null),[g,_]=(0,s.useState)(!1),[f,y]=(0,s.useState)(0),k=Boolean(o&&o.res),C=o&&o.msg;return(0,s.useEffect)((()=>{var t;5===e.initialFocus&&null!==(t=p.current)&&(t.focus(),t.setSelectionRange(t.value.length,t.value.length))}),[]),s.createElement(s.Fragment,null,s.createElement(ee.NumberInput,{...function(e){const t={highlightRemoveRoundBorder:0};S(e)&&(t.highlight=!0);Boolean(o&&o.res)&&S(e)&&(t.intent="danger");return t}(r),value:h,onBlur:e.forceRoundByStep?function(){if(null!==h&&void 0!==e.step){const t=new _e.Big(h),r=t.mod(e.step);if(!r.eq(0)){E(t.minus(r).toNumber())}}}:void 0,onValueChange:E,min:e.min,step:e.step,formatter:e.formatter,errorMessage:C,errorHandler:e.setControlError,error:k&&S(r),inputReference:function(e){p.current=e},innerLabel:g?void 0:s.createElement("span",{className:ye.label},e.label),onFocus:()=>(l(r),void e.onControlFocused.fire()),className:i(ye.input,e.status===b.OrderPanelStatus.Wait&&ye.wait),button:w()?s.createElement(be.CaretButton,{isDropped:g,onClick:function(){_(!g)}}):s.createElement(s.Fragment,null),containerReference:function(e){d.current=e},alwaysUpdateValueFromProps:e.forceRoundByStep,fontSizeStyle:e.fontSizeStyle}),w()&&null!==m&&s.createElement(ve.PopupMenu,{position:function(){const e=(0,c.ensureNotNull)(d.current).getBoundingClientRect();return y(e.width),{x:e.left,y:e.top+e.height+1}},onClose:T,isOpened:g,doNotCloseOn:d.current,onKeyDown:function(e){if(27===(0,u.hashFromEvent)(e))g&&(e.preventDefault(),T())},minWidth:f},ke.map((r=>{const o=function(e){return(0,_e.Big)((0,c.ensureNotNull)(m)).mul(.01).mul(e).toNumber()}(r),n=s.createElement(s.Fragment,null,r+"%  ",s.createElement("span",{className:ye.value},"("+e.formatter.format(o)+" "+e.label+")"));return s.createElement(fe.PopupMenuItem,{key:r.toString(),className:ye.popupMenuItem,label:n,onClick:()=>t.setValue(o)})}))));function E(r){t.setValue(r),e.onModifiedCallback()}function w(){return null!==m&&m>0&&(-1===n?3===r:4===r)}function S(t){return e.status!==b.OrderPanelStatus.Wait&&a===t}function T(){_(!1),(0,c.ensureNotNull)(d.current).focus()}}function Ee(e){const{model:t,className:o,status:n}=e,a=(0,v.useObservable)(t.quoteCurrencyUiParams$),l=(0,v.useObservable)(t.error$,t.getError()),c=(0,
v.useObservable)(t.focusedControl$,t.getFocusedControl()),u={side:(0,v.useObservable)(t.side$,t.getSide()),status:n,formatter:t.formatter,error:l,focusedControl:c,setFocusedControl:t.setFocusedControl,onControlFocused:t.onControlFocused,setControlError:t.setControlError,fontSizeStyle:"medium"};return s.createElement(s.Fragment,null,s.createElement("div",{className:ye.title},d.t(null,void 0,r(125933))),s.createElement(ge.ControlGroup,{cols:1,rows:2,className:i(o,ye.wrapper)},s.createElement(Ce,{...u,control:t.quantity,onModifiedCallback:t.quantity.onModifiedCallback,label:t.info.baseCurrency,controlType:3,balanceValue$:t.baseCurrencyCryptoBalanceValue$,initialFocus:e.focus,forceRoundByStep:!0,step:t.info.qty.step,min:t.info.qty.min}),s.createElement(Ce,{...u,control:t.quoteCurrencyQuantity,onModifiedCallback:t.quoteCurrencyQuantity.onModifiedCallback,label:t.info.quoteCurrency,controlType:4,balanceValue$:t.quoteCurrencyCryptoBalanceValue$,step:null==a?void 0:a.step,min:null==a?void 0:a.min})))}var we=r(842974),Se=r(327871),Te=r(101614),Me=r(958198);function De(e,t){return e.findIndex((e=>e.priceIndex===t))}function Pe(e,t,r){const o=Ie(),s=[Ne(e,t,r)];for(let n=1;n<=o;n++)s.push(Ne(e-n,t,r)),s.unshift(Ne(e+n,t,r));return s}function Ne(e,t,r){return{priceIndex:e,displayPrice:t.format(r(e))}}function Ie(){return"phone"!==Me.mediaState.device&&"phone-vertical"!==Me.mediaState.device?6:4}var Be=r(623850);function Oe(e){const t=i(Be.priceLabel,Be[e.modifier.toLowerCase()]);return s.createElement("span",{className:i(t)},e.modifier)}var xe=r(367911);function Le(e){const t=e.price===e.ask,r=e.price===e.bid,o=e.price===e.last,n=(t||r)&&e.ask===e.bid;let i,a;return e.displayPriceLabel&&(n&&1===e.side?i=s.createElement(Oe,{modifier:"Ask"}):n&&-1===e.side?i=s.createElement(Oe,{modifier:"Bid"}):t?i=s.createElement(Oe,{modifier:"Ask"}):r&&(i=s.createElement(Oe,{modifier:"Bid"})),a=s.createElement("div",{className:xe.labelsGroup},i,o&&s.createElement(Oe,{modifier:"Last"}))),s.createElement("div",{className:xe.absolutePriceDropdownItem},s.createElement("div",{className:xe.price},e.price),a)}var ze=r(794087),Fe=r(559814);const He=(0,Se.makeKeyboardListener)(ze.InputWithError);class We extends s.PureComponent{constructor(e){super(e),this._priceControl=null,this._priceInput=null,this._dropdown=null,this._setDropdownRef=e=>{this._dropdown=e},this._setInitialFocus=()=>{!oe.mobiletouch&&this._priceInput&&(1===this.props.priceType&&1===this.props.focus||2===this.props.priceType&&2===this.props.focus)&&(this._priceInput.setSelectionRange(this.props.displayPrice.length,this.props.displayPrice.length),this._priceInput.focus())},this._onCaretButtonFocus=()=>{oe.mobiletouch||null===this._priceInput||this._priceInput.focus()},this._onFocus=e=>{this.setState({isFocused:!0}),this.props.onControlFocused&&this.props.onControlFocused(0),this.props.onFocus&&this.props.onFocus(e)},this._onOutsideClick=e=>{if(this.state.isFocused&&!this.state.isOpened&&null!==this._priceControl&&!this._priceControl.contains(e.target)){
const e=this.props.priceFormatter.parse(this.props.displayPrice);let t=this.props.displayPrice;t=e.res?this.props.priceFormatter.format(e.value>=0?e.value:Math.abs(e.value)):this.state.priceList[Ie()].displayPrice,this.setState({isFocused:!1},(()=>{this._onPriceSelected(t)})),this.props.errorHandler&&this.props.errorHandler(!1)}this.state.isOpened&&this._dropdown&&!this._dropdown.contains(e.target)&&this._closeDropdown()},this._onInputChange=e=>{const t=e.target.value,r=this.props.priceFormatter.parse(t);this._onModifiedCallback(),this.props.errorHandler&&this.props.errorHandler(!Boolean(r.res)),this._onPriceSelected(t)},this._onTouchStart=e=>{e.stopPropagation(),this._swipeState.y=e.touches[0].clientY},this._onTouchMove=e=>{if(e.preventDefault(),e.stopPropagation(),e.changedTouches&&e.changedTouches.length&&null!==this._swipeState.y){const t=e.changedTouches[0].clientY-this._swipeState.y;if(Math.abs(t)<10)return;this._swipeState.direction=t>0?"up":"down","up"===this._swipeState.direction?this._prependPriceOnDropdown():"down"===this._swipeState.direction&&this._appendPriceOnDropdown()}},this._onTouchEnd=e=>{e.stopPropagation(),this._resetSwipeState()},this._onDropdownWheelNoPassiv=e=>{e.preventDefault(),e.stopPropagation(),e.deltaY<0?this._prependPriceOnDropdown():this._appendPriceOnDropdown()},this._onInputMouseWheel=e=>{e.preventDefault(),e.stopPropagation(),this._onModifiedCallback(),this._scrollPriceOnWheel(e.deltaY<0?1:-1)},this._onSelect=(e,t)=>{const r=this.props.priceFormatter.parse(t.displayPrice);this.props.errorHandler&&this.props.errorHandler(!r.res),this.setState({selected:e,isPriceSelectedByWheelOrByDropdown:!0},(()=>{this._onModifiedCallback(),this._closeDropdown(),this._onPriceSelected(t.displayPrice),!oe.mobiletouch&&this._priceInput&&this._priceInput.focus()}))},this._onNavigate=()=>{const e=this.state.command&&"prev"===this.state.command.name,t=this.state.command&&"next"===this.state.command.name;e?this._changeValueByStep(1):t&&this._changeValueByStep(-1)},this._onMouseOver=()=>{this.setState({mouseOver:!0})},this._onMouseOut=()=>{this.setState({mouseOver:!1})},this._onCaretButtonClick=e=>{e.stopPropagation(),this.state.isOpened?this._closeDropdown():(this._openDropdown(),!oe.mobiletouch&&this._priceInput&&(this._priceInput.setSelectionRange(this.props.displayPrice.length,this.props.displayPrice.length),this._priceInput.focus()),this.props.onControlFocused&&this.props.onControlFocused(0))},this._setPriceInput=e=>{this._priceInput=e},this._setPriceControl=e=>{this._priceControl=e},this._scrollPriceOnArrowUp=e=>{e.preventDefault(),this._onModifiedCallback(),this._changeValueByStep(1)},this._scrollPriceOnArrowDown=e=>{e.preventDefault(),this._onModifiedCallback(),this._changeValueByStep(-1)},this._selectPrev=e=>{e.preventDefault(),this._onModifiedCallback(),this.setState({command:{name:"prev"}})},this._selectNext=e=>{e.preventDefault(),this._onModifiedCallback(),this.setState({command:{name:"next"}})},this._openDropdown=()=>{this.setState({isOpened:!0,
keyboardEventHandlers:this._getKeyboardEventHandlers("open")})},this._closeDropdownWithStopPropagation=e=>{e&&(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()),this._closeDropdown()},this._closeDropdown=()=>{const e={isOpened:!1,keyboardEventHandlers:this._getKeyboardEventHandlers("close")};if(this.props.error||-1!==De(this.state.priceList,this.props.priceIndex)&&this.state.selected===Math.floor(this.state.priceList.length/2))this.setState(e);else{const t=Pe(this.props.priceIndex,this.props.priceFormatter,this.props.indexToPrice);this.setState((r=>({...e,priceList:t,selected:De(t,this.props.priceIndex)})))}};const t=Pe(e.priceIndex,e.priceFormatter,e.indexToPrice);this.state={isFocused:!1,priceList:t,selected:De(t,e.priceIndex),isOpened:!1,mouseOver:!1,keyboardEventHandlers:this._getKeyboardEventHandlers("close"),isPriceSelectedByWheelOrByDropdown:!1},this._resetSwipeState()}componentDidMount(){this._setInitialFocus()}render(){const e=i(Fe.absolutePriceControl,this.props.className),t=s.createElement("span",{className:Fe.priceLabel},this.props.priceLabel),r=s.createElement(be.CaretButton,{isDropped:this.state.isOpened,onFocus:this._onCaretButtonFocus,onClick:this._onCaretButtonClick});return s.createElement(te.OutsideEvent,{click:!0,mouseDown:!0,touchStart:!0,handler:this._onOutsideClick},(o=>s.createElement("span",{className:e,ref:o},t,s.createElement(He,{className:i(Fe.input,this.props.status===b.OrderPanelStatus.Wait&&Fe.wait),containerReference:this._setPriceControl,inputReference:this._setPriceInput,keyboardEventHandlers:this.state.keyboardEventHandlers,value:this.props.displayPrice,warning:this.props.warning,error:this.props.error,errorMessage:this.props.errorMessage,onChange:this._onInputChange,onFocus:this._onFocus,onBlur:this.props.onBlur,onMouseOver:this._onMouseOver,onMouseOut:this._onMouseOut,onWheelNoPassive:this._onInputMouseWheel,highlight:this.props.highlight,highlightRemoveRoundBorder:this.props.highlightRemoveRoundBorder,fontSizeStyle:this.props.fontSizeStyle,button:r,intent:this.props.intent}),s.createElement(Te.DropdownList,{anchor:"bottom",root:"document",reference:this._setDropdownRef,className:Fe.list,command:this.state.command,isOpened:this.state.isOpened,items:this._makeListItems(),itemsClassName:Fe.item,width:this._getDropdownWidth(),selected:this.state.selected,selectedClassName:Fe.selected,target:null!==this._priceControl?this._priceControl:void 0,attachmentOffsetY:3,inheritWidthFromTarget:!1,shouldScrollIfNotVisible:!1,onSelect:this._onSelect,onNavigate:this._onNavigate,onDropdownTouchStart:this._onTouchStart,onDropdownTouchMove:this._onTouchMove,onDropdownTouchEnd:this._onTouchEnd,onDropdownWheelNoPassive:this._onDropdownWheelNoPassiv}))))}componentDidUpdate(e,t){if(this.props.priceIndex===e.priceIndex)return;const r=Pe(this.props.priceIndex,this.props.priceFormatter,this.props.indexToPrice);this.setState({priceList:r,selected:De(r,this.props.priceIndex)})}_onPriceSelected(e){this.props.onPriceSelected(e)}_resetSwipeState(){this._swipeState={direction:null,y:null}}
_getKeyboardEventHandlers(e){return"close"===e?{[Se.KeyCode.UpArrow]:this._scrollPriceOnArrowUp,[Se.KeyCode.DownArrow]:this._scrollPriceOnArrowDown}:{[Se.KeyCode.Enter]:this._closeDropdownWithStopPropagation,[Se.KeyCode.Escape]:this._closeDropdownWithStopPropagation,[Se.KeyCode.UpArrow]:this._selectPrev,[Se.KeyCode.DownArrow]:this._selectNext}}_makeListItems(){return this.state.priceList.map((e=>({...e,elem:s.createElement(Le,{price:e.displayPrice,ask:this.props.priceFormatter.format(this.props.ask),bid:this.props.priceFormatter.format(this.props.bid),last:this.props.priceFormatter.format(this.props.last),side:this.props.side,displayPriceLabel:!0})})))}_prependPriceOnDropdown(){const e=[Ne(this.state.priceList[0].priceIndex+1,this.props.priceFormatter,this.props.indexToPrice)].concat(this.state.priceList.slice(0,-1));this.setState({priceList:e,selected:De(e,this.props.priceIndex)})}_appendPriceOnDropdown(){const e=this.state.priceList.length-1,t=Ne(this.state.priceList[e].priceIndex-1,this.props.priceFormatter,this.props.indexToPrice),r=this.state.priceList.slice(1).concat(t);this.setState({priceList:r,selected:De(r,this.props.priceIndex)})}_scrollPriceOnWheel(e){1===e?this._changeValueByStep(1):this._changeValueByStep(-1)}_changeValueByStep(e){const t=this.props.priceIndex+e,r=this.props.indexToPrice(t);var o,s;this._onPriceSelected((o=r,s=this.props.priceFormatter,null!==o?s.format(o):""))}_getDropdownWidth(){if(this.state.isOpened&&null!==this._priceControl&&(this.context.mode===b.OrderEditorDisplayMode.Popup||this.state.priceList[0].displayPrice.length<=7)){return parseFloat(window.getComputedStyle(this._priceControl,null).getPropertyValue("width"))+2}}_onModifiedCallback(){this.props.onModifiedCallback&&this.props.onModifiedCallback()}}We.contextType=b.Context,We.defaultProps={className:"",inputClassName:""};var Ve=r(338650);function Re(e,t){return e.findIndex((e=>e.displayValue===t))}const Ae=/^[-+]?[0-9]*\.?[0-9]+$/;function Ke(e){return Ae.test(e)}function Ue(e="",t=0){const r=(0,Ve.capitalizeFirstLetter)(e);return t>0?`${r} + ${Math.abs(t)}`:t<0?`${r} - ${Math.abs(t)}`:`${r}`}function Ze(e){return void 0!==e?String(e):"0"}function je(e,t){const r=e.offset;return o=e.base,s=function(e,t){return(Math.abs(e)>=1?e:0)+(1===t?1:-1)}(r,t),{displayValue:Ue(o,s),base:o,offset:s};var o,s}function qe(e=0,t="",r){const o=[],s=[],n={displayValue:Ue(t,e),base:t,offset:e};for(let e=0;e<r;e++)o.unshift(je(0===e?n:o[0],1)),s.push(je(0===e?n:s[e-1],-1));return[...o,n,...s]}function Ye(){return"phone"!==Me.mediaState.device&&"phone-vertical"!==Me.mediaState.device?6:4}var Xe=r(898440);function Ge(e){return s.createElement("div",{className:Xe.relativePriceDropdownItem},s.createElement("div",{className:Xe.price},e.price))}var $e=r(518514);const Qe=(0,Se.makeKeyboardListener)(ze.InputWithError),Je=d.t(null,{context:"price"},r(172639)),et=d.t(null,void 0,r(332061));class tt extends s.PureComponent{constructor(e){super(e),this._priceInput=null,this._priceControl=null,this._dropdown=null,this._setDropdownRef=e=>{this._dropdown=e},
this._onMouseOver=e=>{this.setState({mouseOver:!0})},this._onMouseOut=()=>{this.setState({mouseOver:!1})},this._onOutsideClick=e=>{this.state.isOpened&&this._dropdown&&!this._dropdown.contains(e.target)&&this._closeDropdown()},this._onCaretButtonFocus=()=>{oe.mobiletouch||null===this._priceInput||this._priceInput.focus()},this._onFocus=()=>{this.setState({isEditing:!0,displayValue:Ze(this.props.offset)},(()=>{var e,t;oe.mobiletouch||null===this._priceInput||(e=this._priceInput,t=this.state.displayValue.length,e.setSelectionRange&&(e.focus(),e.setSelectionRange(0,t),e.select()))})),this.props.onControlFocused&&this.props.onControlFocused(1)},this._onBlur=()=>{const e=this.state.prices[0].base,t=Re(this.state.prices,Ue(e,this.props.offset)),r=0<=t&&t<=this.state.prices.length-1?t:Math.floor(this.state.prices.length/2);this.setState({isEditing:!1,displayValue:this.state.prices[r].displayValue,selected:r},(()=>{this._trackExitEditingModeEvent(this.state.prices[r].offset)}))},this._onInputChange=e=>{this._onModifiedCallback();const t=e.currentTarget.value;if(Ke(t)){const e=Number(t),r=qe(e,this.props.base,Ye()),o=Re(r,Ue(this.props.base,e));this.setState({displayValue:t,prices:r,selected:o,isOpened:!1},(()=>{this._onPriceOffsetSelected(e)}))}else this.setState({displayValue:t,isOpened:!1})},this._onTouchStart=e=>{e.stopPropagation(),this._swipeState.y=e.touches[0].clientY},this._onTouchMove=e=>{if(e.preventDefault(),e.stopPropagation(),e.changedTouches&&e.changedTouches.length&&null!==this._swipeState.y){const t=e.changedTouches[0].clientY-this._swipeState.y;if(Math.abs(t)<10)return;this._swipeState.direction=t>0?"up":"down","up"===this._swipeState.direction?this._prependPriceOnTouchMove():"down"===this._swipeState.direction&&this._appendPriceOnTouchMove()}},this._onTouchEnd=e=>{e.stopPropagation(),this._resetSwipeState()},this._onDropdownWheelNoPassive=e=>{e.preventDefault(),e.stopPropagation(),e.deltaY<0?this._prependPriceOnWheel():this._appendPriceOnWheel()},this._onInputMouseWheel=e=>{e.preventDefault(),e.stopPropagation(),this._onModifiedCallback(),this._scrollPriceOnWheel(e.deltaY<0?1:-1)},this._onSelect=(e,t)=>{this.setState((r=>({displayValue:this.state.isEditing?Ze(t.offset):t.text,selected:e})),(()=>{this._onModifiedCallback(),this._closeDropdown(),this._onPriceOffsetSelected(),this.setState({isEditing:!1},(()=>{this._blurInput()}))}))},this._onNavigate=(e,t)=>{const r=this.state.command&&"prev"===this.state.command.name,o=this.state.command&&"next"===this.state.command.name;r?this._prependPriceOnNavigate():o&&this._appendPriceOnNavigate()},this._onCaretButtonClick=e=>{var t,r;e.preventDefault(),e.stopPropagation(),this.state.isOpened?this._closeDropdown():(this._openDropdown(),oe.mobiletouch?null===(r=this._priceInput)||void 0===r||r.blur():null===(t=this._priceInput)||void 0===t||t.focus(),this.props.onControlFocused&&this.props.onControlFocused(1),this.setState({isEditing:!1,displayValue:this.state.displayValue},(()=>{
!oe.mobiletouch&&this._priceInput&&this._priceInput.setSelectionRange(this.state.displayValue.length,this.state.displayValue.length)})))},this._switchEditingMode=e=>{e.preventDefault();const t=Number(this.state.displayValue);if(Number.isInteger(t))this.setState({isEditing:!1},(()=>{this._blurInput()}));else{const e=Math.round(t),r=qe(e,this.props.base,Ye()),o=Re(r,Ue(this.props.base,e));this.setState({displayValue:String(e),prices:r,selected:o,isEditing:!1},(()=>{this._onPriceOffsetSelected(),this._blurInput()}))}},this._setPriceInput=e=>{this._priceInput=e},this._setPriceControl=e=>{this._priceControl=e},this._scrollPriceByArrow=e=>{e.preventDefault(),this._onModifiedCallback();const t=e.keyCode===Se.KeyCode.UpArrow?1:-1,r=je(this.state.prices[this.state.selected],t);this.setState({displayValue:this.state.isEditing?Ze(r.offset):r.displayValue},1===t?this._prependPriceOnNavigate:this._appendPriceOnNavigate)},this._selectPrev=e=>{e.preventDefault(),this._onModifiedCallback(),this.setState({command:{name:"prev"}})},this._selectNext=e=>{e.preventDefault(),this._onModifiedCallback(),this.setState({command:{name:"next"}})},this._openDropdown=()=>{this.setState({isOpened:!0,keyboardEventHandlers:this._getKeyboardEventHandlers("open")})},this._closeDropdownOnKeyDown=e=>{e.preventDefault(),this._closeDropdown(),this.setState({isEditing:!1,displayValue:this.state.displayValue},(()=>{this._blurInput()}))},this._closeDropdown=()=>{var e;const t={isOpened:!1,keyboardEventHandlers:this._getKeyboardEventHandlers("close")};if(-1===Re(this.state.prices,this.state.displayValue)||this.state.selected!==Math.floor(this.state.prices.length/2)){const e=qe(this.props.offset,this.props.base,Ye()),r=Re(e,this.state.displayValue);this.setState({...t,prices:e,selected:r})}else this.setState(t);oe.mobiletouch&&(null===(e=this._priceInput)||void 0===e||e.blur())},this._trackExitEditingModeEvent=e=>{this.props.trackEvent&&this.props.trackEvent("Order Ticket","Relative Price - Exit Editing Mode",String(e))};const t=Ue(e.base,e.offset),r=qe(e.offset,e.base,Ye()),o=Re(r,t);this.state={displayValue:t,prices:r,selected:o,isOpened:!1,isEditing:!1,mouseOver:!1,keyboardEventHandlers:this._getKeyboardEventHandlers("close")},this._resetSwipeState()}render(){const e=s.createElement(be.CaretButton,{isDropped:this.state.isOpened,onFocus:this._onCaretButtonFocus,onClick:this._onCaretButtonClick}),t=this.state.isEditing&&!Ke(this.state.displayValue),r=t||this.props.hasErrors,o=t?et:this.props.errorMessage;return s.createElement(te.OutsideEvent,{click:!0,mouseDown:!0,touchStart:!0,handler:this._onOutsideClick},(t=>s.createElement("span",{className:this.props.className,ref:t},s.createElement("span",{className:$e.pipsLabel},Je),s.createElement(Qe,{className:i($e.input,this.props.status===b.OrderPanelStatus.Wait&&$e.wait),keyboardEventHandlers:this.state.keyboardEventHandlers,value:this.state.displayValue,readonly:this.state.isOpened,error:r,errorMessage:o,button:e,containerReference:this._setPriceControl,inputReference:this._setPriceInput,onFocus:this._onFocus,
onBlur:this._onBlur,onChange:this._onInputChange,onWheelNoPassive:this._onInputMouseWheel,onMouseOver:this._onMouseOver,onMouseOut:this._onMouseOut,noReadonlyStyles:!0,highlight:this.props.highlight,highlightRemoveRoundBorder:this.props.highlightRemoveRoundBorder,fontSizeStyle:this.props.fontSizeStyle,intent:this.props.intent}),s.createElement(Te.DropdownList,{anchor:"bottom",root:"document",reference:this._setDropdownRef,className:$e.list,command:this.state.command,isOpened:this.state.isOpened,items:this._makeListItems(),itemsClassName:$e.item,selected:this.state.selected,selectedClassName:$e.selected,target:null!==this._priceControl?this._priceControl:void 0,attachmentOffsetY:3,inheritWidthFromTarget:!0,shouldScrollIfNotVisible:!1,onSelect:this._onSelect,onNavigate:this._onNavigate,onDropdownTouchStart:this._onTouchStart,onDropdownTouchMove:this._onTouchMove,onDropdownTouchEnd:this._onTouchEnd,onDropdownWheelNoPassive:this._onDropdownWheelNoPassive}))))}componentDidUpdate(e,t){if(this.props.offset!==e.offset||this.props.base!==e.base){const e=Ue(this.props.base,this.props.offset),t=qe(this.props.offset,this.props.base,Ye()),r=Re(t,e);this.setState({prices:t,selected:r})}this.state.isEditing||this.props.offset===e.offset&&this.props.base===e.base||this.setState({displayValue:Ue(this.props.base,this.props.offset)})}_blurInput(){!oe.mobiletouch&&this._priceInput&&this._priceInput.blur()}_onPriceOffsetSelected(e){const t=void 0!==e?e:this.state.prices[this.state.selected].offset;this.props.onPriceOffsetSelected(t)}_onModifiedCallback(){this.props.onModifiedCallback&&this.props.onModifiedCallback()}_resetSwipeState(){this._swipeState={direction:null,y:null}}_getKeyboardEventHandlers(e){return"close"===e?{[Se.KeyCode.UpArrow]:this._scrollPriceByArrow,[Se.KeyCode.DownArrow]:this._scrollPriceByArrow,[Se.KeyCode.Enter]:this._switchEditingMode}:{[Se.KeyCode.Enter]:this._closeDropdownOnKeyDown,[Se.KeyCode.Escape]:this._closeDropdownOnKeyDown,[Se.KeyCode.UpArrow]:this._selectPrev,[Se.KeyCode.DownArrow]:this._selectNext}}_makeListItems(){return this.state.prices.map(((e,t)=>({base:e.base,offset:e.offset,text:e.displayValue,elem:s.createElement(Ge,{price:e.displayValue})})))}_prependPriceOnWheel(){const e=je(this.state.prices[0],1);this.setState((t=>({prices:[e].concat(t.prices.slice(0,-1)),selected:0===t.selected?1:t.selected+1})))}_appendPriceOnWheel(){const e=this.state.prices.length-1,t=je(this.state.prices[e],-1);this.setState((r=>({prices:r.prices.slice(1).concat(t),selected:r.selected===e?e-1:r.selected-1})))}_scrollPriceOnWheel(e){const t=je(this.state.prices[this.state.selected],e);this.setState({displayValue:this.state.isEditing?Ze(t.offset):t.displayValue},1===e?this._prependPriceOnNavigate:this._appendPriceOnNavigate)}_prependPriceOnNavigate(){const e=je(this.state.prices[0],1);this.setState((t=>{const r=[e].concat(t.prices.slice(0,-1)),o=this.state.prices.length-1;let s;return s=this.state.selected<=0?0:this.state.selected>o?o:t.selected,{prices:r,selected:s}}),(()=>{this._onPriceOffsetSelected()}))}
_appendPriceOnNavigate(){const e=je(this.state.prices[this.state.prices.length-1],-1);this.setState((t=>{const r=t.prices.slice(1).concat(e),o=this.state.prices.length-1;let s;return s=this.state.selected<=0?0:this.state.selected>o?o:t.selected,{prices:r,selected:s}}),(()=>{this._onPriceOffsetSelected()}))}_prependPriceOnTouchMove(){const e=this.state.prices[0],t=[];t.unshift(je(e,1)),this.setState((e=>({prices:t.concat(e.prices.slice(0,this.state.prices.length-1)),selected:0===e.selected?1:e.selected+1})))}_appendPriceOnTouchMove(){const e=this.state.prices.length-1,t=this.state.prices[e],r=[];r.push(je(t,-1)),this.setState((t=>({prices:t.prices.slice(1).concat(r),selected:t.selected===e?e-1:t.selected-1})))}}var rt=r(436133);function ot(e){const{model:t,priceType:r,focus:o,priceLabel:n,trackEvent:a}=e,l=s.useContext(ue.SettingsContext),c=(0,v.useObservable)(t.priceControlData$,t.getPriceControlData()),u=(0,v.useObservable)(t.focusedControl$,t.getFocusedControl()),d=(0,v.useObservable)(t.error$,t.getError()),p=(0,v.useObservable)(t.quotes$,{ask:0,bid:0,trade:0}),h=(0,v.useObservable)(t.side$),m=(0,v.useObservable)(t.status$,b.OrderPanelStatus.Wait),g="medium",_=l.value.showRelativePriceControl&&!t.isRelativePriceControlHidden,f=d.msg,y=m!==b.OrderPanelStatus.Wait&&d.res&&"warning"===d.severity;return s.createElement(ge.ControlGroup,{cols:_?2:1,rows:1,className:rt.controlGroup},s.createElement(We,{...C(0),className:i(rt.absolutePriceControl,_&&rt.withRelative),priceType:r,status:m,priceIndex:c?c.index:0,displayPrice:c?c.absolutePrice:"",ask:(0,we.getAsk)(p),bid:(0,we.getBid)(p),last:(0,we.getLast)(p),side:h,priceFormatter:t.formatter,warning:y,error:d.res&&"error"===d.severity&&k(0),errorMessage:f,errorHandler:function(e){t.setControlError(e)},onControlFocused:E,onPriceSelected:t.setAbsolutePrice,trackEvent:a,onModifiedCallback:t.modifiedAbsolutePriceControlStat,focus:o,fontSizeStyle:g,priceLabel:n,indexToPrice:t.indexToPrice}),_&&s.createElement(tt,{...C(1),offset:null==c?void 0:c.offset,base:null==c?void 0:c.base,className:rt.relativePriceControl,status:m,hasErrors:d.res&&"error"===d.severity&&k(1),errorMessage:f,fontSizeStyle:g,onControlFocused:E,onPriceOffsetSelected:t.setPriceOffset,trackEvent:a,onModifiedCallback:t.modifiedRelativePriceControlStat}));function k(e){return m!==b.OrderPanelStatus.Wait&&u===e}function C(e){const t={highlightRemoveRoundBorder:0};return k(e)&&(t.highlight=!0),d.res&&"error"===d.severity&&k(e)&&(t.intent="danger"),t}function E(e){e!==t.getFocusedControl()&&t.setFocusedControl(e),t.onControlFocused.fire()}}function st(e){const{model:t,trackEvent:o,focus:n}=e,[i]=(0,f.useWatchedValue)(t.orderType),a=4===i;return s.createElement(s.Fragment,null,3===i||a?s.createElement(ot,{key:t.stopPriceModel.id,model:t.stopPriceModel,priceType:t.stopPriceModel.priceType,trackEvent:o,focus:n,priceLabel:a?d.t(null,void 0,r(722028)):d.t(null,void 0,r(25684))}):null,1===i||a?s.createElement(ot,{key:t.limitPriceModel.id,model:t.limitPriceModel,priceType:t.limitPriceModel.priceType,trackEvent:o,focus:n,
priceLabel:a?d.t(null,void 0,r(627262)):d.t(null,void 0,r(25684))}):null)}var nt=r(199374),it=r(42107);class at extends s.PureComponent{constructor(e){super(e),this.onDurationChanged=e=>{this.props.model.currentDuration.setValue(e),this.props.model.onModifiedCallback()},this._onClick=()=>{this.props.model.onControlFocused.fire()},this._callback=()=>this.forceUpdate()}componentDidMount(){this.props.model.currentDuration.subscribe(this._callback),this.props.model.orderType.subscribe(this._callback)}componentWillUnmount(){this.props.model.currentDuration.unsubscribe(this._callback),this.props.model.orderType.unsubscribe(this._callback)}render(){const e=this.props.model.currentDuration.value();return null===e?null:s.createElement(it.DurationControl,{currentDuration:e,durationMetaInfoList:this._getDurationMetaInfoList(),onDurationChanged:this.onDurationChanged,onClose:this.props.onClose,onClick:this._onClick})}_getDurationMetaInfoList(){const e=this.props.model.orderType.value(),t=this.props.model.durationMetaInfoList;return(0,we.filterDurationsByOrderType)(t,e)}}var lt=r(409480);const ct=s.lazy((async()=>({default:(await Promise.all([r.e(5171),r.e(6112)]).then(r.bind(r,889138))).LeverageDialog}))),ut=(0,lt.withDialogLazyLoad)(ct);var dt=r(27950),pt=r(605692);function ht(e){const{leverage:t,onClick:o,onControlFocused:n,blocked:i,forceDisabled:l=!1,onBlockedClick:c}=e,u=void 0===t;let p=d.t(null,{replace:{value:String(t)}},r(304389));return u&&(p=d.t(null,void 0,r(65124))),i&&(p=d.t(null,void 0,r(405849))),s.createElement("div",{className:pt.container,onClick:function(){if(i)return n.fire(),void c()}},s.createElement(dt.EditButton,{disabled:u||l||i,value:p,startSlot:u||i?void 0:"x",onClick:function(){o(),n.fire()},className:a()(pt.leverageButton,l&&pt.disabledLeverageButton)}))}function mt(e){const{model:t}=e,r=(0,v.useObservable)(t.leverageInfo$,t.leverageInfo()),o=(0,v.useObservable)(t.blocked$,t.getBlocked()),n=t.leveragePreviewResult(),[i,a]=(0,s.useState)(!1),[l,c]=(0,s.useState)(null==r?void 0:r.leverage);return(0,s.useEffect)((()=>{c(null==r?void 0:r.leverage)}),[r]),s.createElement(s.Fragment,null,s.createElement(ht,{onClick:u,leverage:l,forceDisabled:i,blocked:o,onControlFocused:t.onControlFocused,onBlockedClick:t.onBlockedClick}),null!==r&&i&&void 0!==l&&s.createElement(ut,{symbol:t.symbol,displaySymbol:t.displaySymbol,leverage:l,brokerName:t.brokerName,orderType:t.orderType,side:t.side,isOpen:i,onClose:u,onLeverageSet:t.setLeverage,onLeveragePreview:t.previewLeverage,title:r.title,min:r.min,max:r.max,step:r.step,customFields:t.customFields,infos:null==n?void 0:n.infos,warnings:null==n?void 0:n.warnings,errors:null==n?void 0:n.errors,onSetLeverageValueInOrderWidget:function(e){c(e)}}));function u(){i||t.getLeverageInfo({symbol:t.symbol,orderType:t.orderType,side:t.side,customFields:t.customFields}),a((e=>!e))}}var gt=r(109955),_t=r(860152),vt=r(148065);class ft extends s.PureComponent{constructor(e){super(e),this._callback=()=>this.forceUpdate()}componentDidMount(){
this.context.resizerWidth&&this.context.resizerWidth.subscribe(this._callback)}componentWillUnmount(){this.context.resizerWidth&&this.context.resizerWidth.unsubscribe(this._callback)}render(){const e={width:`${this.props.progress}%`},t=i(vt.progress,100===this.props.progress&&vt.fullFilled,this.props.usedMargin>this.props.availableMargin&&vt.marginOverflow);return s.createElement("div",{className:i(vt.progressBarContainer,this.props.wait&&vt.wait)},s.createElement("div",{className:vt.marginsContainer},s.createElement("div",{className:i(vt.margin,vt.usedMargin)},s.createElement("div",{className:vt.title},d.t(null,void 0,r(969992))),s.createElement("span",{className:vt.price},(0,_t.formatInfoValue)(this.props.usedMargin))),s.createElement("div",{className:i(vt.margin),"data-name":"availableMargin"},s.createElement("span",{className:vt.price},(0,_t.formatInfoValue)(this.props.availableMargin)))),s.createElement("div",{className:vt.progressBar},s.createElement("div",{className:vt.track},s.createElement("div",{className:t,style:e}))))}}ft.contextType=b.Context;var bt=r(532890);function yt(e){const{model:t,status:r}=e,o=(0,v.useObservable)(t.infoTableData(),{rows:[]}),n=(0,v.useObservable)(t.usedMargin(),0),i=(0,v.useObservable)(t.availableMargin(),0),a=t.hasMarginMeter()?s.createElement(ft,{usedMargin:n,availableMargin:i,progress:(0,_t.calculatedMarginRatio)(n,i),wait:e.status===b.OrderPanelStatus.Wait}):void 0;return s.createElement("div",{className:bt.orderInfo},s.createElement("div",{className:bt.title},t.title()),s.createElement("div",{className:bt.contentWrapper},a,s.createElement(z.InfoTable,{rows:o.rows,header:o.header,disabled:r===b.OrderPanelStatus.Wait,rightAlignedValues:!0})))}var kt=r(702054),Ct=r(651049),Et=r(297265),wt=r(710077);function St(e){const{imageBlack:t,image:r,controls:o,text:n,title:i}=e,a=(0,Et.useWatchedValueReadonly)({watchedValue:kt.watchedTheme});return s.createElement("div",{className:wt.messageBlock},s.createElement("div",{className:wt.image,dangerouslySetInnerHTML:{__html:void 0!==t&&a===Ct.StdTheme.Dark?t:r}}),s.createElement("div",{className:wt.title},i),s.createElement("div",{className:wt.text,dangerouslySetInnerHTML:{__html:n||""}}),o&&s.createElement("div",{className:wt.controls},o))}var Tt=r(486028),Mt=r(40176),Dt=r(429080),Pt=r(523573),Nt=r(710048),It=r(826561);const Bt=(0,m.getLogger)("Trading.OrderPanel"),Ot=d.t(null,void 0,r(904346)),xt=d.t(null,void 0,r(769121)),Lt=d.t(null,void 0,r(708169)),zt=d.t(null,void 0,r(69885)),Ft=d.t(null,void 0,r(139372)),Ht=d.t(null,void 0,r(404633)),Wt=d.t(null,void 0,r(436598));class Vt extends s.PureComponent{constructor(e,t){super(e,t),this._orderWidgetBlock=null,this._orderTicketBlock=null,this._button=null,this._resizeHandler=null,this._subscriptions=[],this._focusBlock=()=>{null!==this._orderWidgetBlock&&this._orderWidgetBlock.focus()},this._onLayoutResizeHandleMousedown=e=>{if(e.defaultPrevented||!e.cancelable)return;e.preventDefault();const t=Math.max(this._orderTicketBlock?this._orderTicketBlock.clientHeight:0,0);let r
;r="touches"in e?e.touches[0].clientY:e.clientY;const o=e=>{let o;e.preventDefault(),o="touches"in e?e.touches[0].clientY:e.clientY;let s=t+(o-r);s<445&&(s=445),this._setOrderTicketHeight(s)},s=()=>{const{orderTicketHeight:e}=this.state;document.removeEventListener("mousemove",o),document.removeEventListener("touchmove",o),document.removeEventListener("mouseup",s),document.removeEventListener("touchend",s),void 0!==e&&0!==e&&(0,Tt.isInteger)(e)&&p.setValue(g.settingsKeys.PANEL_HEIGHT,e)};document.addEventListener("mousemove",o),document.addEventListener("touchmove",o,{passive:!1}),document.addEventListener("mouseup",s),document.addEventListener("touchend",s,{passive:!1})},this._setOrderWidgetRef=e=>{this._orderWidgetBlock=e},this._setOrderTicketRef=e=>{this._orderTicketBlock=e},this._setButtonRef=e=>{this._button=e},this._setResizeHandlerRef=e=>{this._resizeHandler=e,null!==this._resizeHandler&&(this._resizeHandler.addEventListener("mousedown",this._onLayoutResizeHandleMousedown,{passive:!1}),this._resizeHandler.addEventListener("touchstart",this._onLayoutResizeHandleMousedown,{passive:!1}))},this._forceUpdateAndReCalculateBounds=()=>{this.forceUpdate((()=>this.props.popupController&&this.props.popupController.recalculateBounds()))},this._onSelectTab=e=>{this.props.model.orderType.setValue(e)},this._onStatusChange=e=>{var t;e===b.OrderPanelStatus.Wait&&(null===(t=this._orderWidgetBlock)||void 0===t?void 0:t.contains(document.activeElement))&&this._blur(),this._callback()},this._onKeyDown=e=>{const t=(0,u.hashFromEvent)(e);if(!(13!==t&&t!==u.hashShiftPlusEnter||this.props.model.disabled.value()||null===this._button)){if(l.CheckMobile.any())return this._blur();this._button.focus(),e.defaultPrevented||this._button.click()}},this._blur=()=>{document.activeElement instanceof HTMLElement?document.activeElement.blur():Bt.logWarn("Failed to deselect: active element is not HTMLElement")},this._handleClickSignIn=()=>{showSignModal({source:"Trading panel",sourceMeta:"Chart"})},this._handleClickSignUp=()=>{showSignModal({mode:"signup",source:"Trading panel",sourceMeta:"Chart"})},this._selectBroker=()=>{this.props.model.noBroker&&this.props.model.selectBroker()},this._callback=()=>{this.forceUpdate()};const r=this._isOrderInfoShown()?parseInt(p.getValue(g.settingsKeys.PANEL_HEIGHT,"")):NaN;this.state={orderTicketHeight:isNaN(r)?void 0:r,orderInfoAndSeparatorHeight:void 0}}componentDidMount(){this._subscribeToModel(this.props.model),this.props.settings.subscribe(this._forceUpdateAndReCalculateBounds)}componentDidUpdate(){var e,t;const{orderTicketHeight:r,orderInfoAndSeparatorHeight:o}=this.state,s=null===(e=this._orderWidgetBlock)||void 0===e?void 0:e.clientHeight;if(void 0!==s&&void 0!==r&&r!==s&&this._isOrderPreviewShown()&&(this._setOrderInfoAndSeparatorHeight(s-r),p.setValue(g.settingsKeys.PANEL_HEIGHT,s),this._setOrderTicketHeight(s)),void 0!==s&&void 0!==r&&r===s&&this._isOrderInfoShown()&&void 0!==o){const e=s-o;this._setOrderTicketHeight(e),p.setValue(g.settingsKeys.PANEL_HEIGHT,e)}
this.context.mode===b.OrderEditorDisplayMode.Popup&&this._isOrderPreviewShown()&&(null===(t=this.props.popupController)||void 0===t||t.centerAndFit())}componentWillUnmount(){var e;const{orderTicketHeight:t,orderInfoAndSeparatorHeight:r}=this.state,o=null===(e=this._orderWidgetBlock)||void 0===e?void 0:e.clientHeight;void 0!==o&&void 0!==t&&t===o&&void 0!==r&&p.setValue(g.settingsKeys.PANEL_HEIGHT,o-r),this._unsubscribeFromModel(this.props.model),this.props.settings.unsubscribe(this._forceUpdateAndReCalculateBounds),null!==this._resizeHandler&&(this._resizeHandler.removeEventListener("mousedown",this._onLayoutResizeHandleMousedown),this._resizeHandler.removeEventListener("touchstart",this._onLayoutResizeHandleMousedown))}render(){var e,t;const{model:r,settings:o,trackEvent:n}=this.props,{orderTicketHeight:a}=this.state,u=this.context.mode,d=r.status.value(),p=d===b.OrderPanelStatus.Wait||l.CheckMobile.any()?void 0:this.props.focus,h=this._isOrderPriceSupported(r),m=this._isBracketsSupported(r)||this._isCryptoBracketsSupported(r),g=this._isDurationSupported(r),v=this._isLeverageButtonSupported(r),f=h||r.supportModifyQuantity||v,y=h||r.supportModifyQuantity||v||m,k={value:o.value(),setValue:o.setValue.bind(o)},C=!(null===(e=r.limitPriceModel)||void 0===e?void 0:e.isRelativePriceControlHidden)&&!(null===(t=r.stopPriceModel)||void 0===t?void 0:t.isRelativePriceControlHidden),E={};(r.needSignIn||r.noBroker||r.notTradableText)&&(E.flexGrow=1),u===b.OrderEditorDisplayMode.Panel&&null!==r.orderInfoModel&&void 0!==a&&0!==a&&(E.height=a);const w=s.createElement(s.Fragment,null,r.sideModel&&s.createElement("div",{className:It.side},s.createElement(x,{model:r.sideModel,disabled:r.existingOrder})),r.limitPriceModel&&r.stopPriceModel&&s.createElement($,{activeTab:r.orderType.value(),disabled:r.existingOrder&&!r.supportModifyOrderType,supportMarketOrders:r.supportMarketOrders,supportLimitOrders:r.supportLimitOrders,supportStopOrders:r.supportStopOrders,supportStopLimitOrders:r.supportStopLimitOrders,onSelect:this._onSelectTab}),s.createElement(gt.OverlayScrollWrapper,{className:It.scrollWrapper},r.limitPriceModel&&r.stopPriceModel&&r.quantityModel&&s.createElement("div",{className:i(It.centerBlock)},h&&s.createElement(st,{model:r,trackEvent:n,focus:p}),r.supportModifyQuantity&&s.createElement("div",{className:It.quantityWrapper},r.supportCryptoExchangeOrderTicket()?s.createElement(Ee,{model:r.quantityModel,status:d,focus:p}):s.createElement(me,{model:r.quantityModel,symbolHasLotSize:r.symbolHasLotSize,status:d,trackEvent:n,focus:p})),m&&s.createElement("div",{className:It["brackets-wrapper"]},f&&s.createElement("div",{className:It.separator}),s.createElement("div",{className:It.brackets},s.createElement(Q.BracketControlGroup,{model:r,focus:p}))),g&&s.createElement("div",{className:It.duration},s.createElement(at,{onClose:this._focusBlock,model:(0,c.ensureDefined)(r.durationModel)})),Array.isArray(r.customFieldModels.value())&&r.customFieldModels.value().length>0&&s.createElement("div",{className:It.customFieldsWrapper
},y&&s.createElement("div",{className:It.separator}),s.createElement(Mt.CustomFields,{customFieldModels:r.customFieldModels.value(),status:r.status,onClose:this._focusBlock,alwaysShowAttachedErrors:r.isEmptyRequiredCustomFieldsHighlighted})),v&&s.createElement("div",{className:It.leverage},s.createElement(mt,{model:(0,c.ensureDefined)(r.leverageModel)})))),void 0!==r.buttonModel&&s.createElement("div",{className:It.doneButton},s.createElement(nt.PlaceAndModifyButtonContainer,{model:r,reference:this._setButtonRef,buttonModel:r.buttonModel})),!1);return s.createElement(ue.SettingsContext.Provider,{value:k},s.createElement("div",{className:i(It.orderWidget),onKeyDown:this._onKeyDown,tabIndex:-1,ref:this._setOrderWidgetRef},s.createElement("div",{ref:this._setOrderTicketRef,className:It.orderTicket,style:E},r.headerModel&&s.createElement(_.HeaderContainer,{model:r.headerModel,mode:u,className:It.header,showQuantityInsteadOfAmount:r.showQuantityInsteadOfAmount,currency:r.currency,supportBrackets:r.supportBrackets,supportOrderPreview:r.supportPlaceOrderPreview||r.supportModifyOrderPreview,showRiskControls:r.showRiskControls,showRelativePriceControl:C}),!1,!1,r.notTradableText&&this._renderNotTradableBlock(r),this._isOrderPreviewShown()?s.createElement(A,{model:(0,c.ensureNotNull)(r.orderPreviewModel),side:r.side(),loading:r.loading}):w),this._isOrderInfoShown()&&s.createElement("div",{className:It.orderInfoAndSeparator},s.createElement("div",{className:It.separator}),s.createElement("div",{className:It.resizeHandler,ref:this._setResizeHandlerRef}),s.createElement(yt,{"data-name":"order-info",model:(0,c.ensureNotNull)(r.orderInfoModel),status:d}))))}_setOrderTicketHeight(e){null!==this._orderTicketBlock&&this.setState({orderTicketHeight:e})}_setOrderInfoAndSeparatorHeight(e){this.setState({orderInfoAndSeparatorHeight:e})}_subscribeToModel(e){e.orderType.subscribe(this._forceUpdateAndReCalculateBounds),e.status.subscribe(this._onStatusChange),e.customFieldModels.subscribe(this._callback),e.isNoQuotes.subscribe(this._callback),null!==e.orderInfoModel&&this._subscriptions.push(e.orderInfoModel.infoTableData().subscribe(this._callback))}_unsubscribeFromModel(e){e.orderType.unsubscribe(this._forceUpdateAndReCalculateBounds),e.status.unsubscribe(this._onStatusChange),e.customFieldModels.unsubscribe(this._callback),e.isNoQuotes.unsubscribe(this._callback),this._subscriptions.forEach((e=>e.unsubscribe()))}_isOrderPriceSupported(e){return Boolean(2!==e.orderType.value()&&(!e.existingOrder||e.existingOrder&&e.supportModifyOrderPrice))}_isBracketsSupported(e){const t=2!==this.props.model.orderType.value()||e.supportMarketBrackets;return Boolean(e.supportBrackets&&t)}_isDurationSupported(e){return Boolean(e.durationModel&&(!e.existingOrder||e.existingOrder&&e.supportModifyDuration)&&e.durationModel.isDurationsAvailable())}_isCryptoBracketsSupported(e){return Boolean(e.supportCryptoBrackets)}_isLeverageButtonSupported(e){return Boolean(e.supportLeverageButton)}_isOrderPreviewShown(){const{model:e}=this.props
;return e.status.value()===b.OrderPanelStatus.Preview&&null!==e.orderPreviewModel}_isOrderInfoShown(){var e;const{model:t}=this.props,r=t.status.value(),o=(null===(e=t.orderInfoModel)||void 0===e?void 0:e.getOrderInfoTableRowsCount())||0;return this.context.mode===b.OrderEditorDisplayMode.Panel&&o>0&&r!==b.OrderPanelStatus.Preview&&h.enabled("order_info")}_renderSignInBlock(){return s.createElement(St,{image:Nt,title:xt,text:zt,controls:s.createElement(s.Fragment,null,s.createElement("div",{className:It.button},s.createElement(L.Button,{onClick:this._handleClickSignIn,appearance:"stroke"},xt)),s.createElement("div",{className:It.button},s.createElement(L.Button,{onClick:this._handleClickSignUp,appearance:"stroke"},Ht)))})}_renderNoBrokerBlock(){return s.createElement(St,{image:Nt,title:Lt,text:Ft,controls:s.createElement(L.Button,{onClick:this._selectBroker,appearance:"stroke"},Wt)})}_renderNotTradableBlock(e){const t=e.tradableSolution?s.createElement(L.Button,{onClick:e.tradableSolution.apply},e.tradableSolution.title):void 0;return s.createElement(St,{image:Dt,imageBlack:Pt,title:Ot,text:e.notTradableText,controls:t})}}Vt.contextType=b.Context;var Rt=r(593770);class At extends s.PureComponent{constructor(e){super(e),this._onKeyDown=e=>{27===e.keyCode&&this.props.onCancel&&this.props.onCancel()}}render(){return s.createElement("div",{"data-name":"order-panel",className:Rt.orderPanel,onKeyDown:this._onKeyDown},s.createElement(Vt,{model:this.props.model,settings:this.props.settings,key:this.props.model.id,trackEvent:this.props.trackEvent,focus:this.props.focus}))}}var Kt=r(930894),Ut=r(40766),Zt=r(930052),jt=r(910549),qt=r(996038),Yt=r(274837),Xt=r(18776);const Gt=s.memo((e=>{const{model:t,isOpened:r,settings:o,onClose:n,trackEvent:i,focus:a,onOpen:l}=e;return(0,Yt.useCommonDialogHandlers)({isOpened:r,onOpen:l,onClose:n}),s.createElement(Zt.MatchMedia,{rule:qt.DialogBreakpoints.TabletSmall},(e=>s.createElement(Ut.PopupDialog,{className:Xt.dialog,isOpened:r,onKeyDown:d,fullscreen:e,rounded:!e,"data-name":"order-dialog-popup"},s.createElement(Kt.Body,{className:Xt.dialogBody},t&&o&&s.createElement(jt.PopupContext.Consumer,null,u)))));function u(e){return s.createElement(Vt,{settings:(0,c.ensureDefined)(o),model:(0,c.ensureNotNull)(t),key:(0,c.ensureNotNull)(t).id,trackEvent:i,focus:a,popupController:e})}function d(e){27===e.keyCode&&n&&n()}}));let $t=null,Qt=!1;function Jt(e){const{viewModel:t,settings:r,onClose:o,onOpen:s,focus:i,trackEvent:a}=e;er();const l={model:t,settings:r,isOpened:!0,onOpen:s,onClose:()=>{er(o),void 0!==l.onClose&&(t.headerModel.pinButtonClicked().unsubscribe(null,l.onClose),t.headerModel.closeButtonClicked().unsubscribe(null,l.onClose)),$t&&(n.unmountComponentAtNode($t),Qt=!1)},trackEvent:a,focus:i||sr(t.orderType.value())};tr(l),Qt=!0,void 0!==l.onClose&&(t.headerModel.pinButtonClicked().subscribe(null,l.onClose),t.headerModel.closeButtonClicked().subscribe(null,l.onClose))}function er(e){Qt&&(tr({model:null,isOpened:!1}),null==e||e())}function tr(e){
null===$t&&($t=document.createElement("div"),document.body.appendChild($t));const t=s.createElement(b.Context.Provider,{value:{mode:e.model&&e.model.mode.value()||b.OrderEditorDisplayMode.Panel,supportTrailingStop:Boolean(e.model&&e.model.supportTrailingStop)}},s.createElement(Gt,{...e}));n.render(t,$t)}function rr(e,t,r,o,i,a){or(r);const l={model:e,settings:t,onClose:()=>{or(r),l.model.headerModel&&(l.model.headerModel.pinButtonClicked().unsubscribe(null,l.onClose),l.model.headerModel.closeButtonClicked().unsubscribe(null,l.onClose))},onCancel:()=>{l.model.headerModel&&l.model.headerModel.cancel()},trackEvent:a,focus:i||sr(e.orderType.value())};l.model.headerModel&&(l.model.headerModel.pinButtonClicked().subscribe(null,l.onClose),l.model.headerModel.closeButtonClicked().subscribe(null,l.onClose)),function(e,t,r){const o=s.createElement(b.Context.Provider,{value:{resizerWidth:r||null,mode:e.model.mode.value(),supportTrailingStop:Boolean(e.model.supportTrailingStop)}},s.createElement(At,{...e}));n.render(o,t)}(l,r,o)}function or(e){n.unmountComponentAtNode(e)}function sr(e){let t;switch(e){case 2:t=5;break;case 1:case 4:t=1;break;case 3:t=2;break;default:t=void 0}return t}},409480:(e,t,r)=>{"use strict";r.d(t,{withDialogLazyLoad:()=>n});var o=r(50959),s=r(252130);function n(e){return t=>{const r=(0,s.useIsMounted)();return((e=>{const[t,r]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{!t&&e&&r(!0)}),[e]),t})(t.isOpen)||t.isOpen)&&r?o.createElement(o.Suspense,{fallback:null},o.createElement(e,{...t})):null}}},338650:(e,t,r)=>{"use strict";function o(e){return e.charAt(0).toUpperCase()+e.substring(1)}r.d(t,{capitalizeFirstLetter:()=>o})},914987:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><mask width="17" height="20" fill="#000" x="6" y="4" maskUnits="userSpaceOnUse" id="aayofezey"><path fill="#fff" d="M6 4h17v20H6z"/><path fill-rule="evenodd" d="M9 5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H9Zm1 2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1h-9Zm2 8.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm2.5 1.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm5.5-1.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM10.5 21a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm5.5-1.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm2.5 1.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/></mask><path fill="currentcolor" d="M8 7a1 1 0 0 1 1-1V4a3 3 0 0 0-3 3h2Zm0 14V7H6v14h2Zm1 1a1 1 0 0 1-1-1H6a3 3 0 0 0 3 3v-2Zm11 0H9v2h11v-2Zm1-1a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2Zm0-14v14h2V7h-2Zm-1-1a1 1 0 0 1 1 1h2a3 3 0 0 0-3-3v2ZM9 6h11V4H9v2Zm1 2V6a2 2 0 0 0-2 2h2Zm0 2V8H8v2h2Zm0 0H8c0 1.1.9 2 2 2v-2Zm9 0h-9v2h9v-2Zm0 0v2a2 2 0 0 0 2-2h-2Zm0-2v2h2V8h-2Zm0 0h2a2 2 0 0 0-2-2v2Zm-9 0h9V6h-9v2Zm.5 10a2.5 2.5 0 0 0 2.5-2.5h-2a.5.5 0 0 1-.5.5v2ZM8 15.5a2.5 2.5 0 0 0 2.5 2.5v-2a.5.5 0 0 1-.5-.5H8Zm2.5-2.5A2.5 2.5 0 0 0 8 15.5h2c0-.28.22-.5.5-.5v-2Zm2.5 2.5a2.5 2.5 0 0 0-2.5-2.5v2c.28 0 .5.22.5.5h2Zm2 0a.5.5 0 0 1-.5.5v2a2.5 2.5 0 0 0 2.5-2.5h-2Zm-.5-.5c.28 0 .5.22.5.5h2a2.5 2.5 0 0 0-2.5-2.5v2Zm-.5.5c0-.28.22-.5.5-.5v-2a2.5 2.5 0 0 0-2.5 2.5h2Zm.5.5a.5.5 0 0 1-.5-.5h-2a2.5 2.5 0 0 0 2.5 2.5v-2Zm4 2a2.5 2.5 0 0 0 2.5-2.5h-2a.5.5 0 0 1-.5.5v2ZM16 15.5a2.5 2.5 0 0 0 2.5 2.5v-2a.5.5 0 0 1-.5-.5h-2Zm2.5-2.5a2.5 2.5 0 0 0-2.5 2.5h2c0-.28.22-.5.5-.5v-2Zm2.5 2.5a2.5 2.5 0 0 0-2.5-2.5v2c.28 0 .5.22.5.5h2Zm-10 4a.5.5 0 0 1-.5.5v2a2.5 2.5 0 0 0 2.5-2.5h-2Zm-.5-.5c.28 0 .5.22.5.5h2a2.5 2.5 0 0 0-2.5-2.5v2Zm-.5.5c0-.28.22-.5.5-.5v-2A2.5 2.5 0 0 0 8 19.5h2Zm.5.5a.5.5 0 0 1-.5-.5H8a2.5 2.5 0 0 0 2.5 2.5v-2Zm4 2a2.5 2.5 0 0 0 2.5-2.5h-2a.5.5 0 0 1-.5.5v2ZM12 19.5a2.5 2.5 0 0 0 2.5 2.5v-2a.5.5 0 0 1-.5-.5h-2Zm2.5-2.5a2.5 2.5 0 0 0-2.5 2.5h2c0-.28.22-.5.5-.5v-2Zm2.5 2.5a2.5 2.5 0 0 0-2.5-2.5v2c.28 0 .5.22.5.5h2Zm2 0a.5.5 0 0 1-.5.5v2a2.5 2.5 0 0 0 2.5-2.5h-2Zm-.5-.5c.28 0 .5.22.5.5h2a2.5 2.5 0 0 0-2.5-2.5v2Zm-.5.5c0-.28.22-.5.5-.5v-2a2.5 2.5 0 0 0-2.5 2.5h2Zm.5.5a.5.5 0 0 1-.5-.5h-2a2.5 2.5 0 0 0 2.5 2.5v-2Z" mask="url(#aayofezey)"/></svg>'},801593:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23" width="23" height="23"><path fill="none" stroke="currentColor" stroke-width="2" d="M17.09 6.5A7.5 7.5 0 1 0 11.5 19a7.481 7.481 0 0 0 5.59-2.5"/></svg>'},789048:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23" width="23" height="23"><path fill="currentColor" stroke="none" d="M2 10h18v2H2z"/></svg>'},173164:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23" width="23" height="23"><g fill="currentColor" stroke="none"><path d="M3 10h18v2H3z"/><path d="M11 2h2v18h-2z"/></g></svg>'},808787:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23 23" width="23" height="23"><g fill="none"><path stroke="currentColor" stroke-width="2" d="M4 12.5A7.5 7.5 0 1 0 11.5 5h-6"/><path fill="currentColor" d="M3 5l4-4v8z"/></g></svg>'},710048:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 132 76" width="132" height="76" fill="none"><mask fill="#fff" id="a"><path fill-rule="evenodd" clip-rule="evenodd" d="M114 76H24C10.745 76 0 65.255 0 52s10.745-24 24-24l.247.002C26.215 12.214 39.681 0 56 0c14.582 0 26.886 9.753 30.744 23.093A21.896 21.896 0 0 1 98 20c11.821 0 21.464 9.323 21.979 21.017C126.981 43.48 132 50.155 132 58c0 9.265-7 16.895-16 17.89V76h-2z"/></mask><path fill="currentColor" d="M24 28l.012-2H24v2zm.247.002l-.012 2 1.777.01.22-1.763-1.985-.247zm62.497-4.909l-1.921.556.72 2.49 2.226-1.328-1.025-1.718zm33.235 17.924l-1.999.087.06 1.35 1.274.45.665-1.887zM116 75.89l-.22-1.988-1.78.197v1.791h2zm0 .11v2h2v-2h-2zm-2-2H24v4h90v-4zm-90 0C11.85 74 2 64.15 2 52h-4c0 14.36 11.64 26 26 26v-4zM2 52c0-12.15 9.85-22 22-22v-4C9.64 26-2 37.64-2 52h4zm21.988-22l.247.001.024-4-.247-.001-.024 4zm2.244-1.751C28.077 13.45 40.702 2 56 2v-4C38.66-2 24.354 10.98 22.263 27.754l3.969.495zM56 2c13.668 0 25.206 9.142 28.823 21.649l3.842-1.111C84.567 8.365 71.497-2 56-2v4zm31.769 22.81A19.896 19.896 0 0 1 98 22v-4a23.896 23.896 0 0 0-12.28 3.376l2.049 3.435zM98 22c10.745 0 19.513 8.475 19.98 19.105l3.997-.176C121.415 28.17 110.896 18 98 18v4zm21.314 20.903C125.541 45.095 130 51.03 130 58h4c0-8.72-5.58-16.132-13.357-18.87l-1.329 3.773zM130 58c0 8.234-6.222 15.018-14.22 15.902l.44 3.976C126.222 76.772 134 68.296 134 58h-4zm-16 17.89V76h4v-.11h-4zm2-1.89h-2v4h2v-4z" mask="url(#a)"/><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M60 51.659a6 6 0 1 0-4 0V57a2 2 0 0 0 4 0v-5.341z"/></svg>'},364366:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path fill="#FB8C00" d="M0 9a9 9 0 1 1 18 0A9 9 0 0 1 0 9z"/><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/></svg>'},523573:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120" width="120" height="120" fill="none"><g clip-path="url(#adgm1bxe3)"><path fill="#2A2E39" fill-rule="evenodd" clip-rule="evenodd" d="M103.54 47.03a4.78 4.78 0 0 0-1.73 4.07c.98 10.62-2.18 22.78-9.61 33.6-14.03 20.43-37.97 28.36-53.47 17.72s-16.7-35.83-2.67-56.26c8.1-11.81 19.52-19.44 30.71-21.73a4.79 4.79 0 0 0 3.4-2.8c.64-1.47 1.43-2.9 2.38-4.28 7.3-10.5 21.14-13.47 30.93-6.62 9.78 6.85 11.8 20.91 4.52 31.42-1.3 1.87-2.8 3.5-4.46 4.88z"/><rect width="80" height="58" fill="#121722" stroke="#B2B5BE" stroke-width="2" rx="7" x="20" y="26"/><path stroke="#B2B5BE" stroke-linecap="round" stroke-width="2" d="M6 90h106"/><path fill="#B2B5BE" fill-rule="evenodd" clip-rule="evenodd" d="M48.53 50.6L52 54.05 53.06 53l-3.47-3.47 3.47-3.47L52 45l-3.47 3.47L45.06 45 44 46.06l3.47 3.47L44 53l1.06 1.06 3.47-3.47zM72.53 50.6L76 54.05 77.06 53l-3.47-3.47 3.47-3.47L76 45l-3.47 3.47L69.06 45 68 46.06l3.47 3.47L68 53l1.06 1.06 3.47-3.47z"/><path stroke="#B2B5BE" stroke-width="1.5" d="M51 64.5h17"/></g></svg>'},429080:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 120 120" width="120" height="120" fill="none"><g clip-path="url(#ayusj0oi1)"><path fill="#F0F3FA" fill-rule="evenodd" clip-rule="evenodd" d="M103.54 47.03a4.78 4.78 0 0 0-1.73 4.07c.98 10.62-2.18 22.78-9.61 33.6-14.03 20.43-37.97 28.36-53.47 17.72s-16.7-35.83-2.67-56.26c8.1-11.81 19.52-19.44 30.71-21.73a4.79 4.79 0 0 0 3.4-2.8c.64-1.47 1.43-2.9 2.38-4.28 7.3-10.5 21.14-13.47 30.93-6.62 9.78 6.85 11.8 20.91 4.52 31.42-1.3 1.87-2.8 3.5-4.46 4.88z"/><rect width="80" height="58" fill="#fff" stroke="#1E222D" stroke-width="2" rx="7" x="20" y="26"/><path stroke="#1E222D" stroke-linecap="round" stroke-width="2" d="M6 90h106"/><path fill="#000" fill-rule="evenodd" clip-rule="evenodd" d="M48.53 50.6L52 54.05 53.06 53l-3.47-3.47 3.47-3.47L52 45l-3.47 3.47L45.06 45 44 46.06l3.47 3.47L44 53l1.06 1.06 3.47-3.47zm24 0L76 54.05 77.06 53l-3.47-3.47 3.47-3.47L76 45l-3.47 3.47L69.06 45 68 46.06l3.47 3.47L68 53l1.06 1.06 3.47-3.47z"/><path stroke="#000" stroke-width="1.5" d="M51 64.5h17"/></g></svg>'},172639:e=>{e.exports={ar:["تيكات الأسعار"],ca_ES:"Ticks",cs:"Ticks",de:"Ticks",el:"Ticks",en:"Ticks",es:"Ticks",fa:"Ticks",fr:"Ticks",he_IL:"Ticks",hu_HU:"Ticks",id_ID:["Tick"],it:["Tick"],ja:["ティック"],ko:["틱"],ms_MY:["Tanda"],nl_NL:"Ticks",pl:["Ticki"],pt:"Ticks",ro:"Ticks",ru:["В тиках"],sv:["Punkter"],th:["ติ๊ก"],tr:["fiyat adımı"],vi:"Ticks",zh:"Ticks",zh_TW:"Ticks"}},436598:e=>{e.exports={ar:["اتصال"],ca_ES:"Connect",cs:"Connect",de:["Verbinden"],el:"Connect",en:"Connect",es:["Conectar"],fa:"Connect",fr:["Connecter"],he_IL:["התחבר"],hu_HU:["Összekapcsol"],id_ID:["Hubungkan"],it:["Connetti"],ja:["接続"],ko:["연결"],ms_MY:["Sambung"],nl_NL:"Connect",pl:["Połącz"],pt:["Conectar"],ro:"Connect",ru:["Подключить"],sv:["Anslut"],th:["เชื่อมต่อ"],tr:["Bağlan"],vi:["Kết nối"],zh:["连接"],zh_TW:["連接"]}},708169:e=>{e.exports={ar:["الاتصال بالوسيط"],ca_ES:"Connect to broker",cs:"Connect to broker",de:["Mit Broker verbinden"],
el:"Connect to broker",en:"Connect to broker",es:["Conectar con el broker"],fa:"Connect to broker",fr:["Se connecter au courtier"],he_IL:["התחבר אל ברוקר"],hu_HU:"Connect to broker",id_ID:["Sambungkan ke broker"],it:["Connettiti al broker"],ja:["ブローカに接続"],ko:["브로커 컨넥트"],ms_MY:["Sambungkan kepada broker"],nl_NL:"Connect to broker",pl:["Połącz z brokerem"],pt:["Conectar à corretora"],ro:"Connect to broker",ru:["Подключиться к брокеру"],sv:["Anslut till mäklare"],th:["เชื่อมตัวไปยังโบรกเกอร์"],tr:["Aracı kuruma bağlan"],vi:["Kết nối với nhà môi giới"],zh:["连接经纪商"],zh_TW:["聯絡經紀商"]}},769121:e=>{e.exports={ar:["تسجيل الدخول"],ca_ES:"Log In",cs:"Log In",de:["Einloggen"],el:"Log In",en:"Log In",es:["Acceder"],fa:"Log In",fr:["Connexion"],he_IL:["התחברות"],hu_HU:["Belépés"],id_ID:["Masuk"],it:["Accedi"],ja:["ログイン"],ko:["로그인"],ms_MY:["Log Masuk"],nl_NL:"Log In",pl:["Zaloguj się"],pt:["Entrar"],ro:"Log In",ru:["Войти"],sv:["Logga in"],th:["เข้าสู่ระบบ"],tr:["Giriş"],vi:["Đăng nhập"],zh:["登录"],zh_TW:["登入"]}},69885:e=>{e.exports={ar:["سجّل الدخول إلى حسابك على TradingView للتداول"],ca_ES:"Log into your TradingView account to trade",cs:"Log into your TradingView account to trade",de:["Loggen Sie sich in Ihren TradingView Account ein, um zu traden"],el:"Log into your TradingView account to trade",en:"Log into your TradingView account to trade",es:["Inicie sesión en su cuenta de TradingView para negociar"],fa:"Log into your TradingView account to trade",fr:["Connectez-vous à votre compte TradingView pour trader"],he_IL:["היכנס לחשבון TradingView שלך כדי לסחור"],hu_HU:"Log into your TradingView account to trade",id_ID:["Masuk ke akun TradingView anda untuk melakukan trade"],it:["Accedi all'account TradingView per fare trading"],ja:["トレードを行うには、ご自身のTradingViewアカウントにログインして下さい"],ko:["님의 트레이딩뷰 어카운트로 로그인 하여 트레이딩하십시오"],ms_MY:["Log masuk akaun TradingView anda untuk mula berdagang"],nl_NL:"Log into your TradingView account to trade",pl:["Zaloguj się do konta TradingView, żeby handlować"],pt:["Entre na sua conta TradingView para negociar"],ro:"Log into your TradingView account to trade",ru:["Войдите в профиль TradingView, чтобы торговать"],sv:["Logga in till ditt TradingView-konto för att handla"],th:["เข้าสู่บัญชี TradingView ของคุณเพื่อเทรด"],tr:["İşlem yapmak için TradingView hesabınıza giriş yapın"],vi:["Đăng nhập vào tài khoản TradingView của bạn để giao dịch"],zh:["登录您的TradingView帐户进行交易"],zh_TW:["登錄您的TradingView帳戶進行交易"]}},139372:e=>{e.exports={ar:["سجّل الدخول إلى حساب الوسيط / البورصة الخاص بك للتداول"],ca_ES:"Log into your broker/exchange account to trade",cs:"Log into your broker/exchange account to trade",de:["Loggen Sie sich bei Ihrem Broker/Börse ein, um zu traden"],el:"Log into your broker/exchange account to trade",en:"Log into your broker/exchange account to trade",es:["Inicie sesión en su cuenta de broker/mercado de valores para negociar"],fa:"Log into your broker/exchange account to trade",fr:["Connectez-vous à votre compte de courtier / de bourse pour trader"],he_IL:["היכנס לחשבון הברוקר/בורסה שלך ​​כדי לסחור"],
hu_HU:"Log into your broker/exchange account to trade",id_ID:["Masuk ke akun broker/bursa anda untuk melakukan trade"],it:["Accedi al conto con il broker per fare trading"],ja:["トレードを行うには、ご利用のブローカー／取引所アカウントにログインして下さい"],ko:["님의 브로커/익스체인지 어카운트로 로그인 하여 트레이딩하십시오"],ms_MY:["Log masuk akaun broker/saham anda untuk mula berdagang"],nl_NL:"Log into your broker/exchange account to trade",pl:["Zaloguj się do konta swojego brokera/giełdy, żeby handlować"],pt:["Entre na sua conta de corretora/exchange para negociar"],ro:"Log into your broker/exchange account to trade",ru:["Используйте свой брокерский/биржевой счёт для торговли"],sv:["Logga in till din mäklare/ditt mäklarkonto för att handla"],th:["เข้าสู่บัญชี โบรกเกอร์/ตลาดซื้อขาย ของคุณเพื่อเทรด"],tr:["Ticaret yapmak için broker/takas hesabınıza giriş yapın"],vi:["Đăng nhập vào tài khoản giao dịch/môi giới của bạn để giao dịch"],zh:["登录您的经纪商/交易账户进行交易"],zh_TW:["登錄您的經紀人/交易賬戶進行交易"]}},969992:e=>{e.exports={ar:["الهامش المستخدم"],ca_ES:"Margin used",cs:["Margin Used"],de:["Verwendete Marge"],el:["Margin Used"],en:"Margin used",es:["Margen dispuesto"],fa:["Margin Used"],fr:["Marge Utilisée"],he_IL:["שימוש בבטחונות"],hu_HU:["Használt Fedezet"],id_ID:["Marjin Terpakai"],it:["Margine Utilizzato"],ja:["使用証拠金"],ko:["사용 된 마진"],ms_MY:["Margin yang Digunakan"],nl_NL:["Margin Used"],pl:["Używany Margin"],pt:["Margem utilizada"],ro:["Margin Used"],ru:["Использованная маржа"],sv:["Använd marginal"],th:["ใช้มาร์จิน"],tr:["Kullanan Marj"],vi:["Số tiền ký quỹ đã Sử dụng"],zh:["已用保证金"],zh_TW:["已用保證金"]}},93875:e=>{e.exports={ar:["لا يوجد بيانات"],ca_ES:"No Data",cs:"No Data",de:["Keine Daten"],el:"No Data",en:"No Data",es:["Sin datos"],fa:"No Data",fr:["Pas de données"],he_IL:["אין נתונים"],hu_HU:"No Data",id_ID:["Tidak Ada Data"],it:["Nessun dato"],ja:["データがありません"],ko:["데이터 없음"],ms_MY:["Tiada Data"],nl_NL:"No Data",pl:["Brak danych"],pt:["Sem dados"],ro:"No Data",ru:["Нет данных"],sv:["Ingen data"],th:["ไม่มีข้อมูล"],tr:["Veri yok"],vi:["Không có dữ liệu"],zh:["无数据"],zh_TW:["無數據"]}},65124:e=>{e.exports={ar:["لا رافعة مالية"],ca_ES:"No leverage",cs:"No leverage",de:["Keine Hebelwirkung"],el:"No leverage",en:"No leverage",es:["Sin apalancamiento"],fa:"No leverage",fr:["Pas de levier"],he_IL:["אין מינוף"],hu_HU:"No leverage",id_ID:["Tidak ada leverage"],it:["Nessuna leva"],ja:["レバレッジなし"],ko:["레버리지 없음"],ms_MY:["Tiada keumpilan"],nl_NL:"No leverage",pl:["Brak dźwigni"],pt:["Sem Alavancagem"],ro:"No leverage",ru:["Нет плеча"],sv:["Ingen hävstångseffekt"],th:["ไม่มีเลเวอเรจ"],tr:["Kaldıraç yok"],vi:["Không đòn bẩy"],zh:["没有杠杆"],zh_TW:["沒有槓桿"]}},904346:e=>{e.exports={ar:['أداة مالية "رمز" غير قابل للتداول'],ca_ES:"Non tradable symbol",cs:"Non tradable symbol",de:["Kein Handelbares Symbol"],el:"Non tradable symbol",en:"Non tradable symbol",es:["Símbolo no negociable"],fa:"Non tradable symbol",fr:["Symbole non tradable"],he_IL:["סימול לא סחיר"],hu_HU:"Non tradable symbol",id_ID:["Simbol yang tidak dapat ditradingkan"],it:["Simbolo non negoziabile"],ja:["トレードできないシンボル"],ko:["거래할 수 없는 심볼"],
ms_MY:["Simbol tidak boleh didagangkan"],nl_NL:"Non tradable symbol",pl:["Nie można handlować wybranym symbolem"],pt:["Símbolo não negociavel"],ro:"Non tradable symbol",ru:["Неторгуемый инструмент"],sv:["Icke-omsättningsbar symbol"],th:["สัญลักษณ์ที่ไม่สามารถทำการซื้อขายได้"],tr:["İşlem yapılamayan sembol"],vi:["Mã không thể giao dịch"],zh:["没有可进行交易的商品"],zh_TW:["不能進行交易的商品"]}},405849:e=>{e.exports={ar:["حدد الرافعة المالية"],ca_ES:"Select leverage",cs:"Select leverage",de:["Hebelwirkung auswählen"],el:"Select leverage",en:"Select leverage",es:["Seleccione apalancamiento"],fa:"Select leverage",fr:["Choisir un levier"],he_IL:["בחר מינוף"],hu_HU:"Select leverage",id_ID:["Pilih leverage"],it:["Seleziona leva"],ja:["レバレッジの選択"],ko:["레버리지 선택"],ms_MY:["Pilih keumpilan"],nl_NL:"Select leverage",pl:["Wybierz dźwignię"],pt:["Selecione alavancagem"],ro:"Select leverage",ru:["Выбрать значение плеча"],sv:["Välj hävstångseffekt"],th:["เลือกเลเวอเลจ"],tr:["Kaldıraç seç"],vi:["Chọn đòn bẩy"],zh:["选择杠杆"],zh_TW:["選擇槓桿"]}},493472:e=>{e.exports={ar:["إرسال الأمر"],ca_ES:"Send Order",cs:"Send Order",de:["Order abschicken"],el:"Send Order",en:"Send Order",es:["Enviar orden"],fa:"Send Order",fr:["Envoyer l'ordre"],he_IL:["שלח הוראה"],hu_HU:"Send Order",id_ID:["Kirim Order"],it:["Invia ordine"],ja:["注文を送信"],ko:["오더 보내기"],ms_MY:["Hantar Pesanan"],nl_NL:"Send Order",pl:["Wyślij zlecenie"],pt:["Enviar Ordem"],ro:"Send Order",ru:["Отправить заявку"],sv:["Skicka order"],th:["ส่งคำสั่ง"],tr:["Emir gönder"],vi:["Gửi Lệnh"],zh:["发送订单"],zh_TW:["發送訂單"]}},404633:e=>{e.exports={ar:["سجل"],ca_ES:["Iniciar sessió"],cs:"Sign up",de:["Melden Sie sich an"],el:"Sign up",en:"Sign up",es:["Registrarse"],fa:"Sign up",fr:["Inscrivez-vous"],he_IL:["הירשם"],hu_HU:"Sign up",id_ID:["Mendaftar"],it:["Registrati"],ja:["登録"],ko:["회원 가입"],ms_MY:["Daftar"],nl_NL:"Sign up",pl:["Zarejestruj się"],pt:["Inscrever-se"],ro:"Sign up",ru:["Регистрация"],sv:["Bli Medlem"],th:["ลงทะเบียน"],tr:["Üye Ol"],vi:["Đăng ký"],zh:["注册"],zh_TW:["註冊"]}},304389:e=>{e.exports={ar:["الرافعة المالية {value}"],ca_ES:"{value} leverage",cs:"{value} leverage",de:["{value} Hebelwirkung"],el:"{value} leverage",en:"{value} leverage",es:["Apalancamiento {value}"],fa:"{value} leverage",fr:["{value} levier"],he_IL:["מינוף {value}"],hu_HU:"{value} leverage",id_ID:"{value} leverage",it:["Leva {value}"],ja:["レバレッジ {value}"],ko:["{value} 레버리지"],ms_MY:["Keumpilan {value}"],nl_NL:"{value} leverage",pl:["Dźwignia {value}"],pt:["{value} de alavancagem"],ro:"{value} leverage",ru:["Плечо {value}"],sv:["{value} hävstångseffekt"],th:["{value} เลเวอเรจ"],tr:["{value} kaldıraç"],vi:["{value} đòn bẩy"],zh:["{value}杠杆"],zh_TW:["{value}槓桿"]}}}]);