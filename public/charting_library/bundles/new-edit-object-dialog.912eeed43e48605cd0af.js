(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[6265],{626574:e=>{e.exports={switcher:"switcher-fwE97QDf","thumb-wrapper":"thumb-wrapper-fwE97QDf","size-small":"size-small-fwE97QDf","size-medium":"size-medium-fwE97QDf","size-large":"size-large-fwE97QDf",input:"input-fwE97QDf","intent-default":"intent-default-fwE97QDf","disable-active-state-styles":"disable-active-state-styles-fwE97QDf","intent-select":"intent-select-fwE97QDf",track:"track-fwE97QDf",thumb:"thumb-fwE97QDf"}},714904:e=>{e.exports={scrollable:"scrollable-vwgPOHG8",tabs:"tabs-vwgPOHG8"}},92229:e=>{e.exports={defaultsButtonText:"defaultsButtonText-zcLkuEMM",defaultsButtonItem:"defaultsButtonItem-zcLkuEMM",defaultsButtonIcon:"defaultsButtonIcon-zcLkuEMM"}},518008:e=>{e.exports={themesButtonText:"themesButtonText-AeBgp7zz",themesButtonIcon:"themesButtonIcon-AeBgp7zz",defaultsButtonText:"defaultsButtonText-AeBgp7zz",defaultsButtonItem:"defaultsButtonItem-AeBgp7zz"}},839246:(e,t,l)=>{"use strict";l.d(t,{DialogTabs:()=>r});var n=l(50959),o=l(949781);const r=n.forwardRef((function(e,t){const{id:l,tabs:r,activeTab:i,onChange:s,className:a}=e;return n.createElement("div",{className:a,ref:t},n.createElement(o.UnderlineButtonTabs,{id:l,items:r,isActive:function(e){return e.id===i},onActivate:function(e){s(e.id)}}))}))},334163:(e,t,l)=>{"use strict";l.r(t),l.d(t,{EditObjectDialogRenderer:()=>dl});var n=l(500962),o=l(50959),r=l(650151),i=l(509806),s=l(664902),a=l(357739),c=l(870122),p=l(156963),d=l(559410),u=l(32133),h=l(674609),m=l(976669),v=l(370981),y=l(742554),g=l(593194),b=l(380865),f=l(919577),w=l(944316),P=l(839246),C=l(714904);class T extends o.PureComponent{constructor(e){var t;super(e),this._handleClose=e=>{(null==e?void 0:e.target)&&(e.target.closest('[data-dialog-name="gopro"]')||e.target.closest("[data-name=support-dialog]"))||this.props.onClose()},this._renderFooterLeft=e=>{const{source:t,model:l}=this.props;if((0,f.isLineTool)(t))return o.createElement(w.FooterMenu,{sources:[t],chartUndoModel:l});if((0,g.isStudy)(t))return o.createElement(h.StudyDefaultsManager,{model:l,source:t,mode:e?"compact":"normal"});throw new TypeError("Unsupported source type.")},this._handleSelect=e=>{this.setState({activeTabId:e},(()=>{this._requestResize&&this._requestResize()})),this.props.onActiveTabChanged&&this.props.onActiveTabChanged(e)},this._handleScroll=()=>{v.globalCloseDelegate.fire()},this._handleSubmit=()=>{this.props.onSubmit(),this.props.onClose()};const{pages:l,initialActiveTab:n}=this.props,r=null!==(t=l.find((e=>e.id===n)))&&void 0!==t?t:l[0];this.state={activeTabId:r.id}}render(){const{title:e,onCancel:t,onClose:l,shouldReturnFocus:n}=this.props;return o.createElement(m.AdaptiveConfirmDialog,{dataName:"indicator-properties-dialog",title:e,isOpened:!0,onSubmit:this._handleSubmit,onCancel:t,onClickOutside:this._handleClose,onClose:l,footerLeftRenderer:this._renderFooterLeft,render:this._renderChildren(),submitOnEnterKey:!1,shouldReturnFocus:n})}_renderChildren(){return({requestResize:e})=>{var t;this._requestResize=e
;const{pages:l,source:n,model:r}=this.props,{activeTabId:i}=this.state,s=null!==(t=l.find((e=>e.id===i)))&&void 0!==t?t:l[0],a="Component"in s?void 0:s.page,c=l.map((({label:e,id:t})=>({label:e,id:t,dataId:`indicator-properties-dialog-tabs-${t}`})));return o.createElement(o.Fragment,null,o.createElement(P.DialogTabs,{className:C.tabs,id:"indicator-properties-dialog-tabs",activeTab:s.id,onChange:this._handleSelect,tabs:c}),o.createElement(y.TouchScrollContainer,{className:C.scrollable,onScroll:this._handleScroll},"Component"in s?o.createElement(s.Component,{source:n,model:r}):o.createElement(b.PropertiesEditorTab,{page:a,tableKey:s.id})))}}}var S=l(355217),E=l(105586);class _ extends o.PureComponent{constructor(e){super(e),this._properties=this.props.source.properties(),this._inputs=new E.MetaInfoHelper(this.props.source.metaInfo()).getUserEditableInputs()}render(){return o.createElement(S.InputsTabContent,{property:this._properties,model:this.props.model,study:this.props.source,studyMetaInfo:this.props.source.metaInfo(),inputs:this._inputs})}}var k=l(414823),x=l(602907),L=l(597399),I=l(82528),D=l(662949),M=l(252138);const V=new s.TranslatedString("change visibility",i.t(null,void 0,l(521511)));class R extends o.PureComponent{constructor(){super(...arguments),this._onChange=e=>{const{setValue:t}=this.context,{visible:l}=this.props;l&&(0,M.setPropertyValue)(l,(l=>t(l,e,V)))}}render(){const{id:e,title:t,visible:n,disabled:r}=this.props,s=(0,a.clean)(i.t(t,{context:"input"},l(788601)),!0);return o.createElement(D.BoolInputComponent,{label:s,disabled:r,input:{id:e,type:"bool",defval:!0,name:"visible"},value:!n||(0,M.getPropertyValue)(n),onChange:this._onChange})}}R.contextType=I.StylePropertyContext;var N=l(966507),A=l(917850),W=l(321659),B=l(865588),z=l(294152),F=l(718819),H=l(614643),G=l(646464),O=l(396298),U=l(718621),j=l(98450),Q=l(591512),Z=l(193976),q=l(772914),K=l(321579);const $={[x.LineStudyPlotStyle.Line]:{type:x.LineStudyPlotStyle.Line,order:0,icon:z,label:i.t(null,void 0,l(301277))},[x.LineStudyPlotStyle.LineWithBreaks]:{type:x.LineStudyPlotStyle.LineWithBreaks,order:1,icon:F,label:i.t(null,void 0,l(54934))},[x.LineStudyPlotStyle.StepLine]:{type:x.LineStudyPlotStyle.StepLine,order:2,icon:H,label:i.t(null,void 0,l(79511))},[x.LineStudyPlotStyle.StepLineWithBreaks]:{type:x.LineStudyPlotStyle.StepLineWithBreaks,order:3,icon:G,label:i.t(null,void 0,l(464108))},[x.LineStudyPlotStyle.StepLineWithDiamonds]:{type:x.LineStudyPlotStyle.StepLineWithDiamonds,order:4,icon:O,label:i.t(null,void 0,l(367767))},[x.LineStudyPlotStyle.Histogram]:{type:x.LineStudyPlotStyle.Histogram,order:5,icon:U,label:i.t(null,void 0,l(511091))},[x.LineStudyPlotStyle.Cross]:{type:x.LineStudyPlotStyle.Cross,order:6,icon:j,label:i.t(null,{context:"chart_type"},l(774274))},[x.LineStudyPlotStyle.Area]:{type:x.LineStudyPlotStyle.Area,order:7,icon:Q,label:i.t(null,void 0,l(542097))},[x.LineStudyPlotStyle.AreaWithBreaks]:{type:x.LineStudyPlotStyle.AreaWithBreaks,order:8,icon:Z,label:i.t(null,void 0,l(65262))},[x.LineStudyPlotStyle.Columns]:{
type:x.LineStudyPlotStyle.Columns,order:9,icon:q,label:i.t(null,void 0,l(636018))},[x.LineStudyPlotStyle.Circles]:{type:x.LineStudyPlotStyle.Circles,order:10,icon:K,label:i.t(null,void 0,l(239495))}},X=Object.values($).sort(((e,t)=>e.order-t.order)).map((e=>({value:e.type,selectedContent:o.createElement(B.DisplayItem,{icon:e.icon}),content:o.createElement(B.DropItem,{icon:e.icon,label:e.label})}))),Y=i.t(null,void 0,l(491492));class J extends o.PureComponent{render(){const{id:e,plotType:t,className:l,priceLine:n,plotTypeChange:r,priceLineChange:i,disabled:s}=this.props;if(!(t in $))return null;const a={readonly:!0,content:o.createElement(o.Fragment,null,o.createElement(W.MenuItemSwitcher,{id:"PlotTypePriceLineSwitch",checked:n,label:Y,preventLabelHighlight:!0,value:"priceLineSwitcher",onChange:i}),o.createElement(A.PopupMenuSeparator,null))};return o.createElement(B.IconDropdown,{id:e,disabled:s,className:l,hideArrowButton:!0,items:[a,...X],value:t,onChange:r})}}var ee=l(14385),te=l(462433);const le=new s.TranslatedString("change plot type",i.t(null,void 0,l(215683))),ne=new s.TranslatedString("change price line visibility",i.t(null,void 0,l(867761)));class oe extends o.PureComponent{constructor(){super(...arguments),this._onPlotTypeChange=e=>{const{setValue:t}=this.context,{styleProp:{plottype:l}}=this.props;l&&t(l,e,le)},this._onPriceLineChange=e=>{const{setValue:t}=this.context,{styleProp:{trackPrice:l}}=this.props;l&&t(l,e,ne)}}render(){const{id:e,paletteColor:t,paletteColorProps:n,styleProp:r,isLine:s,hasPlotTypeSelect:a,grouped:c,offset:p}=this.props,d=n.childs();return o.createElement(N.InputRow,{grouped:c,label:o.createElement("div",{className:te.childRowContainer},i.t(t.name,{context:"input"},l(788601))),offset:p},o.createElement(ee.ColorWithThicknessSelect,{disabled:!r.visible.value(),color:d.color,transparency:r.transparency,thickness:s?d.width:void 0,isPaletteColor:!0}),s&&a&&r.plottype&&r.trackPrice?o.createElement(J,{id:(0,k.createDomId)(e,"plot-type-select"),disabled:!r.visible.value(),className:te.smallStyleControl,plotType:r.plottype.value(),priceLine:r.trackPrice.value(),plotTypeChange:this._onPlotTypeChange,priceLineChange:this._onPriceLineChange}):null)}}oe.contextType=I.StylePropertyContext;var re=l(459837);function ie(e,t,l,n,i,s,a){const c=t.colors,p=l.colors;return Object.keys(c).map(((t,l)=>o.createElement(oe,{key:a?`${t}-secondary`:t,id:e,grouped:!0,paletteColor:(0,r.ensureDefined)(c[t]),paletteColorProps:(0,r.ensureDefined)(p[t]),styleProp:n,isLine:i,hasPlotTypeSelect:0===l,offset:s})))}class se extends o.PureComponent{render(){const{plot:e,area:t,palette:l,paletteProps:n,hideVisibilitySwitch:i,styleProp:s,showOnlyTitle:a,showSeparator:c=!0,offset:p,secondaryPalette:d,secondaryPaletteProps:u,title:h}=this.props,m=e?e.id:(0,r.ensureDefined)(t).id,v=!m.startsWith("fill")&&e&&(0,x.isLinePlot)(e);return o.createElement(o.Fragment,null,!i&&o.createElement(re.PropertyTable.Row,null,o.createElement(re.PropertyTable.Cell,{placement:"first",colSpan:2,offset:p
},a?o.createElement("div",null,h):o.createElement(R,{id:m,title:h,visible:s.visible}))),ie(m,l,n,s,v,p),d&&u&&ie(m,d,u,s,v,p,!0),c&&o.createElement(re.PropertyTable.GroupSeparator,null))}}se.contextType=I.StylePropertyContext;var ae=l(410890);class ce extends o.PureComponent{constructor(e){super(e),this._visible=new ae.StudyPlotVisibleProperty(e.styleProp.display)}render(){const{title:e,plot:t,area:l,palette:n,paletteProps:r,hideVisibilitySwitch:i,styleProp:s,showOnlyTitle:a,showSeparator:c=!0,offset:p}=this.props;return o.createElement(se,{plot:t,area:l,title:e,palette:n,paletteProps:r,styleProp:{...s,visible:this._visible},showSeparator:c,hideVisibilitySwitch:i,showOnlyTitle:a,offset:p})}componentWillUnmount(){this._visible.destroy()}}ce.contextType=I.StylePropertyContext;class pe extends o.PureComponent{constructor(e){super(e),this._visible=new ae.StudyPlotVisibleProperty(e.display)}render(){const{id:e,title:t,disabled:l}=this.props;return o.createElement(R,{id:e,title:t,disabled:l,visible:this._visible})}componentWillUnmount(){this._visible.destroy()}}pe.contextType=I.StylePropertyContext;var de=l(554393);const ue=new s.TranslatedString("change plot type",i.t(null,void 0,l(215683))),he=new s.TranslatedString("change price line visibility",i.t(null,void 0,l(867761)));class me extends o.PureComponent{constructor(){super(...arguments),this._onPlotTypeChange=e=>{const{setValue:t}=this.context,{property:{plottype:l}}=this.props;l&&t(l,e,ue)},this._onPriceLineChange=e=>{const{setValue:t}=this.context,{property:{trackPrice:l}}=this.props;l&&t(l,e,he)}}render(){const{id:e,title:t,isRGB:l,isFundamental:n,property:{color:r,plottype:i,linewidth:s,transparency:a,trackPrice:c,display:p}}=this.props;return o.createElement(N.InputRow,{label:o.createElement(pe,{id:e,title:t,display:p})},l&&!n?this._getInputForRgb():o.createElement(ee.ColorWithThicknessSelect,{disabled:0===p.value(),color:r,transparency:a,thickness:s}),o.createElement(J,{id:(0,k.createDomId)(e,"plot-type-select"),disabled:0===p.value(),className:te.smallStyleControl,plotType:i.value(),priceLine:c.value(),plotTypeChange:this._onPlotTypeChange,priceLineChange:this._onPriceLineChange}))}_getInputForRgb(){const{id:e,showLineWidth:t,property:l}=this.props,{linewidth:n,display:r}=l;return n&&t?o.createElement(de.LineWidthSelect,{id:(0,k.createDomId)(e,"line-width-select"),property:n,disabled:0===r.value()}):null}}me.contextType=I.StylePropertyContext;const ve=o.createContext(null);class ye extends o.PureComponent{render(){const{id:e,isRGB:t,title:l,visible:n,color:r,transparency:i,thickness:s,children:a,switchable:c=!0,offset:p,grouped:d,disabled:u}=this.props;return o.createElement(N.InputRow,{label:c?o.createElement(R,{id:e,title:l,visible:n,disabled:u}):l,offset:p,grouped:d},t?null:o.createElement(ee.ColorWithThicknessSelect,{disabled:u||n&&!(Array.isArray(n)?n[0].value():n.value()),color:r,transparency:i,thickness:s}),a)}}ye.contextType=I.StylePropertyContext;class ge extends o.PureComponent{constructor(e){super(e),
this._visible=new ae.StudyPlotVisibleProperty(e.display)}render(){const{id:e,isRGB:t,title:l,color:n,transparency:r,thickness:i,children:s,switchable:a=!0,offset:c,grouped:p}=this.props;return o.createElement(ye,{id:e,isRGB:t,title:l,color:n,transparency:r,thickness:i,children:s,switchable:a,offset:c,grouped:p,visible:this._visible})}componentWillUnmount(){this._visible.destroy()}}ge.contextType=I.StylePropertyContext;class be extends o.PureComponent{render(){const{id:e,isRGB:t,property:{colorup:l,colordown:n,transparency:i,display:s}}=this.props;return o.createElement(ve.Consumer,null,(a=>o.createElement(o.Fragment,null,o.createElement(re.PropertyTable.Row,null,o.createElement(re.PropertyTable.Cell,{placement:"first",colSpan:2,grouped:!0},o.createElement(pe,{id:e,title:Ze((0,r.ensureNotNull)(a),e),display:s}))),!t&&o.createElement(o.Fragment,null,o.createElement(ge,{id:e,title:He,color:l,transparency:i,display:s,switchable:!1,offset:!0,grouped:!0}),o.createElement(ge,{id:e,title:Ge,color:n,transparency:i,display:s,switchable:!1,offset:!0,grouped:!0})),o.createElement(re.PropertyTable.GroupSeparator,null))))}}be.contextType=I.StylePropertyContext;var fe=l(687795),we=l.n(fe),Pe=l(497754),Ce=l.n(Pe),Te=l(654936),Se=l(529631),Ee=l(694454);const _e={[Ee.MarkLocation.AboveBar]:{value:Ee.MarkLocation.AboveBar,content:i.t(null,void 0,l(541389)),order:0},[Ee.MarkLocation.BelowBar]:{value:Ee.MarkLocation.BelowBar,content:i.t(null,void 0,l(278626)),order:1},[Ee.MarkLocation.Top]:{value:Ee.MarkLocation.Top,content:i.t(null,void 0,l(865994)),order:2},[Ee.MarkLocation.Bottom]:{value:Ee.MarkLocation.Bottom,content:i.t(null,void 0,l(691757)),order:3},[Ee.MarkLocation.Absolute]:{value:Ee.MarkLocation.Absolute,content:i.t(null,void 0,l(129520)),order:4}},ke=Object.values(_e).sort(((e,t)=>e.order-t.order));class xe extends o.PureComponent{render(){const{id:e,shapeLocation:t,className:l,menuItemClassName:n,shapeLocationChange:r,disabled:i}=this.props;return o.createElement(Se.Select,{id:e,disabled:i,className:l,menuItemClassName:n,items:ke,value:t,onChange:r})}}const Le=new s.TranslatedString("change char",i.t(null,void 0,l(198491))),Ie=new s.TranslatedString("change location",i.t(null,void 0,l(138361)));class De extends o.PureComponent{constructor(){super(...arguments),this._onCharChange=e=>{const{setValue:t}=this.context,l=e.currentTarget.value.trim(),n=we()(l),o=0===n.length?"":n[n.length-1];t((0,r.ensureDefined)(this.props.property.childs().char),o,Le)},this._onLocationChange=e=>{const{setValue:t}=this.context;t(this.props.property.childs().location,e,Ie)}}render(){var e;const{id:t,title:l,char:n,isRGB:i,property:s,hasPalette:a}=this.props,{color:c,transparency:p,char:d,location:u,display:h}=s.childs();return o.createElement(N.InputRow,{grouped:a,label:o.createElement(pe,{id:t,title:l,display:h})},!a&&!i&&o.createElement(ee.ColorWithThicknessSelect,{disabled:0===h.value(),color:c,transparency:p}),o.createElement(Te.InputControl,{disabled:void 0===d||0===h.value(),className:te.smallStyleControl,value:(0,
r.ensureDefined)(null!==(e=null==d?void 0:d.value())&&void 0!==e?e:n),onChange:this._onCharChange}),o.createElement(xe,{id:(0,k.createDomId)(t,"shape-style-select"),disabled:0===h.value(),className:Pe(te.defaultSelect,te.additionalSelect),menuItemClassName:te.defaultSelectItem,shapeLocation:u.value(),shapeLocationChange:this._onLocationChange}))}}De.contextType=I.StylePropertyContext;var Me=l(355490);const Ve={arrow_down:l(669151),arrow_up:l(167211),circle:l(583786),cross:l(250858),diamond:l(713201),flag:l(659058),label_down:l(808537),label_up:l(202309),square:l(778240),triangle_down:l(241683),triangle_up:l(306570),x_cross:l(923223)};function Re(e){return Ve[e]}const Ne=[];Object.keys(Me.plotShapesData).forEach((e=>{const t=Me.plotShapesData[e];Ne.push({id:t.id,value:t.id,selectedContent:o.createElement(B.DisplayItem,{icon:Re(t.icon)}),content:o.createElement(B.DropItem,{icon:Re(t.icon),label:t.guiName})})}));class Ae extends o.PureComponent{render(){const{id:e,shapeStyleId:t,className:l,shapeStyleChange:n,disabled:r}=this.props;return o.createElement(B.IconDropdown,{id:e,disabled:r,className:l,hideArrowButton:!0,items:Ne,value:t,onChange:n})}}const We=new s.TranslatedString("change shape",i.t(null,void 0,l(486888))),Be=new s.TranslatedString("change location",i.t(null,void 0,l(138361)));class ze extends o.PureComponent{constructor(){super(...arguments),this._onPlotTypeChange=e=>{const{setValue:t}=this.context;t(this.props.property.childs().plottype,e,We)},this._onLocationChange=e=>{const{setValue:t}=this.context;t(this.props.property.childs().location,e,Be)}}render(){const{id:e,title:t,isRGB:l,hasPalette:n,property:r}=this.props,{color:i,transparency:s,plottype:a,location:c,display:p}=r.childs();return o.createElement(N.InputRow,{grouped:n,label:o.createElement(pe,{id:e,title:t,display:p})},!n&&!l&&o.createElement(ee.ColorWithThicknessSelect,{disabled:0===p.value(),color:i,transparency:s}),o.createElement(Ae,{id:(0,k.createDomId)(e,"shape-style-select"),disabled:0===p.value(),className:te.smallStyleControl,shapeStyleId:a.value(),shapeStyleChange:this._onPlotTypeChange}),o.createElement(xe,{id:(0,k.createDomId)(e,"shape-location-select"),disabled:0===p.value(),className:Pe(te.defaultSelect,te.additionalSelect),menuItemClassName:te.defaultSelectItem,shapeLocation:c.value(),shapeLocationChange:this._onLocationChange}))}}ze.contextType=I.StylePropertyContext;const Fe=(0,l(6835).getLogger)("Chart.Study.PropertyPage"),He=i.t(null,void 0,l(798802)),Ge=i.t(null,void 0,l(741361)),Oe=i.t(null,void 0,l(883760)),Ue=i.t(null,void 0,l(226458)),je=i.t(null,void 0,l(248848));class Qe extends o.PureComponent{render(){var e,t,l;const{plot:n,palettes:i,study:s}=this.props,a=n.id,c=s.properties().styles,p=s.metaInfo().styles,d=c[a],u=n.type,h=i.main,m=!!s.metaInfo().isRGB;if("line"===u||"bar_colorer"===u||"bg_colorer"===u)return h&&h.palette&&h.paletteProps?o.createElement(ce,{title:null!==(t=null===(e=null==p?void 0:p[a])||void 0===e?void 0:e.title)&&void 0!==t?t:a,plot:n,palette:h.palette,paletteProps:h.paletteProps,styleProp:d
}):o.createElement(me,{id:a,title:(0,r.ensureDefined)(null===(l=null==p?void 0:p[a])||void 0===l?void 0:l.title),property:d,isRGB:m,isFundamental:false,showLineWidth:"line"===u});if("arrows"===u){const e=this._getPlotSwitch(a,Ze(s,a),d.display);if(m)return e;const t=i.up,l=i.down;return t||l?o.createElement(o.Fragment,null,e,t&&t.palette&&t.paletteProps?o.createElement(ce,{title:He,plot:n,palette:t.palette,paletteProps:t.paletteProps,styleProp:d,showSeparator:!1,showOnlyTitle:!0,offset:!0}):o.createElement(ge,{id:a,isRGB:m,title:He,color:d.colorup,display:d.display,transparency:d.transparency,switchable:!1,grouped:!0,offset:!0}),l&&l.palette&&l.paletteProps?o.createElement(ce,{title:Ge,plot:n,palette:l.palette,paletteProps:l.paletteProps,styleProp:d,showSeparator:!1,showOnlyTitle:!0,offset:!0}):o.createElement(ge,{id:a,isRGB:m,title:Ge,color:d.colordown,display:d.display,transparency:d.transparency,switchable:!1,grouped:!0,offset:!0}),o.createElement(re.PropertyTable.GroupSeparator,null)):o.createElement(be,{id:a,property:d,isRGB:m,plot:n,palettes:i,styleProp:d})}if("chars"===u||"shapes"===u){const e=(0,r.ensureDefined)(null==p?void 0:p[a]),t=e.title;return o.createElement(o.Fragment,null,"chars"===u?o.createElement(De,{id:a,title:t,char:e.char,property:d,hasPalette:Boolean(h&&h.palette),isRGB:m}):o.createElement(ze,{id:a,title:t,property:d,hasPalette:Boolean(h&&h.palette),isRGB:m}),h&&h.palette&&h.paletteProps&&o.createElement(ce,{title:t,plot:n,palette:h.palette,paletteProps:h.paletteProps,hideVisibilitySwitch:!0,styleProp:d}))}if((0,x.isOhlcPlot)(n)){const e=n.target,t=s.properties().ohlcPlots[e],l=(0,r.ensureDefined)((0,r.ensureDefined)(s.metaInfo().ohlcPlots)[e]),c=this._getPlotSwitch(a,l.title,t.display);if(m)return c;const p=i.wick&&i.wick.palette&&i.wick.paletteProps,d=i.border&&i.border.palette&&i.border.paletteProps;return o.createElement(o.Fragment,null,c,h&&h.palette&&h.paletteProps?o.createElement(ce,{title:Oe,plot:n,palette:h.palette,paletteProps:h.paletteProps,styleProp:t,showSeparator:!1,showOnlyTitle:!0,offset:!0}):o.createElement(ge,{id:a,isRGB:m,title:Oe,display:t.display,color:t.color,transparency:t.transparency,switchable:!1,grouped:!0,offset:!0}),i.wick&&i.wick.palette&&i.wick.paletteProps&&o.createElement(ce,{title:Ue,plot:n,palette:i.wick.palette,paletteProps:i.wick.paletteProps,styleProp:t,showSeparator:!1,showOnlyTitle:!0,offset:!0}),Boolean(!p&&t.wickColor)&&o.createElement(ge,{id:a,isRGB:m,title:Ue,display:t.display,color:t.wickColor,transparency:t.transparency,switchable:!1,grouped:!0,offset:!0}),i.border&&i.border.palette&&i.border.paletteProps&&o.createElement(ce,{title:je,plot:n,palette:i.border.palette,paletteProps:i.border.paletteProps,styleProp:t,showSeparator:!1,showOnlyTitle:!0,offset:!0}),Boolean(!d&&t.borderColor)&&o.createElement(ge,{id:a,isRGB:m,title:je,display:t.display,color:t.borderColor,transparency:t.transparency,switchable:!1,grouped:!0,offset:!0}),o.createElement(re.PropertyTable.GroupSeparator,null))}return Fe.logError("Unknown plot type: "+u),null}
_getPlotSwitch(e,t,l){return o.createElement(re.PropertyTable.Row,null,o.createElement(re.PropertyTable.Cell,{placement:"first",colSpan:2},o.createElement(pe,{id:e,title:t,display:l})))}}function Ze(e,t){const l=(0,r.ensureDefined)(e.metaInfo().styles),{title:n}=(0,r.ensureDefined)(l[t]);return(0,r.ensureDefined)(n)}var qe=l(600052),Ke=l(796855);const $e=new s.TranslatedString("change line style",i.t(null,void 0,l(628691)));class Xe extends o.PureComponent{constructor(){super(...arguments),this._onLineStyleChange=e=>{const{setValue:t}=this.context,{lineStyle:l}=this.props;(0,M.setPropertyValue)(l,(l=>t(l,e,$e)))}}render(){const{lineStyle:e,...t}=this.props;return o.createElement(Ke.LineStyleSelect,{...t,lineStyle:(0,M.getPropertyValue)(e),lineStyleChange:this._onLineStyleChange})}}Xe.contextType=I.StylePropertyContext;const Ye=new s.TranslatedString("change value",i.t(null,void 0,l(50463)));class Je extends o.PureComponent{constructor(){super(...arguments),this._onValueChange=e=>{const{setValue:t}=this.context,{value:l}=this.props.property;t(l,e,Ye)}}render(){const{id:e,name:t,property:{color:l,linestyle:n,linewidth:r,transparency:i,value:s,visible:a}}=this.props;return o.createElement(N.InputRow,{labelAlign:"adaptive",label:o.createElement(R,{id:e,title:t,visible:a})},o.createElement("div",{className:te.block},o.createElement("div",{className:te.group},o.createElement(ee.ColorWithThicknessSelect,{disabled:!a.value(),color:l,transparency:i,thickness:r}),o.createElement(Xe,{id:(0,k.createDomId)(e,"line-style-select"),disabled:!a.value(),className:te.smallStyleControl,lineStyle:n})),o.createElement("div",{className:Pe(te.wrapGroup,te.defaultSelect,te.additionalSelect)},o.createElement(qe.FloatInputComponent,{input:{id:"",name:"",type:"float",defval:0},value:s.value(),disabled:!a.value(),onChange:this._onValueChange}))))}}Je.contextType=I.StylePropertyContext;class et extends o.PureComponent{render(){const{orders:{visible:e,showLabels:t,showQty:n}}=this.props;return o.createElement(o.Fragment,null,o.createElement(re.PropertyTable.Row,null,o.createElement(re.PropertyTable.Cell,{placement:"first",colSpan:2},o.createElement(R,{id:"chart-orders-switch",title:i.t(null,void 0,l(607138)),visible:e}))),o.createElement(re.PropertyTable.Row,null,o.createElement(re.PropertyTable.Cell,{placement:"first",colSpan:2},o.createElement(R,{id:"chart-orders-labels-switch",title:i.t(null,void 0,l(786520)),visible:t}))),o.createElement(re.PropertyTable.Row,null,o.createElement(re.PropertyTable.Cell,{placement:"first",colSpan:2},o.createElement(R,{id:"chart-orders-qty-switch",title:i.t(null,void 0,l(766596)),visible:n}))))}}et.contextType=I.StylePropertyContext;var tt=l(767822),lt=l(815300);const nt=new s.TranslatedString("change percent width",i.t(null,void 0,l(851081))),ot=new s.TranslatedString("change placement",i.t(null,void 0,l(847634))),rt=new s.TranslatedString("change values visibility",i.t(null,void 0,l(212628))),it=[{value:tt.HHistDirection.LeftToRight,content:i.t(null,void 0,l(619286))},{value:tt.HHistDirection.RightToLeft,
content:i.t(null,void 0,l(221141))}],st=i.t(null,void 0,l(895247)),at=i.t(null,void 0,l(621861)),ct=i.t(null,void 0,l(391322)),pt=i.t(null,void 0,l(319221));class dt extends o.PureComponent{constructor(){super(...arguments),this._onPercentWidthChange=e=>{const{setValue:t}=this.context,{percentWidth:l}=this.props.property.childs();t(l,e,nt)},this._onPlacementChange=e=>{const{setValue:t}=this.context,{direction:l}=this.props.property.childs();t(l,e,ot)},this._onShowValuesChange=e=>{const{setValue:t}=this.context,{showValues:l}=this.props.property.childs();t(l,e,rt)}}render(){const{hHistInfo:e,property:t}=this.props,{percentWidth:l,direction:n,showValues:r,valuesColor:i,visible:s}=t.childs(),{title:a}=e;return o.createElement(o.Fragment,null,o.createElement(re.PropertyTable.Row,null,o.createElement(re.PropertyTable.Cell,{placement:"first",colSpan:2,grouped:!0},o.createElement(R,{id:a,title:a,visible:s}))),o.createElement(N.InputRow,{label:o.createElement("div",{className:te.childRowContainer},st),grouped:!0},o.createElement(lt.IntegerInputComponent,{input:{id:"",name:"",type:"integer",defval:0},value:l.value(),disabled:!s.value(),onChange:this._onPercentWidthChange})),o.createElement(N.InputRow,{label:o.createElement("div",{className:te.childRowContainer},at),grouped:!0},o.createElement(Se.Select,{id:"hhist-graphic-placement-select",disabled:!s.value(),className:te.defaultSelect,menuItemClassName:te.defaultSelectItem,items:it,value:n.value(),onChange:this._onPlacementChange})),o.createElement(re.PropertyTable.Row,null,o.createElement(re.PropertyTable.Cell,{className:te.childRowContainer,placement:"first",colSpan:2,grouped:!0},o.createElement(D.BoolInputComponent,{label:ct,input:{id:a+"_showValues",type:"bool",defval:!0,name:"visible"},value:!r||r.value(),disabled:!s.value(),onChange:this._onShowValuesChange}))),o.createElement(N.InputRow,{label:o.createElement("div",{className:te.childRowContainer},pt),grouped:!0},o.createElement(ee.ColorWithThicknessSelect,{disabled:s&&!s.value(),color:i})),this._renderColors(),o.createElement(re.PropertyTable.GroupSeparator,null))}_renderColors(){const{property:e,hHistInfo:t}=this.props,{colors:l,transparencies:n,visible:r}=e.childs(),{titles:i}=t;return l.childNames().map((e=>o.createElement(N.InputRow,{key:e,grouped:!0,label:o.createElement("div",{className:te.childRowContainer},i[+e])},o.createElement(ee.ColorWithThicknessSelect,{disabled:!r.value(),color:l[+e],transparency:n[+e]}))))}}dt.contextType=I.StylePropertyContext;class ut extends o.PureComponent{render(){const{title:e,property:t}=this.props,{color:l,width:n,style:r,visible:i}=t.childs();return o.createElement(N.InputRow,{label:o.createElement(R,{id:e,title:e,visible:i})},o.createElement(ee.ColorWithThicknessSelect,{disabled:!i.value(),color:l,transparency:t.child("transparency"),thickness:n}),o.createElement(Xe,{id:(0,k.createDomId)(e,"line-style-select"),disabled:!i.value(),className:te.smallStyleControl,lineStyle:r}))}}ut.contextType=I.StylePropertyContext;var ht,mt;l(280233);!function(e){e.Triangle="triangle",
e.Rectangle="rectangle"}(ht||(ht={})),function(e){e.Verdana="Verdana",e.CourierNew="Courier New",e.TimesNewRoman="Times New Roman",e.Arial="Arial"}(mt||(mt={}));class vt extends o.PureComponent{render(){const{graphicType:e,study:t}=this.props,l=t.metaInfo(),n=l.graphics,i=t.properties().graphics.childs(),s=(0,r.ensureDefined)(n[e]);return Object.keys(s).map(((t,n)=>{var s,a,c,p;const d=(0,r.ensureDefined)(null===(s=i[e])||void 0===s?void 0:s.childs()[t]);return"horizlines"===e||"vertlines"===e?o.createElement(ut,{key:t,title:(0,r.ensureDefined)(null===(a=l.graphics[e])||void 0===a?void 0:a[t]).name,property:d}):"lines"===e?o.createElement(ut,{key:t,title:(0,r.ensureDefined)(null===(c=l.graphics.lines)||void 0===c?void 0:c[t]).title,property:d}):"hhists"===e?o.createElement(dt,{key:t,hHistInfo:(0,r.ensureDefined)(null===(p=l.graphics.hhists)||void 0===p?void 0:p[t]),property:d}):null}))}}var yt=l(408525);const gt=new s.TranslatedString("change font size",i.t(null,void 0,l(907378))),bt=[10,11,12,14,16,20,24,28,32,40].map((e=>({value:e,title:e.toString()})));class ft extends o.PureComponent{constructor(){super(...arguments),this._onFontSizeChange=e=>{const{setValue:t}=this.context,{fontSize:l}=this.props;t(l,e,gt)}}render(){const{fontSize:e,...t}=this.props;return o.createElement(yt.FontSizeSelect,{...t,fontSizes:bt,fontSize:e.value(),fontSizeChange:this._onFontSizeChange})}}ft.contextType=I.StylePropertyContext;const wt=new s.TranslatedString("change visibility",i.t(null,void 0,l(521511))),Pt=i.t(null,void 0,l(864606)),Ct=i.t(null,void 0,l(194420)),Tt={Traditional:new Set(["S5/R5","S4/R4","S3/R3","S2/R2","S1/R1","P"]),Fibonacci:new Set(["S3/R3","S2/R2","S1/R1","P"]),Woodie:new Set(["S4/R4","S3/R3","S2/R2","S1/R1","P"]),Classic:new Set(["S4/R4","S3/R3","S2/R2","S1/R1","P"]),DM:new Set(["S1/R1","P"]),DeMark:new Set(["S1/R1","P"]),Camarilla:new Set(["S4/R4","S3/R3","S2/R2","S1/R1","P"]),Floor:new Set(["S3/R3","S2/R2","S1/R1","P"])};class St extends o.PureComponent{constructor(){super(...arguments),this._onChange=e=>{const{setValue:t}=this.context,{levelsStyle:l}=this.props.property.childs(),{showLabels:n}=l.childs();t(n,e,wt)}}render(){const{fontsize:e,levelsStyle:t}=this.props.property.childs();return o.createElement(o.Fragment,null,o.createElement(N.InputRow,{labelAlign:"adaptive",label:o.createElement("span",null,Pt)},o.createElement("div",{className:te.block},o.createElement("div",{className:Pe(te.wrapGroup,te.additionalSelect)},o.createElement(ft,{id:"pivot-points-standard-font-size-select",fontSize:e})))),o.createElement(re.PropertyTable.Row,null,o.createElement(re.PropertyTable.Cell,{placement:"first",colSpan:2},o.createElement(D.BoolInputComponent,{label:Ct,input:{id:"ShowLabels",type:"bool",defval:!0,name:"visible"},value:t.childs().showLabels.value(),onChange:this._onChange}))),this._renderColors())}_renderColors(){const{levelsStyle:e,inputs:t}=this.props.property.childs(),{colors:l,widths:n,visibility:i}=e.childs(),{kind:s}=t.childs(),a=(0,r.ensureDefined)(Tt[s.value()])
;return l.childNames().filter((e=>a.has(e))).map((e=>o.createElement(ye,{key:e,id:e,title:e,color:l.childs()[e],visible:i.childs()[e],thickness:n.childs()[e]})))}}St.contextType=I.StylePropertyContext;const Et=i.t(null,void 0,l(621861)),_t=[{value:tt.HHistDirection.RightToLeft,content:i.t(null,void 0,l(221141))},{value:tt.HHistDirection.LeftToRight,content:i.t(null,void 0,l(619286))}],kt=new s.TranslatedString("change visibility",i.t(null,void 0,l(521511))),xt=i.t(null,void 0,l(114414)),Lt=i.t(null,void 0,l(391322)),It=i.t(null,void 0,l(895247)),Dt=i.t(null,void 0,l(731577)),Mt=i.t(null,{context:"input"},l(323545)),Vt=i.t(null,{context:"input"},l(641596));class Rt extends o.PureComponent{constructor(){super(...arguments),this._onChange=e=>{this._setHhistsProperty("visible",e)},this._onShowValuesChange=e=>{this._setHhistsProperty("showValues",e)},this._onValueChange=e=>{this._setHhistsProperty("percentWidth",e)},this._onDirectionChange=e=>{this._setHhistsProperty("direction",e)}}render(){var e,t,n,s,a,c;const{metaInfo:p}=this.props,{graphics:d,styles:u,showLabelsOnPriceScale:h,showLegendValues:m}=this.props.property.childs(),{hhists:v,horizlines:y,polygons:g}=d.childs(),b=(0,r.ensureDefined)(p.graphics.hhists),f=Object.keys(b),w=v.childs()[f[0]],P=w.childs().visible,C=f.map((e=>v.childs()[e].childs().showValues)),T=w.childs().percentWidth,S=w.childs().direction,E=f.map((e=>v.childs()[e].childs().valuesColor)),_=null===(e=y.childs())||void 0===e?void 0:e.vahLines,k=null===(t=p.graphics.horizlines)||void 0===t?void 0:t.vahLines,x=null===(n=y.childs())||void 0===n?void 0:n.valLines,L=null===(s=p.graphics.horizlines)||void 0===s?void 0:s.valLines,I=y.childs().pocLines,M=(0,r.ensureDefined)(null===(a=p.graphics.horizlines)||void 0===a?void 0:a.pocLines),V=u.childs().developingPoc,A=new ae.StudyPlotVisibleProperty(V.childs().display),W=(0,r.ensureDefined)(null===(c=p.styles)||void 0===c?void 0:c.developingPoc),B=u.childs().developingVAHigh,z=new ae.StudyPlotVisibleProperty(B.childs().display),F=u.childs().developingVALow,H=new ae.StudyPlotVisibleProperty(F.childs().display),G=p.graphics.polygons&&p.graphics.polygons.histBoxBg;return o.createElement(o.Fragment,null,o.createElement(re.PropertyTable.Row,null,o.createElement(re.PropertyTable.Cell,{placement:"first",colSpan:2},o.createElement(D.BoolInputComponent,{label:xt,input:{id:"VolumeProfile",type:"bool",defval:!0,name:"visible"},value:P.value(),onChange:this._onChange}))),o.createElement(re.PropertyTable.Row,null,o.createElement(re.PropertyTable.Cell,{placement:"first"},o.createElement("div",{className:te.childRowContainer},o.createElement(D.BoolInputComponent,{disabled:!P.value(),label:Lt,input:{id:"ShowValues",type:"bool",defval:!0,name:"visible"},value:C[0].value(),onChange:this._onShowValuesChange}))),o.createElement(re.PropertyTable.Cell,{placement:"last"},o.createElement(ee.ColorWithThicknessSelect,{disabled:!P.value()||!C[0].value(),color:E}))),o.createElement(re.PropertyTable.Row,null,o.createElement(re.PropertyTable.Cell,{placement:"first"
},o.createElement("div",{className:te.childRowContainer},It)),o.createElement(re.PropertyTable.Cell,{placement:"last"},o.createElement(lt.IntegerInputComponent,{disabled:!P.value(),input:{id:"",name:"",type:"integer",defval:0},value:T.value(),onChange:this._onValueChange}))),o.createElement(re.PropertyTable.Row,null,o.createElement(re.PropertyTable.Cell,{placement:"first"},o.createElement("div",{className:te.childRowContainer},Et)),o.createElement(re.PropertyTable.Cell,{placement:"last"},o.createElement(Se.Select,{id:"hhist-direction-select",disabled:!P.value(),className:te.defaultSelect,menuItemClassName:te.defaultSelectItem,items:_t,value:S.value(),onChange:this._onDirectionChange}))),f.map((e=>o.createElement(o.Fragment,{key:e},v.childs()[e].childs().colors.childNames().map(((t,n)=>{const r=b[e];return o.createElement(N.InputRow,{key:n,label:o.createElement("div",{className:te.childRowContainer},r&&i.t(r.titles[n],{context:"input"},l(788601))||"")},o.createElement(ee.ColorWithThicknessSelect,{disabled:!P.value(),color:v.childs()[e].childs().colors.childs()[n],transparency:v.childs()[e].childs().transparencies.childs()[n]}))}))))),k&&_&&o.createElement(ye,{id:"vahLines",title:k.name,color:_.childs().color,visible:_.childs().visible,thickness:_.childs().width},o.createElement(Xe,{id:"vah-lines-line-style-select",disabled:!_.childs().visible.value(),className:te.smallStyleControl,lineStyle:_.childs().style})),L&&x&&o.createElement(ye,{id:"valLines",title:L.name,color:x.childs().color,visible:x.childs().visible,thickness:x.childs().width},o.createElement(Xe,{id:"val-lines-line-style-select",disabled:!x.childs().visible.value(),className:te.smallStyleControl,lineStyle:x.childs().style})),o.createElement(ye,{id:"pocLines",title:M.name,color:I.childs().color,visible:I.childs().visible,thickness:I.childs().width},o.createElement(Xe,{id:"poc-lines-line-style-select",disabled:!I.childs().visible.value(),className:te.smallStyleControl,lineStyle:I.childs().style})),V&&o.createElement(ye,{id:"developingPoc",title:W.title&&i.t(W.title,{context:"input"},l(788601))||"",color:V.childs().color,visible:A,thickness:V.childs().linewidth},o.createElement(Xe,{id:"developing-poc-line-style-select",disabled:!A.value(),className:te.smallStyleControl,lineStyle:V.childs().linestyle})),B&&F&&o.createElement(ye,{id:"developingPoc",title:Dt,color:[B.childs().color,F.childs().color],visible:[z,H],thickness:[B.childs().linewidth,F.childs().linewidth]},o.createElement(Xe,{id:"developing-VA-line-style-select",disabled:!z.value()&&!H.value(),className:te.smallStyleControl,lineStyle:[B.childs().linestyle,F.childs().linestyle]})),g&&o.createElement(N.InputRow,{label:o.createElement("div",null,G&&i.t(G.name,{context:"input"},l(788601))||"")},o.createElement(ee.ColorWithThicknessSelect,{color:g.childs().histBoxBg.childs().color,transparency:g.childs().histBoxBg.childs().transparency})),(h||m)&&"VbPFixed"!==p.shortId&&o.createElement(o.Fragment,null,h&&o.createElement(re.PropertyTable.Cell,{placement:"first",colSpan:2},o.createElement(R,{
id:"showLabelsOnPriceScale",title:Vt,visible:h})),m&&o.createElement(re.PropertyTable.Cell,{placement:"first",colSpan:2},o.createElement(R,{id:"showLegendValues",title:Mt,visible:m}))))}_setHhistsProperty(e,t){const{setValue:l}=this.context,{metaInfo:n,property:o}=this.props,i=o.childs().graphics.childs().hhists,s=Object.keys((0,r.ensureDefined)(n.graphics.hhists));for(let n=0;n<s.length;n++){const o=i.childs()[s[n]].child(e);l((0,r.ensureDefined)(o),t,kt)}}}function Nt(){const e=(0,r.ensureNotNull)((0,o.useContext)(ve)),t=e.metaInfo(),l=e.properties();return o.createElement(Rt,{metaInfo:t,property:l})}Rt.contextType=I.StylePropertyContext;var At=l(947901);const Wt={VbPFixed:Nt,PivotPointsStandard:function(){const e=(0,r.ensureNotNull)((0,o.useContext)(ve)).properties();return o.createElement(St,{property:e})},VbPVisible:Nt,VbPAnchored:Nt};class Bt extends o.PureComponent{render(){const e=(0,r.ensureNotNull)(this.context);return o.createElement(ve.Consumer,null,(t=>o.createElement(I.StylePropertyContainer,{property:(0,r.ensureNotNull)(t).properties(),model:e},o.createElement(re.PropertyTable,null,this._renderCustomContent((0,r.ensureNotNull)(t).metaInfo().shortId)))))}_renderCustomContent(e){if(e in Wt){const t=Wt[e];return o.createElement(t,null)}return null}}Bt.contextType=At.ModelContext;var zt=l(66247);const Ft=new s.TranslatedString("change precision",i.t(null,void 0,l(900164))),Ht=i.t(null,void 0,l(204329)),Gt=i.t(null,void 0,l(173947)),Ot=[{value:"default",content:Ht}];for(let e=0;e<=8;e++)Ot.push({value:e,content:e.toString()});class Ut extends o.PureComponent{constructor(){super(...arguments),this._onChange=e=>{const{setValue:t}=this.context,{precision:l}=this.props;t(l,e,Ft)}}render(){const{id:e,precision:t}=this.props;return o.createElement(N.InputRow,{label:Gt},o.createElement(Se.Select,{id:e,className:te.defaultSelect,menuItemClassName:te.defaultSelectItem,items:Ot,value:t.value(),onChange:this._onChange}))}}Ut.contextType=I.StylePropertyContext;const jt=new s.TranslatedString("change min tick",i.t(null,void 0,l(320834))),Qt=i.t(null,void 0,l(204329)),Zt=i.t(null,void 0,l(836993)),qt=[{priceScale:1,minMove:1,frac:!1},{priceScale:10,minMove:1,frac:!1},{priceScale:100,minMove:1,frac:!1},{priceScale:1e3,minMove:1,frac:!1},{priceScale:1e4,minMove:1,frac:!1},{priceScale:1e5,minMove:1,frac:!1},{priceScale:1e6,minMove:1,frac:!1},{priceScale:1e7,minMove:1,frac:!1},{priceScale:1e8,minMove:1,frac:!1},{priceScale:2,minMove:1,frac:!0},{priceScale:4,minMove:1,frac:!0},{priceScale:8,minMove:1,frac:!0},{priceScale:16,minMove:1,frac:!0},{priceScale:32,minMove:1,frac:!0},{priceScale:64,minMove:1,frac:!0},{priceScale:128,minMove:1,frac:!0},{priceScale:320,minMove:1,frac:!0}],Kt=[{id:"tick-default",value:"default",content:Qt}];for(let e=0;e<qt.length;e++){const t=qt[e];Kt.push({value:t.priceScale+","+t.minMove+","+t.frac,content:t.minMove+"/"+t.priceScale})}class $t extends o.PureComponent{constructor(){super(...arguments),this._onChange=e=>{const{setValue:t}=this.context,{minTick:l}=this.props;t(l,e,jt)}}render(){
const{id:e,minTick:t}=this.props;return o.createElement(N.InputRow,{label:Zt},o.createElement(Se.Select,{id:e,className:te.defaultSelect,menuItemClassName:te.defaultSelectItem,items:Kt,value:t.value(),onChange:this._onChange}))}}$t.contextType=I.StylePropertyContext;var Xt=l(39290),Yt=l(852830);class Jt extends o.PureComponent{render(){const{id:e,isRGB:t,title:l,visible:n,bottomColor:r,topColor:i,transparency:s,children:a,switchable:c=!0,offset:p,grouped:d}=this.props;return o.createElement(N.InputRow,{label:c?o.createElement(R,{id:e,title:l,visible:n}):l,offset:p,grouped:d},t?null:o.createElement(o.Fragment,null,i&&o.createElement(ee.ColorWithThicknessSelect,{disabled:n&&!(Array.isArray(n)?n[0].value():n.value()),color:i,transparency:s}),r&&o.createElement("div",{className:Ce()(r&&i&&te.additionalSelect)},o.createElement(ee.ColorWithThicknessSelect,{disabled:n&&!(Array.isArray(n)?n[0].value():n.value()),color:r,transparency:s}))),a)}}Jt.contextType=I.StylePropertyContext;const el=i.t(null,void 0,l(527331)),tl=i.t(null,{context:"input"},l(323545)),ll=i.t(null,{context:"input"},l(641596)),nl=i.t(null,void 0,l(540297));class ol extends o.PureComponent{constructor(){super(...arguments),this._findPlotPalettes=e=>{const{study:t}=this.props,l=t.metaInfo(),n=(0,r.ensureDefined)(l.palettes);return(0,x.isBarColorerPlot)(e)||(0,x.isBgColorerPlot)(e)?{main:{palette:n[e.palette],paletteProps:t.properties().palettes[e.palette]}}:this._findPalettesByTargetId(e.id)}}render(){const{study:e}=this.props,t=e.metaInfo();if((0,zt.isCustomStudy)(t.shortId))return o.createElement(Bt,null);const l=e.properties(),{precision:n,strategy:r,minTick:i,showLabelsOnPriceScale:s,showLegendValues:a}=l,c=t.plots.length>0,p=t.plots.some((e=>!(0,x.isPlotWithTechnicalValues)(e))),d=c||t.inputs.some((e=>"price"===e.type)),u=(0,Xt.createAdapter)(e).canOverrideMinTick();return o.createElement(re.PropertyTable,null,this._plotsElement(),this._bandsElement(),this._bandsBackgroundsElement(),this._areasBackgroundsElement(),this._filledAreasElement(),this._graphicsElement(),u&&o.createElement($t,{id:(0,k.createDomId)(t.id,"min-tick-select"),minTick:i}),L.StudyMetaInfo.isScriptStrategy(t)&&o.createElement(et,{orders:r.orders}),(d||p)&&o.createElement(re.PropertyTable.Row,null,o.createElement(re.PropertyTable.GroupSeparator,{size:1}),o.createElement(Yt.GroupTitleSection,{title:nl,name:nl}),d&&o.createElement(Ut,{id:(0,k.createDomId)(t.id,"precision-select"),precision:n}),p&&o.createElement(o.Fragment,null,o.createElement(re.PropertyTable.Cell,{placement:"first",colSpan:2},o.createElement(R,{id:"showLabelsOnPriceScale",title:ll,visible:s})),o.createElement(re.PropertyTable.Cell,{placement:"first",colSpan:2},o.createElement(R,{id:"showLegendValues",title:tl,visible:a})))))}_plotsElement(){const{study:e}=this.props,t=e.metaInfo();return new E.MetaInfoHelper(t).getUserEditablePlots().filter((e=>!((0,x.isUpColorerPlot)(e)||(0,x.isDownColorerPlot)(e)||(0,x.isCandleBorderColorerPlot)(e)||(0,x.isCandleWickColorerPlot)(e)))).map((t=>{const l=(0,x.isOhlcPlot)(t)?{...t,
id:t.target}:t,n=this._findPlotPalettes(l);return o.createElement(Qe,{key:t.id,plot:t,palettes:n,study:e})}))}_bandsElement(){const{study:e}=this.props,t=e.metaInfo().bands,l=e.properties().childs().bands;return t&&l&&t.map(((e,t)=>{if(!e.isHidden)return o.createElement(Je,{key:t,id:e.name,name:e.name,property:l[t]})}))}_bandsBackgroundsElement(){const{study:e}=this.props,t=e.properties(),{bandsBackground:l}=t;return l&&o.createElement(ye,{id:"bandsBackground",title:el,visible:l.fillBackground,color:l.backgroundColor,transparency:l.transparency})}_areasBackgroundsElement(){const{study:e}=this.props,t=e.metaInfo(),l=e.properties(),{areaBackground:n}=l;return t.isRGB?null:n&&o.createElement(ye,{id:"areaBackground",title:el,visible:n.fillBackground,color:n.backgroundColor,transparency:n.transparency})}_filledAreasElement(){const{study:e}=this.props,t=e.metaInfo(),l=t.filledAreas;return!l||t.isRGB?[]:l.map((t=>{if(t.isHidden)return null;const l=e.properties().filledAreasStyle[t.id],n=t.title||el;if(l.hasChild("fillType")&&"gradient"===l.childs().fillType.value()){if(l.topColor||l.bottomColor)return o.createElement(Jt,{key:t.id,id:t.id,title:n,bottomColor:l.bottomColor,topColor:l.topColor,visible:l.visible,transparency:l.transparency});if(t.palette){const e=this._findPalettesByTargetId(t.id),n=(0,r.ensureDefined)(e.main),i=e.secondary;return o.createElement(se,{key:t.id,title:t.title,area:t,palette:(0,r.ensureDefined)(n.palette),paletteProps:(0,r.ensureDefined)(n.paletteProps),secondaryPalette:null==i?void 0:i.palette,secondaryPaletteProps:null==i?void 0:i.paletteProps,styleProp:l})}return null}if(t.palette){const e=this._findPalettesByTargetId(t.id),n=(0,r.ensureDefined)(e.main);return o.createElement(se,{key:t.id,title:t.title,area:t,palette:(0,r.ensureDefined)(n.palette),paletteProps:(0,r.ensureDefined)(n.paletteProps),styleProp:l})}return o.createElement(ye,{key:t.id,id:t.id,title:n,color:l.color,visible:l.visible,transparency:l.transparency})}))}_graphicsElement(){const{study:e}=this.props,t=e.metaInfo().graphics;return t&&Object.keys(t).map(((t,l)=>o.createElement(vt,{key:t,graphicType:t,study:e})))}_findPalettesByTargetId(e){const{study:t}=this.props,l=t.metaInfo(),n=l.plots,o=(0,r.ensureDefined)(l.palettes),i={};for(const l of n){if(((0,x.isPaletteColorerPlot)(l)||(0,x.isOhlcColorerPlot)(l))&&l.target===e){if(i.main){i.secondary={palette:o[l.palette],paletteProps:t.properties().palettes[l.palette]};continue}i.main={palette:o[l.palette],paletteProps:t.properties().palettes[l.palette]}}(0,x.isUpColorerPlot)(l)&&l.target===e&&(i.up={palette:o[l.palette],paletteProps:t.properties().palettes[l.palette]}),(0,x.isDownColorerPlot)(l)&&l.target===e&&(i.down={palette:o[l.palette],paletteProps:t.properties().palettes[l.palette]}),(0,x.isCandleWickColorerPlot)(l)&&l.target===e&&(i.wick={palette:o[l.palette],paletteProps:t.properties().palettes[l.palette]}),(0,x.isCandleBorderColorerPlot)(l)&&l.target===e&&(i.border={palette:o[l.palette],paletteProps:t.properties().palettes[l.palette]})}return i}}function rl(e){return(0,
I.bindPropertyContext)(ol,{...e,property:e.study.properties()})}class il extends o.PureComponent{render(){return o.createElement(At.ModelContext.Provider,{value:this.props.model},o.createElement(ve.Provider,{value:this.props.source},o.createElement(rl,{study:this.props.source})))}}var sl=l(98361),al=l(19406),cl=l(412548),pl=l(562051);class dl extends al.DialogRenderer{constructor(e,t,l,o){super(),this._timeout=null,this._handleClose=()=>{n.unmountComponentAtNode(this._container),this._setVisibility(!1),this._subscription.unsubscribe(this,this._handleCollectionChanged)},this._handleCancel=()=>{this._model.undoToCheckpoint(this._checkpoint)},this._handleSubmit=()=>{},this._handleActiveTabChanged=e=>{c.setValue(this._activeTabSettingsName(),e)},this._source=e,this._model=t,this._propertyPages=o,this._checkpoint=this._ensureCheckpoint(l),this._subscription=this._model.model().dataSourceCollectionChanged(),this._subscription.subscribe(this,this._handleCollectionChanged)}hide(e){e?this._handleCancel():this._handleSubmit(),this._handleClose()}isVisible(){return this.visible().value()}show(e={}){var t;if(!p.enabled("property_pages"))return;const r=this._source.metaInfo();if((0,f.isLineTool)(this._source)&&(0,u.trackEvent)("GUI","Drawing Properties",this._source.name()),(0,g.isStudy)(this._source)){const e=!this._source.isPine()||this._source.isStandardPine()?r.description:"Custom Pine";(0,u.trackEvent)("GUI","Study Properties",e)}let s=[];const h=new E.MetaInfoHelper(r);h.hasUserEditableInputs()&&s.push({id:"inputs",label:i.t(null,void 0,l(666304)),Component:_}),h.hasUserEditableProperties(),h.hasUserEditableStyles()&&s.push({id:"style",label:i.t(null,void 0,l(832733)),Component:il}),this._propertyPages||s.push({id:"visibilities",label:i.t(null,void 0,l(221852)),page:this._createVisibilitiesPropertyPage()}),s=this._getPagesForStudyLineTool(s);const m=e.initialTab||c.getValue(this._activeTabSettingsName())||"inputs";let v=(0,a.clean)(r.shortDescription,!0);const y=null!==(t=s.find((e=>e.id===m)))&&void 0!==t?t:s[0];n.render(o.createElement(T,{title:v,model:this._model,source:this._source,initialActiveTab:y.id,pages:s,shouldReturnFocus:e.shouldReturnFocus,onSubmit:this._handleSubmit,onCancel:this._handleCancel,onClose:this._handleClose,onActiveTabChanged:this._handleActiveTabChanged}),this._container),this._setVisibility(!0),d.emit("edit_object_dialog",{objectType:"study",scriptTitle:this._source.title(pl.TitleDisplayTarget.StatusLine)})}_createVisibilitiesPropertyPage(){const e=this._source.properties().childs().intervalsVisibilities.childs();return(0,sl.createPropertyPage)((0,cl.getIntervalsVisibilitiesPropertiesDefinitions)(this._model,e,new s.TranslatedString(this._source.name(!0),this._source.title(pl.TitleDisplayTarget.StatusLine,!0))),"visibility",i.t(null,void 0,l(221852)))}_activeTabSettingsName(){return"properties_dialog.active_tab.study"}_ensureCheckpoint(e){return void 0===e&&(e=this._model.createUndoCheckpoint()),e}_getPagesForStudyLineTool(e){if(this._propertyPages){
const t=this._propertyPages.filter((e=>"coordinates"===e.id||"visibility"===e.id));return[...e,...t.map((e=>({id:e.id,label:e.title,page:e})))]}return e}_handleCollectionChanged(){null===this._timeout&&(this._timeout=setTimeout((()=>{this._closeDialogIfSourceIsDeleted(),this._timeout=null})))}_closeDialogIfSourceIsDeleted(){null===this._model.model().dataSourceForId(this._source.id())&&this._handleClose()}}},674609:(e,t,l)=>{"use strict";l.d(t,{StudyDefaultsManager:()=>h});var n=l(50959),o=l(497754),r=l.n(o),i=l(72571),s=l(509806),a=l(299120),c=l(192063),p=l(844996),d=l(92229);const u={reset:s.t(null,void 0,l(79782)),saveAsDefault:s.t(null,void 0,l(418229)),defaults:s.t(null,void 0,l(698938))};class h extends n.PureComponent{constructor(){super(...arguments),this._handleResetToDefaults=()=>{this.props.model.restorePropertiesForSource(this.props.source)},this._handleSaveAsDefaults=()=>{this.props.source.properties().saveDefaults()}}render(){const{mode:e}=this.props;return n.createElement(a.ControlDisclosure,{id:"study-defaults-manager",className:r()("normal"===e&&d.defaultsButtonText),hideArrowButton:"compact"===e,buttonChildren:this._getPlaceHolderItem("compact"===e)},n.createElement(c.PopupMenuItem,{className:d.defaultsButtonItem,isActive:!1,label:u.reset,onClick:this._handleResetToDefaults}),n.createElement(c.PopupMenuItem,{className:d.defaultsButtonItem,isActive:!1,label:u.saveAsDefault,onClick:this._handleSaveAsDefaults}))}_getPlaceHolderItem(e){return e?n.createElement(i.Icon,{className:d.defaultsButtonIcon,icon:p}):u.defaults}}},944316:(e,t,l)=>{"use strict";l.d(t,{FooterMenu:()=>V});var n=l(50959),o=l(386942),r=l(601227),i=l(986661),s=l(509806),a=l(664902),c=l(72571),p=l(299120),d=l(930052),u=l(518008),h=l(844996);function m(e){return e.isTabletWidth?n.createElement(c.Icon,{className:u.themesButtonIcon,icon:h}):n.createElement(n.Fragment,null,s.t(null,void 0,l(419611)))}function v(e){return n.createElement(d.MatchMedia,{rule:"screen and (max-width: 768px)"},(t=>n.createElement(p.ControlDisclosure,{className:!t&&u.themesButtonText,hideArrowButton:t,buttonChildren:n.createElement(m,{isTabletWidth:t})},e.children)))}var y=l(192063),g=l(72621),b=l(921258),f=l(972535);function w(e){const{name:t,onRemove:l,onClick:o}=e,[r,i]=(0,b.useHover)(),s=n.useCallback((()=>o(t)),[o,t]),a=n.useCallback((()=>{l&&l(t)}),[l,t]);return n.createElement("div",{...i},n.createElement(y.PopupMenuItem,{className:u.defaultsButtonItem,isActive:!1,label:t,onClick:s,toolbox:l&&n.createElement(g.RemoveButton,{hidden:!f.mobiletouch&&!r,onClick:a})}))}var P=l(917850),C=l(153055),T=l(630795),S=l(350299),E=l(980458);var _=l(855342);const k=(0,o.connect)((function(e,t){return{templates:e.templates[t.toolName]}}),(function(e,t){const{toolName:l,applyTemplate:n,getSourceTemplate:o}=t;return{getTemplates:()=>e((0,_.getTemplates)(l)),loadTemplate:n?t=>e((0,_.loadTemplate)(l,t,n)):void 0,removeTemplate:t=>e((0,_.startRemoveTemplate)(l,t)),saveTemplate:o?t=>e((0,_.saveTemplate)(l,t,JSON.stringify(o()))):void 0}}))((function(e){
const{templates:t,getTemplates:o,applyDefaults:r,saveTemplate:i,applyTemplate:a}=e,c=(0,n.useContext)(T.SlotContext);return(0,n.useEffect)((()=>{a&&!t&&o()}),[t,o,a]),n.createElement(v,null,i&&n.createElement(w,{onClick:function(){window.runOrSignIn((()=>{(0,C.showRename)({title:s.t(null,void 0,l(504315)),text:s.t(null,void 0,l(350912))+":",maxLength:64,source:t||[],autocompleteFilter:E.autocompleteFilter,onRename:({newValue:n,focusInput:o,dialogClose:r,innerManager:i})=>{var a;if(t&&-1!==t.indexOf(n)){const t=s.t(null,void 0,l(572405)).format({name:n});(0,C.showConfirm)({text:t,onConfirm:({dialogClose:t})=>{var l;null===(l=e.saveTemplate)||void 0===l||l.call(e,n),t(),r()},onClose:o},i)}else null===(a=e.saveTemplate)||void 0===a||a.call(e,n),r()}},c)}),{source:"Save line tool template",sourceMeta:"Chart"})},name:(0,S.appendEllipsis)(s.t(null,void 0,l(309908)))}),n.createElement(w,{onClick:r,name:s.t(null,void 0,l(473169))}),a&&t&&t.length>0&&n.createElement(n.Fragment,null,n.createElement(P.PopupMenuSeparator,null),t.map((e=>n.createElement(w,{key:e,name:e,onRemove:p,onClick:d})))));function p(t){window.runOrSignIn((()=>{const n=s.t(null,void 0,l(506705)).format({name:t});(0,C.showConfirm)({text:n,onConfirm:({dialogClose:l})=>{e.removeTemplate(t),l()}},c)}),{source:"Delete line tool template"})}function d(t){var l;null===(l=e.loadTemplate)||void 0===l||l.call(e,t)}}));var x=l(156963);const L=new a.TranslatedString("apply drawing template",s.t(null,void 0,l(349037))),I=new a.TranslatedString("apply drawing template",s.t(null,void 0,l(349037)));function D(e){const{sources:t,chartUndoModel:l}=e,o=(0,n.useMemo)((()=>t.every((e=>e.toolname===t[0].toolname))),[t]);return x.enabled("drawing_templates")?n.createElement(k,{toolName:t[0].toolname,applyDefaults:r,applyTemplate:o?function(e){1===t.length?l.applyLineToolTemplate(t[0],e,L):(l.beginUndoMacro(I),t.forEach((t=>{l.applyLineToolTemplate(t,e,null)})),l.endUndoMacro())}:void 0,getSourceTemplate:1===t.length?function(){return t[0].template()}:void 0}):n.createElement(k,{toolName:t[0].toolname,applyDefaults:r});function r(){l.restoreLineToolsFactoryDefaults(t)}}function M(e){return n.createElement(v,null,n.createElement(w,{onClick:function(){const{sources:t,chartUndoModel:l}=e;l.restoreLineToolsFactoryDefaults(t)},name:s.t(null,void 0,l(67049))}))}function V(e){return(0,r.onWidget)()?n.createElement(M,{...e}):n.createElement(o.Provider,{store:i.store},n.createElement(D,{...e}))}},380865:(e,t,l)=>{"use strict";l.d(t,{PropertiesEditorTab:()=>c});var n=l(50959),o=l(633064);const r={"Elliott Impulse Wave (12345)Degree":"normal","Elliott Triangle Wave (ABCDE)Degree":"normal","Elliott Triple Combo Wave (WXYXZ)Degree":"normal","Elliott Correction Wave (ABC)Degree":"normal","Elliott Double Combo Wave (WXY)Degree":"normal",BarsPatternMode:"normal",StudyInputSource:"normal"},i={TextText:"big",AnchoredTextText:"big",NoteText:"big",AnchoredNoteText:"big",CalloutText:"big",BalloonText:"big"};var s=l(459837),a=l(154526);function c(e){const{page:t,pageRef:l,tableKey:c}=e
;return n.createElement(o.ControlCustomHeightContext.Provider,{value:i},n.createElement(o.ControlCustomWidthContext.Provider,{value:r},t&&n.createElement(s.PropertyTable,{reference:l,key:c},t.definitions.value().map((e=>n.createElement(a.Section,{key:e.id,definition:e}))))))}},840670:e=>{e.exports={wrapper:"wrapper-bl9AR3Gv",hovered:"hovered-bl9AR3Gv",withIcon:"withIcon-bl9AR3Gv",labelRow:"labelRow-bl9AR3Gv",label:"label-bl9AR3Gv",switchWrap:"switchWrap-bl9AR3Gv",icon:"icon-bl9AR3Gv",labelHint:"labelHint-bl9AR3Gv",labelOn:"labelOn-bl9AR3Gv"}},462433:e=>{e.exports={smallStyleControl:"smallStyleControl-l5f4IL9k",additionalSelect:"additionalSelect-l5f4IL9k",childRowContainer:"childRowContainer-l5f4IL9k",defaultSelect:"defaultSelect-l5f4IL9k",defaultSelectItem:"defaultSelectItem-l5f4IL9k",block:"block-l5f4IL9k",group:"group-l5f4IL9k",wrapGroup:"wrapGroup-l5f4IL9k",textMarkGraphicBlock:"textMarkGraphicBlock-l5f4IL9k",textMarkGraphicWrapGroup:"textMarkGraphicWrapGroup-l5f4IL9k",transparency:"transparency-l5f4IL9k",color:"color-l5f4IL9k"}},321659:(e,t,l)=>{"use strict";l.d(t,{DEFAULT_MENU_ITEM_SWITCHER_THEME:()=>m,MenuItemSwitcher:()=>v});var n=l(50959),o=l(497754),r=l.n(o),i=l(234539),s=l(626574),a=l.n(s);function c(e){const t=(0,n.useContext)(i.CustomBehaviourContext),{className:l,intent:r="default",size:s="small",enableActiveStateStyles:c=t.enableActiveStateStyles}=e;return o(l,a().switcher,a()[`size-${s}`],a()[`intent-${r}`],!c&&a()["disable-active-state-styles"])}function p(e){var t;const{reference:l,size:o,intent:r,role:i,"aria-checked":s,checked:p,defaultChecked:d,onKeyDown:u,...h}=e,m=(0,n.useCallback)((e=>{13===e.keyCode&&e.target.click(),u&&u(e)}),[u]);return n.createElement("span",{className:c(e)},n.createElement("input",{...h,type:"checkbox",className:a().input,ref:l,role:null!=i?i:"switch","aria-checked":null!==(t=null!=s?s:p)&&void 0!==t?t:d,checked:p,defaultChecked:d,onKeyDown:m}),n.createElement("span",{className:a()["thumb-wrapper"]},n.createElement("span",{className:a().track}),n.createElement("span",{className:a().thumb})))}var d=l(72571),u=l(800417),h=l(840670);const m=h;function v(e){const{className:t,checked:l,id:o,label:i,labelDescription:s,value:a,preventLabelHighlight:c,reference:m,switchReference:v,theme:y=h,disabled:g,icon:b}=e,f=r()(y.label,l&&!c&&y.labelOn),w=r()(t,y.wrapper,l&&y.wrapperWithOnLabel,s&&y.wrapperWithDescription);return n.createElement("label",{className:r()(w,b&&y.withIcon),htmlFor:o,ref:m},void 0!==b&&n.createElement(d.Icon,{className:y.icon,icon:b}),n.createElement("div",{className:y.labelRow},n.createElement("div",{className:f},i),s&&n.createElement("div",{className:y.labelHint},s)),n.createElement("div",{className:h.switchWrap},n.createElement(p,{disabled:g,className:y.switch,reference:v,checked:l,onChange:function(t){const l=t.target.checked;void 0!==e.onChange&&e.onChange(l)},value:a,tabIndex:-1,id:o,role:e.switchRole,...(0,u.filterDataProps)(e)})))}},98361:(e,t,l)=>{"use strict";l.r(t),l.d(t,{createPropertyPage:()=>o});var n=l(650802);function o(e,t,l,o=null){var r
;const i={id:t,title:l,definitions:new n.WatchedValue(e.definitions),visible:null!==(r=e.visible)&&void 0!==r?r:new n.WatchedValue(!0).readonly()};return null!==o&&(i.icon=o),i}},412548:(e,t,l)=>{"use strict";l.r(t),l.d(t,{getIntervalsVisibilitiesPropertiesDefinitions:()=>ae,getSelectionIntervalsVisibilitiesPropertiesDefinition:()=>ce});var n=l(509806),o=l(664902),r=l(156963),i=l(620004),s=l(650802),a=l(739343),c=l(986790),p=l(770366);const d=new o.TranslatedString("change {title} visibility on ticks",n.t(null,void 0,l(130810))),u=new o.TranslatedString("change {title} visibility on seconds",n.t(null,void 0,l(146948))),h=new o.TranslatedString("change {title} seconds from",n.t(null,void 0,l(602822))),m=new o.TranslatedString("change {title} seconds to",n.t(null,void 0,l(566161))),v=new o.TranslatedString("change {title} visibility on minutes",n.t(null,void 0,l(64370))),y=new o.TranslatedString("change {title} minutes from",n.t(null,void 0,l(715106))),g=new o.TranslatedString("change {title} minutes to",n.t(null,void 0,l(891633))),b=new o.TranslatedString("change {title} visibility on hours",n.t(null,void 0,l(468971))),f=new o.TranslatedString("change {title} hours from",n.t(null,void 0,l(435388))),w=new o.TranslatedString("change {title} hours to",n.t(null,void 0,l(478586))),P=new o.TranslatedString("change {title} visibility on days",n.t(null,void 0,l(229088))),C=new o.TranslatedString("change {title} days from",n.t(null,void 0,l(541377))),T=new o.TranslatedString("change {title} days to",n.t(null,void 0,l(713355))),S=new o.TranslatedString("change {title} visibility on weeks",n.t(null,void 0,l(324941))),E=new o.TranslatedString("change {title} weeks from",n.t(null,void 0,l(21339))),_=new o.TranslatedString("change {title} weeks to",n.t(null,void 0,l(468643))),k=new o.TranslatedString("change {title} visibility on months",n.t(null,void 0,l(606659))),x=new o.TranslatedString("change {title} months from",n.t(null,void 0,l(459635))),L=new o.TranslatedString("change {title} months to",n.t(null,void 0,l(974266))),I=(new o.TranslatedString("change {title} visibility on ranges",n.t(null,void 0,l(229091))),n.t(null,void 0,l(130973))),D=n.t(null,void 0,l(371129)),M=n.t(null,void 0,l(928134)),V=n.t(null,void 0,l(463099)),R=n.t(null,void 0,l(422192)),N=n.t(null,void 0,l(621594)),A=n.t(null,void 0,l(695543)),W=(n.t(null,void 0,l(686672)),
new o.TranslatedString("ticks",n.t(null,void 0,l(659523)))),B=new o.TranslatedString("seconds",n.t(null,void 0,l(132925))),z=new o.TranslatedString("seconds from",n.t(null,void 0,l(706049))),F=new o.TranslatedString("seconds to",n.t(null,void 0,l(939017))),H=new o.TranslatedString("minutes",n.t(null,void 0,l(516465))),G=new o.TranslatedString("minutes from",n.t(null,void 0,l(425586))),O=new o.TranslatedString("minutes to",n.t(null,void 0,l(872317))),U=new o.TranslatedString("hours",n.t(null,void 0,l(903143))),j=new o.TranslatedString("hours from",n.t(null,void 0,l(84775))),Q=new o.TranslatedString("hours to",n.t(null,void 0,l(711255))),Z=new o.TranslatedString("days",n.t(null,void 0,l(282211))),q=new o.TranslatedString("days from",n.t(null,void 0,l(914077))),K=new o.TranslatedString("days to",n.t(null,void 0,l(133486))),$=new o.TranslatedString("weeks",n.t(null,void 0,l(193016))),X=new o.TranslatedString("weeks from",n.t(null,void 0,l(32002))),Y=new o.TranslatedString("weeks to",n.t(null,void 0,l(428091))),J=new o.TranslatedString("months",n.t(null,void 0,l(58964))),ee=new o.TranslatedString("months from",n.t(null,void 0,l(671770))),te=new o.TranslatedString("months to",n.t(null,void 0,l(737179))),le=(new o.TranslatedString("ranges",n.t(null,void 0,l(413604))),[1,59]),ne=[1,59],oe=[1,24],re=[1,366],ie=[1,52],se=[1,12];function ae(e,t,l){const n=[];if(r.enabled("tick_resolution")){const o=(0,i.createCheckablePropertyDefinition)({checked:(0,i.convertToDefinitionProperty)(e,t.ticks,d.format({title:l}))},{id:"IntervalsVisibilitiesTicks",title:I});n.push(o)}if((0,a.isSecondsEnabled)()){const o=(0,i.createRangePropertyDefinition)({checked:(0,i.convertToDefinitionProperty)(e,t.seconds,u.format({title:l})),from:(0,i.convertToDefinitionProperty)(e,t.secondsFrom,h.format({title:l})),to:(0,i.convertToDefinitionProperty)(e,t.secondsTo,m.format({title:l}))},{id:"IntervalsVisibilitiesSecond",title:D,min:new s.WatchedValue(le[0]),max:new s.WatchedValue(le[1])});n.push(o)}const o=(0,i.createRangePropertyDefinition)({checked:(0,i.convertToDefinitionProperty)(e,t.minutes,v.format({title:l})),from:(0,i.convertToDefinitionProperty)(e,t.minutesFrom,y.format({title:l})),to:(0,i.convertToDefinitionProperty)(e,t.minutesTo,g.format({title:l}))},{id:"IntervalsVisibilitiesMinutes",title:M,min:new s.WatchedValue(ne[0]),max:new s.WatchedValue(ne[1])}),c=(0,i.createRangePropertyDefinition)({checked:(0,i.convertToDefinitionProperty)(e,t.hours,b.format({title:l})),from:(0,i.convertToDefinitionProperty)(e,t.hoursFrom,f.format({title:l})),to:(0,i.convertToDefinitionProperty)(e,t.hoursTo,w.format({title:l}))},{id:"IntervalsVisibilitiesHours",title:V,min:new s.WatchedValue(oe[0]),max:new s.WatchedValue(oe[1])}),p=(0,i.createRangePropertyDefinition)({checked:(0,i.convertToDefinitionProperty)(e,t.days,P.format({title:l})),from:(0,i.convertToDefinitionProperty)(e,t.daysFrom,C.format({title:l})),to:(0,i.convertToDefinitionProperty)(e,t.daysTo,T.format({title:l}))},{id:"IntervalsVisibilitiesDays",title:R,min:new s.WatchedValue(re[0]),
max:new s.WatchedValue(re[1])});n.push(o,c,p);const W=(0,i.createRangePropertyDefinition)({checked:(0,i.convertToDefinitionProperty)(e,t.weeks,S.format({title:l})),from:(0,i.convertToDefinitionProperty)(e,t.weeksFrom,E.format({title:l})),to:(0,i.convertToDefinitionProperty)(e,t.weeksTo,_.format({title:l}))},{id:"IntervalsVisibilitiesWeeks",title:N,min:new s.WatchedValue(ie[0]),max:new s.WatchedValue(ie[1])}),B=(0,i.createRangePropertyDefinition)({checked:(0,i.convertToDefinitionProperty)(e,t.months,k.format({title:l})),from:(0,i.convertToDefinitionProperty)(e,t.monthsFrom,x.format({title:l})),to:(0,i.convertToDefinitionProperty)(e,t.monthsTo,L.format({title:l}))},{id:"IntervalsVisibilitiesMonths",title:A,min:new s.WatchedValue(se[0]),max:new s.WatchedValue(se[1])});return n.push(W,B),{definitions:n}}function ce(e,t){const l=[];if(r.enabled("tick_resolution")){const n=(0,i.createCheckablePropertyDefinition)({checked:new p.CollectiblePropertyUndoWrapper(new c.LineToolCollectedProperty(e.ticks),W,t)},{id:"IntervalsVisibilitiesTicks",title:I});l.push(n)}if((0,a.isSecondsEnabled)()){const n=(0,i.createRangePropertyDefinition)({checked:new p.CollectiblePropertyUndoWrapper(new c.LineToolCollectedProperty(e.seconds),B,t),from:new p.CollectiblePropertyUndoWrapper(new c.LineToolCollectedProperty(e.secondsFrom),z,t),to:new p.CollectiblePropertyUndoWrapper(new c.LineToolCollectedProperty(e.secondsTo),F,t)},{id:"IntervalsVisibilitiesSecond",title:D,min:new s.WatchedValue(le[0]),max:new s.WatchedValue(le[1])});l.push(n)}const n=(0,i.createRangePropertyDefinition)({checked:new p.CollectiblePropertyUndoWrapper(new c.LineToolCollectedProperty(e.minutes),H,t),from:new p.CollectiblePropertyUndoWrapper(new c.LineToolCollectedProperty(e.minutesFrom),G,t),to:new p.CollectiblePropertyUndoWrapper(new c.LineToolCollectedProperty(e.minutesTo),O,t)},{id:"IntervalsVisibilitiesMinutes",title:M,min:new s.WatchedValue(ne[0]),max:new s.WatchedValue(ne[1])}),o=(0,i.createRangePropertyDefinition)({checked:new p.CollectiblePropertyUndoWrapper(new c.LineToolCollectedProperty(e.hours),U,t),from:new p.CollectiblePropertyUndoWrapper(new c.LineToolCollectedProperty(e.hoursFrom),j,t),to:new p.CollectiblePropertyUndoWrapper(new c.LineToolCollectedProperty(e.hoursTo),Q,t)},{id:"IntervalsVisibilitiesHours",title:V,min:new s.WatchedValue(oe[0]),max:new s.WatchedValue(oe[1])}),d=(0,i.createRangePropertyDefinition)({checked:new p.CollectiblePropertyUndoWrapper(new c.LineToolCollectedProperty(e.days),Z,t),from:new p.CollectiblePropertyUndoWrapper(new c.LineToolCollectedProperty(e.daysFrom),q,t),to:new p.CollectiblePropertyUndoWrapper(new c.LineToolCollectedProperty(e.daysTo),K,t)},{id:"IntervalsVisibilitiesDays",title:R,min:new s.WatchedValue(re[0]),max:new s.WatchedValue(re[1])});l.push(n,o,d);const u=(0,i.createRangePropertyDefinition)({checked:new p.CollectiblePropertyUndoWrapper(new c.LineToolCollectedProperty(e.weeks),$,t),from:new p.CollectiblePropertyUndoWrapper(new c.LineToolCollectedProperty(e.weeksFrom),X,t),
to:new p.CollectiblePropertyUndoWrapper(new c.LineToolCollectedProperty(e.weeksTo),Y,t)},{id:"IntervalsVisibilitiesWeeks",title:N,min:new s.WatchedValue(ie[0]),max:new s.WatchedValue(ie[1])}),h=(0,i.createRangePropertyDefinition)({checked:new p.CollectiblePropertyUndoWrapper(new c.LineToolCollectedProperty(e.months),J,t),from:new p.CollectiblePropertyUndoWrapper(new c.LineToolCollectedProperty(e.monthsFrom),ee,t),to:new p.CollectiblePropertyUndoWrapper(new c.LineToolCollectedProperty(e.monthsTo),te,t)},{id:"IntervalsVisibilitiesMonths",title:A,min:new s.WatchedValue(se[0]),max:new s.WatchedValue(se[1])});return l.push(u,h),{definitions:l}}},855342:(e,t,l)=>{"use strict";l.d(t,{addTemplate:()=>i,getTemplates:()=>o,loadTemplate:()=>p,removeTemplate:()=>a,saveTemplate:()=>c,setTemplates:()=>r,startRemoveTemplate:()=>s});var n=l(765827);function o(e,t){return{type:n.GET_TEMPLATES,toolName:e,callback:t}}function r(e,t){return{type:n.SET_TEMPLATES,templates:t,toolName:e}}function i(e,t){return{type:n.ADD_TEMPLATE,templateName:t,toolName:e}}function s(e,t){return{type:n.START_REMOVE_TEMPLATE,templateName:t,toolName:e}}function a(e,t){return{type:n.REMOVE_TEMPLATE,templateName:t,toolName:e}}function c(e,t,l){return{type:n.SAVE_TEMPLATE,templateName:t,toolName:e,content:l}}function p(e,t,l){return{type:n.LOAD_TEMPLATE,toolName:e,templateName:t,callback:l}}},765827:(e,t,l)=>{"use strict";function n(e){return"LINE_TOOL_TEMPLATE__"+e}l.d(t,{ADD_TEMPLATE:()=>c,GET_TEMPLATES:()=>o,LOAD_TEMPLATE:()=>p,REMOVE_TEMPLATE:()=>s,SAVE_TEMPLATE:()=>a,SET_TEMPLATES:()=>r,START_REMOVE_TEMPLATE:()=>i});const o=n("GET_TEMPLATES"),r=n("SET_TEMPLATES"),i=n("START_REMOVE_TEMPLATE"),s=n("REMOVE_TEMPLATE"),a=n("SAVE_TEMPLATE"),c=n("ADD_TEMPLATE"),p=n("LOAD_TEMPLATE")},986661:(e,t,l)=>{"use strict";l.d(t,{store:()=>C});var n=l(691622),o=l(254773),r=l(336349),i=l(650151),s=l(765827),a=l(6835),c=l(855342);function p(e,t){return t}var d=l(362830);const u=(0,a.getLogger)("Chart.LineToolTemplatesList");function h(e,t){return t}function*m(){for(;;){const{toolName:e,templateName:t,content:l}=h(s.SAVE_TEMPLATE,yield(0,r.take)(s.SAVE_TEMPLATE));try{yield(0,r.call)(d.backend.saveDrawingTemplate,e,t,l),yield(0,r.put)((0,c.addTemplate)(e,t))}catch(e){u.logWarn(e)}}}function*v(){for(;;){const{toolName:e,templateName:t}=h(s.START_REMOVE_TEMPLATE,yield(0,r.take)(s.START_REMOVE_TEMPLATE));try{yield(0,r.call)(d.backend.removeDrawingTemplate,e,t),yield(0,r.put)((0,c.removeTemplate)(e,t))}catch(e){u.logWarn(e)}}}function*y(){const e=new Map;for(;;){const{toolName:l,callback:n}=h(s.GET_TEMPLATES,yield(0,r.take)(s.GET_TEMPLATES));e.has(l)?(0,i.ensureDefined)(e.get(l)).push(n):(e.set(l,[n]),yield(0,r.fork)(t,l))}function*t(t){try{const e=p(d.backend.getDrawingTemplates,yield(0,r.call)(d.backend.getDrawingTemplates,t));yield(0,r.put)((0,c.setTemplates)(t,e))}catch(e){u.logWarn(e)}(0,i.ensureDefined)(e.get(t)).forEach((e=>null==e?void 0:e())),e.delete(t)}}function*g(){for(;;){const{toolName:e,templateName:t,callback:l}=h(s.LOAD_TEMPLATE,yield(0,r.take)(s.LOAD_TEMPLATE))
;try{const n=p(d.backend.loadDrawingTemplate,yield(0,r.call)(d.backend.loadDrawingTemplate,e,t));l&&l(n)}catch(e){u.logWarn(e)}}}function*b(){yield(0,r.all)([(0,r.call)(y),(0,r.call)(m),(0,r.call)(v),(0,r.call)(g)])}const f={templates:{}};function w(e,t){return e.localeCompare(t,void 0,{numeric:!0})}function P(e=f,t){switch(t.type){case s.ADD_TEMPLATE:{const{toolName:l,templateName:n}=t;if(!e.templates[l].includes(n)){const t=[...e.templates[l],n].sort(w);return{...e,templates:{...e.templates,[l]:t}}}return e}case s.SET_TEMPLATES:{const{toolName:l,templates:n}=t;return{...e,templates:{...e.templates,[l]:[...n].sort(w)}}}case s.REMOVE_TEMPLATE:{const{toolName:l,templateName:n}=t;return{...e,templates:{...e.templates,[l]:e.templates[l].filter((e=>e!==n))}}}default:return e}}const C=function(){const e=(0,o.default)(),t=(0,n.createStore)(P,(0,n.applyMiddleware)(e));return e.run(b),t}()},770366:(e,t,l)=>{"use strict";l.d(t,{CollectiblePropertyUndoWrapper:()=>c});var n=l(650151),o=l(509806),r=l(664902),i=l(668138),s=l.n(i);const a=new r.TranslatedString("change {propertyName} property",o.t(null,void 0,l(18567)));class c extends(s()){constructor(e,t,l){super(),this._isProcess=!1,this._listenersMappers=[],this._valueApplier={applyValue:(e,t)=>{this._propertyApplier.setProperty(e,t,a)}},this._baseProperty=e,this._propertyApplier=l,this._propertyName=t}destroy(){this._baseProperty.destroy(),super.destroy()}value(){return this._baseProperty.value()}setValue(e,t){this._propertyApplier.beginUndoMacro(a.format({propertyName:this._propertyName})),this._isProcess=!0,this._baseProperty.setValue(e,void 0,this._valueApplier),this._isProcess=!1,this._propertyApplier.endUndoMacro(),this._listenersMappers.forEach((e=>{e.method.call(e.obj,this)}))}subscribe(e,t){const l=()=>{this._isProcess||t.call(e,this)};this._listenersMappers.push({obj:e,method:t,callback:l}),this._baseProperty.subscribe(e,l)}unsubscribe(e,t){var l;const o=(0,n.ensureDefined)(null===(l=this._listenersMappers.find((l=>l.obj===e&&l.method===t)))||void 0===l?void 0:l.callback);this._baseProperty.unsubscribe(e,o)}unsubscribeAll(e){this._baseProperty.unsubscribeAll(e)}}},410890:(e,t,l)=>{"use strict";l.d(t,{StudyPlotVisibleProperty:()=>r});var n=l(300962),o=l(466052);class r{constructor(e){this._subscribers=new o.Delegate,this._displayProperty=e,this._displayProperty.subscribe(this,this._displayPropertyValueChanged)}destroy(){this._displayProperty.unsubscribe(this,this._displayPropertyValueChanged),this._subscribers.destroy()}value(){return 0!==this._displayProperty.value()}setValue(e,t){this._displayProperty.setValue(e?15:0)}subscribe(e,t){this._subscribers.subscribe(e,t,!1)}unsubscribe(e,t){this._subscribers.unsubscribe(e,t)}unsubscribeAll(e){this._subscribers.unsubscribeAll(e)}storeStateIfUndefined(){return!1}weakReference(){return(0,n.weakReference)(this)}ownership(){return(0,n.ownership)(this)}_displayPropertyValueChanged(){this._subscribers.fire(this)}}},980458:(e,t,l)=>{"use strict";function n(e,t){
return Boolean(""===e||e&&-1!==t.toLowerCase().indexOf(e.toLowerCase()))}l.d(t,{autocompleteFilter:()=>n})},669151:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M14 21l7.424-6.114a.5.5 0 0 0-.318-.886H18.5V7h-9v7H6.894a.5.5 0 0 0-.318.886L14 21z"/></svg>'},167211:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M14 7l7.424 6.114a.5.5 0 0 1-.318.886H18.5v7h-9v-7H6.894a.5.5 0 0 1-.318-.886L14 7z"/></svg>'},583786:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><circle stroke="currentColor" cx="14" cy="14" r="6.5"/></svg>'},250858:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path stroke="currentColor" d="M9 14.5h11M14.5 20V9"/></svg>'},713201:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M14.354 6.646L14 6.293l-.354.353-7 7-.353.354.353.354 7 7 .354.353.354-.353 7-7 .353-.354-.353-.354-7-7z"/></svg>'},659058:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M8.5 22v-5.5m0 0v-8L12 7l4 2.5 3.5-1v8l-3.5 1-4-2.5-3.5 1.5z"/></svg>'},808537:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M11 8.5h-.5v9.707l.146.147 3 3 .354.353.354-.353 3-3 .146-.147V8.5H11z"/></svg>'},202309:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M11 18.5h-.5V8.793l.146-.147 3-3L14 5.293l.354.353 3 3 .146.147V18.5H11z"/></svg>'},778240:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M7.5 7.5h13v13h-13z"/></svg>'},241683:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M19.424 11.265l.478-.765H8.098l.478.765 5 8 .424.678.424-.678 5-8z"/></svg>'},306570:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M19.424 16.735l.478.765H8.098l.478-.765 5-8L14 8.057l.424.678 5 8z"/></svg>'},923223:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path stroke="currentColor" d="M9 9l11 11M9 20L20 9"/></svg>'},193976:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M13 11.5l-1.915-1.532a1 1 0 0 0-1.198-.039l-3.96 2.772a1 1 0 0 0-.427.82V18.5a1 1 0 0 0 1 1H13m3.5-7l4.293-4.293c.63-.63 1.707-.184 1.707.707V18.5a1 1 0 0 1-1 1H16"/><path fill="currentColor" d="M14 6h1v2h-1zM14 11h1v2h-1zM14 16h1v2h-1zM14 21h1v2h-1z"/></svg>'},591512:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M5.5 13.52v4.98a1 1 0 0 0 1 1h15a1 1 0 0 0 1-1V8.914c0-.89-1.077-1.337-1.707-.707l-4.66 4.66a1 1 0 0 1-1.332.074l-3.716-2.973a1 1 0 0 0-1.198-.039l-3.96 2.772a1 1 0 0 0-.427.82z"/></svg>'},321579:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M10.5 13a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0zM16.5 19a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0zM22.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"/></svg>'},772914:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M6.5 12.5v8h3v-8h-3zM12.5 7.5v13h3v-13h-3zM18.5 15.5v5h3v-5h-3z"/></svg>'},98450:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path stroke="currentColor" d="M17 8.5h7M20.5 12V5M10 19.5h7M13.5 23v-7M3 12.5h7M6.5 16V9"/></svg>'},718621:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28"><path stroke="currentColor" d="M4.5 20v-7m3 7V10m3 10V8m3 12V10m3 10v-8m3 8V10m3 10V8"/></svg>'},718819:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M5.5 16.5l5-5a1.414 1.414 0 0 1 2 0m11-1l-5 5a1.414 1.414 0 0 1-2 0"/><path fill="currentColor" d="M14 5h1v2h-1zM14 10h1v2h-1zM14 15h1v2h-1zM14 20h1v2h-1z"/></svg>'},294152:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M5.5 16.5l4.586-4.586a2 2 0 0 1 2.828 0l3.172 3.172a2 2 0 0 0 2.828 0L23.5 10.5"/></svg>'},646464:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" d="M14 3h1v2h-1V3Zm1 5h-1v2h1V8Zm-1 5h1v2h-1v-2Zm0 5h1v2h-1v-2Zm0 5h1v2h-1v-2ZM10 5h2V4H9v18H6v-5H5v6h5V5Zm11 16h1V7h-5v10h1V8h3v13Z"/></svg>'},396298:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path fill="currentColor" fill-rule="evenodd" d="M9.8 2.7l.7-.7.7.7 2.1 2.1.2.2H18v9.5l.2.2 2.1 2.1.2.2H24v1h-3.5l-.2.2-2.1 2.1-.7.7-.7-.7-2.1-2.1-.7-.7.7-.7 2.1-2.1.2-.2V6h-3.5l-.2.2-2.1 2.1-.2.2V24H5.5v-1H10V8.5l-.2-.2-2.1-2.1-.7-.7.7-.7 2.1-2.1zM8.4 5.5l2.09 2.09 2.09-2.09-2.09-2.09L8.41 5.5zm9.09 14.09l-2.09-2.09 2.09-2.09 2.09 2.09-2.09 2.09z"/></svg>'},614643:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M5.5 17v5.5h4v-18h4v12h4v-9h4V21"/></svg>'}}]);