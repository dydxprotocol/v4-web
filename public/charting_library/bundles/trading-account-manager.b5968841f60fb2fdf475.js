(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[8354],{758222:e=>{e.exports={"light-button":"light-button-bYDQcOkp",link:"link-bYDQcOkp",content:"content-bYDQcOkp","visually-hidden":"visually-hidden-bYDQcOkp",nowrap:"nowrap-bYDQcOkp","ellipsis-container":"ellipsis-container-bYDQcOkp","text-wrap-container":"text-wrap-container-bYDQcOkp","text-wrap-with-ellipsis":"text-wrap-with-ellipsis-bYDQcOkp",icon:"icon-bYDQcOkp","force-direction-ltr":"force-direction-ltr-bYDQcOkp","force-direction-rtl":"force-direction-rtl-bYDQcOkp","with-grouped":"with-grouped-bYDQcOkp","variant-quiet-primary":"variant-quiet-primary-bYDQcOkp",selected:"selected-bYDQcOkp","typography-regular16px":"typography-regular16px-bYDQcOkp","typography-medium16px":"typography-medium16px-bYDQcOkp","typography-regular14px":"typography-regular14px-bYDQcOkp","typography-semibold14px":"typography-semibold14px-bYDQcOkp","typography-semibold16px":"typography-semibold16px-bYDQcOkp","size-xsmall":"size-xsmall-bYDQcOkp","with-start-icon":"with-start-icon-bYDQcOkp","with-end-icon":"with-end-icon-bYDQcOkp","no-content":"no-content-bYDQcOkp",wrap:"wrap-bYDQcOkp","size-small":"size-small-bYDQcOkp","size-medium":"size-medium-bYDQcOkp","variant-primary":"variant-primary-bYDQcOkp","color-gray":"color-gray-bYDQcOkp",caret:"caret-bYDQcOkp",grouped:"grouped-bYDQcOkp",pills:"pills-bYDQcOkp","disable-active-on-touch":"disable-active-on-touch-bYDQcOkp","disable-active-state-styles":"disable-active-state-styles-bYDQcOkp","color-green":"color-green-bYDQcOkp","color-red":"color-red-bYDQcOkp","variant-secondary":"variant-secondary-bYDQcOkp","variant-ghost":"variant-ghost-bYDQcOkp"}},470048:e=>{e.exports={wrapper:"wrapper-GZajBGIm",input:"input-GZajBGIm",box:"box-GZajBGIm",icon:"icon-GZajBGIm",noOutline:"noOutline-GZajBGIm","intent-danger":"intent-danger-GZajBGIm",check:"check-GZajBGIm",dot:"dot-GZajBGIm"}},869789:e=>{e.exports={checkbox:"checkbox-vyj6oJxw",reverse:"reverse-vyj6oJxw",label:"label-vyj6oJxw",baseline:"baseline-vyj6oJxw"}},678370:e=>{e.exports={"icon-wrapper":"icon-wrapper-EZuD3gZZ","no-active-state":"no-active-state-EZuD3gZZ","with-tooltip":"with-tooltip-EZuD3gZZ","intent-default":"intent-default-EZuD3gZZ","intent-danger":"intent-danger-EZuD3gZZ","intent-warning":"intent-warning-EZuD3gZZ","intent-success":"intent-success-EZuD3gZZ",icon:"icon-EZuD3gZZ"}},982434:e=>{e.exports={scrollWrap:"scrollWrap-FaOvTD2r"}},977253:e=>{e.exports={wrap:"wrap-vSb6C0Bj","wrap--horizontal":"wrap--horizontal-vSb6C0Bj",bar:"bar-vSb6C0Bj",barInner:"barInner-vSb6C0Bj","barInner--horizontal":"barInner--horizontal-vSb6C0Bj","bar--horizontal":"bar--horizontal-vSb6C0Bj"}},882112:e=>{e.exports={}},782430:e=>{e.exports={container:"container-yrIMi47q",title:"title-yrIMi47q",title_normal:"title_normal-yrIMi47q",icon:"icon-yrIMi47q",text:"text-yrIMi47q",text_large:"text_large-yrIMi47q",action:"action-yrIMi47q"}},354583:e=>{e.exports={checkbox:"checkbox-aOSYFxuH"}},309210:e=>{e.exports={icon:"icon-vDz9Zwc6",toolboxLabel:"toolboxLabel-vDz9Zwc6"}},573606:e=>{e.exports={
"square-tab-button":"square-tab-button-huvpscfz",selected:"selected-huvpscfz","disable-active-state-styles":"disable-active-state-styles-huvpscfz","disable-focus-outline":"disable-focus-outline-huvpscfz","size-medium":"size-medium-huvpscfz","tab-hidden-content":"tab-hidden-content-huvpscfz","size-small":"size-small-huvpscfz","size-xsmall":"size-xsmall-huvpscfz",fake:"fake-huvpscfz",content:"content-huvpscfz","tab-content":"tab-content-huvpscfz"}},77819:e=>{e.exports={"arrow-icon":"arrow-icon-nV6fm1zO",dropped:"dropped-nV6fm1zO"}},744012:e=>{e.exports={"css-value-square-tabs-xsmall-gap":"4px","css-value-square-tabs-small-gap":"8px","css-value-square-tabs-medium-gap":"12px"}},792331:e=>{e.exports={"css-value-square-tabs-xsmall-gap":"4px","css-value-square-tabs-small-gap":"8px","css-value-square-tabs-medium-gap":"12px","scroll-wrap":"scroll-wrap-mf1FlhVw","enable-scroll":"enable-scroll-mf1FlhVw","square-tabs":"square-tabs-mf1FlhVw",content:"content-mf1FlhVw","size-xsmall":"size-xsmall-mf1FlhVw","square-tab-button":"square-tab-button-mf1FlhVw","end-icon-wrap":"end-icon-wrap-mf1FlhVw","size-small":"size-small-mf1FlhVw","size-medium":"size-medium-mf1FlhVw"}},959189:(e,t,i)=>{"use strict";function s(e,t){return t||null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}i.d(t,{isIconOnly:()=>s})},223392:(e,t,i)=>{"use strict";i.d(t,{LightButton:()=>g});var s=i(50959),n=i(497754),o=i(72571),r=i(234539),a=i(959189),l=i(380327);const c=s.createContext({isInButtonGroup:!1,isGroupPrimary:!1});var u=i(602948),d=i(758222),h=i.n(d);const p=(e,t)=>{const i=(0,s.useContext)(r.CustomBehaviourContext),o=(0,s.useContext)(l.ControlGroupContext),{isInButtonGroup:u,isGroupPrimary:d}=(0,s.useContext)(c),{className:p,isSelected:m,children:g,startIcon:b,showCaret:_,endIcon:v,forceDirection:f,iconOnly:y,color:w="gray",variant:C="primary",size:E="medium",enableActiveStateStyles:T=i.enableActiveStateStyles,typography:k,isLink:S=!1,textWrap:x,isPills:M}=e,D=k?h()[`typography-${k}`]:h()[`typography-${((e,t)=>"xsmall"===e?t?"semibold14px":"regular14px":"small"===e||"medium"===e?t?"semibold16px":"regular16px":"")(E,m||M)}`];return n(p,h()["light-button"],S&&h().link,m&&h().selected,(0,a.isIconOnly)(g,y)&&h()["no-content"],b&&h()["with-start-icon"],(_||v)&&h()["with-end-icon"],t&&h()["with-grouped"],f&&h()[`force-direction-${f}`],h()[`variant-${d?"primary":C}`],h()[`color-${d?"gray":w}`],h()[`size-${E}`],D,!T&&h()["disable-active-state-styles"],o.isGrouped&&h().grouped,x&&h().wrap,u&&h()["disable-active-on-touch"],M&&h().pills)};function m(e){const{startIcon:t,endIcon:i,showCaret:r,iconOnly:l,ellipsis:c=!0,textWrap:d,children:p}=e;return s.createElement(s.Fragment,null,t&&s.createElement(o.Icon,{className:h().icon,icon:t}),!(0,a.isIconOnly)(p,l)&&s.createElement("span",{className:n(h().content,!d&&h().nowrap)},d||c?s.createElement(s.Fragment,null,s.createElement("span",{className:n(!d&&c&&h()["ellipsis-container"],d&&h()["text-wrap-container"],d&&c&&h()["text-wrap-with-ellipsis"])},p),s.createElement("span",{className:h()["visually-hidden"],
"aria-hidden":!0},p)):s.createElement(s.Fragment,null,p,s.createElement("span",{className:h()["visually-hidden"],"aria-hidden":!0},p))),(i||r)&&(e=>s.createElement(o.Icon,{className:n(h().icon,e.showCaret&&h().caret),icon:e.showCaret?u:e.endIcon}))(e))}function g(e){const{isGrouped:t}=s.useContext(l.ControlGroupContext),{reference:i,className:n,isSelected:o,children:r,startIcon:a,iconOnly:c,ellipsis:u,showCaret:d,forceDirection:h,endIcon:g,color:b,variant:_,size:v,enableActiveStateStyles:f,typography:y,textWrap:w=!1,maxLines:C,style:E={},isPills:T,...k}=e,S=w?null!=C?C:2:1,x=S>0?{...E,"--ui-lib-light-button-content-max-lines":S}:E;return s.createElement("button",{...k,className:p({className:n,isSelected:o,children:r,startIcon:a,iconOnly:c,showCaret:d,forceDirection:h,endIcon:g,color:b,variant:_,size:v,enableActiveStateStyles:f,typography:y,textWrap:w,isPills:T},t),ref:i,style:x},s.createElement(m,{showCaret:d,startIcon:a,endIcon:g,iconOnly:c,ellipsis:u,textWrap:w},r))}i(591365)},408323:(e,t,i)=>{"use strict";i.d(t,{CheckboxInput:()=>u});var s=i(50959),n=i(497754),o=i(800417),r=i(72571),a=i(465890),l=i(470048),c=i.n(l);function u(e){const t=n(c().box,c()[`intent-${e.intent}`],{[c().check]:!Boolean(e.indeterminate),[c().dot]:Boolean(e.indeterminate),[c().noOutline]:-1===e.tabIndex}),i=n(c().wrapper,e.className);return s.createElement("span",{className:i,title:e.title,style:e.style},s.createElement("input",{id:e.id,tabIndex:e.tabIndex,className:c().input,type:"checkbox",name:e.name,checked:e.checked,disabled:e.disabled,value:e.value,autoFocus:e.autoFocus,role:e.role,onChange:function(){e.onChange&&e.onChange(e.value)},ref:e.reference,"aria-required":e["aria-required"],"aria-describedby":e["aria-describedby"],"aria-invalid":e["aria-invalid"],...(0,o.filterDataProps)(e)}),s.createElement("span",{className:t},s.createElement(r.Icon,{icon:a,className:c().icon})))}},302946:(e,t,i)=>{"use strict";i.d(t,{Checkbox:()=>c});var s=i(50959),n=i(497754),o=i(230789),r=i(408323),a=i(869789),l=i.n(a);class c extends s.PureComponent{render(){const{inputClassName:e,labelClassName:t,...i}=this.props,o=n(this.props.className,l().checkbox,{[l().reverse]:Boolean(this.props.labelPositionReverse),[l().baseline]:Boolean(this.props.labelAlignBaseline)}),a=n(l().label,t,{[l().disabled]:this.props.disabled});let c=null;return this.props.label&&(c=s.createElement("span",{className:a,title:this.props.title},this.props.label)),s.createElement("label",{className:o},s.createElement(r.CheckboxInput,{...i,className:e}),c)}}c.defaultProps={value:"on"};(0,o.makeSwitchGroupItem)(c)},380327:(e,t,i)=>{"use strict";i.d(t,{ControlGroupContext:()=>s});const s=i(50959).createContext({isGrouped:!1,cellState:{isTop:!0,isRight:!0,isBottom:!0,isLeft:!0}})},409245:(e,t,i)=>{"use strict";function s(e){const{reference:t,...i}=e;return{...i,ref:t}}i.d(t,{renameRef:()=>s})},591365:(e,t,i)=>{"use strict";i.d(t,{CustomComponentDefaultLink:()=>o});var s=i(50959),n=i(409245);function o(e){return s.createElement("a",{...(0,n.renameRef)(e)})}s.PureComponent},234539:(e,t,i)=>{
"use strict";i.d(t,{CustomBehaviourContext:()=>s});const s=(0,i(50959).createContext)({enableActiveStateStyles:!0});s.displayName="CustomBehaviourContext"},865968:(e,t,i)=>{"use strict";i.d(t,{useComposedKeyboardActionHandlers:()=>a,useKeyboardActionHandler:()=>r,useKeyboardClose:()=>u,useKeyboardEventHandler:()=>l,useKeyboardOpen:()=>d,useKeyboardToggle:()=>c});var s=i(50959),n=i(930202);const o=()=>!0;function r(e,t,i=o){return(0,s.useCallback)((s=>{const n=e.map((e=>"function"==typeof e?e():e));return!(!i(s)||!n.includes(s))&&(t(s),!0)}),[...e,t,i])}function a(...e){return(0,s.useCallback)((t=>{for(const i of e)if(i(t))return!0;return!1}),[...e])}function l(e,t=!0){const i=a(...e);return(0,s.useCallback)((e=>{i((0,n.hashFromEvent)(e))&&t&&e.preventDefault()}),[i])}function c(e,t=!0){return r([13,32],e,(function(e){if(13===e)return t;return!0}))}function u(e,t){return r([9,(0,s.useCallback)((()=>n.Modifiers.Shift+9),[]),27],t,(0,s.useCallback)((()=>e),[e]))}function d(e,t){return r([40,38],t,(0,s.useCallback)((()=>!e),[e]))}},772069:(e,t,i)=>{"use strict";i.d(t,{useDisclosure:()=>c});var s=i(50959),n=i(650151),o=i(954343),r=i(383836),a=i(269842),l=i(414823);function c(e){const{id:t,listboxId:i,disabled:c,buttonTabIndex:u=0,onFocus:d,onBlur:h,onClick:p}=e,[m,g]=(0,s.useState)(!1),[b,_]=(0,r.useFocus)(),v=b||m,f=(null!=i?i:void 0!==t)?(0,l.createDomId)(t,"listbox"):void 0,y=(0,s.useRef)(null),w=(0,s.useCallback)((e=>{var t;return null===(t=y.current)||void 0===t?void 0:t.focus(e)}),[y]),C=(0,s.useRef)(null),E=(0,s.useCallback)((()=>(0,n.ensureNotNull)(C.current).focus()),[C]),T=(0,s.useCallback)((()=>g(!0)),[g]),k=(0,s.useCallback)(((e=!1,t=!1)=>{g(!1);const{activeElement:i}=document;i&&(0,o.isTextEditingField)(i)||t||w({preventScroll:e})}),[g,w]),S=(0,s.useCallback)((()=>{m?k():T()}),[m,k,T]),x=c?[]:[d,_.onFocus],M=c?[]:[h,_.onBlur],D=c?[]:[p,S],I=(0,a.createSafeMulticastEventHandler)(...x),P=(0,a.createSafeMulticastEventHandler)(...M),F=(0,a.createSafeMulticastEventHandler)(...D);return{listboxId:f,isOpened:m,isFocused:v,buttonTabIndex:c?-1:u,listboxTabIndex:-1,open:T,close:k,toggle:S,onOpen:E,buttonFocusBindings:{onFocus:I,onBlur:P},onButtonClick:F,buttonRef:y,listboxRef:C,buttonAria:{"aria-controls":m?f:void 0,"aria-expanded":m,"aria-disabled":c}}}},383836:(e,t,i)=>{"use strict";i.d(t,{useFocus:()=>n});var s=i(50959);function n(e,t){const[i,n]=(0,s.useState)(!1);(0,s.useEffect)((()=>{t&&i&&n(!1)}),[t,i]);const o={onFocus:(0,s.useCallback)((function(t){void 0!==e&&e.current!==t.target||n(!0)}),[e]),onBlur:(0,s.useCallback)((function(t){void 0!==e&&e.current!==t.target||n(!1)}),[e])};return[i,o]}},718736:(e,t,i)=>{"use strict";i.d(t,{useFunctionalRefObject:()=>o});var s=i(50959),n=i(855393);function o(e){const t=(0,s.useMemo)((()=>function(e){const t=i=>{e(i),t.current=i};return t.current=null,t}((e=>{a.current(e)}))),[]),i=(0,s.useRef)(null),o=t=>{if(null===t)return r(i.current,t),void(i.current=null);i.current!==e&&(i.current=e,r(i.current,t))},a=(0,s.useRef)(o);return a.current=o,(0,
n.useIsomorphicLayoutEffect)((()=>{if(null!==t.current)return a.current(t.current),()=>a.current(null)}),[e]),t}function r(e,t){null!==e&&("function"==typeof e?e(t):e.current=t)}},252130:(e,t,i)=>{"use strict";i.d(t,{useIsMounted:()=>n});var s=i(50959);const n=()=>{const e=(0,s.useRef)(!1);return(0,s.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}},855393:(e,t,i)=>{"use strict";i.d(t,{useIsomorphicLayoutEffect:()=>n});var s=i(50959);function n(e,t){("undefined"==typeof window?s.useEffect:s.useLayoutEffect)(e,t)}},648621:(e,t,i)=>{"use strict";i.d(t,{useItemsKeyboardNavigation:()=>r});var s=i(50959),n=i(865968);function o(e,t){return e>=0?e%t:(t-Math.abs(e)%t)%t}function r(e,t,i,r,a,l={},c){const u=(0,s.useCallback)((e=>{const s=t.findIndex(i);if(s===t.length-1&&!a)return void((null==c?void 0:c.onFailNext)&&c.onFailNext(e));const n=o(s+1,t.length);r&&r(t[n],"next")}),[t,i,r,a]),d=(0,s.useCallback)((e=>{const s=t.findIndex(i);if(0===s&&!a)return void((null==c?void 0:c.onFailPrev)&&c.onFailPrev(e));const n=o(s-1,t.length);r&&r(t[n],"previous")}),[t,i,r,a]),h=(0,s.useCallback)((()=>{r&&r(t[0],"first")}),[r,t]),p=(0,s.useCallback)((()=>{r&&r(t[t.length-1],"last")}),[r,t]),m=(0,s.useMemo)((()=>(e=>({next:[40,()=>e()?37:39],previous:[38,()=>e()?39:37],first:[33,()=>e()?35:36],last:[34,()=>e()?36:35]}))(e)),[e]),{next:g=m.next,previous:b=m.previous,first:_=m.first,last:v=m.last}=l;return(0,n.useComposedKeyboardActionHandlers)((0,n.useKeyboardActionHandler)(g,u),(0,n.useKeyboardActionHandler)(b,d),(0,n.useKeyboardActionHandler)(_,h),(0,n.useKeyboardActionHandler)(v,p))}},930617:(e,t,i)=>{"use strict";i.d(t,{useKeepActiveItemIntoView:()=>d});var s=i(50959),n=i(650151),o=i(549423);const r={duration:200,additionalScroll:0},a={vertical:{scrollSize:"scrollHeight",clientSize:"clientHeight",start:"top",end:"bottom",size:"height"},horizontal:{scrollSize:"scrollWidth",clientSize:"clientWidth",start:"left",end:"right",size:"width"}};function l(e,t){const i=a[e];return t[i.scrollSize]>t[i.clientSize]}function c(e,t,i,s,n,r){const l=function(e,t,i,s=0){const n=a[e];return{start:-1*s,middle:-1*(Math.floor(i[n.size]/2)-Math.floor(t[n.size]/2)),end:-1*(i[n.size]-t[n.size])+s}}(e,s,n,r.additionalScroll);let c=0;if(function(e,t,i){const s=a[e];return t[s.start]<i[s.start]-i[s.size]/2||t[s.end]>i[s.end]+i[s.size]/2}(e,s,n))c=l.middle;else{const t=function(e,t,i,s=0){const n=a[e],o=t[n.start]+Math.floor(t[n.size]/2),r=i[n.start]+Math.floor(i[n.size]/2);return{start:t[n.start]-i[n.start]-s,middle:o-r,end:t[n.end]-i[n.end]+s}}(e,s,n,r.additionalScroll),i=function(e){const{start:t,middle:i,end:s}=e,n=new Map([[Math.abs(t),{key:"start",value:Math.sign(t)}],[Math.abs(i),{key:"middle",value:Math.sign(i)}],[Math.abs(s),{key:"end",value:Math.sign(s)}]]),o=Math.min(...n.keys());return n.get(o)}(t);c=void 0!==i?l[i.key]:0}return function(e){const{additionalScroll:t=0,duration:i=o.dur,func:s=o.easingFunc.easeInOutCubic,onScrollEnd:n,target:r,wrap:a,direction:l="vertical"}=e;let{targetRect:c,wrapRect:u}=e;c=null!=c?c:r.getBoundingClientRect(),
u=null!=u?u:a.getBoundingClientRect();const d=("vertical"===l?c.top-u.top:c.left-u.left)+t,h="vertical"===l?"scrollTop":"scrollLeft",p=a?a[h]:0;let m,g=0;return g=window.requestAnimationFrame((function e(t){let o;if(m?o=t-m:(o=0,m=t),o>=i)return a[h]=p+d,void(n&&n());const r=p+d*s(o/i);a[h]=Math.floor(r),g=window.requestAnimationFrame(e)})),function(){window.cancelAnimationFrame(g),n&&n()}}({...r,target:t,targetRect:s,wrap:i,wrapRect:n,additionalScroll:c,direction:e})}class u{constructor(e=null){this._container=null,this._lastScrolledElement=null,this._stopVerticalScroll=null,this._stopHorizontalScroll=null,this._container=e}scrollTo(e,t=r){if(null!==this._container&&null!==e&&!function(e,t){const i=e.getBoundingClientRect(),s=t.getBoundingClientRect();return i.top>=s.top&&i.bottom<=s.bottom&&i.left>=s.left&&i.right<=s.right}(e,this._container)){const i=e.getBoundingClientRect(),s=this._container.getBoundingClientRect();this.stopScroll(),l("vertical",this._container)&&(this._stopVerticalScroll=c("vertical",e,this._container,i,s,this._modifyOptions("vertical",t))),l("horizontal",this._container)&&(this._stopHorizontalScroll=c("horizontal",e,this._container,i,s,this._modifyOptions("horizontal",t)))}this._lastScrolledElement=e}scrollToLastElement(e){this.scrollTo(this._lastScrolledElement,e)}stopScroll(){null!==this._stopVerticalScroll&&this._stopVerticalScroll(),null!==this._stopHorizontalScroll&&this._stopHorizontalScroll()}getContainer(){return this._container}setContainer(e){var t;this._container=e,(null===(t=this._container)||void 0===t?void 0:t.contains(this._lastScrolledElement))||(this._lastScrolledElement=null)}destroy(){this.stopScroll(),this._container=null,this._lastScrolledElement=null}_handleScrollEnd(e){"vertical"===e?this._stopVerticalScroll=null:this._stopHorizontalScroll=null}_modifyOptions(e,t){return Object.assign({},t,{onScrollEnd:()=>{this._handleScrollEnd(e),void 0!==t.onScrollEnd&&t.onScrollEnd()}})}}function d(e={}){const{activeItem:t,getKey:i,...o}=e,r=(0,s.useRef)(null),a=(0,s.useRef)(new Map),l=function(e){const t=(0,s.useRef)(null);return(0,s.useEffect)((()=>(t.current=new u(e),()=>(0,n.ensureNotNull)(t.current).destroy())),[]),t}(r.current),c=(0,s.useCallback)((()=>{null!==l.current&&null!==r.current&&l.current.getContainer()!==r.current&&l.current.setContainer(r.current)}),[l,r]),d=(0,s.useCallback)((e=>{r.current=e}),[r]),h=(0,s.useCallback)(((e,t)=>{const s=i?i(e):e;t?a.current.set(s,t):a.current.delete(s)}),[a,i]),p=(0,s.useCallback)(((e,t)=>{if(!e)return;const s=i?i(e):e,o=a.current.get(s);o&&(c(),(0,n.ensureNotNull)(l.current).scrollTo(o,t))}),[a,l,i]);return(0,s.useEffect)((()=>p(t,o)),[p,t]),[d,h,p]}},525388:(e,t,i)=>{"use strict";i.d(t,{useMergedRefs:()=>o});var s=i(50959),n=i(273388);function o(e){return(0,s.useCallback)((0,n.mergeRefs)(e),e)}},457927:(e,t,i)=>{"use strict";i.d(t,{useRefsMap:()=>n});var s=i(50959);function n(){const e=(0,s.useRef)(new Map),t=(0,s.useCallback)((t=>i=>{null!==i?e.current.set(t,i):e.current.delete(t)}),[e]);return[e,t]}},664332:(e,t,i)=>{"use strict"
;i.d(t,{useResizeObserver:()=>a});var s=i(50959),n=i(159255),o=i(855393),r=i(718736);function a(e,t=[]){const{callback:i,ref:a=null}=function(e){return"function"==typeof e?{callback:e}:e}(e),l=(0,s.useRef)(null),c=(0,s.useRef)(i);c.current=i;const u=(0,r.useFunctionalRefObject)(a),d=(0,s.useCallback)((e=>{u(e),null!==l.current&&(l.current.disconnect(),null!==e&&l.current.observe(e))}),[u,l]);return(0,o.useIsomorphicLayoutEffect)((()=>(l.current=new n.default(((e,t)=>{c.current(e,t)})),u.current&&d(u.current),()=>{var e;null===(e=l.current)||void 0===e||e.disconnect()})),[u,...t]),d}},441380:(e,t,i)=>{"use strict";i.d(t,{IconQuestionInformation:()=>f});var s=i(50959),n=i(497754),o=i(800417),r=i(72571),a=i(804395);function l(){const[e,t]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{t(a.mobiletouch)}),[]),e}var c=i(409245),u=i(525388),d=i(482353),h=i(527941),p=i(499084),m=i(530162),g=i(678370),b=i.n(g);const _={info:h,question:d,check:p,exclamation:m};function v(e){return s.createElement("span",{...(0,c.renameRef)(e),className:n(e.className,b()["no-active-state"])})}function f(e){const{icon:t,intent:i="default",ariaLabel:a,tooltip:c,className:d,reference:h,showTooltipOnTouch:p=!0,renderComponent:m=v,showTooltip:g,hideTooltip:f,onFocus:y,onBlur:w,onClick:C,tabIndex:E}=e,T=l()?p:Boolean(c),k=s.useRef(null),S=(0,u.useMergedRefs)([h,k]),x=function(e){const{tabIndex:t=0,showTooltip:i,hideTooltip:n,onFocus:o,onBlur:r,onClick:a,ref:c}=e,u=l();return{onBlur:(0,s.useCallback)((e=>{n&&n(),r&&r(e)}),[n,r]),onFocus:(0,s.useCallback)((e=>{i&&i(e.currentTarget,{tooltipDelay:200}),o&&o(e)}),[i,o]),onClick:(0,s.useCallback)((e=>{var t;u&&(null===(t=c.current)||void 0===t||t.focus()),a&&a(e)}),[a]),tabIndex:t}}({showTooltip:g,hideTooltip:f,onFocus:y,onBlur:w,onClick:C,ref:k,tabIndex:E}),M=s.useMemo((()=>function(e,t){return t?_[t]:"success"===e?_.check:_.exclamation}(i,t)),[t,i]);return s.createElement(m,{className:n(d,b()["icon-wrapper"],b()[`intent-${i}`],T&&c&&b()["with-tooltip"],T&&c&&"apply-common-tooltip"),title:T?c:void 0,"aria-label":a,reference:S,...(0,o.filterDataProps)(e),...x},s.createElement(r.Icon,{"aria-hidden":!0,icon:M,className:b().icon}))}},72571:(e,t,i)=>{"use strict";i.d(t,{Icon:()=>n});var s=i(50959);const n=s.forwardRef(((e,t)=>{const{icon:i="",...n}=e;return s.createElement("span",{...n,ref:t,dangerouslySetInnerHTML:{__html:i}})}))},230789:(e,t,i)=>{"use strict";i.d(t,{SwitchGroup:()=>r,makeSwitchGroupItem:()=>a});var s=i(50959),n=i(174786);const o=(0,s.createContext)({getName:()=>"",getValues:()=>[],getOnChange:()=>n.default,subscribe:n.default,unsubscribe:n.default});class r extends s.PureComponent{constructor(e){super(e),this._subscriptions=new Set,this._getName=()=>this.props.name,this._getValues=()=>this.props.values,this._getOnChange=()=>this.props.onChange,this._subscribe=e=>{this._subscriptions.add(e)},this._unsubscribe=e=>{this._subscriptions.delete(e)},this.state={switchGroupContext:{getName:this._getName,getValues:this._getValues,getOnChange:this._getOnChange,subscribe:this._subscribe,
unsubscribe:this._unsubscribe}}}render(){return s.createElement(o.Provider,{value:this.state.switchGroupContext},this.props.children)}componentDidUpdate(e){this._notify(this._getUpdates(this.props.values,e.values))}_notify(e){this._subscriptions.forEach((t=>t(e)))}_getUpdates(e,t){return[...t,...e].filter((i=>t.includes(i)?!e.includes(i):e.includes(i)))}}function a(e){var t;return t=class extends s.PureComponent{constructor(){super(...arguments),this._onChange=e=>{this.context.getOnChange()(e)},this._onUpdate=e=>{e.includes(this.props.value)&&this.forceUpdate()}}componentDidMount(){this.context.subscribe(this._onUpdate)}render(){return s.createElement(e,{...this.props,name:this._getName(),onChange:this._onChange,checked:this._isChecked()})}componentWillUnmount(){this.context.unsubscribe(this._onUpdate)}_getName(){return this.context.getName()}_isChecked(){return this.context.getValues().includes(this.props.value)}},t.contextType=o,t}},414823:(e,t,i)=>{"use strict";i.d(t,{createDomId:()=>l,joinDomIds:()=>c});const s=/\s/g;function n(e){return"string"==typeof e}function o(e){switch(typeof e){case"string":return e;case"number":case"bigint":return e.toString(10);case"boolean":case"symbol":return e.toString();default:return null}}function r(e){return e.trim().length>0}function a(e){return e.replace(s,"-")}function l(...e){const t=e.map(o).filter(n).filter(r).map(a);return(t.length>0&&t[0].startsWith("id_")?t:["id",...t]).join("_")}function c(...e){return e.map(o).filter(n).filter(r).join(" ")}},111706:(e,t,i)=>{"use strict";function s(e){return 0===e.detail}i.d(t,{isKeyboardClick:()=>s})},273388:(e,t,i)=>{"use strict";function s(e){return t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}}function n(e){return s([e])}i.d(t,{isomorphicRef:()=>n,mergeRefs:()=>s})},269842:(e,t,i)=>{"use strict";function s(...e){return t=>{for(const i of e)void 0!==i&&i(t)}}i.d(t,{createSafeMulticastEventHandler:()=>s})},247465:(e,t,i)=>{"use strict";i.d(t,{isCancelled:()=>o,makeCancelable:()=>n});class s extends Error{constructor(){super("CancelToken")}}function n(e){let t=!1;return{promise:new Promise(((i,n)=>{e.then((e=>t?n(new s):i(e))),e.catch((e=>n(t?new s:e)))})),cancel(){t=!0}}}function o(e){return e instanceof s}},868333:(e,t,i)=>{"use strict";var s;i.d(t,{LogoSize:()=>s,getLogoUrlResolver:()=>r}),function(e){e[e.Medium=0]="Medium",e[e.Large=1]="Large"}(s||(s={}));class n{getSymbolLogoUrl(e){return e}getCountryFlagUrl(){return""}getCryptoLogoUrl(e){return e}getProviderLogoUrl(e){return e}}let o;function r(){return o||(o=new n),o}},73288:(e,t,i)=>{"use strict";i.d(t,{OverlayScrollContainer:()=>g});var s=i(50959),n=i(497754),o=i.n(n),r=i(710263),a=i(650151),l=i(44681);const c=i(977253),u={0:{isHorizontal:!1,isNegative:!1,sizePropName:"height",minSizePropName:"minHeight",startPointPropName:"top",currentMousePointPropName:"clientY",progressBarTransform:"translateY"},1:{isHorizontal:!0,isNegative:!1,sizePropName:"width",minSizePropName:"minWidth",startPointPropName:"left",currentMousePointPropName:"clientX",
progressBarTransform:"translateX"},2:{isHorizontal:!0,isNegative:!0,sizePropName:"width",minSizePropName:"minWidth",startPointPropName:"right",currentMousePointPropName:"clientX",progressBarTransform:"translateX"}},d=40;function h(e){const{size:t,scrollSize:i,clientSize:n,scrollProgress:r,onScrollProgressChange:h,scrollMode:p,theme:m=c,onDragStart:g,onDragEnd:b,minBarSize:_=d}=e,v=(0,s.useRef)(null),f=(0,s.useRef)(null),[y,w]=(0,s.useState)(!1),C=(0,s.useRef)(0),{isHorizontal:E,isNegative:T,sizePropName:k,minSizePropName:S,startPointPropName:x,currentMousePointPropName:M,progressBarTransform:D}=u[p];(0,s.useEffect)((()=>{const e=(0,a.ensureNotNull)(v.current).ownerDocument;return y?(g&&g(),e&&(e.addEventListener("mousemove",B),e.addEventListener("mouseup",L))):b&&b(),()=>{e&&(e.removeEventListener("mousemove",B),e.removeEventListener("mouseup",L))}}),[y]);const I=t/i||0,P=n*I||0,F=Math.max(P,_),N=(t-F)/(t-P),O=i-t,R=T?-O:0,z=T?0:O,A=H((0,l.clamp)(r,R,z))||0;return s.createElement("div",{ref:v,className:o()(m.wrap,E&&m["wrap--horizontal"]),style:{[k]:t},onMouseDown:function(e){if(e.isDefaultPrevented())return;e.preventDefault();const t=U(e.nativeEvent,(0,a.ensureNotNull)(v.current)),i=Math.sign(t),s=(0,a.ensureNotNull)(f.current).getBoundingClientRect();C.current=i*s[k]/2;let n=Math.abs(t)-Math.abs(C.current);const o=H(O);n<0?(n=0,C.current=t):n>o&&(n=o,C.current=t-i*o);h(V(i*n)),w(!0)}},s.createElement("div",{ref:f,className:o()(m.bar,E&&m["bar--horizontal"]),style:{[S]:_,[k]:F,transform:`${D}(${A}px)`},onMouseDown:function(e){e.preventDefault(),C.current=U(e.nativeEvent,(0,a.ensureNotNull)(f.current)),w(!0)}},s.createElement("div",{className:o()(m.barInner,E&&m["barInner--horizontal"])})));function B(e){const t=U(e,(0,a.ensureNotNull)(v.current))-C.current;h(V(t))}function L(){w(!1)}function U(e,t){const i=t.getBoundingClientRect()[x];return e[M]-i}function H(e){return e*I*N}function V(e){return e/I/N}}var p=i(921258),m=i(982434);function g(e){const{reference:t,className:i,containerHeight:o=0,containerWidth:a=0,contentHeight:l=0,contentWidth:c=0,scrollPosTop:u=0,scrollPosLeft:d=0,onVerticalChange:g,onHorizontalChange:b,visible:_}=e,[v,f]=(0,p.useHover)(),[y,w]=(0,s.useState)(!1),C=o<l,E=a<c,T=C&&E?8:0;return s.createElement("div",{...f,ref:t,className:n(i,m.scrollWrap),style:{visibility:_||v||y?"visible":"hidden"}},C&&s.createElement(h,{size:o-T,scrollSize:l-T,clientSize:o-T,scrollProgress:u,onScrollProgressChange:function(e){g&&g(e)},onDragStart:k,onDragEnd:S,scrollMode:0}),E&&s.createElement(h,{size:a-T,scrollSize:c-T,clientSize:a-T,scrollProgress:d,onScrollProgressChange:function(e){b&&b(e)},onDragStart:k,onDragEnd:S,scrollMode:(0,r.isRtl)()?2:1}));function k(){w(!0)}function S(){w(!1)}}},449943:(e,t,i)=>{"use strict";i.d(t,{CircleLogoPair:()=>o});var s=i(50959),n=i(41192);i(882112);function o(e){const{primaryLogoUrl:t,secondaryLogoUrl:i,size:o,className:a}=e;return s.createElement("span",{className:(0,n.getBlockStyleClasses)(o,a),title:e.title},s.createElement(r,{logoUrl:i,size:o}),s.createElement(r,{logoUrl:t,
size:o}))}function r(e){const{logoUrl:t,size:i}=e,o=(0,n.getLogoStyleClasses)(i);return void 0===t?s.createElement("span",{className:o}):s.createElement("img",{className:o,src:t,alt:""})}},41192:(e,t,i)=>{"use strict";i.d(t,{getBlockStyleClasses:()=>n,getLogoStyleClasses:()=>o});var s=i(497754);function n(e,t){return s("tv-circle-logo-pair",`tv-circle-logo-pair--${e}`,t)}function o(e,t){return s("tv-circle-logo-pair__logo",`tv-circle-logo-pair__logo--${e}`,!t&&"tv-circle-logo-pair__logo-empty")}},904925:(e,t,i)=>{"use strict";i.d(t,{PopupMenuDisclosureView:()=>u});var s=i(50959),n=i(624216),o=i(650151);const r={x:0,y:0};function a(e,t,i){return(0,s.useCallback)((()=>function(e,t,{x:i=r.x,y:s=r.y}=r){const n=(0,o.ensureNotNull)(e).getBoundingClientRect(),a={x:n.left+i,y:n.top+n.height+s,indentFromWindow:{top:4,bottom:4,left:4,right:4}};return t&&(a.overrideWidth=n.width),a}(e.current,t,i)),[e,t])}var l=i(586240);const c=parseInt(l["size-header-height"]);function u(e){const{button:t,popupChildren:i,buttonRef:o,listboxId:r,listboxClassName:l,listboxTabIndex:u,matchButtonAndListboxWidths:d,isOpened:h,scrollWrapReference:p,listboxReference:m,onClose:g,onOpen:b,onListboxFocus:_,onListboxBlur:v,onListboxKeyDown:f,listboxAria:y,repositionOnScroll:w=!0,closeOnHeaderOverlap:C=!1,popupPositionCorrection:E={x:0,y:0},popupPosition:T}=e,k=a(o,d,E),S=C?c:0;return s.createElement(s.Fragment,null,t,s.createElement(n.PopupMenu,{...y,id:r,className:l,tabIndex:u,isOpened:h,position:T||k,repositionOnScroll:w,onClose:g,onOpen:b,doNotCloseOn:o.current,reference:m,scrollWrapReference:p,onFocus:_,onBlur:v,onKeyDown:f,closeOnScrollOutsideOffset:S},i))}},662941:(e,t,i)=>{"use strict";i.d(t,{EmptyStateBlock:()=>l});var s=i(50959),n=i(497754),o=i.n(n),r=i(782430);function a(e){const{title:t,tagName:i,titleSize:n}=e,a=i||"strong";return s.createElement(a,{className:o()(r.title,r[`title_${n}`])},t)}function l(e){return s.createElement("div",{className:n(r.container,e.className)},s.createElement("div",{className:n(r.icon,e.iconClass)}),e.title&&s.createElement(a,{title:e.title,titleSize:e.titleSize,tagName:e.titleTagName}),e.text&&s.createElement("div",{className:n(r.text,"large"===e.textSize&&r.text_large)},e.text),e.action&&s.createElement("div",{className:r.action},e.action))}},953517:(e,t,i)=>{"use strict";i.d(t,{useKeyboardActionHandler:()=>s.useKeyboardActionHandler,useKeyboardClose:()=>s.useKeyboardClose,useKeyboardEventHandler:()=>s.useKeyboardEventHandler,useKeyboardOpen:()=>s.useKeyboardOpen,useKeyboardToggle:()=>s.useKeyboardToggle});var s=i(865968)},703011:(e,t,i)=>{"use strict";i.d(t,{useForceUpdate:()=>n});var s=i(50959);const n=()=>{const[,e]=(0,s.useReducer)((e=>e+1),0);return e}},921258:(e,t,i)=>{"use strict";i.d(t,{hoverMouseEventFilter:()=>o,useAccurateHover:()=>r,useHover:()=>n});var s=i(50959);function n(){const[e,t]=(0,s.useState)(!1);return[e,{onMouseOver:function(e){o(e)&&t(!0)},onMouseOut:function(e){o(e)&&t(!1)}}]}function o(e){return!e.currentTarget.contains(e.relatedTarget)}function r(e){const[t,i]=(0,s.useState)(!1)
;return(0,s.useEffect)((()=>{const t=t=>{if(null===e.current)return;const s=e.current.contains(t.target);i(s)};return document.addEventListener("mouseover",t),()=>document.removeEventListener("mouseover",t)}),[]),t}},661851:(e,t,i)=>{"use strict";i.d(t,{useObservable:()=>o,useObservableWithImmediatelyEmittedInitialValue:()=>r});var s=i(50959);function n(e,t){(0,s.useEffect)((()=>{const i=e.subscribe(t);return()=>i.unsubscribe()}),[e,t])}function o(e,t){const[i,o]=(0,s.useState)(t);return n(e,o),i}function r(e,t){const i=(0,s.useCallback)(void 0!==t?()=>t:()=>{let t;return e.subscribe((e=>{t=e})).unsubscribe(),t},[t,e]),[o,r]=(0,s.useState)(i);return n(e,(e=>r((()=>e)))),o}},139043:(e,t,i)=>{"use strict";i.d(t,{useOverlayScroll:()=>l});var s=i(50959),n=i(650151),o=i(921258),r=i(601227);const a={onMouseOver:()=>{},onMouseOut:()=>{}};function l(e,t=r.CheckMobile.any()){const i=(0,s.useRef)(null),l=e||(0,s.useRef)(null),[c,u]=(0,o.useHover)(),[d,h]=(0,s.useState)({reference:i,containerHeight:0,containerWidth:0,contentHeight:0,contentWidth:0,scrollPosTop:0,scrollPosLeft:0,onVerticalChange:function(e){h((t=>({...t,scrollPosTop:e}))),(0,n.ensureNotNull)(l.current).scrollTop=e},onHorizontalChange:function(e){h((t=>({...t,scrollPosLeft:e}))),(0,n.ensureNotNull)(l.current).scrollLeft=e},visible:c}),p=(0,s.useCallback)((()=>{if(!l.current)return;const{clientHeight:e,scrollHeight:t,scrollTop:s,clientWidth:n,scrollWidth:o,scrollLeft:r}=l.current,a=i.current?i.current.offsetTop:0;h((i=>({...i,containerHeight:e-a,contentHeight:t-a,scrollPosTop:s,containerWidth:n,contentWidth:o,scrollPosLeft:r})))}),[]);function m(){h((e=>({...e,scrollPosTop:(0,n.ensureNotNull)(l.current).scrollTop,scrollPosLeft:(0,n.ensureNotNull)(l.current).scrollLeft})))}return(0,s.useEffect)((()=>{c&&p(),h((e=>({...e,visible:c})))}),[c]),(0,s.useEffect)((()=>{const e=l.current;return e&&e.addEventListener("scroll",m),()=>{e&&e.removeEventListener("scroll",m)}}),[l]),[d,t?a:u,l,p]}},102478:(e,t,i)=>{"use strict";i.d(t,{useResizeObserver:()=>s.useResizeObserver});var s=i(664332)},683614:(e,t,i)=>{"use strict";i.d(t,{useVisibility:()=>n});var s=i(50959);function n(e,t,i){(0,s.useEffect)((()=>{const s=new IntersectionObserver((e=>{e[e.length-1].intersectionRatio<.25?i():t()}),{threshold:[0,.25,.5,.75,1],root:null,rootMargin:"0px"});return e.current&&s.observe(e.current),()=>s.disconnect()}),[])}},297265:(e,t,i)=>{"use strict";i.d(t,{useWatchedValueReadonly:()=>n});var s=i(50959);const n=(e,t=!1)=>{const i="watchedValue"in e?e.watchedValue:void 0,n="defaultValue"in e?e.defaultValue:e.watchedValue.value(),[o,r]=(0,s.useState)(i?i.value():n);return(t?s.useLayoutEffect:s.useEffect)((()=>{if(i){r(i.value());const e=e=>r(e);return i.subscribe(e),()=>i.unsubscribe(e)}return()=>{}}),[i]),o}},379266:(e,t,i)=>{"use strict";i.d(t,{PopupMenuItemToggle:()=>l});var s=i(50959),n=i(497754),o=i(192063),r=i(302946),a=i(354583);function l(e){const{isDisabled:t,hint:i,label:l,isChecked:c,checkboxClassName:u,labelClassName:d,indeterminate:h,...p}=e
;return s.createElement(o.PopupMenuItem,{...p,isDisabled:t,shortcut:i,dontClosePopup:!0,labelRowClassName:d,label:s.createElement(r.Checkbox,{disabled:t,label:l,checked:c,indeterminate:h,className:n(a.checkbox,u)})})}},730743:(e,t,i)=>{"use strict";i.d(t,{calcSubMenuPos:()=>n});var s=i(710263);function n(e,t,i={x:0,y:10}){if(t){const{left:i,right:n,top:o}=t.getBoundingClientRect(),r=document.documentElement.clientWidth,a={x:i-e,y:o},l={x:n,y:o};return(0,s.isRtl)()?i<=e?l:a:r-n>=e?l:a}return i}},493173:(e,t,i)=>{"use strict";function s(e,t,i={}){return Object.assign({},e,function(e,t,i={}){const s=Object.assign({},t);for(const n of Object.keys(t)){const o=i[n]||n;o in e&&(s[n]=[e[o],t[n]].join(" "))}return s}(e,t,i))}i.d(t,{mergeThemes:()=>s})},807372:e=>{e.exports={title:"title-q2xHBwCG",currency:"currency-q2xHBwCG",activeCurrency:"activeCurrency-q2xHBwCG",label:"label-q2xHBwCG",labelWrapper:"labelWrapper-q2xHBwCG",summary:"summary-q2xHBwCG",dropdown:"dropdown-q2xHBwCG",popup:"popup-q2xHBwCG",removeMargins:"removeMargins-q2xHBwCG",singleItemDropdown:"singleItemDropdown-q2xHBwCG",content:"content-q2xHBwCG",singleItemDropdownWrapper:"singleItemDropdownWrapper-q2xHBwCG"}},635944:e=>{e.exports={wrapper:"wrapper-sS0Eevbl",popup:"popup-sS0Eevbl",brokerDropdownMobileWrapper:"brokerDropdownMobileWrapper-sS0Eevbl",betaBadgeWrapper:"betaBadgeWrapper-sS0Eevbl"}},275583:e=>{e.exports={toggle:"toggle-NYDT3E70",label:"label-NYDT3E70"}},517327:e=>{e.exports={dropdownButton:"dropdownButton-NgHNzdZC",bigIcon:"bigIcon-NgHNzdZC"}},353249:e=>{e.exports={headerWrapper:"headerWrapper-gktKXRGi",withoutDropdowns:"withoutDropdowns-gktKXRGi",brokerBlock:"brokerBlock-gktKXRGi",betaBadge:"betaBadge-gktKXRGi"}},790170:e=>{e.exports={accountSummaryField:"accountSummaryField-jRGFBLDP",value:"value-jRGFBLDP",title:"title-jRGFBLDP"}},634762:e=>{e.exports={accountSummaryRow:"accountSummaryRow-p0GW1i2G",addMargin:"addMargin-p0GW1i2G"}},949922:e=>{e.exports={count:"count-jY_kTdIW",tabs:"tabs-jY_kTdIW"}},118087:e=>{e.exports={accountManager:"accountManager-RYOkdllU",topPanel:"topPanel-RYOkdllU",secondaryPanel:"secondaryPanel-RYOkdllU",content:"content-RYOkdllU",page:"page-RYOkdllU",active:"active-RYOkdllU",popup:"popup-RYOkdllU"}},126775:e=>{e.exports={pageContainer:"pageContainer-NWiOUge8"}},11124:e=>{e.exports={tableContainer:"tableContainer-jequK3xK"}},964492:e=>{e.exports={title:"title-qCE0lhBm",hidden:"hidden-qCE0lhBm"}},722789:e=>{e.exports={container:"container-UePCJPvY",sticky:"sticky-UePCJPvY"}},860227:e=>{e.exports={menuButton:"menuButton-mNpEpVYL",icon:"icon-mNpEpVYL",label:"label-mNpEpVYL",checkBox:"checkBox-mNpEpVYL"}},468133:e=>{e.exports={message:"message-p5eTSZ4Q",iconQuestionInformation:"iconQuestionInformation-p5eTSZ4Q"}},982101:e=>{e.exports={wrapper:"wrapper-oHlQhto0",icon:"icon-oHlQhto0",editIcon:"editIcon-oHlQhto0",buttons:"buttons-oHlQhto0"}},911293:e=>{e.exports={title:"title-DIAl4Kmu",titleContent:"titleContent-DIAl4Kmu",wrapper:"wrapper-DIAl4Kmu"}},497008:e=>{e.exports={container:"container-JKVA979k",logo:"logo-JKVA979k",
gap:"gap-JKVA979k",tickerAndDescriptionWrapper:"tickerAndDescriptionWrapper-JKVA979k",textWrapper:"textWrapper-JKVA979k",title:"title-JKVA979k",description:"description-JKVA979k",tooltipIcon:"tooltipIcon-JKVA979k",messageInformer:"messageInformer-JKVA979k"}},65150:e=>{e.exports={title:"title-UBH3TM61"}},410337:e=>{e.exports={text:"text-8tRPX9tj"}},477317:e=>{e.exports={gray:"gray-Qz5vw9Wh",grey:"grey-Qz5vw9Wh",blue:"blue-Qz5vw9Wh",red:"red-Qz5vw9Wh",green:"green-Qz5vw9Wh",orange:"orange-Qz5vw9Wh"}},741886:e=>{e.exports={wrapper:"wrapper-scLCpJg_",currency:"currency-scLCpJg_"}},586816:e=>{e.exports={wrapper:"wrapper-HXba0ecm",rightAligned:"rightAligned-HXba0ecm",tooltipIcon:"tooltipIcon-HXba0ecm"}},410504:e=>{e.exports={wrapper:"wrapper-ukE5gIkU",hiddenLabel:"hiddenLabel-ukE5gIkU",labelWrapper:"labelWrapper-ukE5gIkU",label:"label-ukE5gIkU",contentWrapper:"contentWrapper-ukE5gIkU",content:"content-ukE5gIkU",withPadding:"withPadding-ukE5gIkU",tooltipIcon:"tooltipIcon-ukE5gIkU"}},823092:e=>{e.exports={root:"root-Tu141ut0",tableHead:"tableHead-Tu141ut0",tableBody:"tableBody-Tu141ut0",table:"table-Tu141ut0",wrapper:"wrapper-Tu141ut0",headCell:"headCell-Tu141ut0",sortable:"sortable-Tu141ut0",headCellContent:"headCellContent-Tu141ut0",cell:"cell-Tu141ut0",capitalize:"capitalize-Tu141ut0",rightAlignedCell:"rightAlignedCell-Tu141ut0",cellContent:"cellContent-Tu141ut0",hideLabelOnMobile:"hideLabelOnMobile-Tu141ut0",hideCellOnMobile:"hideCellOnMobile-Tu141ut0",row:"row-Tu141ut0",lastRow:"lastRow-Tu141ut0",withVirtualization:"withVirtualization-Tu141ut0",highlightedRow:"highlightedRow-Tu141ut0",inactiveRow:"inactiveRow-Tu141ut0",tableWrapper:"tableWrapper-Tu141ut0",noBouncingScroll:"noBouncingScroll-Tu141ut0",tableWrapperEmpty:"tableWrapperEmpty-Tu141ut0",rightFixedColumn:"rightFixedColumn-Tu141ut0",leftFixedColumn:"leftFixedColumn-Tu141ut0",isScrolled:"isScrolled-Tu141ut0",emptyStateBlock:"emptyStateBlock-Tu141ut0",emptyStateRow:"emptyStateRow-Tu141ut0",emptyStateCell:"emptyStateCell-Tu141ut0"}},563603:e=>{e.exports={scrollContainer:"scrollContainer-QUmwCARl",scrollWrapper:"scrollWrapper-QUmwCARl"}},262547:e=>{e.exports={wrapper:"wrapper-ryBkVVNs"}},312282:e=>{e.exports={mobile:"screen and (max-width: 567px)"}},605899:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AccountManagerHeaderDropdowns:()=>g});var s=i(50959),n=i(497754),o=i.n(n),r=i(601227),a=i(783806),l=i(509806),c=i(650151),u=i(518799),d=i(192063),h=i(807372);function p(e){const{currentAccount:t,accountsList:n,currentAccountUpdate:a,removeMargins:p,mode:m}=e,[g,b]=(0,s.useState)(t);(0,s.useEffect)((()=>(a.subscribe(null,f),()=>{a.unsubscribe(null,f)})),[a,n]);let _=`${l.t(null,void 0,i(271207))}: ${g.name}`;void 0!==g.currency&&(_=`${_} ${g.currency}`);const v=0===m;return 1===n.length?s.createElement("div",{className:o()(h.content,v&&h.popup,h.singleItemDropdownWrapper)},s.createElement("span",{className:o()(h.singleItemDropdown,p&&h.removeMargins,v&&h.popup)},_)):s.createElement(u.ToolWidgetMenu,{isDrawer:r.CheckMobile.any(),content:s.createElement("span",{
className:o()(h.content,v&&h.popup)},_),className:o()(h.dropdown,p&&h.removeMargins,v&&h.popup)},n.map((e=>{const t=g.id===e.id;return s.createElement(d.PopupMenuItem,{labelClassName:h.labelWrapper,isActive:t,label:s.createElement("div",{className:h.label},s.createElement("div",{className:h.title},e.name),void 0!==e.currency&&s.createElement("div",{className:o()(h.currency,t&&h.activeCurrency)},"(",e.currency,")")),onClick:()=>e.callBack(),key:e.id})})));function f(e){b((0,c.ensureDefined)(n.find((t=>t.id===e))))}}var m=i(635944);function g(e){const{brokerDropdownProps:t,accountDropdownProps:i,commonDropdownProps:n}=e,l=(r.CheckMobile.any()&&(null==t||t.isBeta),0===i.mode);return s.createElement("div",{className:o()(m.wrapper,l&&m.popup)},l?s.createElement("span",null,"Account Manager"):s.createElement(s.Fragment,null),s.createElement(p,{...i}),!l&&s.createElement(a.TerminalDropdown,{...n}))}},783806:(e,t,i)=>{"use strict";i.d(t,{TerminalDropdown:()=>R});var s=i(50959),n=i(509806),o=i(497754),r=i.n(o),a=i(601227),l=i(72571),c=i(518799),u=i(747633),d=i(192063),h=i(350299);const p=s.lazy((async()=>({default:(await Promise.all([i.e(580),i.e(4139),i.e(2108),i.e(5145),i.e(855),i.e(2191),i.e(6639),i.e(7194),i.e(4215),i.e(7653),i.e(766),i.e(2985)]).then(i.bind(i,432177))).ExportDataDialogImpl})));function m(e){return s.createElement(s.Suspense,{fallback:null},s.createElement(p,{...e}))}var g=i(661851),b=i(379266),_=i(624216),v=i(759339),f=i(189904),y=i(972535),w=i(823030),C=i(921258),E=i(730743);var T=i(930052),k=i(309210),S=i(379978);function x(e){return s.createElement(T.MatchMedia,{rule:"screen and (max-width: 430px)"},(t=>t||e.forceUseDrawer?s.createElement(D,{...e}):s.createElement(I,{...e})))}function M(e){const{toolboxLabel:t}=e;return s.createElement(d.PopupMenuItem,{toolbox:s.createElement(s.Fragment,null,t&&s.createElement("span",{className:k.toolboxLabel},t),s.createElement(l.Icon,{className:k.icon,icon:S})),suppressToolboxClick:!1,dontClosePopup:!0,...e})}function D(e){const{children:t,className:i,drawerClassName:n,menuItemTheme:o,label:r,icon:a,labelClassName:l,toolboxLabel:c}=e,[u,d]=(0,s.useState)(!1);return s.createElement(s.Fragment,null,s.createElement(M,{theme:o,label:r,toolboxLabel:c,icon:a,labelClassName:l,className:i,onClick:function(){d(!u)}}),u&&s.createElement(v.Drawer,{className:n,position:"Bottom",onClose:function(){d(!1)}},t))}function I(e){const{children:t,className:i,menuClassName:n,menuItemTheme:o,label:r,icon:a,labelClassName:l,toolboxLabel:c}=e,u=(0,s.useRef)((0,f.randomHash)()),d=(0,s.useRef)(null),{isMenuOpened:h,onTriggerClick:p,onTriggerMouseOver:m,onMenuClose:g,getPosition:b,onMenuMouseOver:v}=function(e,t,i={}){const n=s.useContext(w.SubmenuContext);s.useEffect((()=>null==n?void 0:n.registerSubmenu(e,a)),[e]);const o=Boolean((null==n?void 0:n.current)===e);return{isMenuOpened:o,onTriggerClick:function(){(y.mobiletouch||i.forceOpenOnClick)&&(null==n||n.setCurrent(o?null:e))},onMenuClose:function(){null==n||n.setCurrent(null)},getPosition:function(e){return(0,
E.calcSubMenuPos)(e,t.current)},onMenuMouseOver:r,onTriggerMouseOver:r};function r(t){!y.mobiletouch&&(0,C.hoverMouseEventFilter)(t)&&(null==n||n.setCurrent(e))}function a(e){var i;return Boolean(null===(i=t.current)||void 0===i?void 0:i.contains(e))}}(u.current,d);return s.createElement(s.Fragment,null,s.createElement(M,{theme:o,label:r,toolboxLabel:c,icon:a,labelClassName:l,className:i,onClick:p,onMouseOver:m,reference:d,isHovered:h}),s.createElement(_.PopupMenu,{className:n,position:b,onClose:g,isOpened:h,doNotCloseOn:d.current,onMouseOver:v},t))}var P=i(275583);function F(e){const{labelClassName:t,summaryFieldsVisibilityInfo$:o,summaryFieldToggler:r,initialSummaryFieldsVisibilityInfo:l}=e,c=(0,g.useObservable)(o,l);return 0===c.size?s.createElement(s.Fragment,null):s.createElement(x,{label:n.t(null,void 0,i(522382)),labelClassName:t,forceUseDrawer:a.CheckMobile.any()},[...c.values()].map((e=>s.createElement(b.PopupMenuItemToggle,{key:e.id,className:P.toggle,label:s.createElement("span",{className:P.label},e.id),isChecked:e.visible,onClick:()=>r(e.id)}))))}var N=i(517327),O=i(48008);function R(e){const{dataExportController:t,initialSummaryFieldsVisibilityInfo:o,summaryFieldToggler:p,summaryFieldsVisibilityInfo$:g,iconSize:b}=e,[_,v]=function(e){const{dataExportController:t,trackEvent:i}=e,[n,o]=(0,s.useState)(!1);return void 0===t?[()=>{},null]:[()=>o(!0),s.createElement(m,{isOpened:n,onClose:()=>o(!1),trackEvent:i,dataExportController:t})]}({dataExportController:t});return s.createElement(s.Fragment,null,s.createElement(c.ToolWidgetMenu,{arrow:!1,isDrawer:a.CheckMobile.any(),className:N.dropdownButton,content:s.createElement(u.ToolWidgetButton,{title:n.t(null,void 0,i(141610)),icon:s.createElement(l.Icon,{className:r()("big"===b&&N.bigIcon),icon:O})}),"data-name":"terminal-dropdown"},s.createElement(F,{labelClassName:N.label,summaryFieldToggler:p,summaryFieldsVisibilityInfo$:g,initialSummaryFieldsVisibilityInfo:o}),null!==v&&s.createElement(d.PopupMenuItem,{labelClassName:N.label,label:(0,h.appendEllipsis)(n.t(null,void 0,i(125769))),onClick:_})),v)}},407999:(e,t,i)=>{"use strict";i.d(t,{makeAccountManagerHeaderDropdownsProps:()=>h});var s=i(650151),n=i(481330),o=i(480802),r=i(752275),a=i(6835),l=i(637401);const c=(0,a.getLogger)("Trading.DataExport");class u{constructor(e,t){this._prefix=t,this._getDataExporters=e}tabs(){return[...this._getDataExporters()].map((([e,t])=>({value:e,content:t.title})))}async exportData(e){const{exporters:t,title:i}=(0,s.ensureDefined)(this._getDataExporters().get(e),"data exporter");try{const e=await Promise.all(t.map((({exportData:e})=>e())));e.forEach(((s,n)=>{const a=t[n].name,l=void 0===a||""===a?`${(0,o.default)(i)}${e.length>1?`-${n+1}`:""}`:(0,o.default)(a);let c="";if(0!==s.length){const e=[d(Object.keys(s[0]))];for(const t of s)e.push(d(Object.values(t)));c=e.join("\n")}(0,r.saveTextFile)(`${(0,o.default)(this._prefix)}-${l}-${(new Date).toISOString()}.csv`,c,"text/csv")}))}catch(e){c.logError((0,l.getLoggerMessage)(e))}}}function d(e){
return e.map(r.escapeCSVValue).join(",")}async function h(e,t,i){const o=e.brokersList().filter((e=>!e.configFlags.isSuspended)),r=Promise.resolve(void 0),a=(0,s.ensureNotNull)(e.activeBroker()),l=await r,c=await a.accountsMetainfo(),d=a.accountManagerInfo();if(0===c.length)return;const h=c.map((e=>{var t;return{id:e.id,name:e.name,callBack:async()=>{e.id!==a.currentAccount()&&a.setCurrentAccount(e.id)},currency:""===e.currency?void 0:null!==(t=e.currency)&&void 0!==t?t:void 0}})),p=h.find((e=>e.id===a.currentAccount())),m=a.metainfo(),g=void 0!==l?(0,n.brokersListFromPlans)(o,l):void 0,b=void 0!==g?{title:d.accountTitle,brokerName:m.title,brokerId:m.id,logo:m.logoMiniUrl,logoBlack:m.logoMiniBlackUrl,actions:a.buttonDropdownActions(),trading:e,brokers:g,isBeta:m.isBeta,realtimeDataPermissionsConfig:m.realtimeDataPermissionsToggleConfig}:void 0,_={dataExportController:void 0!==i?new u(i,m.title):void 0,initialSummaryFieldsVisibilityInfo:t.fieldsVisibilityInfo(),summaryFieldsVisibilityInfo$:t.fieldsVisibilityInfo$,summaryFieldToggler:t.toggleField};return{brokerDropdownProps:b,accountDropdownProps:{currentAccount:(0,s.ensureDefined)(p),accountsList:h,currentAccountUpdate:a.currentAccountUpdate,removeMargins:void 0===b},commonDropdownProps:_}}},863489:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AccountManager:()=>en});var s=i(509806),n=i(50959),o=i(500962),r=i(497754),a=i.n(r),l=i(159255),c=i(650151),u=i(688401),d=i(601227),h=i(156963),p=i(481330),m=i(462056);class g{constructor(e){this._delegates=e}subscribe(e,t,i){this._delegates.forEach((s=>s.subscribe(e,t,i)))}unsubscribe(e,t){this._delegates.forEach((i=>i.unsubscribe(e,t)))}unsubscribeAll(e){this._delegates.forEach((t=>t.unsubscribeAll(e)))}}var b=i(382280),_=i(98454),v=i(350299);function f(e){return 0!==e.qty||0!==e.longQty&&void 0!==e.longQty||0!==e.shortQty&&void 0!==e.shortQty}var y=i(247465);class w{constructor(e){this._isActive=!1,this._created=!1,this._started=!1,this._fullUpdateDelegate=null,this._partialUpdateDelegate=null,this._deleteUpdateDelegate=null,this._noMoreEntries=!1,this._isLoadingMore=!1,this._fullUpdateCancel=null,this._exportData=async()=>{const e=this._isActive;e||(this.start(),await this.setActive(!0));const t=await this._view.exportData();return e||await this.setActive(!1),t},this._viewVisibilityHandler=e=>{this._model.setActive(e)},this._sortingChangeHandler=e=>{this._updateModelSortingState(e)},this._sizeChangeHandler=()=>{this._updateModelSortingState({column:this._view.sortingColumn(),mode:this._view.sortingMode()})};const{idProperty:t,name:i,model:s,view:n,source:o,subscriptions:r,supportPagination:a}=e;this._idProperty=t,this._model=s,this._view=n,this._name=i,this._source=o,this._subscriptions=r,this._supportPagination=Boolean(a)}start(){this._started||(this._updateModelSortingState({column:this._view.sortingColumn(),mode:this._view.sortingMode()}),this._subscribeUpdates(),this._subscribeView(),this._started=!0)}stop(){this._started&&(this._unsubscribeUpdates(),this._unsubscribeView(),this.reset(),this._started=!1)}isStarted(){
return this._started}async setActive(e){(0,c.assert)(!e||this._started,"Should be started first"),this._isActive!==e&&(this._isActive=e,this._isActive&&!this._created&&await this._fullUpdate(),this._model.setActive(e),this._isActive&&void 0!==this._height&&this._view.setHeight(this._height))}isActive(){return this._isActive}reset(){this._isActive?this._fullUpdate():(this._deleteRows(),this._created=!1)}destroy(){this._unsubscribeUpdates(),this._unsubscribeView()}getDataExporter(){return{name:this._name,exportData:this._exportData}}setHeight(e){this._height=e,this._isActive&&this._view.setHeight(e)}highlightRowById(e){this._view.highlightRowById(e)}setRowInactiveById(e,t){this._view.setRowInactiveById(e,t)}setRowInactiveByFilter(e){this._view.setRowInactiveByFilter(e)}addFormatter(e){this._view.addFormatter(e)}addFormatters(e){for(const t of e)this.addFormatter(t)}isRowInViewport(e){return this._view.isRowInViewport(e)}setColumnAvailable(e,t){this._view.setColumnAvailable(e,t)}setRowLinkedByFilter(e){this._view.setRowLinkedByFilter(e)}setRowLinkedById(e,t){this._view.setRowLinkedById(e,t)}rowIdAtEvent(e){return this._view.rowIdAtEvent(e)}rowAtEvent(e){const t=this._view.rowIdAtEvent(e);if(void 0!==t)return this.rowById(t)}rowById(e){return this._model.data().get(e)}_update(e){return!!this._created&&(this._model.addRow(e),!0)}_deleteRow(e){this._created&&this._model.deleteRow(e)}_deleteRows(){this._model.deleteRows(),this._created=!1}_fullUpdate(){if(this._deleteRows(),this._noMoreEntries=!1,!this._isActive)return Promise.resolve();this._fullUpdateCancel&&this._fullUpdateCancel();const e=(0,y.makeCancelable)(this._source());return this._fullUpdateCancel=e.cancel,e.promise.then((e=>{this._fullUpdateCancel=null,this._model.addRows(e),this._created=!0,this._onCreated()})).catch((e=>{if(!(0,y.isCancelled)(e))throw e}))}_onCreated(){}_loadMoreIfBottomVisible(e){if(this._isLoadingMore||!e||this._noMoreEntries)return;const t=this._model.rows().length-1;if(-1===t)return;const i=this._model.rows()[t][this._idProperty];this._isLoadingMore=!0,this._source(i).then((e=>{0!==e.length?(this._model.addRows(e),this._isLoadingMore=!1):this._noMoreEntries=!0})).catch((()=>{this._isLoadingMore=!1}))}_subscribeView(){this._view.onSizeChange.subscribe(this,this._sizeChangeHandler),this._view.onTableVisibilityChange.subscribe(this,this._viewVisibilityHandler),this._view.onSortingChange.subscribe(this,this._sortingChangeHandler),this._supportPagination&&this._view.onBottomVisibilityChange.subscribe(this,this._loadMoreIfBottomVisible)}_unsubscribeView(){this._view.onSizeChange.unsubscribe(this,this._sizeChangeHandler),this._view.onTableVisibilityChange.unsubscribe(this,this._viewVisibilityHandler),this._view.onSortingChange.unsubscribe(this,this._sortingChangeHandler),this._view.onBottomVisibilityChange.unsubscribe(this,this._loadMoreIfBottomVisible)}_updateModelSortingState(e){const t=0!==this._view.size()||this._supportPagination?e.mode:null;this._model.setSortingState({column:null===t?void 0:e.column,mode:t})}_subscribeUpdates(){
if(this._fullUpdateDelegate)throw new Error("should unsubscribe first");this._fullUpdateDelegate=this._subscriptions.fullUpdateDelegate,this._fullUpdateDelegate.subscribe(this,this._fullUpdate),this._partialUpdateDelegate=this._subscriptions.rowUpdateDelegate,this._partialUpdateDelegate.subscribe(this,this._update),this._subscriptions.rowDeleteDelegate&&(this._deleteUpdateDelegate=this._subscriptions.rowDeleteDelegate,this._deleteUpdateDelegate.subscribe(this,this._deleteRow))}_unsubscribeUpdates(){this._fullUpdateDelegate&&(this._fullUpdateDelegate.unsubscribe(this,this._fullUpdate),delete this._fullUpdateDelegate),this._partialUpdateDelegate&&(this._partialUpdateDelegate.unsubscribe(this,this._update),delete this._partialUpdateDelegate),this._deleteUpdateDelegate&&(this._deleteUpdateDelegate.unsubscribe(this,this._deleteRow),delete this._deleteUpdateDelegate)}}var C=i(91679);class E extends class{constructor(e,t){this._filterTabs=[],this._active=!1,this._count=new C.WatchedValue,this._content=e,this._id=t.id,this._name=t.name}setActive(e){this._active!==e&&(this._active=e,this._onActiveChanged(e))}isActive(){return this._active}reset(){}destroy(){}content(){return this._content}name(){return this._name}id(){return this._id||this._name}contextItems(e){return[]}topline(){return null}activeFilterTabId(){return this._activeFilterTabId}filterTabs(){return this._filterTabs}count(){return this._count.readonly()}activateFilterTab(e){this._activeFilterTabId=e}_setCount(e){this._count.setValue(e)}_onActiveChanged(e){}}{constructor(e,t,i){super(e,t),this._tableControllers=i}reset(){this._tableControllers.forEach((e=>e.reset())),super.reset()}destroy(){this._tableControllers.forEach((e=>e.destroy())),super.destroy()}setHeight(e){this._tableControllers.forEach((t=>t.setHeight(e)))}getExporters(){const e=this._tableControllers.map((e=>e.getDataExporter()));return{title:this.name(),exporters:e}}contextRow(e){}_onActiveChanged(e){this._tableControllers.forEach((t=>t.setActive(e)))}}var T=i(150335),k=i(793361),S=i(47680),x=i(981011),M=i(906355);var D=i(372605),I=i(637927),P=i(815628),F=i(710263),N=i(761248),O=i(637401),R=i(671129),z=i(75577),A=i(441380),B=i(449943),L=i(636080),U=i(252130),H=i(683614),V=i(703011),W=i(972535),j=i(744471);function Y(e){e.stopPropagation(),W.mobiletouch&&((0,j.tooltipClickHandler)(e),document.addEventListener("touchend",(e=>e.preventDefault()),{once:!0}))}function G(e){return{ariaLabel:e,tooltip:e,onClick:Y,hideTooltip:j.hide}}function q(e){const{dependencies:t,customText:i}=e,s=(0,n.useRef)(null),o=(0,n.useRef)(void 0),r=(0,V.useForceUpdate)(),a=(0,U.useIsMounted)(),l=(0,n.useCallback)((()=>{if(!a.current)return;if(null===s.current||s.current.offsetWidth>=s.current.scrollWidth)return o.current=void 0,void r();const e=null!=i?i:s.current.textContent;null!==e&&e!==o.current&&(o.current=e,r())}),t);return(0,n.useEffect)((()=>l()),[l]),(0,H.useVisibility)(s,(()=>l()),(()=>{})),[s,void 0!==o.current?G(o.current):null]}var K=i(164530);const $=s.t(null,void 0,i(120294));function Q(e){return{
text:void 0!==(null==e?void 0:e.text)&&""!==e.text?`${$}\n\n${e.text}`:$,type:(null==e?void 0:e.type)===K.OrderOrPositionMessageType.Error?K.OrderOrPositionMessageType.Error:K.OrderOrPositionMessageType.Warning}}var Z=i(656846),J=i(468133);const X={[Z.OrderOrPositionMessageType.Information]:"default",[Z.OrderOrPositionMessageType.Warning]:"warning",[Z.OrderOrPositionMessageType.Error]:"danger"},ee={[Z.OrderOrPositionMessageType.Information]:"info",[Z.OrderOrPositionMessageType.Warning]:"exclamation",[Z.OrderOrPositionMessageType.Error]:"exclamation"};function te(e){e.stopPropagation(),W.mobiletouch&&((0,j.tooltipClickHandler)(e),document.addEventListener("touchend",(e=>e.preventDefault()),{once:!0}))}function ie(e){const{type:t,text:i,className:s}=e;return n.createElement("div",{className:a()(J.message,s)},n.createElement(A.IconQuestionInformation,{className:J.iconQuestionInformation,icon:ee[t],intent:X[t],ariaLabel:i,tooltip:i,onClick:te,hideTooltip:j.hide}))}function se(e){return e.replace(/\s+/g," ")}function ne(e,t){return(0,n.useMemo)((()=>t?`${se(e)} - ${se(t)}`:se(e)),[e,t])}i(868333);var oe=i(382563);function re(e){{let t=[];const i=function(e,t=!0){const[i,s]=(0,n.useState)({quotes:null,completed:!1,invalid:!1});return(0,n.useEffect)((()=>{s({completed:!1,invalid:!1,quotes:null});const i=(0,oe.getQuoteSessionInstance)("full"),n=()=>{i.unsubscribe("useSymbolQuotes",e,o)},o=e=>{const{values:i,complete:o,status:r}=e;s({invalid:"ok"!==r,quotes:{...i},completed:void 0!==o||"ok"!==r}),void 0===o&&"ok"===r||t&&n()};return i.subscribe("useSymbolQuotes",e,o),()=>{n()}}),[e]),i}(e,!1),s=i.quotes;return s&&(s.logoid?t=[s.logoid]:s["currency-logoid"]&&s["base-currency-logoid"]&&(t=[s["currency-logoid"],s["base-currency-logoid"]])),{logoUrls:t,description:null==s?void 0:s.description}}}var ae=i(497008);const le={"--mobile-symbol-cell-hight":"64px"};function ce(e){var t;const{symbol:i,brokerSymbol:s,message:o}=e,r=re(i),l=""!==i?o:Q(o),c=ne(s,null==r?void 0:r.description),[u,d]=q({dependencies:[s],customText:c}),[h,p]=q({dependencies:[null==r?void 0:r.description],customText:c}),m=null!=p?p:d;return n.createElement("div",{className:ae.container,style:le},n.createElement("span",{className:ae.logo},void 0!==(null==r?void 0:r.logoUrls)&&r.logoUrls.length>1?n.createElement(B.CircleLogoPair,{primaryLogoUrl:r.logoUrls[0],secondaryLogoUrl:r.logoUrls[1],size:"xsmall"}):n.createElement(L.CircleLogo,{logoUrl:null===(t=null==r?void 0:r.logoUrls)||void 0===t?void 0:t[0],placeholderLetter:null==s?void 0:s[0],size:"xsmall"})),n.createElement("div",{className:ae.tickerAndDescriptionWrapper},n.createElement("div",{className:a()(ae.textWrapper,null===m&&ae.gap)},n.createElement("span",{className:ae.title,ref:u},s),void 0!==(null==r?void 0:r.description)&&n.createElement("span",{className:ae.description,ref:h},r.description)),null!==m&&n.createElement(A.IconQuestionInformation,{...m,icon:"info",className:ae.tooltipIcon}),void 0!==l&&n.createElement(ie,{...l,className:ae.messageInformer})))}var ue=i(911293);function de(e){
const{brokerSymbol:t,logoComponent:i,tooltipText:s}=e;return n.createElement("div",{className:ue.wrapper},i,n.createElement("div",{className:a()(ue.title,"apply-common-tooltip"),"data-tooltip":null!=s?s:t},n.createElement("span",{className:ue.titleContent},t)))}function he(e){var t;const{brokerSymbol:i,symbol:s}=e,o=re(s),r=ne(i,null==o?void 0:o.description);return n.createElement(de,{brokerSymbol:i,logoComponent:void 0!==(null==o?void 0:o.logoUrls)&&o.logoUrls.length>1?n.createElement(B.CircleLogoPair,{primaryLogoUrl:o.logoUrls[0],secondaryLogoUrl:o.logoUrls[1],size:"xsmall"}):n.createElement(L.CircleLogo,{logoUrl:null===(t=null==o?void 0:o.logoUrls)||void 0===t?void 0:t[0],placeholderLetter:null==i?void 0:i[0],size:"xsmall"}),tooltipText:r})}var pe=i(65150);const me=h.enabled("show_symbol_logos")&&h.enabled("show_symbol_logo_in_account_manager");function ge(e){const t=(0,R.useMatchMedia)(z.TradingLayoutBreakpoint.Mobile);return me?t?n.createElement(ce,{...e}):n.createElement(he,{...e}):t?n.createElement("span",{className:pe.title},e.brokerSymbol):n.createElement(de,{...e})}var be=i(477317);function _e(e){return 1===e?be.blue:be.red}function ve(e){const{side:t}=e;return n.createElement("span",{className:_e(t)},(0,O.sideToText)(t))}function fe(e){const{side:t}=e;return n.createElement("span",{className:_e(t)},(0,O.positionSideToText)(t))}var ye=i(410337);function we(e){const{value:t,noWrap:i}=e;return n.createElement("span",{className:a()(ye.text,i&&ye.noWrap)},t)}const Ce=" ";function Ee(e){const{priceFormatter:t,price:i,prevPrice:s}=e,n=(0,k.splitThousands)(t.format(i),Ce);if(void 0===s)return{same:n};const o=(0,k.splitThousands)(t.format(s),Ce),r=n.split("").findIndex(((e,t)=>e!==o[t]));if(-1===r)return{same:n};return{same:n.substring(0,r),differs:n.substring(r)}}function Te(e){const{price:t,prevPrice:i,lastCharSup:s}=e,{same:o,differs:r}=Ee(e);return void 0===r||void 0===i?function(e,t){return n.createElement("span",null,t?ke(e):(0,F.forceLTRStr)(e))}(o,s):n.createElement("span",null,o,n.createElement("span",{className:t>i?be.green:be.red},s?ke(r):r))}function ke(e){const t=/^([^]*)(\S)(\s*)$/.exec(e);return"0"===e||null===t?n.createElement(n.Fragment,null,(0,F.forceLTRStr)(e)):n.createElement(n.Fragment,null,t[1],n.createElement("sup",null,t[2]),void 0!==t[3]&&""!==t[3]&&n.createElement("sup",null,t[3]))}const Se={3:be.gray,6:be.blue,5:be.red,2:be.green,1:be.orange,4:void 0};function xe(e){const{status:t}=e;return n.createElement("span",{className:Se[t],style:{textTransform:"capitalize"}},(0,p.orderStatusToText)(t))}var Me=i(960521);function De(e){return e?` ${e}`:""}var Ie=i(741886);function Pe(e){const{className:t,value:i,currency:s}=e;return n.createElement("span",{className:a()(Ie.wrapper,t)},n.createElement("span",null,i),s&&n.createElement("span",{className:Ie.currency},s))}function Fe(e){return new Me.Big(e).round(2)}function Ne(e){const t=Fe(e);return`${t.gt(0)?"+":""}${(0,k.splitThousands)(t.toFixed(2),Ce)}`}function Oe(e){const{profit:t,currency:i}=e;return(0,D.isNumber)(t)?(0,
F.forceLTRStr)(Ne(t)+De(i)):""}function Re(e){const{profit:t,currency:i}=e;if(!(0,D.isNumber)(t))return n.createElement("span",null);const s=(0,F.forceLTRStr)(Ne(t)),o=function(e){const t=Fe(e);return t.gt(0)?be.green:t.lt(0)?be.red:be.grey}(t);return void 0===i?n.createElement("span",{className:o},s):n.createElement(Pe,{value:s,currency:i,className:o})}function ze(e){return!(0,p.isDefined)(e)||isNaN(e)?"":(0,F.forceLTRStr)(Math.abs(e||0)<.001?"0.00":(0,k.splitThousands)((e||0).toFixed(2),Ce))}const Ae=new S.DateTimeFormatter,Be=new class{constructor(){this._dateFormatter=new M.DateFormatter,this._timeFormatter=new x.TimeFormatter}format(e){const t=new Date(e.dateOrDateTime);let i=this._dateFormatter.format(t);return e.hasTime&&(i+=" "+this._timeFormatter.format(t)),i}formatLocal(e){const t=new Date(e.dateOrDateTime);let i=this._dateFormatter.formatLocal(t);return e.hasTime&&(i+=" "+this._timeFormatter.formatLocal(t)),i}},Le=new I.PercentageFormatter;function Ue({values:e}){return e.join(Ce)}function He(e){const{values:[t],prevValues:[i]=[void 0],priceFormatter:s}=e;return(0,p.isDefined)(t)?function(e){const{same:t,differs:i}=Ee(e);return(0,F.forceLTRStr)(`${t}${i||""}`)}({price:t,prevPrice:null!=i?i:void 0,priceFormatter:s}):""}const Ve=[{name:"symbol",formatElement:({values:[e,t,i]})=>n.createElement(ge,{brokerSymbol:e,symbol:t,message:i}),formatText:({values:[e]})=>e},{name:"side",formatElement:({values:[e]})=>n.createElement(ve,{side:e}),formatText:({values:[e]})=>(0,O.sideToText)(e)},{name:"positionSide",formatElement:({values:[e]})=>n.createElement(fe,{side:e}),formatText:({values:[e]})=>(0,O.positionSideToText)(e)},{name:"text",formatElement:e=>n.createElement(we,{value:Ue(e)}),formatText:Ue},{name:"type",formatText:({values:[e,t,i]})=>(0,O.orderTypeToText)({orderType:e,parentId:t,stopType:i})},{name:"formatPrice",formatElement:({values:[e],priceFormatter:t,prevValues:[i]=[void 0]})=>(0,p.isDefined)(e)&&(0,p.isDefined)(t)?n.createElement(Te,{priceFormatter:t,price:e,prevPrice:null!=i?i:void 0}):void 0,formatText:He,isPriceFormatterNeeded:!0},{name:"formatPriceForexSup",formatElement:({values:[e],priceFormatter:t,prevValues:[i]=[void 0]})=>(0,p.isDefined)(e)?n.createElement(Te,{priceFormatter:t,price:e,prevPrice:null!=i?i:void 0,lastCharSup:t instanceof P.PriceFormatter&&t.hasForexAdditionalPrecision()}):void 0,formatText:He,isPriceFormatterNeeded:!0},{name:"status",formatElement:({values:[e]})=>(0,p.isDefined)(e)?n.createElement(xe,{status:e}):void 0,formatText:({values:[e]})=>(0,p.isDefined)(e)?(0,N.capitalizeFirstLetter)((0,O.orderStatusToText)(e)):""},{name:"date",formatText:({values:[e]})=>(0,p.isDefined)(e)&&Ye(e)?Ae.format(new Date(e)):""},{name:"localDate",formatText:({values:[e]})=>(0,p.isDefined)(e)&&Ye(e)?Ae.formatLocal(new Date(e)):""},{name:"dateOrDateTime",formatText:({values:[e]})=>(0,p.isDefined)(e)&&Ye(e.dateOrDateTime)?Be.format(e):""},{name:"localDateOrDateTime",formatText:({values:[e]})=>(0,p.isDefined)(e)&&Ye(e.dateOrDateTime)?Be.formatLocal(e):""},{name:"fixed",
formatText:({values:[e]})=>ze(e)},{name:"fixedInCurrency",formatElement:({values:[e,t]})=>(0,p.isDefined)(e)&&(0,p.isDefined)(t)?n.createElement(Pe,{value:ze(e),currency:t}):ze(e),formatText:({values:[e,t]})=>{const i=ze(e),s=De(t);return i?(0,F.forceLTRStr)(i+s):i},areAllFieldsRequired:!0},{name:"variablePrecision",formatText:({values:[e]})=>!(0,p.isDefined)(e)||isNaN(e)?"":(0,F.forceLTRStr)(String((0,T.fixComputationError)(e)))},{name:"pips",formatText:({values:[e]})=>(0,D.isNumber)(e)?(0,F.forceLTRStr)(Math.abs(e)<.01?"0.0":(0,k.splitThousands)(e.toFixed(1),Ce)):""},{name:"integerSeparated",formatText:({values:[e]})=>(0,D.isNumber)(e)?(0,F.forceLTRStr)((0,k.splitThousands)(e.toFixed(0),Ce)):""},{name:"formatQuantity",formatText:({values:[e]})=>(0,D.isNumber)(e)?(0,F.forceLTRStr)((0,k.splitThousands)(e,Ce)):""},{name:"profit",formatElement:({values:[e]})=>(0,p.isDefined)(e)?n.createElement(Re,{profit:e}):void 0,formatText:({values:[e]})=>(0,p.isDefined)(e)?Oe({profit:e}):""},{name:"profitInInstrumentCurrency",formatElement:({values:[e,t]})=>(0,p.isDefined)(e)?n.createElement(Re,{profit:e,currency:t}):void 0,formatText:({values:[e,t]})=>(0,p.isDefined)(e)?Oe({profit:e,currency:t}):"",areAllFieldsRequired:!0},{name:"percentage",formatText:({values:[e]})=>(0,D.isNumber)(e)?(0,F.forceLTRStr)(Le.format(e)):""},{name:"marginPercent",formatText:({values:[e]})=>(0,p.isDefined)(e)?isFinite(e)?e<.01?e+"%":Le.format(e):"> 200%":""},{name:"empty",formatText:()=>""}],We={name:"default",formatText:Ue};function je(e){var t;return null!==(t=Ve.find((t=>t.name===e)))&&void 0!==t?t:We}function Ye(e){return"number"==typeof e?e>0:""!==e}var Ge=i(11124);function qe(){const e=document.createElement("div");return e.classList.add(Ge.tableContainer),e}var Ke=i(343370),$e=i(466052);function Qe(e){return void 0!==e.sortProp&&""!==e.sortProp?e.sortProp:e.dataFields.length>0?e.dataFields[0]:void 0}function Ze(e,t){return void 0===e&&void 0!==t?1:void 0!==e&&void 0===t?-1:void 0===e||void 0===t?0:e<t?1:e>t?-1:0}class Je{constructor(e){this.onRowsChanged=new $e.Delegate,this.onRowChanged=new $e.Delegate,this._rowsData=new Map,this._priceFormatters=new Map,this._rows=[],this._isActive=!1,this._sortingPostponed=!1,this._sortingMode=null;const{columns:t,options:i,priceFormatterGetter:s,reverse:n=!0}=e,{idProperty:o,defaultSortingParameters:r,group:a}=i;this._idProperty=o,this._reverse=n,this._defaultSortingInfo=void 0!==r?{sortingProperty:r.property,sortingMode:!1===r.asc?1:0}:void 0,this._group=a,this._priceFormatterGetter=s,this._sortAndGroupRowsThrottled=(0,Ke.default)((()=>{this._sortAndGroupRows(),this._update()}),1e3),this._columns=new Map(t.map((e=>[e.id,e])))}setActive(e){this._isActive=e,this._onTableStateChanged(e)}addRow(e){const t=e[this._idProperty];this._rowsData.has(t)?this._updateRow(t,e):(this._addRowData(e),this._sortAndGroupRowsThrottled.cancel(),this._sortAndGroupRows(),this._update())}addRows(e){for(const t of e){const e=t[this._idProperty];this._rowsData.has(e)?this._updateRowData(e,t):this._addRowData(t)}
this._sortAndGroupRows(),this._update()}rows(){return this._rows}data(){return this._rowsData}deleteRow(e){const t=this._rowsData.get(e);void 0!==t&&(this._rowsData.delete(e),this._rows.splice(this._rows.indexOf(t),1),this._update())}deleteRows(){this._deleteRows(),this._update()}destroy(){this._sortAndGroupRowsThrottled.cancel(),this._deleteRows()}setSortingState(e){this._sortingColumn=e.column,this._sortingMode=e.mode,this._onSortingChange()}async resolvePriceFormatter(e){if(void 0!==this._priceFormatterGetter)try{const t=this._rowsData.get(e);if(void 0===t||void 0!==t.priceFormatter)return;t.priceFormatter=null;const i=this._priceFormatters.get(e);if(void 0!==i)return t.priceFormatter=i,void this._update();const s=await this._priceFormatterGetter(t);this._priceFormatters.set(e,s),t.priceFormatter=s,this._update()}catch(e){}}_deleteRows(){this._rowsData.clear(),this._rows=[]}_sortAndGroupRows(){this._isActive?this._rows.sort(((e,t)=>function(e){var t;const{aRow:i,bRow:s,sortingMode:n,sortingProperty:o,groupDefiner:r}=e;let a=0;if(void 0!==r&&(a=Ze(r(i),r(s))),0===a&&(a=i.isTotalRow?1:s.isTotalRow?-1:0),null===n||0!==a||void 0===o)return a;let l=i[o],c=s[o];return void 0!==(null==l?void 0:l.dateOrDateTime)&&(l=l.dateOrDateTime,c=null!==(t=null==c?void 0:c.dateOrDateTime)&&void 0!==t?t:1/0),a=Ze(l,c),0===n?-a:a}({aRow:e,bRow:t,groupDefiner:this._group,...this._getSortingInfo()}))):this._sortingPostponed=!0}_getSortingInfo(){var e,t,i;const s=void 0!==this._sortingColumn?this._columns.get(this._sortingColumn):void 0,n=void 0!==s?Qe(s):void 0;return void 0!==n?{sortingProperty:n,sortingMode:this._sortingMode}:{sortingProperty:null===(e=this._defaultSortingInfo)||void 0===e?void 0:e.sortingProperty,sortingMode:null!==(i=null===(t=this._defaultSortingInfo)||void 0===t?void 0:t.sortingMode)&&void 0!==i?i:null}}_onSortingChange(){this._sortAndGroupRowsThrottled.cancel(),null===this._sortingMode&&this._resetRowsOrder(),this._sortAndGroupRows(),this._update()}_resetRowsOrder(){this._rows=[...this._rowsData.values()],this._reverse&&this._rows.reverse()}_onTableStateChanged(e){if(!e)return this._sortAndGroupRowsThrottled.cancel(),void(this._sortingPostponed=!0);this._update()}_update(){this._isActive&&(this._sortingPostponed&&(this._sortingPostponed=!1,this._sortAndGroupRows()),this.onRowsChanged.fire())}_updateRowData(e,t){var i,s;const n=(0,c.ensureDefined)(this._rowsData.get(e)),{prevValue:o,priceFormatter:r,...a}=n;for(const e of Object.keys(n))delete n[e];Object.assign(n,t,{priceFormatter:r,prevValue:a}),this.onRowChanged.fire(e);const l=(null===(i=this._group)||void 0===i?void 0:i.call(this,n))!==(null===(s=this._group)||void 0===s?void 0:s.call(this,a)),{sortingProperty:u}=this._getSortingInfo();(void 0!==u&&t[u]!==a[u]||l)&&this._sortAndGroupRowsThrottled()}_updateRow(e,t){this._updateRowData(e,t),this._update()}_addRowData({...e}){this._rowsData.set(e[this._idProperty],e),this._reverse?this._rows.unshift(e):this._rows.push(e)}}var Xe=i(870122),et=i(12481),tt=i(6461),it=i(692831),st=i(788872),nt=(i(936902),
i(189904)),ot=i(662941),rt=i(223392),at=i(650802),lt=i(297265),ct=i(518799),ut=i(476853),dt=i(379266),ht=i(630795),pt=i(860227),mt=i(935495);const gt=new at.WatchedValue(null).readonly(),bt=s.t(null,void 0,i(398065));function _t(e){const{items:t,onCheck:i,overlapManagerWV:s}=e,o=(0,lt.useWatchedValueReadonly)({watchedValue:null!=s?s:gt}),r=(0,n.useMemo)((()=>t.filter((e=>e.visible))),[t]),l=e=>{e.stopPropagation()};return n.createElement(ht.SlotContext.Provider,{value:o},n.createElement(ct.ToolWidgetMenu,{horizontalDropDirection:ut.HorizontalDropDirection.FromRightToLeft,horizontalAttachEdge:ut.HorizontalAttachEdge.Right,className:pt.menuButton,arrow:!1,isDrawer:d.CheckMobile.any(),content:n.createElement(rt.LightButton,{size:"xsmall",variant:"ghost",color:"gray",iconOnly:!0,startIcon:mt,className:a()(pt.icon,"apply-common-tooltip"),"aria-label":bt,title:bt})},n.createElement("div",{onMouseOver:l,onMouseOut:l},t.map((e=>n.createElement(dt.PopupMenuItemToggle,{key:e.id,label:e.title,isChecked:e.visible,labelClassName:pt.label,className:pt.checkBox,onClick:()=>{return t=e.id,void i(t);var t},isDisabled:1===r.length&&r[0].id===e.id}))))))}var vt=i(722789);function ft(e){const{isSticky:t,...i}=e;return n.createElement("div",{className:a()(vt.container,t&&vt.sticky)},n.createElement(_t,{...i}))}var yt=i(298314),wt=i(42357),Ct=i(240933),Et=i(147791),Tt=i.n(Et),kt=i(586816),St=i(823092);const xt="HeadCell",Mt=16,Dt=5,It=.4,Pt={"--head-cell-wrapper-tooltip-size":`${Mt}px`,"--head-cell-wrapper-tooltip-gap":`${Dt}px`};function Ft(e){const{column:t,alignment:i,dispatch:s,onColumnsReordered:o,onWidthChange:r,canBeReordered:l,informerText:c}=e,u=(0,n.useRef)(null),[{isDragging:d},h,p]=(0,wt.useDrag)((()=>({type:xt,item:{id:t.key},canDrag:()=>l,collect:e=>({isDragging:e.isDragging()})}))),[,m]=(0,Ct.useDrop)((()=>({accept:xt,hover:(e,i)=>{var n;if(e.id===t.key)return;const o=null===(n=u.current)||void 0===n?void 0:n.getBoundingClientRect(),r=i.getClientOffset(),a=i.getDifferenceFromInitialOffset();void 0!==o&&null!==r&&null!==a&&function(e,t,i,s){const n=t-i,o=.4*(s-i);return e>0?n>o:n<o}(a.x,r.x,o.left,o.right)&&s({type:st.ActionType.ReorderColumns,columnKey:e.id,targetColumnKey:t.key})},drop:()=>{o()},canDrop:()=>l}))),g=(0,n.useRef)(!1);return(0,n.useEffect)((()=>{l&&h(m(u)),p((0,yt.getEmptyImage)(),{captureDraggingState:!0})}),[t]),(0,n.useEffect)((()=>{if(null===u.current||g.current)return;const e=c?Dt+Mt:0,t=u.current.children[0].scrollWidth;0!==t&&(r(t+e),g.current=!0)})),n.createElement("div",{ref:u,className:a()(St.wrapper,kt.wrapper,"right"===i&&kt.rightAligned),style:{...Pt,opacity:d?It:1},onClick:function(){s({type:st.ActionType.UpdateSortDirection,columnKey:t.key})}},n.createElement(Tt(),{...e}),c&&n.createElement(A.IconQuestionInformation,{...G(c),icon:"info",className:kt.tooltipIcon}))}var Nt=i(403309),Ot=i.n(Nt);function Rt(e){const{visibilityHandler:t,...i}=e;return(0,n.useLayoutEffect)((()=>(t(i.rowKeyValue,!0),()=>t(i.rowKeyValue,!1))),[]),n.createElement(Ot(),{...i})}var zt=i(102478),At=i(262547)
;function Bt(e){const{children:t,onWidthChange:i}=e,[s,o]=(0,n.useState)(),[r,l]=(0,n.useState)(!1),c=(0,zt.useResizeObserver)((e=>{const[{target:t}]=e;if(!(t instanceof HTMLElement))return;o(t.innerText);const s=t.scrollWidth;0!==s&&i(s),l(s>t.offsetWidth)}));return n.createElement("div",{ref:c,className:a()(At.wrapper,r&&"apply-common-tooltip"),"data-tooltip":s},t)}function Lt(e,t){if(0===e.length)return[[t],[t.prevValue]];const[i,s]=e.reduce(((e,i)=>{var s;return e[0].push(t[i]),e[1].push(null===(s=t.prevValue)||void 0===s?void 0:s[i]),e}),[[],[]]);return[i,s]}const Ut=(0,i(729648).memoize)((function(e){return!0===je(e).areAllFieldsRequired}));function Ht(e,t){if(!1===e.showOnMobile)return!0;const[i]=Lt(e.dataFields,t),s=t=>!1===e.showZeroValues&&0===t||""===t||null==t;return Ut(e.formatter)?i.some(s):i.every(s)}var Vt=i(410504);function Wt(e){const{label:t,children:i,informerText:s}=e,[o,r]=q({dependencies:[i]}),l=void 0!==t,c=null!==r;return n.createElement("div",{className:a()(Vt.wrapper,!l&&Vt.hiddenLabel)},l&&n.createElement("span",{className:Vt.labelWrapper},n.createElement("span",{className:Vt.label},t),s&&n.createElement(A.IconQuestionInformation,{...G(s),icon:"info",className:Vt.tooltipIcon})),i&&n.createElement("span",{className:Vt.contentWrapper},n.createElement("span",{className:a()(Vt.content,l&&!c&&Vt.withPadding),ref:o},i),l&&c&&n.createElement(A.IconQuestionInformation,{...r,icon:"info",className:Vt.tooltipIcon})))}var jt=i(23642),Yt=i(10170),Gt=i(73288),qt=i(139043),Kt=i(563603);function $t(e){const{columnsFilterItems:t,columnsFilterProps:i,rows:s,tableProps:o,updateTableProps:r,tableWrapperAttributes:a}=e,[l,c,u,d]=(0,qt.useOverlayScroll)(),h=(0,n.useCallback)((()=>({...a,ref:u})),[a,u]);return(0,n.useEffect)((()=>{const e=u.current;if(null!==e)return e.addEventListener("scroll",d),()=>e.removeEventListener("scroll",d)}),[a,d]),n.createElement(n.Fragment,null,0!==t.length&&n.createElement(ft,{...i,items:t}),n.createElement("div",{...c,className:Kt.scrollWrapper},n.createElement(jt.DndProvider,{backend:Yt.HTML5Backend},n.createElement(Gt.OverlayScrollContainer,{...l,className:Kt.scrollContainer}),n.createElement(it.Table,{...o,childComponents:{...o.childComponents,tableWrapper:{elementAttributes:h}},dispatch:r,data:s}))))}const Qt={0:st.SortDirection.Ascend,1:st.SortDirection.Descend},Zt=s.t(null,void 0,i(446630)),Jt=h.enabled("show_symbol_logos")&&h.enabled("show_symbol_logo_in_account_manager"),Xt={"--table-mobile-row-padding":"4px","--table-mobile-row-border-size":"1px","--table-content-font-size":"14px","--table-desktop-cell-padding":"0px 16px","--table-desktop-row-height":"48px","--table-mobile-row-height":"22px"};class ei{constructor(e=0){this._mode=e}value(){return this._mode}next(){switch(this._mode){case 0:this._mode=1;break;case 1:this._mode=null;break;case null:this._mode=0}return this._mode}reset(){this._mode=0}}function ti({values:e}){return e.map((e=>null!=e?String(e):"")).join(Ce).replace(/&nbsp;/g,Ce)}const ii=new P.PriceFormatter;function si(e){return`Column ${e} metainfo`}
function ni(e,t){return!1===e.showZeroValues&&t.every((e=>0===e))}tt.default.fieldDelimiter="";class oi{constructor(e){var t;this.onTableVisibilityChange=new $e.Delegate,this.onBottomVisibilityChange=new $e.Delegate,this.onSizeChange=new $e.Delegate,this.onSortingChange=new $e.Delegate,this._animationFrameId=0,this._isVisible=!1,this._rowHeightCache=new Map,this._rowsElements=new Map,this._rowsDisplayOptions=new Map,this._columnsWidth=new Map,this._columnWidthChangeHandlers=new Map,this._highlightTimeoutIds=new Map,this._formatters=new Map,this._visibleColumns=new Set,this._cellContentCaches=new WeakMap,this._hiddenFilterColumns=new Set,this._visibleRows=new Set,this._isScrolled=!1,this._invalidateRowCache=e=>{this._rowHeightCache.delete(e)},this._makeHeadCellAttributes=({column:{key:e}})=>{var t;const i="settings"===e,s=!(null===(t=this._columnsMetainfo.get(e))||void 0===t?void 0:t.notSortable),n={className:a()(St.headCell,s&&St.sortable,i&&!this._isMobile&&St.rightFixedColumn,e===this._fixedTitleColumnId&&!this._isMobile&&St.leftFixedColumn)};return this._isMobile||(n.width=i||!this._fixedColumns?this._columnsWidth.get(e):"50%",i&&this._noSettingsColumn&&0===this._getAvailableColumnsFilterItems().length&&(n.style={display:"none"})),n},this._setColumnWidth=(e,t)=>{const i=t+34,s=this._columnsWidth.get(e);void 0!==s&&i<=s||(this._columnsWidth.set(e,i),this._render())},this._updateTableProps=e=>{if(e.type===st.ActionType.UpdateSortDirection){const t=this._columnsMetainfo.get(e.columnKey);if(void 0===t||t.notSortable||void 0===Qe(t))return;this._handleSortingUpdate(e.columnKey)}this._tableProps=(0,it.kaReducer)(this._tableProps,e),this._render()},this._handleEmptyRows=()=>{0===this._model.rows().length&&(this._resetIsScrolledState(),this._resetTableVirtualScrollPosition(),this._render(!0))},this._calculateRowHeight=e=>{var t,i;const s=null===(i=null===(t=this._virtualization)||void 0===t?void 0:t.rowHeightParams)||void 0===i?void 0:i[this._isMobile?"mobile":"desktop"];if(void 0===s)return this._isMobile?22:48;if("number"==typeof s)return s;const n=e[this._idProperty],o=this._rowHeightCache.get(n);if(void 0!==o)return o;const r=s(e,this._visibleColumns,this._columnsMetainfo);return this._rowHeightCache.set(n,r),r},this._makeHeadCellContent=e=>{const{column:t}=e;if("settings"===t.key){const e=this._getAvailableColumnsFilterItems();if(0!==e.length)return n.createElement(ft,{...this._columnsFilterProps,items:e})}const i=this._columnsMetainfo.get(t.key);return void 0!==(null==i?void 0:i.help)?n.createElement("span",{className:"apply-common-tooltip",title:i.help},t.title):t.title},this._makeTextContent=async e=>{var t,i,s;const{row:n,columnId:o}=e,r=this._columnsMetainfo.get(o);if(void 0===r)return"";const[a,l]=Lt(r.dataFields,n);if(ni(r,a))return"";const c=void 0!==r.formatter&&null!==(i=null===(t=this._formatters.get(r.formatter))||void 0===t?void 0:t.formatText)&&void 0!==i?i:ti;return await this._model.resolvePriceFormatter(n[this._idProperty]),c({values:a,prevValues:r.highlightDiff?l:void 0,
priceFormatter:null!==(s=n.priceFormatter)&&void 0!==s?s:ii})},this._makeCellContent=e=>{var t,i,s;const{row:o,columnId:r}=e,a=this._columnsMetainfo.get(r);if(void 0===a)return;const[l,c]=Lt(a.dataFields,o);if(ni(a,l))return n.createElement(n.Fragment,null);let u=ti,d=!1;if(void 0!==a.formatter){const e=this._formatters.get(a.formatter);u=null!==(i=null!==(t=null==e?void 0:e.formatElement)&&void 0!==t?t:null==e?void 0:e.formatText)&&void 0!==i?i:u,d=Boolean(null==e?void 0:e.isPriceFormatterNeeded)}const h=this._getCellContentCaches(o),p=h.get(a.id),m=null!==(s=o.priceFormatter)&&void 0!==s?s:ii;if(0!==a.dataFields.length&&void 0!==p&&p.priceFormatter===m&&this._isMobile===p.isMobile&&(0,D.deepEquals)(l,p.values)[0])return p.content;d&&this._model.resolvePriceFormatter(o[this._idProperty]);const g=u({values:l,prevValues:a.highlightDiff?c:void 0,priceFormatter:m});let b;if(this._isMobile){const e=Jt&&"symbol"===a.formatter;b=n.createElement(Wt,{label:!1===a.showLabelOnMobile||e?void 0:a.label,informerText:a.info},g)}else b=this._fixedColumns?n.createElement(n.Fragment,null,g):n.createElement(Bt,{onWidthChange:this._getColumnWidthChangeHandler(a.id)},g);return h.set(a.id,{values:l,content:b,priceFormatter:m,isMobile:this._isMobile}),b},this._makeRowContent=e=>n.createElement(Rt,{...e,visibilityHandler:this._handleRowVisibilityChange}),this._handleRowVisibilityChange=(e,t)=>{t?this._visibleRows.add(e):this._visibleRows.delete(e)},this._makeRowAttributes=({rowKeyValue:e,rowData:t})=>{const i=this._rowsDisplayOptions.get(e);return{className:a()(St.row,(null==i?void 0:i.isInactive)&&St.inactiveRow,this._isFirstRow(e)&&St.withMargin,this._isLastRow(e)&&St.lastRow),"data-row-id":e,"data-row-linked":null==i?void 0:i.isLinked,ref:t=>this._setRowElement(e,t),onClick:(e,t)=>{var i,s;null===(s=null===(i=this._rowEventsHandlers)||void 0===i?void 0:i.onClick)||void 0===s||s.call(i,t.childProps.rowData)},onMouseEnter:(e,t)=>{var i,s;null===(s=null===(i=this._rowEventsHandlers)||void 0===i?void 0:i.onMouseEnter)||void 0===s||s.call(i,t.childProps.rowData)},onMouseLeave:(e,t)=>{var i,s;null===(s=null===(i=this._rowEventsHandlers)||void 0===i?void 0:i.onMouseLeave)||void 0===s||s.call(i,t.childProps.rowData)}}},this._setRowElement=(e,t)=>{this._rowsElements.set(e,t)},this._makeCellAttributes=({column:e,rowData:t})=>{const{title:i,key:s}=e,n=(0,c.ensureDefined)(this._columnsMetainfo.get(s),si(s)),o=Ht(n,t);return{className:a()(St.cell,("right"===(null==n?void 0:n.alignment)||"settings"===s)&&St.rightAlignedCell,!1===(null==n?void 0:n.showLabelOnMobile)&&!1,o&&St.hideCellOnMobile,"settings"===s&&!this._isMobile&&St.rightFixedColumn,s===this._fixedTitleColumnId&&!this._isMobile&&St.leftFixedColumn),"data-label":i}},this._makeCellContentAttributes=({column:e,rowData:t})=>{var i;const{key:s}=e,n=(0,c.ensureDefined)(this._columnsMetainfo.get(s),si(s)),o=void 0!==(null==n?void 0:n.tooltipProperty)?null===(i=t[n.tooltipProperty])||void 0===i?void 0:i[n.id]:void 0;return{
className:a()(St.cellContent,void 0!==o&&"apply-common-tooltip common-tooltip-html",!1!==(null==n?void 0:n.isCapitalize)&&St.capitalize),title:o}},this._makeTableWrapperAttributes=()=>({className:this._makeTableWrapperClassNames(),onScroll:this._onTableScroll,key:(0,nt.randomHashN)(5)}),this._onTableScroll=(e,{baseFunc:t})=>{this._update.cancel();const i=Math.abs(e.currentTarget.scrollLeft)>0;i!==this._isScrolled&&(this._isScrolled=i,this._tableWrapperAttributes={...this._tableWrapperAttributes,className:this._makeTableWrapperClassNames()}),t(e),this._isSupportPagination&&this._checkBottomIsVisible(e.currentTarget)},this._resizeHandler=()=>{cancelAnimationFrame(this._animationFrameId),this._animationFrameId=requestAnimationFrame((()=>{const e=this._checkIsMobile();e!==this._isMobile&&(this._isMobile=e,this._visibleColumns.clear(),this._columnsVisibilityInfo=this._makeColumnsVisibilityInfo(),this._columnsFilterProps=this._makeColumnsFilterProps(),this._tableProps.columns=this._makeColumns(),this._rowHeightCache.clear(),this.onSizeChange.fire())}))},this._saveColumnsOrder=()=>{var e;this._trackEvent(this._id,"Reorder columns");const t=this._tableProps.columns.map((e=>e.key));null===(e=this._getSettingsStorage())||void 0===e||e.setTableColumnsOrder(this._id,t)};const{id:i,model:s,className:o,container:r,columns:l,virtualization:u,stickyMobileColumnsFilter:d,idProperty:h,overlapManager:p,fixedColumns:m,getSettingsStorage:g,rowEventsHandlers:b,trackEvent:_,fixedTitleColumnId:v,emptyStateMessage:f,supportPagination:y,isScrollBouncingEnabled:w=!1}=e;this._id=i,this._model=s,this._fixedTitleColumnId=v,this._fixedColumns=m,this._isScrollBouncingEnabled=w,this._sortingColumnKey=`${this._id}.sort.column`,this._sortingModeKey=`${this._id}.sort.mode`,this._container=r,this._idProperty=h,this._virtualization=u,this._overlapManager=p,this._isStickyMobileColumnsFilter=d,this._isSupportPagination=y,this._columnsMetainfo=new Map(l.map((e=>[e.id,e]))),this._getSettingsStorage=g,this._trackEvent=_,this._rowEventsHandlers=b,this._emptyStateMessage=null!=f?f:Zt,y&&(this._checkBottomIsVisible=(0,et.default)(this._checkBottomIsVisible,100)),this._update=(0,Ke.default)(this._render,1e3);const C=this._getSavedSortingParameters();let E;this._sortingColumn=null==C?void 0:C.columnId,this._sortingModeSwitcher=new ei(void 0===C?null:C.mode),(null==u?void 0:u.enabled)&&(E={itemHeight:this._calculateRowHeight}),this._isMobile=this._checkIsMobile(),window.addEventListener("resize",this._resizeHandler);const T="IntersectionObserver"in window;T||(this._isVisible=!0),this._containerVisibilityObserver=T?new IntersectionObserver((e=>{e.forEach((({intersectionRatio:e})=>{this._isVisible=0!==e,this._isVisible||(this._resetIsScrolledState(),this._resetTableVirtualScrollPosition()),this._render(!this._isVisible&&void 0!==this._virtualization),this.onTableVisibilityChange.fire(this._isVisible)}))})):null,null===(t=this._containerVisibilityObserver)||void 0===t||t.observe(this._container),this._columnsVisibilityInfo=this._makeColumnsVisibilityInfo(),
this._columnsFilterProps=this._makeColumnsFilterProps(),this._tableWrapperAttributes=this._makeTableWrapperAttributes(),this._tableProps={columns:this._makeColumns(),dispatch:this._updateTableProps,rowKeyField:this._idProperty,virtualScrolling:E,sortingMode:st.SortingMode.SingleTripleStateRemote,childComponents:{rootDiv:{elementAttributes:()=>({className:St.root})},table:{elementAttributes:e=>{var t;return{className:a()(St.table,o,void 0!==E&&St.withVirtualization),"data-selector":"table",style:{borderCollapse:"separate",height:0===(null===(t=e.data)||void 0===t?void 0:t.length)?"100%":void 0,...Xt}}}},tableBody:{elementAttributes:()=>({className:St.tableBody}),content:e=>0===e.data.length?n.createElement("tr",{className:St.emptyStateRow},n.createElement("td",{colSpan:this._getEmptyStateColspan(),className:St.emptyStateCell},n.createElement(ot.EmptyStateBlock,{className:St.emptyStateBlock,iconClass:"",text:this._emptyStateMessage}))):void 0},tableHead:{elementAttributes:()=>({className:St.tableHead})},headRow:{elementAttributes:()=>({className:St.headRow})},headCell:{elementAttributes:this._makeHeadCellAttributes,content:e=>{var t;const i=this._columnsMetainfo.get(e.column.key);return n.createElement(Ft,{...e,alignment:null!==(t=null==i?void 0:i.alignment)&&void 0!==t?t:"left",dispatch:(0,et.default)(this._updateTableProps,100),onColumnsReordered:this._saveColumnsOrder,onWidthChange:this._getColumnWidthChangeHandler(e.column.key),canBeReordered:!this._isMobile&&"settings"!==e.column.key&&e.column.key!==this._fixedTitleColumnId,informerText:null==i?void 0:i.info})}},cell:{elementAttributes:this._makeCellAttributes},dataRow:{content:this._makeRowContent,elementAttributes:this._makeRowAttributes},cellText:{content:({column:e,rowData:t})=>this._makeCellContent({columnId:e.key,row:t}),elementAttributes:this._makeCellContentAttributes},headCellContent:{elementAttributes:()=>({className:St.headCellContent}),content:this._makeHeadCellContent}}},this._render(),this._subscribeModel()}rowIdAtEvent(e){return function(e){if(void 0!==e.dataset.rowId)return e.dataset.rowId;let t=e.parentElement;for(;null!==t;){if(void 0!==t.dataset.rowId)return t.dataset.rowId;t=t.parentElement}}(e.target)}isRowInViewport(e){return this._visibleRows.has(e)}sortingColumn(){return this._sortingColumn}sortingMode(){return this._sortingModeSwitcher.value()}size(){return this._isMobile?0:1}highlightRowById(e){const t=this._rowElementById(e);void 0!==t&&(clearTimeout(this._highlightTimeoutIds.get(e)),t.classList.remove(St.highlightedRow),t.classList.add(St.highlightedRow),this._highlightTimeoutIds.set(e,setTimeout((()=>{t.classList.remove(St.highlightedRow)}),700)))}addFormatter(e){this._formatters.set(e.name,e)}setColumnAvailable(e,t){if(this._setColumnAvailableInFilter(e,t),t){const t=this._isMobile?".invisibleMobileColumns":".invisibleColumns";if(Xe.getJSON(`${this._id}${t}`,[]).includes(e))return}this._setColumnVisibility(e,t)}setHeight(e){void 0!==this._tableProps.virtualScrolling&&(this._tableProps.virtualScrolling={
...this._tableProps.virtualScrolling,tbodyHeight:e}),this._tableWrapperAttributes={...this._tableWrapperAttributes,style:{height:e}},this._render(0===this._model.data().size)}setRowInactiveById(e,t){var i;(null===(i=this._rowsDisplayOptions.get(e))||void 0===i?void 0:i.isInactive)!==t&&(this._setRowInactiveById(e,t),this._render())}setRowInactiveByFilter(e){this._model.data().forEach(((t,i)=>this._setRowInactiveById(i,e(t)))),this._render()}setRowLinkedById(e,t){var i;(null===(i=this._rowsDisplayOptions.get(e))||void 0===i?void 0:i.isLinked)!==t&&(this._setRowLinkedById(e,t),this._render())}setRowLinkedByFilter(e){this._model.data().forEach(((t,i)=>this._setRowLinkedById(i,e(t)))),this._render()}destroy(){var e;window.removeEventListener("resize",this._resizeHandler),cancelAnimationFrame(this._animationFrameId),this._unsubscribeModel(),null===(e=this._containerVisibilityObserver)||void 0===e||e.disconnect(),o.unmountComponentAtNode(this._container)}async exportData(){const e=[...this._columnsVisibilityInfo.values()];return Promise.all(this._model.rows().map((async t=>{const i={};for(const{isVisible:s,label:n,id:o}of e){if(!s||"settings"===o)continue;const e=await this._makeTextContent({columnId:o,row:t});i[n]=e||""}return i})))}isMobile(){return this._isMobile}_setRowInactiveById(e,t){this._updateRowDisplayOptions(e,{isInactive:t})}_setRowLinkedById(e,t){this._updateRowDisplayOptions(e,{isLinked:t})}_rowElementById(e){var t;return null!==(t=this._rowsElements.get(e))&&void 0!==t?t:void 0}_getEmptyStateColspan(){return this._noSettingsColumn&&0!==this._getAvailableColumnsFilterItems().length?this._visibleColumns.has("settings")?this._visibleColumns.size:this._visibleColumns.size+1:this._visibleColumns.size}_makeColumns(){const e=new Map;for(const[t,i]of this._columnsMetainfo){const{isVisible:s,isVisibleOnMobile:n,forceInvisible:o}=(0,c.ensureDefined)(this._columnsVisibilityInfo.get(t),si(t)),r={key:t,title:i.label,visible:(this._isMobile?n:s)&&!o,style:{minWidth:this._isMobile?void 0:80,maxWidth:this._isMobile?void 0:300}},a=this._sortingModeSwitcher.value();t===this._sortingColumn&&null!==a&&(r.sortDirection=Qt[a]),e.set(r.key,r)}const t=this._getSavedColumnsOrder();return this._columnsMetainfo.has("settings")||(this._noSettingsColumn=!0,e.set("settings",{key:"settings",title:"",visible:!0}),this._columnsMetainfo.set("settings",{label:"",id:"settings",alignment:"right",dataFields:[],formatter:"empty",notSortable:!0,showOnMobile:!1})),this._isMobile||void 0===t?[...e.values()]:this._reorderColumns(t,e)}_resetIsScrolledState(){this._isScrolled=!1,this._tableWrapperAttributes={...this._tableWrapperAttributes,className:this._makeTableWrapperClassNames()}}_resetTableVirtualScrollPosition(){void 0!==this._tableProps.virtualScrolling&&(this._tableProps.virtualScrolling={...this._tableProps.virtualScrolling,scrollTop:0},this._tableWrapperAttributes={...this._tableWrapperAttributes,key:(0,nt.randomHashN)(5)})}_render(e=!1){if(!e&&!this._isVisible)return;const t=this._model.rows();let i=[]
;this._isMobile&&0!==t.length&&(i=this._getAvailableColumnsFilterItems()),o.render(n.createElement($t,{rows:t,tableProps:this._tableProps,updateTableProps:this._updateTableProps,columnsFilterItems:i,columnsFilterProps:this._columnsFilterProps,tableWrapperAttributes:this._tableWrapperAttributes}),this._container)}_updateRowDisplayOptions(e,t){const i=this._rowsDisplayOptions.get(e);this._rowsDisplayOptions.set(e,{...i,...t})}_handleSortingUpdate(e){e===this._sortingColumn?this._sortingModeSwitcher.next():(this._sortingColumn=e,this._sortingModeSwitcher.reset()),this._updateSortingColumnSettings(),this.onSortingChange.fire({column:e,mode:this._sortingModeSwitcher.value()})}_updateSortingColumnSettings(){const e=this._sortingModeSwitcher.value();if(null===e)return Xe.remove(this._sortingColumnKey),void Xe.remove(this._sortingModeKey);Xe.setValue(this._sortingColumnKey,this._sortingColumn),Xe.setValue(this._sortingModeKey,e)}_getSavedSortingParameters(){const e=Xe.getValue(this._sortingColumnKey);if(void 0===e)return;const t=Xe.getInt(this._sortingModeKey);return{columnId:e,mode:null!=t?t:1}}_setColumnAvailableInFilter(e,t){t?this._hiddenFilterColumns.delete(e):this._hiddenFilterColumns.add(e)}_getCellContentCaches(e){let t=this._cellContentCaches.get(e);return void 0===t&&(t=new Map,this._cellContentCaches.set(e,t)),t}_getColumnWidthChangeHandler(e){let t=this._columnWidthChangeHandlers.get(e);return void 0===t&&(t=t=>this._setColumnWidth(e,t),this._columnWidthChangeHandlers.set(e,t)),t}_makeColumnsVisibilityInfo(){const e=new Map,t=[...this._columnsMetainfo.values()].filter((e=>e.hideByDefault)).map((e=>e.id)),i=Xe.getJSON(`${this._id}.invisibleColumns`,t),s=Xe.getJSON(`${this._id}.invisibleMobileColumns`,t);return this._columnsMetainfo.forEach((t=>{const n=t.id===this._fixedTitleColumnId,o=i.includes(t.id)&&!n,r=s.includes(t.id)&&!n;(this._isMobile?r:o)?this._visibleColumns.delete(t.id):this._visibleColumns.add(t.id),e.set(t.id,{isVisible:!o,isVisibleOnMobile:!r,isAlwaysVisible:t.notHideable||n,id:t.id,label:t.label})})),e}_isFirstRow(e){var t;return e===(null===(t=this._model.rows()[0])||void 0===t?void 0:t[this._idProperty])}_isLastRow(e){var t;const i=this._model.rows();return e===(null===(t=i[i.length-1])||void 0===t?void 0:t[this._idProperty])}_makeTableWrapperClassNames(){var e;return a()(St.tableWrapper,(null===(e=this._virtualization)||void 0===e?void 0:e.enabled)&&St.tableWrapperEmpty,this._isScrolled&&!this._isMobile&&St.isScrolled,!this._isScrollBouncingEnabled&&St.noBouncingScroll)}_checkBottomIsVisible(e){const t=e.querySelector('[data-selector="table"]');if(null===t)return;const{bottom:i}=t.getBoundingClientRect(),s=window.innerHeight-i>=-100;this.onBottomVisibilityChange.fire(s)}_makeColumnsFilterProps(){return{items:[...this._columnsVisibilityInfo.values()].filter((e=>"settings"!==e.id&&!e.isAlwaysVisible)).map((e=>({id:e.id,title:e.label,visible:(this._isMobile?e.isVisibleOnMobile:e.isVisible)&&!e.forceInvisible}))),onCheck:e=>this._toggleColumnVisibility(e),overlapManagerWV:this._overlapManager,
isSticky:this._isStickyMobileColumnsFilter}}_toggleColumnVisibility(e){const t=!this._visibleColumns.has(e);this._setColumnVisibility(e,t);const i=`${this._id}${this._isMobile?".invisibleMobileColumns":".invisibleColumns"}`,s=new Set(Xe.getJSON(i,[]));t?s.delete(e):s.add(e),Xe.setJSON(i,[...s])}_setColumnVisibility(e,t){t?this._visibleColumns.add(e):this._visibleColumns.delete(e);const i=this._columnsVisibilityInfo.get(e);void 0!==i&&(this._isMobile?this._columnsVisibilityInfo.set(e,{...i,isVisibleOnMobile:t&&!i.forceInvisible}):this._columnsVisibilityInfo.set(e,{...i,isVisible:t&&!i.forceInvisible}),this._columnsFilterProps=this._makeColumnsFilterProps()),void 0!==this._tableProps.virtualScrolling&&this._rowHeightCache.clear(),this._updateTableProps({type:t?st.ActionType.ShowColumn:st.ActionType.HideColumn,columnKey:e})}_getAvailableColumnsFilterItems(){return this._columnsFilterProps.items.filter((e=>!this._hiddenFilterColumns.has(e.id)))}_checkIsMobile(){return window.matchMedia(z.TradingLayoutBreakpoint.Mobile).matches}_subscribeModel(){this._model.onRowChanged.subscribe(this,this._invalidateRowCache),this._model.onRowsChanged.subscribe(this,this._handleEmptyRows),this._model.onRowsChanged.subscribe(this,this._update)}_unsubscribeModel(){this._model.onRowChanged.unsubscribe(this,this._invalidateRowCache),this._model.onRowsChanged.unsubscribe(this,this._handleEmptyRows),this._model.onRowsChanged.unsubscribe(this,this._update)}_reorderColumns(e,t){const i=new Map(t),s=i.get("settings");i.delete("settings");const n=[],o=void 0!==this._fixedTitleColumnId?i.get(this._fixedTitleColumnId):void 0;void 0!==o&&(n.push(o),i.delete(o.key));for(const t of e){const e=i.get(t);void 0!==e&&(n.push(e),i.delete(t))}return n.push(...i.values()),void 0!==s&&n.push(s),n}_getSavedColumnsOrder(){var e;return null===(e=this._getSettingsStorage())||void 0===e?void 0:e.tableColumnsOrder(this._id)}}var ri=i(964492);class ai extends E{constructor(e){const t=qe(),i=[],s=[],n=[],o=[];e.tables.forEach((r=>{var a,l,c,u;const d=qe(),h=document.createElement("div"),p=new Je({options:r.options,priceFormatterGetter:r.priceFormatterFn,reverse:null===(a=r.flags)||void 0===a?void 0:a.reverse,columns:r.columns}),m=new oi({id:r.id,model:p,container:h,columns:r.columns,idProperty:r.options.idProperty,className:r.options.className,stickyMobileColumnsFilter:!0,overlapManager:e.overlapManager,fixedColumns:null===(l=r.flags)||void 0===l?void 0:l.fixedColumns,getSettingsStorage:e.getTableSettingsStorage,rowEventsHandlers:r.rowEventsHandlers,trackEvent:e.trackEvent,supportPagination:null===(c=r.flags)||void 0===c?void 0:c.supportPagination,isScrollBouncingEnabled:!0});if(r.title){const e=function(e){const t=document.createElement("h3");return t.classList.add(ri.title,ri.hidden),t.textContent=e,t}(r.title);d.appendChild(e),o.push(e)}d.appendChild(h),t.appendChild(d);const g=new w({idProperty:r.options.idProperty,name:r.title||void 0,model:p,view:m,source:r.source,subscriptions:r.subscriptions,
supportPagination:null===(u=r.flags)||void 0===u?void 0:u.supportPagination});s.push(p),n.push(m),i.push(g),g.addFormatters(r.formatters.concat(Ve)),g.start()}));const r={id:e.id,name:e.title};super(t,r,i),this._tableViewModels=s,this._tableViews=n,this._contentPage=t,this._titleElements=o}setHeight(e){var t,i;if(1!==this._tableControllers.length)return;const s=null!==(i=null===(t=this._contentPage.getElementsByTagName("h3")[0])||void 0===t?void 0:t.offsetHeight)&&void 0!==i?i:0;this._tableControllers[0].setHeight(e-s)}destroy(){this._tableViewModels.forEach((e=>e.destroy())),this._tableViews.forEach((e=>e.destroy())),super.destroy()}_onActiveChanged(e){super._onActiveChanged(e),e&&setTimeout((()=>{for(const e of this._titleElements)e.classList.remove(ri.hidden)}))}}const li={danger:be.red,success:be.green};function ci(e){const{text:t,notificationType:i}=e;return n.createElement("span",{className:a()(i&&li[i])},t)}const ui="notificationType",di={name:ui,formatText:We.formatText,formatElement:({values:[e,t]})=>n.createElement(ci,{text:e,notificationType:t})},hi=[{label:s.t(null,void 0,i(631976)),id:"time",dataFields:["time"],formatter:"localDate"},{label:s.t(null,void 0,i(767369)),id:"title",dataFields:["title","type"],formatter:ui},{label:s.t(null,void 0,i(37229)),id:"text",dataFields:["text"]}];class pi extends E{constructor(e,t,i){super(e,t,i),i.forEach((e=>e.addFormatters(t.formatters.concat(Ve))))}}const mi={mobile:22,desktop:48},gi={symbol:{mobile:h.enabled("show_symbol_logos")&&h.enabled("show_symbol_logo_in_account_manager")?64:mi.mobile,desktop:mi.desktop}};function bi(e,t,i){let s=9;for(const r of t){const t=(0,c.ensureDefined)(i.get(r),"Column metainfo");Ht(t,e)||(s+=(n=t.formatter,o=void 0,void 0===n?{...mi}:null!==(o=gi[n])&&void 0!==o?o:{...mi}).mobile)}var n,o;return s}class _i extends pi{constructor(e){var t;const i=qe(),s="id",n=new Je({options:{idProperty:s,defaultSortingParameters:e.initialSorting},priceFormatterGetter:e.priceFormatterFn,columns:e.columns}),o=new oi({id:e.id,model:n,container:i,columns:e.columns,idProperty:s,virtualization:{enabled:!0,rowHeightParams:{mobile:bi}},overlapManager:e.overlapManager,getSettingsStorage:e.getTableSettingsStorage,rowEventsHandlers:e.tableRowEventsHandlers,trackEvent:e.trackEvent,fixedTitleColumnId:e.fixedTitleColumnId}),r=new(null!==(t=e.tableController)&&void 0!==t?t:w)({idProperty:s,model:n,view:o,source:e.source,subscriptions:e.subscriptions});super(i,{id:e.id,name:e.title,formatters:e.formatters},[r]),this._tableViewModel=n,this._tableView=o,r.start()}destroy(){this._tableViewModel.destroy(),this._tableView.destroy(),super.destroy()}}var vi=i(747633),fi=i(982101),yi=i(610600),wi=i(552019);function Ci(e){const{closeFn:t,closeTitle:o,isDisabled:r}=e;return n.createElement(vi.ToolWidgetButton,{className:fi.icon,title:null!=o?o:s.t(null,{context:"position"},i(987323)),icon:wi,onClick:e=>{e.stopPropagation(),t()},isDisabled:r})}function Ei(e){const{editFn:t,editTitle:o,isDisabled:r}=e;return n.createElement(vi.ToolWidgetButton,{
className:a()(fi.icon,fi.editIcon),title:null!=o?o:s.t(null,void 0,i(116744)),icon:yi,onClick:e=>{e.stopPropagation(),t()},isDisabled:r})}function Ti(e){const[t,i]=(0,n.useState)(!1),s=(0,U.useIsMounted)(),{closeFn:o,closeTitle:r,editFn:a,editTitle:l,message:c,showCloseButton:u,showEditButton:d}=e,h=void 0!==o,p=void 0!==a;return n.createElement("span",{className:fi.wrapper},void 0!==c&&n.createElement(ie,{...c}),(u||d)&&n.createElement("div",{className:fi.buttons},d&&n.createElement(Ei,{editFn:p?async function(){try{i(!0),await(null==a?void 0:a())}finally{s.current&&i(!1)}}:()=>{},editTitle:l,isDisabled:!p||t}),u&&n.createElement(Ci,{closeFn:h?async function(){try{i(!0),await(null==o?void 0:o())}finally{s.current&&i(!1)}}:()=>{},closeTitle:r,isDisabled:!h||t})))}var ki=i(148442);const Si={2:"orderstatus-filled",1:"orderstatus-cancelled",6:"orderstatus-working",3:"orderstatus-inactive",4:"orderstatus-placing",5:"orderstatus-rejected"};function xi(e){return Si[e]}class Mi{constructor(e,t,i,s){this._calculateCounts=async e=>{const t=await this._source();if(null==e?void 0:e.aborted)return;const i=new Set,s={};for(const{id:e}of this._ordersFilterTabs)s[e]=0;for(const e of t){if(i.has(e.id))continue;i.add(e.id),s["orderstatustatus-all"]=(0,c.ensureDefined)(s["orderstatustatus-all"])+1;const t=xi(e.status);void 0!==s[t]&&(s[t]=(0,c.ensureDefined)(s[t])+1)}this._countChanged.fire(s);for(const{id:e,count:t}of this._ordersFilterTabs)t.setValue(s[e])},this._source=e,this._orderUpdateDelegate=t,this._fullUpdateDelegate=i,this._ordersFilterTabs=s,this._abortController=new AbortController,this._countChanged=new $e.Delegate,this._calculateCounts=(0,ki.respectLatest)(this._calculateCounts),this._calculateCountsDebounced=(0,et.default)((()=>this._calculateCounts(this._abortController.signal)),100)}countChanged(){return this._countChanged}start(){this._abortController=new AbortController,this._orderUpdateDelegate.subscribe(this,this._calculateCountsDebounced),this._fullUpdateDelegate.subscribe(this,this._calculateCountsDebounced),this._calculateCounts(this._abortController.signal)}stop(){this._abortController.abort(),this._ordersFilterTabs.forEach((({count:e})=>e.setValue(0))),this._orderUpdateDelegate.unsubscribe(this,this._calculateCountsDebounced),this._fullUpdateDelegate.unsubscribe(this,this._calculateCountsDebounced)}}class Di{constructor(e,t,i,s){this.filterFullUpdateDelegate=new $e.Delegate,this.filterObjectUpdateDelegate=new $e.Delegate,this.filterObjectDeleteDelegate=new $e.Delegate,this._filteredObjects=[],this._requestsCount=0,this._started=!1,this._objectsRequest=null,this._source=e,this._objectUpdateDelegate=t,this._objectDeleteDelegate=i,this._fullUpdateDelegate=s}start(){this._requestsCount++;const e=this._source,t=this._objectsRequest||Promise.resolve([]);this._objectsRequest=t.then((()=>e())).then((e=>{const t=e.filter((e=>this._satisfy(e)));return this._requestsCount--,this._requestsCount||(this.stop(),this._filteredObjects=t,this._objectsRequest=null,
this._objectUpdateDelegate.subscribe(this,this._onObjectUpdated),this._objectDeleteDelegate&&this._objectDeleteDelegate.subscribe(this,this._onObjectDeleted),this._fullUpdateDelegate.subscribe(this,this._onFullUpdate),this._started=!0),t.slice(0)}))}stop(){this._objectUpdateDelegate.unsubscribe(this,this._onObjectUpdated),this._fullUpdateDelegate.unsubscribe(this,this._onFullUpdate),this._objectDeleteDelegate&&this._objectDeleteDelegate.unsubscribe(this,this._onObjectDeleted),this._filteredObjects=[],this._started=!1}isStarted(){return this._started}filterSource(){return this._objectsRequest?this._objectsRequest:Promise.resolve(this._filteredObjects.slice(0))}_satisfy(e){throw new Error("should be implemented")}_onFullUpdate(){this.stop(),this.start(),this.filterFullUpdateDelegate.fire()}_onObjectDeleted(e){const t=this._filteredObjects.find((t=>t.id===e));t&&this.filterObjectDeleteDelegate.fire(t.id)}_onObjectUpdated(e){const t=this._filteredObjects.find((t=>t.id===e.id)),i=t?this._filteredObjects.indexOf(t):-1;this._satisfy(e)?(t?this._filteredObjects[i]=e:this._filteredObjects.push(e),this.filterObjectUpdateDelegate.fire(e)):t&&(this.filterObjectDeleteDelegate.fire(t.id),this._filteredObjects.splice(i,1))}}class Ii extends Di{constructor(e,t,i,s){super(e,t,i,s),this._filterStatus=null}setFilterStatus(e){this._filterStatus=e,this.isStarted()&&(this.stop(),this.start())}filterStatus(){return this._filterStatus}_satisfy(e){return!this._filterStatus||e.status===this._filterStatus}}class Pi extends Di{constructor(e,t,i,s,n){super(e,t,i,s),this._filter=n}_satisfy(e){return this._filter(e)}}class Fi{constructor(e,t,i){this._orders=[],this._source=e,this._rowUpdateDelegate=t,this._fullUpdateDelegate=i,this._orders=[],this._statusChanged=new $e.Delegate}statusChanged(){return this._statusChanged}start(){this._source().then((e=>{this._orders=e.map((e=>Object.assign({},e))),this._rowUpdateDelegate.subscribe(this,this._onRowUpdated),this._fullUpdateDelegate.subscribe(this,this._onFullUpdate)}))}stop(){this._fullUpdateDelegate.unsubscribe(this,this._onFullUpdate),this._rowUpdateDelegate.unsubscribe(this,this._onRowUpdated),this._orders=[]}_onFullUpdate(){this.stop(),this.start()}_onRowUpdated(e){const t=this._orders.find((({id:t})=>t===e.id));(null==t?void 0:t.status)!==e.status&&(void 0!==t?t.status=e.status:this._orders.push(Object.assign({},e)),this._statusChanged.fire(e))}}class Ni extends w{constructor(e){super(e),this._onLinkingBound=this._onLinking.bind(this),u.linking.proSymbol.subscribe(this._onLinkingBound)}destroy(){u.linking.proSymbol.unsubscribe(this._onLinkingBound),super.destroy()}_update(e){if(!super._update(e))return!1;const t=u.linking.proSymbol.value();return this.setRowLinkedById(e.id,t===e.symbol),!0}_onCreated(){this.setRowLinkedByFilter((e=>e.symbol===u.linking.proSymbol.value()))}_onLinking(e){this.setRowLinkedByFilter((t=>t.symbol===e))}}class Oi extends Ni{constructor(e){super(e),this._title=e.title,this._getFilterStatus=e.filterStatusGetter,this._isAlwaysActive=e.isAlwaysActive}fullUpdate(){
return this._fullUpdate()}getDataExporter(){const e=super.getDataExporter(),t=this._getFilterStatus(),n=null!==t?(0,p.orderStatusToText)(t):s.t(null,void 0,i(695271));return e.name=`${this._title} ${n}`,e}_update(e){return!!super._update(e)&&(this.setRowInactiveById(e.id,!this._filterByStatus(e.status)),!0)}_onCreated(){super._onCreated(),this.setRowInactiveByFilter((e=>!this._filterByStatus(e.status)))}_filterByStatus(e){return this._isAlwaysActive||null!==this._getFilterStatus()||(0,p.isOrderActive)(e)}}const Ri=["formatPrice","formatPriceForexSup"],zi="orderSettings",Ai="Orders Page";function Bi(e,t){return{id:e,label:t,count:new C.WatchedValue(0)}}class Li extends E{constructor(e){const t=e.formatters||[],o=new Pi(e.source,e.subscriptions.rowUpdateDelegate,null,e.subscriptions.fullUpdateDelegate,e.filter),r=function(e){const t=[Bi("orderstatustatus-all",s.t(null,void 0,i(695271)))],n=e.map((e=>Bi(xi(e),(0,N.capitalizeFirstLetter)((0,p.orderStatusToText)(e)))));return t.concat(n)}(e.possibleOrderStatuses),a=new Mi(o.filterSource.bind(o),o.filterObjectUpdateDelegate,o.filterFullUpdateDelegate,r),l=new Ii(o.filterSource.bind(o),o.filterObjectUpdateDelegate,o.filterObjectDeleteDelegate,o.filterFullUpdateDelegate),c=e.subscriptions.fullUpdateDelegate;e.source=l.filterSource.bind(l),e.subscriptions.rowUpdateDelegate=l.filterObjectUpdateDelegate,e.subscriptions.rowDeleteDelegate=l.filterObjectDeleteDelegate,e.subscriptions.fullUpdateDelegate=l.filterFullUpdateDelegate;const u=qe(),d="id",h={group:e=>+(0,p.isOrderActive)(e.status),idProperty:d,defaultSortingParameters:e.initialSorting},m=e.columns.map((e=>Ri.includes(e.formatter)?{...e,showZeroValues:!1}:e)),g=[...m,{label:"",id:"settings",alignment:"right",dataFields:[],formatter:zi,notSortable:!0,showOnMobile:!1}],b=new Je({columns:g,priceFormatterGetter:e.priceFormatterFn,options:h}),_=new oi({id:e.tableId,model:b,className:"orders",container:u,columns:g,idProperty:d,virtualization:{enabled:!0,rowHeightParams:{mobile:bi}},overlapManager:e.overlapManager,getSettingsStorage:e.getTableSettingsStorage,rowEventsHandlers:e.tableRowEventsHandlers,trackEvent:e.trackEvent,fixedTitleColumnId:"symbol"}),f={id:e.id,name:e.title},y=new Oi({idProperty:d,title:e.title,model:b,view:_,source:e.source,subscriptions:e.subscriptions,filterStatusGetter:()=>this._ordersFilter.filterStatus(),isAlwaysActive:e.isAlwaysActive});super(u,f,[y]),this._tableViewModel=b,this._tableView=_,this._tableController=y,this._globalFullUpdateDelegate=c,this._statusWatcher=new Fi(o.filterSource.bind(o),o.filterObjectUpdateDelegate,o.filterFullUpdateDelegate),this._orderPreFilter=o,this._ordersFilter=l,this._ordersFilterCountsUpdater=a,this._possibleOrderStatuses=e.possibleOrderStatuses,this._columns=m,this._pendingOrdersByStatuses={},this._configFlags=e.configFlags,this._trackEvent=e.trackEvent,this._closeFn=t=>(e.trackEvent(Ai,"Cancel Order"),e.cancelFn(t)),this._editFn=(t,i,s,n)=>(e.trackEvent(Ai,"Edit Order"),e.modifyFn(t,i,s,n));const w={name:zi,formatElement:({values:[t]})=>{const o=""!==t.symbol,r=(0,
p.isOrderActive)(t.status),a=!o||!r,l=a&&this._isPlacingOrderCancellingDisabled(t.status)?void 0:()=>this._closeFn(t.id),c=a||!(0,p.isModifyOrderSupported)(t,this._configFlags)?void 0:()=>this._editFn(t),u=o?t.message:Q(t.message);return n.createElement(Ti,{closeFn:l,closeTitle:s.t(null,void 0,i(620036)),editFn:c,editTitle:(0,v.appendEllipsis)(s.t(null,void 0,i(433241))),message:u,showCloseButton:!e.isAlwaysActive&&r,showEditButton:!e.isAlwaysActive&&(0,p.isBrokerSupportOrderModification)(this._configFlags)&&r})},formatText:()=>""};y.addFormatters([...Ve,w,...t]),this._filterTabs=r,this._subscribeUpdates()}destroy(){this._unsubscribeUpdates(),this._tableViewModel.destroy(),this._tableView.destroy(),super.destroy()}contextItems(e){const t=this._tableController.rowIdAtEvent(e);if(void 0===t)return[];const n=this._tableController.rowById(t);if(void 0===n||""===n.symbol)return[];const o=[];return(0,p.isModifyOrderSupported)(n,this._configFlags)&&o.push({text:(0,v.appendEllipsis)(s.t(null,void 0,i(433241))),enabled:(0,p.isOrderActive)(n.status),action:()=>this._editFn(n)}),o.push({text:s.t(null,void 0,i(316075)),enabled:(0,p.isOrderActive)(n.status)||!this._isPlacingOrderCancellingDisabled(n.status),action:()=>this._closeFn(t)}),o}contextRow(e){return this._tableController.rowAtEvent(e)}activateFilterTab(e){if(this._activeFilterTabId===e)return;const t=void 0===this._activeFilterTabId;super.activateFilterTab(e);const i=function(e){return Ui[e]}(e);this._ordersFilter.setFilterStatus(i),this._columns.forEach((e=>{var t;void 0!==e.supportedStatusFilters&&this._tableController.setColumnAvailable(e.id,e.supportedStatusFilters.includes(null!==(t=i)&&void 0!==t?t:0))})),t||(this._trackEvent(Ai,"Order status filter",null!==i?(0,p.orderStatusToText)(i):void 0),this._tableController.fullUpdate().then((()=>{if(null===i)return void(this._pendingOrdersByStatuses={});const e=this._pendingOrdersByStatuses[i];void 0!==e&&(e.forEach((e=>this._tableController.highlightRowById(e))),e.clear())})))}_subscribeUpdates(){this._tableController.start(),this._orderPreFilter.start(),this._ordersFilter.start(),this._statusWatcher.start(),this._statusWatcher.statusChanged().subscribe(this,this._onStatusChange),this._ordersFilterCountsUpdater.start(),this._ordersFilterCountsUpdater.countChanged().subscribe(this,this._onCountChanged),this._globalFullUpdateDelegate.subscribe(this,this._onGlobalFullUpdate)}_unsubscribeUpdates(){this._tableController.stop(),this._orderPreFilter.stop(),this._ordersFilter.stop(),this._statusWatcher.stop(),this._statusWatcher.statusChanged().unsubscribe(this,this._onStatusChange),this._ordersFilterCountsUpdater.stop(),this._ordersFilterCountsUpdater.countChanged().unsubscribe(this,this._onCountChanged),this._globalFullUpdateDelegate.unsubscribe(this,this._onGlobalFullUpdate)}_onGlobalFullUpdate(){this._pendingOrdersByStatuses={}}_onCountChanged(e){var t,i;const s=(null!==(t=e[xi(6)])&&void 0!==t?t:0)+(null!==(i=e[xi(3)])&&void 0!==i?i:0);this._setCount(s)}_onStatusChange(e){var t
;null!==this._ordersFilter.filterStatus()&&4!==e.status&&(this._possibleOrderStatuses.forEach((t=>{var i;null===(i=this._pendingOrdersByStatuses[t])||void 0===i||i.delete(e.id)})),this._pendingOrdersByStatuses[e.status]||(this._pendingOrdersByStatuses[e.status]=new Set),null===(t=this._pendingOrdersByStatuses[e.status])||void 0===t||t.add(e.id),setTimeout((()=>{this._ordersFilter.filterStatus()===e.status&&this._tableController.isRowInViewport(e.id)&&this._tableController.highlightRowById(e.id)}),0))}_isPlacingOrderCancellingDisabled(e){return!this._configFlags.supportPlacingOrderCancelling||4!==e}}const Ui={"orderstatus-filled":2,"orderstatus-cancelled":1,"orderstatus-working":6,"orderstatus-inactive":3,"orderstatus-placing":4,"orderstatus-rejected":5,"orderstatustatus-all":null};var Hi=i(126775);class Vi{constructor(e,t,i){this._calculateCounts=async e=>{const t=await this._source();if(null==e?void 0:e.aborted)return;const i=t.filter(f).length;i!==this._count&&(this._count=i,this._countChanged.fire(i))},this._source=e,this._rowUpdateDelegate=t,this._fullUpdateDelegate=i,this._countChanged=new $e.Delegate,this._abortController=new AbortController,this._calculateCounts=(0,ki.respectLatest)(this._calculateCounts),this._calculateCountsDebounced=(0,et.default)((()=>this._calculateCounts(this._abortController.signal)),100)}countChanged(){return this._countChanged}start(){this._abortController=new AbortController,this._rowUpdateDelegate.subscribe(this,this._calculateCountsDebounced),this._fullUpdateDelegate.subscribe(this,this._calculateCountsDebounced),this._calculateCounts(this._abortController.signal)}stop(){this._abortController.abort(),this._count=void 0,this._rowUpdateDelegate.unsubscribe(this,this._calculateCountsDebounced),this._fullUpdateDelegate.unsubscribe(this,this._calculateCountsDebounced)}}const Wi="Trading.PositionsTable.Filter",ji=["formatPrice","formatPriceForexSup"],Yi=s.t(null,void 0,i(948313)),Gi=s.t(null,void 0,i(518617)),qi=s.t(null,void 0,i(42168)),Ki=s.t(null,void 0,i(721801)),$i="positionSettings",Qi="tradeSettings",Zi={1:"net-positions",0:"individual-positions"};function Ji(e){const{id:t,name:i,content:s,source:n,subscriptions:o,columns:r,priceFormatterFn:a,rowEventsHandlers:l,overlapManager:c,getTableSettingsStorage:u,trackEvent:d}=e,h="id",p=new Je({priceFormatterGetter:a,columns:r,options:{idProperty:h}}),m=new oi({id:t,model:p,className:"positions",container:s,columns:r,idProperty:h,virtualization:{enabled:!0,rowHeightParams:{mobile:bi}},getSettingsStorage:u,overlapManager:c,fixedTitleColumnId:"symbol",rowEventsHandlers:l,trackEvent:d,emptyStateMessage:Ki});return{model:p,view:m,controller:new Xi({idProperty:h,name:i,model:p,view:m,source:n,subscriptions:o})}}class Xi extends Ni{_update(e){return f(e)?super._update(e):(this._deleteRow(e.id),!0)}}class es extends E{constructor(e){const t=function(){const e=document.createElement("div");return e.classList.add(Hi.pageContainer),e}(),o={id:"positions",name:Yi},r=qe(),a=e.positions.columns.map((e=>ji.includes(e.formatter)?{...e,showZeroValues:!1
}:e));a.push({label:"",id:"settings",alignment:"right",dataFields:["id","message","symbol"],formatter:$i,notSortable:!0,showOnMobile:!1});const l=Ji({id:e.brokerId+".positions",name:e.trades?Gi:Yi,content:r,source:e.positions.source,subscriptions:Object.assign({},e.positions.subscriptions,{fullUpdateDelegate:e.fullUpdateDelegate}),columns:a,priceFormatterFn:e.priceFormatterFn,overlapManager:e.overlapManager,getTableSettingsStorage:e.getTableSettingsStorage,rowEventsHandlers:e.tableRowEventsHandlers,trackEvent:e.trackEvent});t.appendChild(r);const u=[l.controller];let d,h=null;if(e.trades){const i=e.trades.columns.map((e=>ji.includes(e.formatter)?{...e,showZeroValues:!1}:e));i.push({label:"",id:"settings",alignment:"right",dataFields:["id","message","canBeClosed","symbol"],formatter:Qi,notSortable:!0,showOnMobile:!1}),h=qe(),d=Ji({id:e.brokerId+".trades",name:qi,content:h,source:e.trades.source,subscriptions:Object.assign({},e.trades.subscriptions,{fullUpdateDelegate:e.fullUpdateDelegate}),columns:i,priceFormatterFn:e.priceFormatterFn,overlapManager:e.overlapManager,getTableSettingsStorage:e.getTableSettingsStorage,rowEventsHandlers:e.tableRowEventsHandlers,trackEvent:e.trackEvent}),t.appendChild(h),u.push(d.controller)}super(t,o,u),this._positionsTableContainer=r,this._tradesTableContainer=h,this._positionsTableController=l.controller,this._positionsTableViewModel=l.model,this._positionsTableView=l.view,this._tradesTableController=null==d?void 0:d.controller,this._tradesTableViewModel=null==d?void 0:d.model,this._tradesTableView=null==d?void 0:d.view,null!==e.trades&&(this._filterTabs=[],this._filterTabs[0]={id:"individual-positions",label:qi,count:new C.WatchedValue(0)},this._filterTabs[1]={id:"net-positions",label:Gi,count:new C.WatchedValue(0)});const p=e.formatters||[];this._fullUpdateDelegate=e.fullUpdateDelegate,this._posSubscriptions=e.positions.subscriptions,this._checkSupportTrades=e.checkSupportTrades,this._trackEvent=e.trackEvent,this._storeFunctions(e);const m={name:$i,formatElement:({values:[e,t,o]})=>{const r=""===o,a=r||null===this._closePositionFn?void 0:this._closePositionFn.bind(null,e),l=r||null===this._editPositionFn?void 0:this._editPositionFn.bind(null,e),c=r?Q(t):t;return n.createElement(Ti,{closeFn:a,closeTitle:s.t(null,{context:"position"},i(987323)),editFn:l,editTitle:(0,v.appendEllipsis)(s.t(null,void 0,i(911810))),message:c,showCloseButton:null!==this._closePositionFn,showEditButton:null!==this._editPositionFn})},formatText:()=>""};if(this._positionsTableController.addFormatters([m,...Ve,...p]),e.trades){const t={name:Qi,formatElement:({values:[e,t,o,r]})=>{const a=""===r,l=a||null===this._closeTradeFn||!o?void 0:this._closeTradeFn.bind(null,e),c=a||null===this._editTradeFn?void 0:this._editTradeFn.bind(null,e);return n.createElement(Ti,{closeFn:l,closeTitle:s.t(null,{context:"position"},i(987323)),editFn:c,editTitle:(0,v.appendEllipsis)(s.t(null,void 0,i(911810))),message:t,showEditButton:null!==this._editTradeFn,showCloseButton:null!==this._closeTradeFn})},formatText:()=>""};(0,
c.ensure)(this._tradesTableController).addFormatters([t,...Ve,...p]),this._tradesFilterCounter=new Vi(e.trades.source,e.trades.subscriptions.countUpdateDelegate,this._fullUpdateDelegate)}else this._tradesFilterCounter=null;this._positionsFilterCounter=new Vi(e.positions.source,this._posSubscriptions.countUpdateDelegate,this._fullUpdateDelegate),this._subscribeUpdates();const g=Xe.getInt(Wi,0);this._activeFilterTabId=this._checkSupportTrades()?Zi[g]:"net-positions",this._selectPage(this._activeFilterTabId)}contextItems(e){const t=this._activeTableController(),n=t.rowIdAtEvent(e);if(void 0===n)return[];const o=(0,c.ensureDefined)(t.rowById(n));if(""===o.symbol)return[];const r=[];return"individual-positions"===this._activeFilterTabId?(this._editTradeFn&&r.push({text:(0,v.appendEllipsis)(s.t(null,void 0,i(911810))),action:this._editTradeFn.bind(null,n)}),this._closeTradeFn&&o.canBeClosed&&r.push({text:s.t(null,void 0,i(437431)),action:this._closeTradeFn.bind(null,n)}),r):(this._editPositionFn&&r.push({text:(0,v.appendEllipsis)(s.t(null,void 0,i(911810))),action:this._editPositionFn.bind(null,n)}),this._closePositionFn&&r.push({text:s.t(null,void 0,i(437431)),action:this._closePositionFn.bind(null,n)}),this._reversePositionFn&&r.push({text:s.t(null,void 0,i(419780)),action:this._reversePositionFn.bind(null,n)}),r)}contextRow(e){return this._activeTableController().rowAtEvent(e)}destroy(){var e,t;this._unsubscribeUpdates(),this._positionsTableViewModel.destroy(),this._positionsTableView.destroy(),null===(e=this._tradesTableViewModel)||void 0===e||e.destroy(),null===(t=this._tradesTableView)||void 0===t||t.destroy(),super.destroy()}activateFilterTab(e){super.activateFilterTab(e),this._selectPage(e)}_onActiveChanged(e){e?this._activeTableController().setActive(!0):(this._positionsTableController.setActive(!1),this._tradesTableController&&this._tradesTableController.setActive(!1))}_onPositionsCountChanged(e){var t;this._setCount(e),null===(t=this._filterTabs[1])||void 0===t||t.count.setValue(e)}_onTradesCountChanged(e){var t;null===(t=this._filterTabs[0])||void 0===t||t.count.setValue(e)}_activeTableController(){return this._checkSupportTrades()&&"individual-positions"===this._activeFilterTabId?(0,c.ensure)(this._tradesTableController):this._positionsTableController}_subscribeUpdates(){this._positionsFilterCounter.start(),this._positionsFilterCounter.countChanged().subscribe(this,this._onPositionsCountChanged),this._tradesFilterCounter&&(this._tradesFilterCounter.start(),this._tradesFilterCounter.countChanged().subscribe(this,this._onTradesCountChanged)),this._fullUpdateDelegate.subscribe(this,this._stopTradesControllerIfNeeded)}_unsubscribeUpdates(){this._positionsFilterCounter.stop(),this._positionsFilterCounter.countChanged().unsubscribe(this,this._onPositionsCountChanged),this._tradesFilterCounter&&(this._tradesFilterCounter.stop(),this._tradesFilterCounter.countChanged().unsubscribe(this,this._onTradesCountChanged)),this._fullUpdateDelegate.unsubscribe(this,this._stopTradesControllerIfNeeded)}
_stopTradesControllerIfNeeded(){var e;this.isActive()&&this._checkSupportTrades()||null===(e=this._tradesTableController)||void 0===e||e.stop()}_selectPage(e){var t,i,s;const n="net-positions"===e;n?this._positionsTableController.start():null===(t=this._tradesTableController)||void 0===t||t.start(),this._positionsTableContainer.classList.toggle("js-hidden",!n),null===(i=this._tradesTableContainer)||void 0===i||i.classList.toggle("js-hidden",n),this._positionsTableController.setActive(n),null===(s=this._tradesTableController)||void 0===s||s.setActive(!n),Xe.setValue(Wi,n?1:0)}_storeFunctions(e){const t="Positions Page",i=e.positions.closeFn;this._closePositionFn=i?e=>(this._trackEvent(t,"Close Position"),i(e)):null;const s=e.positions.editFn;this._editPositionFn=s?e=>(this._trackEvent(t,"Edit Position"),s(e)):null;const n=e.positions.reverseFn;this._reversePositionFn=n?e=>(this._trackEvent(t,"Reverse Position"),n(e)):null;const o=e.trades;if(o){const e=o.closeFn;this._closeTradeFn=e?i=>(this._trackEvent(t,"Close Trade"),e(i)):null;const i=o.editFn;this._editTradeFn=i?e=>(this._trackEvent(t,"Edit Trade"),i(e)):null}}}var ts=i(661851),is=i(790170);function ss(e){const{wValue:t,formatter:i,text:s}=e,o=(0,lt.useWatchedValueReadonly)({watchedValue:t}),r=(0,n.useMemo)((()=>{const e=je(null!=i?i:"fixed");return e.isPriceFormatterNeeded?We:e}),[i]),a=(0,n.useMemo)((()=>function(e,t){var i;const s=(null!==(i=e.formatElement)&&void 0!==i?i:e.formatText)({values:[t]});return"string"!=typeof s?s:s.replace(/&nbsp;/g," ")}(r,o)),[r,o]);return void 0===a?n.createElement(n.Fragment,null):n.createElement("div",{className:is.accountSummaryField},n.createElement("div",{className:is.title},s),n.createElement("div",{className:is.value},a))}var ns=i(634762);function os(e){const{summaryFields:t,displayMode:i}=e;return 0===t.length?n.createElement(n.Fragment,null):n.createElement("div",{className:r(0===i&&ns.addMargin,ns.accountSummaryRow)},t.map((e=>n.createElement(ss,{...e,key:e.text}))))}var rs=i(605899),as=i(353249);function ls(e){const{brokerDropdownProps:t,accountDropdownProps:i,commonDropdownProps:s,summaryFieldsVisibilityManager:o,summaryFields:a,displayMode:l,isBetaBroker:c}=e,u=(0,ts.useObservable)(o.fieldsVisibilityInfo$,o.fieldsVisibilityInfo()),d=a.flatMap((e=>{var t;return(null===(t=u.get(e.text))||void 0===t?void 0:t.visible)?e:[]})),h=void 0!==i&&void 0!==s,p=0!==d.length;return h||p?n.createElement("div",{className:r(as.headerWrapper,!h&&as.withoutDropdowns)},h&&n.createElement("div",{className:as.brokerBlock},n.createElement(rs.AccountManagerHeaderDropdowns,{brokerDropdownProps:t,accountDropdownProps:i,commonDropdownProps:s}),!1),p&&n.createElement(os,{summaryFields:d,displayMode:l})):n.createElement(n.Fragment,null)}var cs=i(407999),us=i(27938);function ds(e){const{element:t}=e;return n.createElement("div",{ref:e=>{null!==e&&(e.contains(t)||(null!==e.firstChild&&e.removeChild(e.firstChild),e.append(t)))}})}var hs=i(414823),ps=i(949781),ms=i(949922);const gs=ms.tabs;function bs(e){
const{id:t,label:i,count:s,isActive:o}=e,r=(0,lt.useWatchedValueReadonly)({watchedValue:s}),l=0!==r&&void 0!==r?` ${r}`:"";return n.createElement("span",{"data-account-manager-tab-id":t},i,n.createElement("span",{className:a()(!o&&ms.count)},l))}function _s(e){const{pages:t,onActivate:i,defaultActiveTabId:s}=e,[o,r]=(0,n.useState)(s);return(0,n.useEffect)((()=>{i({id:o})}),[o,i]),n.createElement(ps.UnderlineButtonTabs,{id:(0,hs.createDomId)("account-manager-tabs"),className:gs,overflowBehaviour:"scroll",size:"xsmall",isActive:({id:e})=>e===o,items:t.map((e=>function(e,t){const i=e.id();return{id:i,label:n.createElement(bs,{id:i,label:e.name(),count:e.count(),isActive:i===t})}}(e,o))),onActivate:({id:e})=>r(e)})}var vs=i(897107),fs=i(269842),ys=i(118965),ws=i(586240);var Cs=i(419359),Es=i(984164),Ts=i(772069),ks=i(525388),Ss=i(865968);function xs(e,t,i){const{id:s,items:o,activationType:r,orientation:a,disabled:l,onActivate:c,isActive:u,overflowBehaviour:d,enableActiveStateStyles:h,tablistLabelId:p,tablistLabel:m}=t,g=(0,ys.useMobileTouchState)(),b=function(e){const t=(0,R.useSafeMatchMedia)(ws["media-mf-phone-landscape"],!0),i=(0,ys.useMobileTouchState)();return null!=e?e:i||!t?"scroll":"collapse"}(d),_=(0,n.useRef)(!1),v=(0,n.useCallback)((e=>e.id),[]),f=null!=h?h:!g,{visibleItems:y,hiddenItems:w,containerRefCallback:C,innerContainerRefCallback:E,moreButtonRef:T,setItemRef:k}=(0,Cs.useCollapsible)(o,v,u),S="collapse"===b?y:o,x=(0,n.useMemo)((()=>"collapse"===b?w:[]),[b,w]),M=(0,n.useCallback)((e=>x.includes(e)),[x]),{tabsBindings:D,tablistBinding:I,scrollWrapBinding:P,onActivate:F,onHighlight:N,isHighlighted:O}=(0,Es.useTabs)({id:s,items:[...S,...x],activationType:r,orientation:a,disabled:l,tablistLabelId:p,tablistLabel:m,scrollIntoViewOptions:i.scrollIntoViewOptions,onActivate:c,isActive:u,isCollapsed:M,isRtl:i.isRtl}),z=x.find(O),A=(0,n.useCallback)((()=>{const e=o.find(u);e&&N(e)}),[N,u,o]),B=(0,n.useCallback)((e=>D.find((t=>t.id===e.id))),[D]),{isOpened:L,open:U,close:H,onButtonClick:V}=(0,Ts.useDisclosure)({id:s,disabled:l}),W=(0,n.useCallback)((()=>{H(),A(),_.current=!0}),[H,A]),j=(0,n.useCallback)((()=>{z&&(F(z),N(z,250))}),[F,N,z]);P.ref=(0,ks.useMergedRefs)([P.ref,C]),I.ref=(0,ks.useMergedRefs)([I.ref,E]),I.onKeyDown=(0,fs.createSafeMulticastEventHandler)((0,Ss.useKeyboardEventHandler)([(0,Ss.useKeyboardClose)(L,W),(0,Ss.useKeyboardActionHandler)([13,32],j,(0,n.useCallback)((()=>Boolean(z)),[z]))]),I.onKeyDown);const Y=(0,n.useCallback)((e=>{_.current=!0,V(e)}),[_,V]),G=(0,n.useCallback)((e=>{e&&F(e)}),[F]);return(0,n.useEffect)((()=>{_.current?_.current=!1:(z&&!L&&U(),!z&&L&&H())}),[z,L,U,H]),{enableActiveStateStyles:f,moreButtonRef:T,setItemRef:k,getBindings:B,handleMoreButtonClick:Y,handleCollapsedItemClick:G,scrollWrapBinding:P,overflowBehaviour:b,tablistBinding:I,visibleTabs:S,hiddenTabs:x,handleActivate:F,isMobileTouch:g,getItemId:v,isDisclosureOpened:L,isHighlighted:O,closeDisclosure:H}}var Ms=i(273388),Ds=i(234539);const Is=(0,n.createContext)("small");i(737402);var Ps=i(72571),Fs=i(792331)
;function Ns({endIcon:e,children:t,className:i,"aria-hidden":s}){return n.createElement("span",{"aria-hidden":s,className:i},t&&n.createElement("span",{className:Fs.content},t),e&&n.createElement(Ps.Icon,{className:Fs["end-icon-wrap"],icon:e,"aria-hidden":!0}))}var Os=i(573606);const Rs=(0,n.forwardRef)(((e,t)=>{const i=n.useContext(Is),s=(0,n.useContext)(Ds.CustomBehaviourContext),{id:o,active:a,fake:l,theme:c=Os,enableActiveStateStyles:u=s.enableActiveStateStyles,hideFocusOutline:d=!1,endIcon:h,children:p,...m}=e;return n.createElement("button",{...m,id:o,ref:t,className:r(c["square-tab-button"],a&&c.selected,c[`size-${i}`],l&&c.fake,!u&&c["disable-active-state-styles"],d&&c["disable-focus-outline"])},n.createElement(Ns,{endIcon:h,className:Os["tab-content"]},p),n.createElement(Ns,{"aria-hidden":!0,endIcon:h,className:Os["tab-hidden-content"]},p))}));Rs.displayName="SquareTabButton";const zs=(0,n.forwardRef)(((e,t)=>{const{item:i,highlighted:s,handleItemRef:o,onClick:r,...a}=e,l=(0,n.useCallback)((()=>{r&&r(i)}),[r,i]),c=(0,n.useCallback)((e=>{o&&o(i,e),(0,Ms.isomorphicRef)(t)(e)}),[i,o,t]);return n.createElement(Rs,{...a,id:i.id,onClick:l,ref:c,endIcon:i.endIcon},i.label)}));zs.displayName="SquareTab";var As=i(904925),Bs=i(192063),Ls=i(602948),Us=i(77819);function Hs(e){const{isDropped:t=!1}=e;return n.createElement(Ps.Icon,{icon:Ls,className:r(Us["arrow-icon"],t&&Us.dropped)})}function Vs(e){const{disabled:t,isOpened:i,hideFocusOutline:s,fake:o,items:r,buttonContent:a,buttonRef:l,buttonTheme:c,isHighlighted:u,onButtonClick:d,onItemClick:h,onClose:p}=e,m=(0,n.useRef)(null),g=(0,ks.useMergedRefs)([l,m]);return n.createElement(As.PopupMenuDisclosureView,{buttonRef:m,listboxTabIndex:-1,isOpened:i,onClose:p,listboxAria:{"aria-hidden":!0},button:n.createElement(Rs,{"aria-hidden":!0,disabled:t,active:i,onClick:d,ref:g,tabIndex:-1,theme:c,hideFocusOutline:s,fake:o},a,n.createElement(Hs,{isDropped:i})),popupChildren:r.map((e=>n.createElement(Bs.PopupMenuItem,{key:e.id,onClick:h,onClickArg:e,isActive:u(e),label:e.label,isDisabled:e.disabled,dontClosePopup:!0})))})}const Ws=(0,i(493173).mergeThemes)(Os,Fs);var js=i(744012);function Ys(e){const{disabled:t,moreButtonContent:o=s.t(null,void 0,i(141610)),size:a="small",theme:l=Ws,className:c,style:u,"data-name":d="square-tabs-buttons"}=e,{enableActiveStateStyles:h,moreButtonRef:p,setItemRef:m,getBindings:g,handleMoreButtonClick:b,handleCollapsedItemClick:_,scrollWrapBinding:v,overflowBehaviour:f,tablistBinding:y,visibleTabs:w,hiddenTabs:C,handleActivate:E,isMobileTouch:T,getItemId:k,isDisclosureOpened:S,isHighlighted:x,closeDisclosure:M}=xs(vs.TabNames.SquareButtonTabs,e,{isRtl:F.isRtl,scrollIntoViewOptions:{additionalScroll:parseInt(js[`css-value-square-tabs-${a}-gap`])}});return n.createElement(Is.Provider,{value:a},n.createElement("div",{...v,className:r(l["scroll-wrap"],"scroll"===f&&l["enable-scroll"],c),style:u,"data-name":d},n.createElement("div",{...y,className:r(l["square-tabs"],l[`size-${a}`])},w.map((e=>{var t
;const{"aria-disabled":i,...s}=null!==(t=g(e))&&void 0!==t?t:{};return n.createElement(zs,{...s,key:e.id,item:e,onClick:()=>E(e),theme:l,enableActiveStateStyles:h,hideFocusOutline:T,ref:m(k(e)),...e.dataId&&{"data-id":e.dataId}})})),C.map((e=>{var t;const{"aria-disabled":i,...s}=null!==(t=g(e))&&void 0!==t?t:{};return n.createElement(zs,{...s,key:e.id,item:e,theme:l,enableActiveStateStyles:h,fake:!0})})),n.createElement(Vs,{disabled:t,isOpened:S,items:C,buttonContent:o,buttonRef:p,buttonTheme:l,isHighlighted:x,onButtonClick:b,onItemClick:_,onClose:M,hideFocusOutline:T,fake:0===C.length}))))}function Gs(e){var t;const{id:i,items:s,onActivate:o,defaultActiveFilterTabId:r}=e,[a,l]=(0,n.useState)(null!=r?r:(0,c.ensureDefined)(null===(t=s[0])||void 0===t?void 0:t.id,"AccountManagerPageFilterTabs item"));return(0,n.useEffect)((()=>{o({id:a})}),[a,o]),n.createElement(Ys,{id:(0,hs.createDomId)("account-manager-page-filter-tabs",i),className:gs,onActivate:e=>l(e.id),isActive:e=>e.id===a,size:"xsmall",overflowBehaviour:"scroll",items:s.map((e=>({id:e.id,label:n.createElement(bs,{...e,isActive:e.id===a})})))})}var qs=i(685014),Ks=i(951983),$s=i(118087);const Qs=[6,3,2,1,5],Zs=[2,1,5],Js="data-account-manager-page-id";function Xs(e){return`[data-account-manager-page-id="${e}"]`}class en{constructor(e){this._showContextMenu=async e=>{e.preventDefault();let t=await this._contextItems(e);void 0!==t&&(h.enabled("property_pages")||(t=t.slice(0,-1)),m.ContextMenuManager.showMenu((0,p.convertActionDescriptionsToActions)(t),function(e){const t=e instanceof MouseEvent?e:e.touches[0];return{clientX:t.clientX,clientY:t.clientY}}(e),void 0,{menuName:"AccountManagerContextMenu"}))},this._activateTab=({id:e})=>{if(e===this._currentTabId)return;if(void 0!==this._currentTabId){const e=this._container.querySelector(Xs(this._currentTabId));null==e||e.classList.remove($s.active)}(0,c.ensureNotNull)(this._container.querySelector(Xs(e)),"Page to activate").classList.add($s.active),this._currentTabId=e,this._attachFilter(),this._trading.trackEvent("Bottom Panel",`Select ${e} page`),this._updatePagesActiveStatuses()};const{broker:t,bridge:i,mode:s,summaryFieldsVisibilityManager:n,overlapManager:o}=e;this._adapter=(0,c.ensureNotNull)(t),this._bridge=i,this._container=i.container,this._mode=s,this._overlapManager=o,this._summaryFieldsVisibilityManager=n,this._pages=[],this._trading=(0,c.ensureNotNull)((0,b.tradingService)()),this._info=this._adapter.accountManagerInfo(),this._dispatch=this.bindContextMenu(),this._contentResizeObserver=new l.default((e=>{const t=0|e[0].contentRect.height;t!==this._contentHeight&&(this._contentHeight=t,this._currentPage().setHeight(t))})),this._renderTemplate()}async priceFormatter(e){return e.symbol?this._trading.formatter(e.symbol):null}remove(){for(this._unmountComponentBySelector(".js-account-manager-header"),this._unmountComponentBySelector(".js-top-panel"),this._unmountComponentBySelector(".js-secondary-panel"),this._unsubscribe(),this._pages.forEach((e=>e.destroy())),
this.unbindContextMenu();this._container.firstChild;)this._container.removeChild(this._container.firstChild)}bindContextMenu(){return d.CheckMobile.isIPad()?this._bindLongPressMenu():0===this._mode?this._bindTapMenu():this._bindContextMenu()}unbindContextMenu(){null!==this._dispatch&&(this._dispatch(),this._dispatch=null)}static async create(e){const t=new en(e);return await t._create(),t._subscribe(),t._fullUpdate(),t}_bindContextMenu(){return this._container.addEventListener("contextmenu",this._showContextMenu),()=>this._container.removeEventListener("contextmenu",this._showContextMenu)}_bindLongPressMenu(){let e;const t=t=>{clearTimeout(e),e=setTimeout((()=>this._showContextMenu(t)),400)},i=()=>clearTimeout(e);return this._container.addEventListener("touchstart",t),this._container.addEventListener("touchend",i),this._container.addEventListener("touchmove",i),()=>{clearTimeout(e),this._container.removeEventListener("touchstart",t),this._container.removeEventListener("touchend",i),this._container.removeEventListener("touchmove",i)}}_bindTapMenu(){const e=e=>{void 0!==this._currentPage().contextRow(e)&&this._showContextMenu(e)},t=e=>{e.preventDefault()};return this._container.addEventListener("click",e),this._container.addEventListener("contextmenu",t),()=>{this._container.removeEventListener("click",e),this._container.removeEventListener("contextmenu",t)}}_unmountComponentBySelector(e){const t=this._container.querySelector(e);null!==t&&o.unmountComponentAtNode(t)}_ensuredCurrentTabId(){return(0,c.ensureDefined)(this._currentTabId,"Current tab id")}_initializeTabs(){this._activateTab({id:this._pages[0].id()}),o.render(n.createElement(_s,{pages:this._pages,defaultActiveTabId:this._ensuredCurrentTabId(),onActivate:this._activateTab}),(0,c.ensureNotNull)(this._container.querySelector(".js-top-panel"),"AccountManagerTabs container"))}_linkTableRowSymbol(e){0!==this._mode&&void 0!==e.symbol&&""!==e.symbol&&u.linking.symbol.setValue(e.symbol)}_onTableRowClick(e,t,i){const s=e;0!==this._mode&&""!==s.symbol&&(u.linking.symbol.value()!==s.symbol?u.linking.symbol.setValue(s.symbol):t.setSelectedItem({id:s.id,type:i}))}_onTableRowMouseEnter(e,t,i){const s=e;0!==this._mode&&u.linking.symbol.value()===s.symbol&&t.setHoveredItem({id:s.id,type:i})}_onTableRowMouseLeave(e,t){const i=e;0!==this._mode&&u.linking.symbol.value()===i.symbol&&t.dropHoveredItem()}_makeTableRowEventsHandlers(e,t){return{onClick:i=>this._onTableRowClick(i,e,t),onMouseEnter:i=>this._onTableRowMouseEnter(i,e,t),onMouseLeave:t=>this._onTableRowMouseLeave(t,e)}}async _getPages(){const e=this._adapter.metainfo().id,t=this._adapter.accountManagerInfo(),o=this._adapter.metainfo().configFlags,r=this._getPagesAvailabilityInfo(),a=(0,c.ensureNotNull)(this._trading.brokerCommandsUI()),l={},u=await this._trading.tradedItemsChartCollectionFacade(),d=void 0!==t.customFormatters?t.customFormatters.map((({name:e,formatText:t,formatElement:i,isPriceFormatterNeeded:s})=>void 0===i?{name:e,formatText:t}:{name:e,formatText:t,formatElement:e=>{const t=i(e)
;return t instanceof window.parent.Element?n.createElement(ds,{element:t}):t},isPriceFormatterNeeded:s})):[];if(r.positions){const i=this._makeTableRowEventsHandlers(u,us.TradedItemType.Position);l.positionPage={ctor:es,ctorArguments:{brokerId:e,formatters:d,tableRowEventsHandlers:i,priceFormatterFn:this.priceFormatter.bind(this),checkSupportTrades:()=>!0===o.supportTrades,positions:{source:()=>this._adapter.positions().then((e=>e.filter((e=>f(e))))),closeFn:a.closePosition.bind(a),editFn:o.supportPositionBrackets?a.editPositionBrackets.bind(a):null,reverseFn:o.supportReversePosition?a.reversePosition.bind(a):null,columns:(0,c.ensureDefined)(t.positionColumns),subscriptions:{rowUpdateDelegate:new g([this._adapter.positionPartialUpdate,this._adapter.positionUpdate]),countUpdateDelegate:this._adapter.positionUpdate,plSubscription:this._adapter.subscribePL.bind(this._adapter)}},trades:o.supportTrades?{source:()=>this._adapter.trades().then((e=>e.filter((e=>0!==e.qty)))),closeFn:o.supportCloseTrade?a.closeTrade.bind(a):null,editFn:o.supportTradeBrackets?(0,c.ensureDefined)(a.editTradeBrackets).bind(a):null,reverseFn:null,columns:(0,c.ensureDefined)(t.tradeColumns||t.positionColumns),subscriptions:{rowUpdateDelegate:new g([this._adapter.tradePartialUpdate,this._adapter.tradeUpdate]),countUpdateDelegate:this._adapter.tradeUpdate,plSubscription:this._adapter.subscribePL.bind(this._adapter)}}:null,fullUpdateDelegate:this._adapter.currentAccountUpdate,overlapManager:this._overlapManager,getTableSettingsStorage:this._trading.getBrokerTradingSettingsStorage,trackEvent:this._trading.trackEvent}}}const h=this._adapter.orders.bind(this._adapter),p=this._makeTableRowEventsHandlers(u,us.TradedItemType.Order);l.orderPage={ctor:Li,ctorArguments:{id:"orders",title:s.t(null,void 0,i(293104)),source:h,cancelFn:a.cancelOrder.bind(a),modifyFn:a.modifyOrder.bind(a),columns:t.orderColumns,tableId:e+".orders",tableRowEventsHandlers:p,formatters:d,priceFormatterFn:this.priceFormatter.bind(this),subscriptions:{fullUpdateDelegate:this._adapter.currentAccountUpdate,rowUpdateDelegate:new g([this._adapter.orderPartialUpdate,this._adapter.orderUpdate]),orderUpdateDelegate:this._adapter.orderUpdate},possibleOrderStatuses:Qs.filter((e=>!t.possibleOrderStatuses||-1!==t.possibleOrderStatuses.indexOf(e))),filter:()=>!0,initialSorting:t.orderColumnsSorting,configFlags:o,overlapManager:this._overlapManager,getTableSettingsStorage:this._trading.getBrokerTradingSettingsStorage,trackEvent:this._trading.trackEvent}};const m=this._adapter.ordersHistory.bind(this._adapter);return r.history&&(l.historyPage={ctor:Li,ctorArguments:{id:"history",title:s.t(null,void 0,i(197698)),source:()=>Promise.all([h(),m()]).then((e=>[].concat(...e))),cancelFn:a.cancelOrder.bind(a),modifyFn:a.modifyOrder.bind(a),columns:(0,c.ensureDefined)(t.historyColumns),tableId:e+".history",tableRowEventsHandlers:p,formatters:d,priceFormatterFn:this.priceFormatter.bind(this),subscriptions:{fullUpdateDelegate:this._adapter.currentAccountUpdate,
rowUpdateDelegate:new g([this._adapter.orderPartialUpdate,this._adapter.orderUpdate]),orderUpdateDelegate:this._adapter.orderUpdate},possibleOrderStatuses:Zs.filter((e=>!t.possibleOrderStatuses||-1!==t.possibleOrderStatuses.indexOf(e))),filter:e=>![3,4,6].includes(e.status),initialSorting:t.historyColumnsSorting,isAlwaysActive:!0,configFlags:o,overlapManager:this._overlapManager,getTableSettingsStorage:this._trading.getBrokerTradingSettingsStorage,trackEvent:this._trading.trackEvent}}),l.customPages=t.pages.map((t=>{const i=t.tables.map((i=>{var s;return{id:`${e}.${t.id}.${i.id}`,title:i.title||"",columns:i.columns,source:i.getData,options:{className:"balances",idProperty:"id",defaultSortingParameters:i.initialSorting},formatters:d,priceFormatterFn:this.priceFormatter.bind(this),subscriptions:{fullUpdateDelegate:this._adapter.currentAccountUpdate,rowUpdateDelegate:i.changeDelegate},flags:i.flags,rowEventsHandlers:(null===(s=i.flags)||void 0===s?void 0:s.supportLinking)?{onClick:this._linkTableRowSymbol}:void 0}}));return{ctor:ai,ctorArguments:{id:t.id,title:t.title,tables:i,displayMode:this._mode,overlapManager:this._overlapManager,getTableSettingsStorage:this._trading.getBrokerTradingSettingsStorage,trackEvent:this._trading.trackEvent}}})),r.notifications&&(l.notificationsPage={ctor:_i,ctorArguments:{id:"notifications-log",title:s.t(null,void 0,i(386249)),source:()=>Promise.resolve(this._trading.getNotifications()),columns:hi,formatters:[di],priceFormatterFn:this.priceFormatter.bind(this),subscriptions:{fullUpdateDelegate:this._trading.onNotificationsChanged,rowUpdateDelegate:this._trading.onNewNotification},overlapManager:this._overlapManager,initialSorting:{property:"time",asc:!1},getTableSettingsStorage:this._trading.getBrokerTradingSettingsStorage,trackEvent:this._trading.trackEvent}}),l}_getPagesAvailabilityInfo(){const e=this._adapter.metainfo().configFlags;return{positions:Boolean(e.supportPositions),orders:!0,history:Boolean(e.supportOrdersHistory),tradeHistory:Boolean(e.supportTradeHistoryTabInAccountManager),notifications:Boolean(h.enabled("show_trading_notifications_history")&&e.showNotificationsLog)}}_renderTemplate(){const e=this._getPagesAvailabilityInfo(),t=Object.values(e).filter((e=>e)).length+this._adapter.accountManagerInfo().pages.length,i=(0,c.ensureNotNull)((0,_.parseHtmlElement)(((e=0,t)=>`<div class="${a()($s.accountManager,0===t&&$s.popup)}">\n\t\t\t\t<div class="js-account-manager-header"></div>\n\t\t\t\t<div class="${$s.topPanel} js-top-panel"></div>\n\t\t\t\t<div class="${$s.secondaryPanel} js-secondary-panel"></div>\n\t\t\t\t<div class="${$s.content} js-content">\n\t\t\t\t\t${`<div class="${$s.page} js-page"></div>`.repeat(e)}\n\t\t\t\t</div>\n\t\t\t</div>`)(t,this._mode)));this._container.appendChild(i)}async _create(){const e=await this._getPages();for(const t of Object.values(e))if(Array.isArray(t)){const e=t.map((e=>new e.ctor(e.ctorArguments)));this._pages.push(...e)}else this._pages.push(new t.ctor(t.ctorArguments));const t=(0,
c.ensureNotNull)(this._container.querySelector(".js-content"));this._contentResizeObserver.observe(t);const i=this._container.querySelectorAll(".js-page");this._pages.forEach(((e,t)=>{i[t].innerHTML="",i[t].appendChild(e.content()),i[t].setAttribute(Js,e.id())})),this._initializeTabs(),this._render()}async _render(){let e;1===this._mode&&(e=await(0,cs.makeAccountManagerHeaderDropdownsProps)(this._trading,this._summaryFieldsVisibilityManager,(()=>this._getDataExporters()))),o.render(n.createElement(ls,{...e,summaryFields:this._info.summary,summaryFieldsVisibilityManager:this._summaryFieldsVisibilityManager,isBetaBroker:this._adapter.metainfo().isBeta,displayMode:this._mode}),this._container.querySelector(".js-account-manager-header"))}_getDataExporters(){const e=new Map;for(const t of this._pages){const i=t.getExporters();e.set(i.title,i)}return e}_subscribe(){const e=e=>{e?this._updatePagesActiveStatuses():this._pages.forEach((e=>e.setActive(!1)))};this._bridge.visible.subscribe(e,{callWithLast:!0}),this._dispatchVisibilityHandler=()=>this._bridge.visible.unsubscribe(e)}_updatePagesActiveStatuses(){const e=this._currentPage(),t=e.id();void 0!==this._contentHeight&&e.setHeight(this._contentHeight);for(const e of this._pages)e.setActive(1===this._adapter.connectionStatus()&&e.id()===t)}_attachFilter(){const e=this._currentPage(),t=e.filterTabs(),i=(0,c.ensureNotNull)(this._container.querySelector(".js-secondary-panel"),"Filter container");0===t.length?o.unmountComponentAtNode(i):o.render(n.createElement(Gs,{key:e.id(),id:e.id(),onActivate:({id:t})=>e.activateFilterTab(t),defaultActiveFilterTabId:e.activeFilterTabId(),items:t}),i)}_fullUpdate(){this._pages.forEach((e=>e.reset()))}_unsubscribe(){this._contentResizeObserver.disconnect(),this._dispatchVisibilityHandler&&(this._dispatchVisibilityHandler(),delete this._dispatchVisibilityHandler)}_currentPage(){const e=this._ensuredCurrentTabId();return(0,c.ensureDefined)(this._pages.find((t=>t.id()===e)),"Current page")}async _contextItems(e){const t=this._currentPage().contextRow(e);if(void 0===t)return;const n="Bottom Panel Context Menu",o=this._currentPage().contextItems(e);if(this._info&&this._info.contextMenuActions)return this._info.contextMenuActions(e,o);const r={separator:!0},a=[],l=t.symbol;if(l)if(1===this._mode){0!==o.length&&a.push(r);const e=await this._trading.makeNewOrderContextMenuAction(l,n);a.push(e)}else 0!==o.length&&a.push(r),a.push({text:s.t(null,void 0,i(903147)).replace("{symbol}",l),icon:qs,action:()=>{this._trading.trackEvent(n,"Open chart"),u.linking.symbol.setValue(l),this._trading.tradingPanelPopup.hide()}});else;return h.enabled("property_pages")&&(0!==o.length&&a.push(r),a.push({text:(0,v.appendEllipsis)(s.t(null,void 0,i(670360))),icon:Ks,action:()=>{this._trading.trackEvent(n,"Trading Properties"),this._trading.showTradingProperties()}})),o.concat(a)}}},241347:(e,t,i)=>{"use strict";i.r(t),i.d(t,{SummaryFieldsVisibilityManager:()=>n});var s=i(947488);class n{constructor(e,t){var i;this.toggleField=e=>{var t
;const i=this._fieldsVisibilityInfo$.getValue(),s=new Map(i),n=s.get(e);void 0!==n&&(n.visible=!n.visible,this._fieldsVisibilityInfo$.next(s),null===(t=this._settingsGetter())||void 0===t||t.setSummaryFieldsVisibilityInfo(s))},this._settingsGetter=t;const n=null===(i=this._settingsGetter())||void 0===i?void 0:i.summaryFieldsVisibilityInfo();this._fieldsVisibilityInfo$=new s.BehaviorSubject(new Map(e.map((({text:e,isDefault:t})=>{var i,s,o;return[e,{id:e,visible:null===(o=null!==(s=null===(i=null==n?void 0:n.get(e))||void 0===i?void 0:i.visible)&&void 0!==s?s:t)||void 0===o||o}]})))),this.fieldsVisibilityInfo$=this._fieldsVisibilityInfo$.asObservable()}fieldsVisibilityInfo(){return this._fieldsVisibilityInfo$.getValue()}}},164530:(e,t,i)=>{"use strict";i.d(t,{BracketType:()=>s.BracketType,OrderOrPositionMessageType:()=>s.OrderOrPositionMessageType});i(282729);var s=i(656846)},27938:(e,t,i)=>{"use strict";var s;i.d(t,{TradedItemType:()=>s}),function(e){e[e.Position=0]="Position",e[e.Order=1]="Order"}(s||(s={}))},75577:(e,t,i)=>{"use strict";i.d(t,{TradingLayoutBreakpoint:()=>n});var s=i(312282);const n={Mobile:s.mobile}},761248:(e,t,i)=>{"use strict";function s(e){return e.charAt(0).toUpperCase()+e.substring(1)}i.d(t,{capitalizeFirstLetter:()=>s})},602948:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M5.5 6.44a.75.75 0 1 0-1 1.12l1-1.12zM9 10.5l-.5.56c.29.25.71.25 1 0L9 10.5zm4.5-2.94a.75.75 0 0 0-1-1.12l1 1.12zm-9 0l4 3.5 1-1.12-4-3.5-1 1.12zm5 3.5l4-3.5-1-1.12-4 3.5 1 1.12z"/></svg>'},935495:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="m4 4h-2v10h2zm-2-1c-.55228 0-1 .44772-1 1v10c0 .5523.44772 1 1 1h2c.55228 0 1-.4477 1-1v-10c0-.55228-.44772-1-1-1zm8 1h-2v10h2zm-2-1c-.55228 0-1 .44772-1 1v10c0 .5523.44772 1 1 1h2c.5523 0 1-.4477 1-1v-10c0-.55228-.4477-1-1-1zm6 1h2v10h-2zm-1 0c0-.55228.4477-1 1-1h2c.5523 0 1 .44772 1 1v10c0 .5523-.4477 1-1 1h-2c-.5523 0-1-.4477-1-1z"/></svg>'},552019:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M13.35 5.35a.5.5 0 0 0-.7-.7L9 8.29 5.35 4.65a.5.5 0 1 0-.7.7L8.29 9l-3.64 3.65a.5.5 0 0 0 .7.7L9 9.71l3.65 3.64a.5.5 0 0 0 .7-.7L9.71 9l3.64-3.65z"/></svg>'},48008:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" fill-rule="evenodd" d="M3 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 1a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm6-1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 1a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm7-2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm1 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"/></svg>'},610600:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M13.5 7l1.65-1.65a.5.5 0 0 0 0-.7l-1.8-1.8a.5.5 0 0 0-.7 0L11 4.5M13.5 7L11 4.5M13.5 7l-8.35 8.35a.5.5 0 0 1-.36.15H2.5v-2.3a.5.5 0 0 1 .15-.35L11 4.5"/></svg>'},499084:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16Zm3.87-12.15c.36.2.49.66.28 1.02l-4 7a.75.75 0 0 1-1.18.16l-3-3a.75.75 0 1 1 1.06-1.06l2.3 2.3 3.52-6.14a.75.75 0 0 1 1.02-.28Z"/></svg>'},530162:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>'},527941:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM8 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm1 2c.49 0 1 .59 1 1v3.01c0 .42-.51.99-1 .99s-1-.57-1-.99V9c0-.41.51-1 1-1Z"/></svg>'},482353:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16Zm0-3a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM6 7.5a3 3 0 1 1 6 0c0 .96-.6 1.48-1.17 1.98-.55.48-1.08.95-1.08 1.77h-1.5c0-1.37.7-1.9 1.33-2.38.49-.38.92-.71.92-1.37C10.5 6.67 9.82 6 9 6s-1.5.67-1.5 1.5H6Z"/></svg>'},685014:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" fill-rule="evenodd" d="M8 5.5h12A2.5 2.5 0 0 1 22.5 8v12a2.5 2.5 0 0 1-2.5 2.5H8A2.5 2.5 0 0 1 5.5 20V8A2.5 2.5 0 0 1 8 5.5zM4 8a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4H8a4 4 0 0 1-4-4V8zm15.49 5.07a.75.75 0 1 0-.98-1.14l-2.97 2.55-2.51-2.51a.75.75 0 0 0-1.02-.04l-3.5 3a.75.75 0 1 0 .98 1.14l2.97-2.55 2.51 2.51c.28.28.72.3 1.02.04l3.5-3z"/></svg>'},465890:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 9" width="11" height="9" fill="none"><path stroke-width="2" d="M0.999878 4L3.99988 7L9.99988 1"/></svg>'},379978:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M8 5l3.5 3.5L8 12"/></svg>'},586240:e=>{"use strict";e.exports=JSON.parse('{"size-header-height":"64px","media-phone-vertical":"screen and (max-width: 479px)","media-mf-phone-landscape":"screen and (min-width: 568px)"}')},987323:e=>{e.exports={ar:["إغلاق"],ca_ES:"Close",cs:"Close",de:"Close",el:"Close",en:"Close",es:["Cierre"],fa:"Close",fr:["Fermer"],he_IL:["סגור"],hu_HU:["Zárás"],id_ID:["Tutup"],it:["Chiudi"],ja:["決済"],ko:["종"],ms_MY:["Tutup"],nl_NL:"Close",pl:["Zamknij"],pt:["Fechar"],ro:"Close",ru:["Закрыть позицию"],sv:["Stäng"],th:["ปิด"],tr:["Kapat"],vi:["Đóng"],zh:["平仓"],zh_TW:["平倉"]}},398065:e=>{e.exports={ar:["إنشاء العمود"],
ca_ES:["Configuració columna"],cs:"Column setup",de:["Säulen-Einstellung"],el:"Column setup",en:"Column setup",es:["Configuración columna"],fa:"Column setup",fr:["Configuration des colonnes"],he_IL:["הגדרת עמודות"],hu_HU:["Oszlopbeállítás"],id_ID:["Pengaturan Kolom"],it:["Impostazione colonne"],ja:["カラムの設定"],ko:["컬럼 셋업"],ms_MY:["Persediaan lajur"],nl_NL:"Column setup",pl:["Konfiguracja kolumn"],pt:["Configuração das Colunas"],ro:"Column setup",ru:["Настройка столбцов"],sv:["Ordna kolumner"],th:["ตั้งค่าคอลัมน์"],tr:["Sütun ayarları"],vi:["Thiết lập Cột"],zh:["栏目设置"],zh_TW:["欄目設定"]}},620036:e=>{e.exports={ar:["إلغاء"],ca_ES:["Cancel·la"],cs:["Zrušit"],de:["Abbrechen"],el:["Άκυρο"],en:"Cancel",es:["Cancelar"],fa:["لغو"],fr:["Annuler"],he_IL:["ביטול"],hu_HU:["Törlés"],id_ID:["Batal"],it:["Annulla"],ja:["キャンセル"],ko:["취소"],ms_MY:["Batal"],nl_NL:["Annuleren"],pl:["Anuluj"],pt:["Cancelar"],ro:"Cancel",ru:["Отмена"],sv:["Avbryt"],th:["ยกเลิก"],tr:["İptal"],vi:["Hủy bỏ"],zh:["取消"],zh_TW:["取消"]}},316075:e=>{e.exports={ar:["إلغاء أمر"],ca_ES:["Cancel·lar ordre"],cs:"Cancel Order",de:["Auftrag abbrechen"],el:"Cancel Order",en:"Cancel Order",es:["Cancelar orden"],fa:"Cancel Order",fr:["Annuler Ordre"],he_IL:["בטל פקודה"],hu_HU:["Megbízás Törlése"],id_ID:["Batalkan Order"],it:["Annulla ordine"],ja:["注文をキャンセル"],ko:["주문 취소"],ms_MY:["Batalkan Pesanan"],nl_NL:"Cancel Order",pl:["Anuluj zlecenie"],pt:["Cancelar ordem"],ro:"Cancel Order",ru:["Отменить заявку"],sv:["Avbryt order"],th:["ยกเลิกคำสั่ง"],tr:["Emir İptal"],vi:["Hủy Lệnh"],zh:["取消订单"],zh_TW:["取消報單"]}},437431:e=>{e.exports={ar:["إغلاق صفقة"],ca_ES:"Close Position",cs:"Close Position",de:["Position Schließen"],el:"Close Position",en:"Close Position",es:["Cerrar posición"],fa:"Close Position",fr:["Fermer la Position"],he_IL:["סגור פוזיציה"],hu_HU:["Záró Pozíció"],id_ID:["Tutup Posisi"],it:["Chiudi posizione"],ja:["ポジション決済"],ko:["포지션 닫기"],ms_MY:["Kedudukan Penutup"],nl_NL:"Close Position",pl:["Zamknij pozycję"],pt:["Fechar Posição"],ro:"Close Position",ru:["Закрыть позицию"],sv:["Stäng position"],th:["ปิดสถานะ"],tr:["Pozisyonu Kapat"],vi:["Đóng Trạng thái"],zh:["平仓"],zh_TW:["平倉"]}},271207:e=>{e.exports={ar:["حساب"],ca_ES:"Account",cs:"Account",de:["Benutzerkonto"],el:"Account",en:"Account",es:["Cuenta"],fa:"Account",fr:["Compte"],he_IL:["חשבון‏"],hu_HU:["Számla"],id_ID:["Akun"],it:"Account",ja:["アカウント"],ko:["계정"],ms_MY:["Akaun"],nl_NL:"Account",pl:["Rachunek"],pt:["Conta"],ro:"Account",ru:["Счёт"],sv:["Konto"],th:["แอคเคาห์"],tr:["Hesap"],vi:["Tài khoản"],zh:["账户"],zh_TW:["帳號"]}},695271:e=>{e.exports={ar:["كل"],ca_ES:["Tots"],cs:["Vše"],de:["Alle"],el:"All",en:"All",es:["Todas"],fa:["همه"],fr:["Tout"],he_IL:["הכל"],hu_HU:["Összes"],id_ID:["Seluruhnya"],it:["Tutto"],ja:["すべて"],ko:["전체"],ms_MY:["Semua"],nl_NL:"All",pl:["Wszystko"],pt:["Todos"],ro:"All",ru:["Все"],sv:["Alla"],th:["ทั้งหมด"],tr:["Tümü"],vi:["Tất cả"],zh:["全部"],zh_TW:["全部"]}},116744:e=>{e.exports={ar:["تعديل"],ca_ES:["Editar"],cs:["Upravit"],de:["Bearbeiten"],el:"Edit",en:"Edit",es:["Editar"],fa:["ویرایش"],
fr:["Editer"],he_IL:["עריכה"],hu_HU:["Szerkesztés"],id_ID:"Edit",it:["Modifica"],ja:["編集"],ko:["편집"],ms_MY:"Edit",nl_NL:["Aanpassen"],pl:["Edytuj"],pt:["Editar"],ro:"Edit",ru:["Редактировать"],sv:["Redigera"],th:["ปรับเปลียน"],tr:["Düzenle"],vi:["Chỉnh sửa"],zh:["编辑"],zh_TW:["編輯"]}},125769:e=>{e.exports={ar:["تصدير البيانات"],ca_ES:["Exporta dades"],cs:"Export data",de:["Daten exportieren"],el:"Export data",en:"Export data",es:["Exportar datos"],fa:"Export data",fr:["Exporter les données"],he_IL:["ייצוא נתונים"],hu_HU:"Export data",id_ID:["Ekspor data"],it:["Esporta dati"],ja:["データのエクスポート"],ko:["데이터 익스포트"],ms_MY:["Eksport data"],nl_NL:"Export data",pl:["Eksportuj dane"],pt:["Exportar dados"],ro:"Export data",ru:["Экспорт данных"],sv:["Exportera data"],th:["ส่งออกข้อมูล"],tr:["Verileri dışa aktar"],vi:["Xuất dữ liệu"],zh:["导出数据"],zh_TW:["匯出數據"]}},197698:e=>{e.exports={ar:["السجل"],ca_ES:"History",cs:"History",de:["Verlauf"],el:"History",en:"History",es:["Histórico"],fa:"History",fr:["Historique"],he_IL:["היסטוריה"],hu_HU:["Előzmények"],id_ID:["Histori"],it:["Storico"],ja:["履歴"],ko:["과거"],ms_MY:["Sejarah"],nl_NL:"History",pl:["Historia"],pt:["Histórico"],ro:"History",ru:["История"],sv:["Historik"],th:["ประวัติศาสตร์"],tr:["Geçmiş"],vi:["Lịch sử"],zh:["历史"],zh_TW:["歷史"]}},42168:e=>{e.exports={ar:["مراكز فردية"],ca_ES:"Individual Positions",cs:"Individual Positions",de:["Einzelpositionen"],el:"Individual Positions",en:"Individual Positions",es:["Posiciones individuales"],fa:"Individual Positions",fr:["Positions individuelles"],he_IL:"Individual Positions",hu_HU:"Individual Positions",id_ID:["Posisi Individual"],it:["Posizioni individuali"],ja:["個別ポジション"],ko:["개별 포지션"],ms_MY:["Kedudukan Individu"],nl_NL:"Individual Positions",pl:["Pojedyncze Pozycje"],pt:["Posições Individuais"],ro:"Individual Positions",ru:["Индивидуальные позиции"],sv:["Individuella positioner"],th:["สถานะส่วนบุคคล"],tr:["Bireysel Pozisyonlar"],vi:["Vị thế Cá nhân"],zh:["个人持仓"],zh_TW:["個人部位"]}},903147:e=>{e.exports={ar:["فتح الرسم البياني {symbol}"],ca_ES:"Open chart with {symbol}",cs:"Open chart with {symbol}",de:["Chart öffnen für {symbol}"],el:"Open chart with {symbol}",en:"Open chart with {symbol}",es:["Abrir gráfico con {symbol}"],fa:"Open chart with {symbol}",fr:["Ouvrir le graphique avec {symbol}"],he_IL:["פתח גרף עם {symbol}"],hu_HU:"Open chart with {symbol}",id_ID:["Buka chart {symbol}"],it:["Apri grafico {symbol}"],ja:["{symbol} のチャートを開く"],ko:["{symbol} 차트 열기"],ms_MY:["Buka carta dengan {symbol}"],nl_NL:"Open chart with {symbol}",pl:["Otwórz wykres z {symbol}"],pt:["Abrir o gráfico com {symbol}"],ro:"Open chart with {symbol}",ru:["Открыть график {symbol}"],sv:["Öppet diagram med {symbol}"],th:["เปิดชาร์ตด้วย {symbol}"],tr:["Grafiği {symbol} ile aç"],vi:["Mở biểu đồ với {symbol}"],zh:["打开{symbol}图表"],zh_TW:["打開 {symbol} 圖表"]}},293104:e=>{e.exports={ar:["أوامر التداول"],ca_ES:["Ordres"],cs:"Orders",de:"Orders",el:"Orders",en:"Orders",es:["Órdenes"],fa:"Orders",fr:["Ordres"],he_IL:["פקודות"],hu_HU:["Megbízások"],id_ID:["Order"],it:["Ordini"],
ja:["注文"],ko:["주문"],ms_MY:["Pesanan"],nl_NL:"Orders",pl:["Zlecenia"],pt:["Ordens"],ro:"Orders",ru:["Заявки"],sv:["Ordrar"],th:["ออเดอร์"],tr:["Emirler"],vi:["Lệnh"],zh:["订单"],zh_TW:["訂單"]}},433241:e=>{e.exports={ar:["تعديل الأمر"],ca_ES:["Modifica ordre"],cs:"Modify Order",de:["Order modifizieren"],el:"Modify Order",en:"Modify Order",es:["Modificar orden"],fa:"Modify Order",fr:["Modifier l'ordre"],he_IL:["שנה הוראה"],hu_HU:"Modify Order",id_ID:["Memodifikasi Order"],it:["Modifica ordine"],ja:["注文の変更"],ko:["오더 고치기"],ms_MY:["Ubah Suai Pesanan"],nl_NL:"Modify Order",pl:["Modyfikuj zlecenie"],pt:["Modificar ordem"],ro:"Modify Order",ru:["Изменить заявку"],sv:["Ändra order"],th:["แก้ไขออเดอร์"],tr:["Emir Değiştir"],vi:["Chỉnh Lệnh"],zh:["修改订单"],zh_TW:["修改訂單"]}},141610:e=>{e.exports={ar:["المزيد"],ca_ES:["Més"],cs:["Více"],de:["Mehr"],el:"More",en:"More",es:["Más"],fa:["بیشتر"],fr:["Plus"],he_IL:["עוד"],hu_HU:["Több"],id_ID:["Lebih lanjut"],it:["Altro"],ja:["詳細"],ko:["더보기"],ms_MY:["Lebih"],nl_NL:["Meer"],pl:["Więcej"],pt:["Mais"],ro:"More",ru:["Ещё"],sv:["Mer"],th:["เพิ่มเติม"],tr:["Daha Fazla"],vi:["Thêm nữa"],zh:["更多"],zh_TW:["更多"]}},386249:e=>{e.exports={ar:["سجل الإشعارات"],ca_ES:"Notifications log",cs:"Notifications log",de:["Handelsprotokoll"],el:"Notifications log",en:"Notifications log",es:["Registro de notificaciones"],fa:"Notifications log",fr:["Journal des notifications"],he_IL:["יומן התראות"],hu_HU:["Értesítési napló"],id_ID:["Log pemberitahuan"],it:["Registro notifiche"],ja:["通知履歴"],ko:["알림 로그"],ms_MY:["Log Notifikasi"],nl_NL:"Notifications log",pl:["Dziennik powiadomień"],pt:["Registro de notificações"],ro:"Notifications log",ru:["Журнал уведомлений"],sv:["Meddelandelogg"],th:["บันทึกการแจ้งเตือน"],tr:["Bildirimler"],vi:["Nhật ký thông báo"],zh:["通知日志"],zh_TW:["通知紀錄"]}},518617:e=>{e.exports={ar:["إجمالي المراكز"],ca_ES:"Net Positions",cs:"Net Positions",de:["Nettopositionen"],el:"Net Positions",en:"Net Positions",es:["Posiciones Netas"],fa:"Net Positions",fr:["Positions nettes"],he_IL:["פוזיציות נטו"],hu_HU:"Net Positions",id_ID:["Posisi Bersih"],it:["Posizioni nette"],ja:["ネットポジション"],ko:["넷 포지션"],ms_MY:["Kedudukan Bersih"],nl_NL:"Net Positions",pl:["Pozycje Netto"],pt:["Posições Líquidas"],ro:"Net Positions",ru:["Чистые позиции"],sv:["Nettopositioner"],th:["สถานะสุทธิ"],tr:["Net Pozisyonlar"],vi:["Vị thế thực"],zh:["净持仓"],zh_TW:["淨部位"]}},522382:e=>{e.exports={ar:["صف ملخص"],ca_ES:"Summary row",cs:"Summary row",de:["Zusammenfassung der Zeile"],el:"Summary row",en:"Summary row",es:["Línea de resumen"],fa:"Summary row",fr:["Ligne de résumé"],he_IL:["שורת סיכום"],hu_HU:"Summary row",id_ID:["Row rangkuman"],it:["Riga sommario"],ja:["サマリー行"],ko:["요약줄"],ms_MY:["Baris kesimpulan"],nl_NL:"Summary row",pl:["Wiersz podsumowania"],pt:["Linha de resumo"],ro:"Summary row",ru:["Информация по счёту"],sv:["Sammanfattning av rad"],th:["แถวสรุป"],tr:["Özet satırı"],vi:["Tóm tắt hàng"],zh:["摘要行"],zh_TW:["摘要行"]}},948313:e=>{e.exports={ar:["مراكز تداول"],ca_ES:["Posicions"],cs:"Positions",de:["Positionen"],el:"Positions",
en:"Positions",es:["Posiciones"],fa:"Positions",fr:"Positions",he_IL:["פוזיציות"],hu_HU:["Pozíciók"],id_ID:["Posisi"],it:["Posizioni"],ja:["ポジション"],ko:["포지션"],ms_MY:["Kedudukan"],nl_NL:"Positions",pl:["Pozycje"],pt:["Posições"],ro:"Positions",ru:["Позиции"],sv:["Positioner"],th:["ตำแหน่ง"],tr:["Pozisyonlar"],vi:["Vị thế"],zh:["持仓"],zh_TW:["持倉"]}},911810:e=>{e.exports={ar:["حماية المركز"],ca_ES:"Protect Position",cs:"Protect Position",de:["Position absichern"],el:"Protect Position",en:"Protect Position",es:["Proteger posición"],fa:"Protect Position",fr:["Protéger la position"],he_IL:["הגן על הפוזיציה."],hu_HU:"Protect Position",id_ID:["Lindungi Posisi"],it:["Proteggi posizione"],ja:["ポジション保護"],ko:["프로텍트 포지션"],ms_MY:["Melindungi Kedudukan"],nl_NL:"Protect Position",pl:["Zabezpiecz pozycję"],pt:["Proteger a posição"],ro:"Protect Position",ru:["Защитить позицию"],sv:["Skydda position"],th:["ป้องกันโพซิชั่น"],tr:["Pozisyonu Koru"],vi:["Bảo vệ Vị thế"],zh:["保护持仓"],zh_TW:["保護倉位"]}},419780:e=>{e.exports={ar:["عكس الصفقة"],ca_ES:"Reverse Position",cs:"Reverse Position",de:["Position Umkehren"],el:"Reverse Position",en:"Reverse Position",es:["Revertir posición"],fa:"Reverse Position",fr:["Inverser la Position"],he_IL:["הפוך פוזיציה"],hu_HU:["Fordított Pozíció"],id_ID:["Membalik Posisi"],it:["Inverti posizione"],ja:["ポジションを反転"],ko:["리버스 포지션"],ms_MY:["Kedudukan Terbalik"],nl_NL:"Reverse Position",pl:["Odwróć pozycje"],pt:["Reverter Posição"],ro:"Reverse Position",ru:["Перевернуть позицию"],sv:["Omvänd position"],th:["ตำแหน่งการย้อนกลับ"],tr:["Karşıt Pozisyon"],vi:["Vị thế Đảo ngược"],zh:["平仓反手"],zh_TW:["平倉反手"]}},120294:e=>{e.exports={ar:["لم يتم التعرف على الرمز. يتم عرض بيانات التداول في وضع القراءة فقط."],ca_ES:"The symbol is not recognized. Trading data is displayed in read-only mode.",cs:"The symbol is not recognized. Trading data is displayed in read-only mode.",de:["Das Symbol wird nicht erkannt. Die Trading-Daten werden im Lese-Modus angezeigt."],el:"The symbol is not recognized. Trading data is displayed in read-only mode.",en:"The symbol is not recognized. Trading data is displayed in read-only mode.",es:["No se ha reconocido el símbolo. Los datos del trading se muestran en modo de solo lectura."],fa:"The symbol is not recognized. Trading data is displayed in read-only mode.",fr:["Le symbole n'est pas reconnu. Les données de trading sont affichées en mode lecture seule."],he_IL:["הסימול אינו מזוהה. נתוני המסחר מוצגים במצב קריאה בלבד."],hu_HU:"The symbol is not recognized. Trading data is displayed in read-only mode.",id_ID:["Simbol tidak dikenali. Data trading ditampilkan dalam mode hanya-membaca."],it:["Il simbolo non è riconosciuto. I dati di trading sono mostrati in modalità di sola lettura."],ja:["シンボルが認識できません。取引データは読み取り専用で表示されています。"],ko:["알 수 없는 심볼입니다. 트레이딩 데이터는 리드-온리 모드로 디스플레이됩니다."],ms_MY:["Simbol adalah tidak dikenali. Data perdagangan ini dipaparkan dalam mod baca sahaja."],nl_NL:"The symbol is not recognized. Trading data is displayed in read-only mode.",
pl:["Symbol nie został rozpoznany. Dane handlowe są wyświetlane w trybie tylko do odczytu."],pt:["O símbolo não é reconhecido. Os dados de negociação são exibidos no modo somente leitura."],ro:"The symbol is not recognized. Trading data is displayed in read-only mode.",ru:["Символ не распознаётся. Торговые данные будут отображаться режиме только для чтения."],sv:["Symbolen känns inte igen. Handelsdata visas i skrivskyddat läge."],th:["ไม่รู้จักสัญลักษณ์ ข้อมูลการซื้อขายจะแสดงในโหมดอ่านอย่างเดียว"],tr:["Sembol tanınmıyor. İşlem verileri ancak salt okunur modda görüntülenebilir."],vi:["Mã giao dịch không được xác nhận. Dữ liệu giao dịch được hiển thị ở chế độ chỉ đọc."],zh:["此商品代码无法识别。交易数据以只读模式显示。"],zh_TW:["此商品代碼無法識別。交易數據以唯讀模式顯示。"]}},721801:e=>{e.exports={ar:["لا توجد مراكز مفتوحة في حساب تداولك حتى الآن"],ca_ES:"There are no open positions in your trading account yet",cs:"There are no open positions in your trading account yet",de:["Es gibt noch keine offenen Positionen in Ihrem Handelskonto"],el:"There are no open positions in your trading account yet",en:"There are no open positions in your trading account yet",es:["Aún no hay posiciones abiertas en su cuenta de trading"],fa:"There are no open positions in your trading account yet",fr:["Il n'y a pas encore de positions ouvertes sur votre compte de trading"],he_IL:["עדיין אין פוזיציות פתוחות בחשבון המסחר שלך"],hu_HU:"There are no open positions in your trading account yet",id_ID:["Belum ada posisi terbuka di akun trading anda"],it:["Non ci sono ancora posizioni aperte nel tuo conto trading"],ja:["あなたの取引口座には未決済のポジションはありません"],ko:["아직 거래 계좌에 열린 포지션이 없습니다."],ms_MY:["Tiada posisi dibuka pada akaun dagangan anda lagi"],nl_NL:"There are no open positions in your trading account yet",pl:["Na Twoim rachunku handlowym nie ma jeszcze otwartych pozycji"],pt:["Ainda não há posições abertas em sua conta de negociação"],ro:"There are no open positions in your trading account yet",ru:["На вашем торговом счёте пока нет открытых позиций"],sv:["Det finns ännu inga öppna positioner på ditt handelskonto"],th:"There are no open positions in your trading account yet",tr:["Yatırım hesabınızda henüz açık pozisyon yok"],vi:["Chưa có vị thế mở cho tài khoản giao dịch của bạn"],zh:["您的交易账户中还没有未平仓位"],zh_TW:["您的交易帳戶中沒有未結部位"]}},446630:e=>{e.exports={ar:["لا توجد بيانات تداول هنا حتى الآن"],ca_ES:"There is no trading data here yet",cs:"There is no trading data here yet",de:["Es gibt hier noch keine Handelsdaten"],el:"There is no trading data here yet",en:"There is no trading data here yet",es:["Aún no hay datos de trading aquí"],fa:"There is no trading data here yet",fr:["Il n'y a pas encore de données de trading ici"],he_IL:["אין כאן עדיין נתוני מסחר"],hu_HU:"There is no trading data here yet",id_ID:["Belum tersedia data trading di sini"],it:["Non ci sono ancora dati di trading"],ja:["ここにはまだ取引データはありません"],ko:["아직 거래 데이터가 없습니다."],ms_MY:["Tiada data dagangan di sini lagi"],nl_NL:"There is no trading data here yet",pl:["Nie ma tu jeszcze żadnych danych handlowych"],
pt:["Ainda não há dados de negociação aqui"],ro:"There is no trading data here yet",ru:["Здесь пока нет данных о сделках"],sv:["Det finns ingen handelsdata här ännu"],th:"There is no trading data here yet",tr:["Burada henüz işlem verisi yok"],vi:["Chưa có dữ liệu giao dịch ở đây"],zh:["这里暂无交易数据"],zh_TW:["這裡還沒有交易數據"]}},767369:e=>{e.exports={ar:["عنوان"],ca_ES:["Títol"],cs:"Title",de:["Titel"],el:"Title",en:"Title",es:["Título"],fa:"Title",fr:["Titre"],he_IL:["כותרת"],hu_HU:["Cím"],id_ID:["Judul"],it:["Titolo"],ja:["タイトル"],ko:["타이틀"],ms_MY:["Tajuk"],nl_NL:"Title",pl:["Tytuł"],pt:["Título"],ro:"Title",ru:["Заголовок"],sv:["Titel"],th:["หัวเรื่อง"],tr:["Başlık"],vi:["Tiêu đề"],zh:["标题"],zh_TW:["標題"]}},670360:e=>{e.exports={ar:["ضبط إعدادات التداول"],ca_ES:"Trading Settings",cs:"Trading Settings",de:["Trading Einstelllungen"],el:"Trading Settings",en:"Trading Settings",es:["Configuración del trading"],fa:"Trading Settings",fr:["Paramètres de trading"],he_IL:["הגדרות מסחר"],hu_HU:"Trading Settings",id_ID:["Pengaturan Trading"],it:["Impostazioni trading"],ja:["トレード設定"],ko:["트레이딩 세팅"],ms_MY:["Tetapan Dagangan"],nl_NL:"Trading Settings",pl:["Ustawienia tradingowe"],pt:["Preferências de Negociação"],ro:"Trading Settings",ru:["Настройки торговли"],sv:["Inställningar för handel"],th:["การตั้งค่าการซื้อขาย"],tr:["İşlem Ayarları"],vi:["Cài đặt Giao dịch"],zh:["交易设置"],zh_TW:["交易設定"]}}}]);