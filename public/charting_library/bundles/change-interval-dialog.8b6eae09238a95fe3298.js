(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[2077],{48450:e=>{e.exports={dialog:"dialog-23lGwisF",dialogInner:"dialogInner-23lGwisF",titleWrapper:"titleWrapper-23lGwisF",title:"title-23lGwisF",infoHint:"infoHint-23lGwisF",form:"form-23lGwisF",inputWrapper:"inputWrapper-23lGwisF",input:"input-23lGwisF",hint:"hint-23lGwisF",error:"error-23lGwisF"}},21659:(e,t,n)=>{"use strict";n.d(t,{Icon:()=>i});var r=n(67294);const i=r.forwardRef((e,t)=>{const{icon:n="",...i}=e;return r.createElement("span",{...i,ref:t,dangerouslySetInnerHTML:{__html:n}})})},76480:(e,t,n)=>{"use strict";function r(e){return o(e,s)}function i(e){return o(e,a)}function o(e,t){const n=Object.entries(e).filter(t),r={};for(const[e,t]of n)r[e]=t;return r}function s(e){const[t,n]=e;return 0===t.indexOf("data-")&&"string"==typeof n}function a(e){return 0===e[0].indexOf("aria-")}n.d(t,{filterDataProps:()=>r,filterAriaProps:()=>i,filterProps:()=>o,isDataAttribute:()=>s,isAriaAttribute:()=>a})},5663:(e,t,n)=>{"use strict";n.r(t),n.d(t,{showChangeIntervalDialog:()=>C});var r=n(67294),i=n(73935),o=n(94184),s=n.n(o),a=n(74245),l=n(50268),c=n(72913),u=n(79442),d=n(23593),h=n(21659),p=n(98646);const g=(0,a.t)("Type the interval number for minute charts (i.e. 5 if it is going to be a five minute chart). Or number plus letter for H (Hourly), D (Daily), W (Weekly), M (Monthly) intervals (i.e. D or 2H)"),m=(0,a.t)("Type the interval number for minute charts (i.e. 5 if it's going to be a five minute chart). Or number plus letter for other intervals: S for 1 second chart (15S for 15 second chart, etc.), H (Hourly), D (Daily), W (Weekly), M (Monthly) intervals (i.e. D or 2H)");function f(e){const{className:t,isSecondsEnabled:n}=e;return r.createElement(h.Icon,{icon:p,className:s()("apply-common-tooltip",t),title:n?m:g})}var v=n(45733),w=n(61250);var y=n(69938),_=n(48450);function x(e){const{initVal:t,selectOnInit:n,onClose:i}=e,o=(0,r.useRef)(null),[h,p]=(0,r.useState)(t.toUpperCase()),g=(0,r.useMemo)(()=>(0,v.parseIntervalValue)(h),[h]),m=function(e,t){return(0,r.useMemo)(()=>{let n=!t.error&&(0,v.intervalIsSupported)(e);if(!n)return!1;const r=t.unit;if("R"===r&&t.qty>(0,w.getMaxResolutionValue)("R"))n=!1;else if(null===r||"H"===r){t.qty*("H"===r?60:1)>(0,w.getMaxResolutionValue)("1")&&(n=!1)}else"S"===r?t.qty>(0,w.getMaxResolutionValue)("S")&&(n=!1):"T"===r&&1!==t.qty&&(n=!1);return n},[e,t])}(h,g),x=(0,r.useMemo)(()=>{if(!m)return null;const e=g.qty+(g.unit||"");return(0,w.getTranslatedResolutionModel)(e).hint},[m,g]);return(0,r.useLayoutEffect)(()=>{var e,t;n?null===(e=o.current)||void 0===e||e.select():null===(t=o.current)||void 0===t||t.focus()},[n]),r.createElement(d.PopupDialog,{className:_.dialog,"data-dialog-name":"change-interval-dialog",isOpened:!0,onClickOutside:i,onFocus:function(){var e;null===(e=o.current)||void 0===e||e.focus()},onKeyDown:function(e){27===e.keyCode&&(null==i||i())}},r.createElement("div",{className:_.dialogInner},r.createElement("div",{className:_.titleWrapper},r.createElement("div",{className:_.title},(0,
a.t)("Change interval")),r.createElement(f,{className:_.infoHint,isSecondsEnabled:(0,w.isSecondsEnabled)()})),r.createElement("form",{className:_.form,onSubmit:function(e){e.preventDefault();const t=u.linking.interval.value(),n=y.Interval.normalize(h);n&&t!==n&&m&&(r=n,(0,w.setLastUsedResolution)(r),u.linking.interval.setValue(r));var r;null==i||i()}},r.createElement(l.InputControl,{className:s()(_.inputWrapper,c.InputClasses.FontSizeLarge),inputClassName:_.input,type:"text",size:"large",reference:o,value:h,maxLength:8,intent:m?void 0:"danger",onChange:function(e){const{value:t}=e.target;p(t.toUpperCase())}})),m?r.createElement("div",{className:_.hint},x):r.createElement("div",{className:s()(_.hint,_.error)},(0,a.t)("Not applicable"))))}var E=n(23193);function C(e){if(E.dialogsOpenerManager.isOpened("ChangeIntervalDialog")||E.dialogsOpenerManager.isOpened("SymbolSearch"))return;const t=document.createElement("div"),{initVal:n,selectOnInit:o,onClose:s}=e,a=r.createElement(x,{initVal:n,selectOnInit:o,onClose:function(){i.unmountComponentAtNode(t),E.dialogsOpenerManager.setAsClosed("ChangeIntervalDialog"),null==s||s()}});i.render(a,t),E.dialogsOpenerManager.setAsOpened("ChangeIntervalDialog")}},28675:(e,t,n)=>{"use strict";function r(e,t,n,r,i){function o(i){if(e>i.timeStamp)return;const o=i.target;void 0!==n&&null!==t&&null!==o&&o.ownerDocument===r&&(t.contains(o)||n(i))}return i.click&&r.addEventListener("click",o,!1),i.mouseDown&&r.addEventListener("mousedown",o,!1),i.touchEnd&&r.addEventListener("touchend",o,!1),i.touchStart&&r.addEventListener("touchstart",o,!1),()=>{r.removeEventListener("click",o,!1),r.removeEventListener("mousedown",o,!1),r.removeEventListener("touchend",o,!1),r.removeEventListener("touchstart",o,!1)}}n.d(t,{addOutsideEventListener:()=>r})},11140:(e,t,n)=>{"use strict";n.d(t,{setFixedBodyState:()=>l});var r=n(76861);const i=()=>!window.matchMedia("screen and (min-width: 768px)").matches,o=()=>!window.matchMedia("screen and (min-width: 1280px)").matches;let s=0,a=!1;function l(e){const{body:t}=document,n=t.querySelector(".widgetbar-wrap");if(e&&1==++s){const e=(0,r.getCSSProperty)(t,"overflow"),i=(0,r.getCSSPropertyNumericValue)(t,"padding-right");"hidden"!==e.toLowerCase()&&t.scrollHeight>t.offsetHeight&&((0,r.setStyle)(n,"right",(0,r.getScrollbarWidth)()+"px"),t.style.paddingRight=i+(0,r.getScrollbarWidth)()+"px",a=!0),t.classList.add("i-no-scroll")}else if(!e&&s>0&&0==--s&&(t.classList.remove("i-no-scroll"),a)){(0,r.setStyle)(n,"right","0px");let e=0;e=n?(l=(0,r.getContentWidth)(n),i()?0:o()?46:Math.min(Math.max(l,46),450)):0,t.scrollHeight<=t.clientHeight&&(e-=(0,r.getScrollbarWidth)()),t.style.paddingRight=(e<0?0:e)+"px",a=!1}var l}},23193:(e,t,n)=>{"use strict";n.d(t,{DialogsOpenerManager:()=>r,dialogsOpenerManager:()=>i});class r{constructor(){this._storage=new Map}setAsOpened(e,t){this._storage.set(e,t)}setAsClosed(e){this._storage.delete(e)}isOpened(e){return this._storage.has(e)}getDialogPayload(e){return this._storage.get(e)}}const i=new r},18351:(e,t,n)=>{"use strict";n.d(t,{
useOutsideEvent:()=>o});var r=n(67294),i=n(28675);function o(e){const{click:t,mouseDown:n,touchEnd:o,touchStart:s,handler:a,reference:l,ownerDocument:c=document}=e,u=(0,r.useRef)(null),d=(0,r.useRef)(new CustomEvent("timestamp").timeStamp);return(0,r.useLayoutEffect)(()=>{const e={click:t,mouseDown:n,touchEnd:o,touchStart:s},r=l?l.current:u.current;return(0,i.addOutsideEventListener)(d.current,r,a,c,e)},[t,n,o,s,a]),l||u}},28595:(e,t,n)=>{"use strict";n.d(t,{OverlapManager:()=>o,getRootOverlapManager:()=>a});var r=n(16282);class i{constructor(){this._storage=[]}add(e){this._storage.push(e)}remove(e){this._storage=this._storage.filter(t=>e!==t)}has(e){return this._storage.includes(e)}getItems(){return this._storage}}class o{constructor(e=document){this._storage=new i,this._windows=new Map,this._index=0,this._document=e,this._container=e.createDocumentFragment()}setContainer(e){const t=this._container,n=null===e?this._document.createDocumentFragment():e;!function(e,t){Array.from(e.childNodes).forEach(e=>{e.nodeType===Node.ELEMENT_NODE&&t.appendChild(e)})}(t,n),this._container=n}registerWindow(e){this._storage.has(e)||this._storage.add(e)}ensureWindow(e,t={position:"fixed",direction:"normal"}){const n=this._windows.get(e);if(void 0!==n)return n;this.registerWindow(e);const r=this._document.createElement("div");if(r.style.position=t.position,r.style.zIndex=this._index.toString(),r.dataset.id=e,void 0!==t.index){const e=this._container.childNodes.length;if(t.index>=e)this._container.appendChild(r);else if(t.index<=0)this._container.insertBefore(r,this._container.firstChild);else{const e=this._container.childNodes[t.index];this._container.insertBefore(r,e)}}else"reverse"===t.direction?this._container.insertBefore(r,this._container.firstChild):this._container.appendChild(r);return this._windows.set(e,r),++this._index,r}unregisterWindow(e){this._storage.remove(e);const t=this._windows.get(e);void 0!==t&&(null!==t.parentElement&&t.parentElement.removeChild(t),this._windows.delete(e))}getZindex(e){const t=this.ensureWindow(e);return parseInt(t.style.zIndex||"0")}moveToTop(e){if(this.getZindex(e)!==this._index){this.ensureWindow(e).style.zIndex=(++this._index).toString()}}removeWindow(e){this.unregisterWindow(e)}}const s=new WeakMap;function a(e=document){const t=e.getElementById("overlap-manager-root");if(null!==t)return(0,r.ensureDefined)(s.get(t));{const t=new o(e),n=function(e){const t=e.createElement("div");return t.style.position="absolute",t.style.zIndex=150..toString(),t.style.top="0px",t.style.left="0px",t.id="overlap-manager-root",t}(e);return s.set(n,t),t.setContainer(n),e.body.appendChild(n),t}}},22165:(e,t,n)=>{"use strict";n.d(t,{Portal:()=>l,PortalContext:()=>c});var r=n(67294),i=n(73935),o=n(80068),s=n(28595),a=n(66189);class l extends r.PureComponent{constructor(){super(...arguments),this._uuid=(0,o.guid)()}componentWillUnmount(){this._manager().removeWindow(this._uuid)}render(){const e=this._manager().ensureWindow(this._uuid,this.props.layerOptions);return e.style.top=this.props.top||"",
e.style.bottom=this.props.bottom||"",e.style.left=this.props.left||"",e.style.right=this.props.right||"",e.style.pointerEvents=this.props.pointerEvents||"",i.createPortal(r.createElement(c.Provider,{value:this},this.props.children),e)}moveToTop(){this._manager().moveToTop(this._uuid)}_manager(){return null===this.context?(0,s.getRootOverlapManager)():this.context}}l.contextType=a.SlotContext;const c=r.createContext(null)},66189:(e,t,n)=>{"use strict";n.d(t,{Slot:()=>i,SlotContext:()=>o});var r=n(67294);class i extends r.Component{shouldComponentUpdate(){return!1}render(){return r.createElement("div",{style:{position:"fixed",zIndex:150,left:0,top:0},ref:this.props.reference})}}const o=r.createContext(null)},98646:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M8 8.5h1.5V14"/><circle fill="currentColor" cx="9" cy="5" r="1"/><path stroke="currentColor" d="M16.5 9a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0z"/></svg>'}}]);