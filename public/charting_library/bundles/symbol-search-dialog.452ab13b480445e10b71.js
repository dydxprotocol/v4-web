(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[1754],{87857:e=>{e.exports={dialog:"dialog-19oA2XwG",tabletDialog:"tabletDialog-19oA2XwG",desktopDialog:"desktopDialog-19oA2XwG"}},59404:e=>{e.exports={button:"button-2zRC9WmY",disabled:"disabled-2zRC9WmY"}},49946:(e,t,o)=>{"use strict";o.d(t,{isPlatformMobile:()=>l});var i=o(5844);o(7424),o(85452);function l(){return!(0,i.isOnMobileAppPage)("any")&&(window.matchMedia("(min-width: 602px) and (min-height: 445px)").matches,!1)}},9176:(e,t,o)=>{"use strict";o.r(t),o.d(t,{Components:()=>k,showDefaultSearchDialog:()=>T,showSymbolSearchItemsDialog:()=>s.showSymbolSearchItemsDialog});var i=o(79442),l=o(89505),n=o(45733),a=o(95870),s=o(87971),r=o(67294),c=o(16282),d=o(57787),u=o(18598),h=o(57460),m=o(94184),f=o.n(m),v=o(74245),S=o(65205),g=o(61605),p=o(41534),b=o(40687),I=o(46146);function w(e){const{isSelected:t,existInWatchlist:o,findInWatchlist:i,addToWatchlist:l,removeFromWatchlist:n}=e,{selectedAction:a}=(0,c.ensureNotNull)((0,r.useContext)(u.SymbolSearchWatchlistContext));return r.createElement(r.Fragment,null,o?r.createElement(r.Fragment,null,r.createElement(S.ListItemButton,{className:f()(I.action,I.removeAction,t&&2===a&&I.selected,"apply-common-tooltip"),onClick:n,icon:g,title:(0,v.t)("Remove from Watchlist")}),r.createElement(S.ListItemButton,{className:f()(I.action,I.targetAction,t&&1===a&&I.selected,"apply-common-tooltip"),onClick:i,icon:b,title:(0,v.t)("Go to symbol")})):r.createElement(S.ListItemButton,{className:f()(I.action,I.addAction,t&&0===a&&I.selected,"apply-common-tooltip"),onClick:l,icon:p,title:(0,v.t)("Add to Watchlist")}))}var C=o(69397),D=o(42254),W=o(34318),x=o(59385);var A=o(94459),y=o(87857);(0,o(49946).isPlatformMobile)();function T(e){const t=(0,a.getSymbolSearchCompleteOverrideFunction)(),{defaultValue:o,showSpreadActions:l,source:r,onSearchComplete:c,...d}=e,u={...d,showSpreadActions:null!=l?l:(0,n.canShowSpreadActions)(),onSearchComplete:e=>{t(e[0].symbol).then(e=>{i.linking.symbol.setValue(e),null==c||c(e)})}};(0,s.showSymbolSearchItemsDialog)({...u,defaultValue:o})}const k={SymbolSearchWatchlistDialogContentItem:function(e){const{addToWatchlist:t,removeFromWatchlist:o,findInWatchlist:i,existInWatchlist:n,isSelected:a,fullSymbolName:s,...m}=e,{onClose:f,searchRef:v,searchSpreads:S}=(0,c.ensureNotNull)((0,r.useContext)(h.SymbolSearchItemsDialogContext)),{setSelectedAction:g,isSpreadOrMultipleMode:p,addAfter:b,clearTargetSymbol:I,highlighted:A,highlight:y}=(0,c.ensureNotNull)((0,r.useContext)(u.SymbolSearchWatchlistContext)),T=p(S,v);return(0,r.useLayoutEffect)(()=>{a&&g(void 0!==n?n?2:0:null)},[a,n]),r.createElement(d.SymbolSearchDialogContentItem,{...m,fullSymbolName:s,onClick:T?e.onClick:function(i){if(void 0===s)return;if(void 0===n)return void(0,c.ensureDefined)(e.onClick)(i);n?(o(W.WATCHLIST_WIDGET_ID,s),E("watchlist remove click",i),b===s&&I()):((0,x.runOrSignIn)(()=>{t(W.WATCHLIST_WIDGET_ID,[s],b),e.id&&y(e.id)},{source:"add symbol to watchlist"}),E("watchlist add click",i));k(i)},isHighlighted:A===e.id,
isSelected:a,actions:void 0===n||T?void 0:r.createElement(w,{isSelected:a,existInWatchlist:n,addToWatchlist:function(o){if(o.stopPropagation(),void 0===s)return;(0,x.runOrSignIn)(()=>{t(W.WATCHLIST_WIDGET_ID,[s],b),e.id&&y(e.id)},{source:"add symbol to watchlist"}),k(o),E("watchlist add button",o)},removeFromWatchlist:function(e){if(e.stopPropagation(),void 0===s)return;o(W.WATCHLIST_WIDGET_ID,s),k(e),E("watchlist remove button",e),b===s&&I()},findInWatchlist:function(e){if(e.stopPropagation(),void 0===s)return;i(W.WATCHLIST_WIDGET_ID,s),f(),E("watchlist goto button")}})});function k(e){var t;(0,C.modifiersFromEvent)(e)===C.Modifiers.Shift?f():l.mobiletouch||null===(t=v.current)||void 0===t||t.select()}function E(e,t){let o=e;t&&(0,C.modifiersFromEvent)(t)===C.Modifiers.Shift&&(o+=" shift"),(0,D.trackEvent)("GUI","SS",o)}},SymbolSearchWatchlistDialog:function(e){const{addToWatchlist:t,removeFromWatchlist:o,findInWatchlist:i,...l}=e,{feedItems:n,searchRef:a,searchSpreads:s,openedItems:d,selectedIndex:m,toggleExpand:v,onSubmit:S,setSelectedIndex:g,onClose:p,isMobile:b,isTablet:I}=(0,c.ensureNotNull)((0,r.useContext)(h.SymbolSearchItemsDialogContext)),{selectedAction:w,setSelectedAction:D,isSpreadOrMultipleMode:T,addAfter:k,clearTargetSymbol:E,highlight:N}=(0,c.ensureNotNull)((0,r.useContext)(u.SymbolSearchWatchlistContext)),_=n[m];return r.createElement(A.AdaptivePopupDialog,{...l,className:f()(y.dialog,!b&&(I?y.tabletDialog:y.desktopDialog)),dataName:"watchlist-symbol-search-dialog",onKeyDown:function(e){var t;switch((0,C.hashFromEvent)(e)){case 38:if(e.preventDefault(),0===m)return;if(-1===m)return void g(0);g(m-1);break;case 40:if(e.preventDefault(),m===n.length-1)return;g(m+1);break;case 37:{if(!_)return;const{id:t,isOffset:o,onExpandClick:i}=_;if(!o&&t&&Boolean(i)&&d.has(t))return e.preventDefault(),void v(t);1===w&&(e.preventDefault(),D(2));break}case 39:{if(!_)return;const{id:t,isOffset:o,onExpandClick:i}=_;if(!o&&t&&Boolean(i)&&!d.has(t))return e.preventDefault(),void v(t);2===w&&(e.preventDefault(),D(1));break}case 13:if(T(s,a))return void S(!0);_?M(!1):S(!1),null===(t=a.current)||void 0===t||t.select();break;case 13+C.Modifiers.Shift:if(T(s,a))return void S(!0);_?M(!0):S(!0);break;case 27:e.preventDefault(),p()}},backdrop:!0,draggable:!1});function M(e){if(!_||void 0===_.fullSymbolName)return;const{fullSymbolName:l,isOffset:n,id:a,onExpandClick:s}=_;if(!n&&a&&Boolean(s))v(a);else{switch(w){case 0:(0,x.runOrSignIn)(()=>{t(W.WATCHLIST_WIDGET_ID,[l],k),_.id&&N(_.id)},{source:"add symbol to watchlist"});break;case 1:return i(W.WATCHLIST_WIDGET_ID,l),void p();case 2:o(W.WATCHLIST_WIDGET_ID,l),k===l&&E()}e&&p()}}}}},18598:(e,t,o)=>{"use strict";o.d(t,{SymbolSearchWatchlistContext:()=>i});const i=o(67294).createContext(null)},59385:(e,t,o)=>{"use strict";o.d(t,{runOrSignIn:()=>i});function i(e,t){e()}},65205:(e,t,o)=>{"use strict";o.d(t,{ListItemButton:()=>r});var i=o(67294),l=o(94184),n=o.n(l),a=o(21659),s=o(59404);function r(e){const{className:t,disabled:o,...l}=e;return i.createElement(a.Icon,{
className:n()(s.button,o&&s.disabled,t),...l})}},61605:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path stroke="currentColor" stroke-width="1.2" d="M8 8l13 13m0-13L8 21"/></svg>'},41534:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M13.9 14.1V22h1.2v-7.9H23v-1.2h-7.9V5h-1.2v7.9H6v1.2h7.9z"/></svg>'},40687:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M14 9.5a.5.5 0 0 0 1 0V7.02A6.5 6.5 0 0 1 20.98 13H18.5a.5.5 0 0 0 0 1h2.48A6.5 6.5 0 0 1 15 19.98V17.5a.5.5 0 0 0-1 0v2.48A6.5 6.5 0 0 1 8.02 14h2.48a.5.5 0 0 0 0-1H8.02A6.5 6.5 0 0 1 14 7.02V9.5zm1-3.48V4.5a.5.5 0 0 0-1 0v1.52A7.5 7.5 0 0 0 7.02 13H5.5a.5.5 0 0 0 0 1h1.52A7.5 7.5 0 0 0 14 20.98v1.52a.5.5 0 0 0 1 0v-1.52A7.5 7.5 0 0 0 21.98 14h1.52a.5.5 0 0 0 0-1h-1.52A7.5 7.5 0 0 0 15 6.02z"/></svg>'}}]);