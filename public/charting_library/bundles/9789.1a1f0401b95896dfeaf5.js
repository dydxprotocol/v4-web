(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[9789],{693676:e=>{e.exports={wrapper:"wrapper-RoaZjf69",select:"select-RoaZjf69",selectMenu:"selectMenu-RoaZjf69",dateTimePickerWrapper:"dateTimePickerWrapper-RoaZjf69",dateTimePickerInput:"dateTimePickerInput-RoaZjf69",focused:"focused-RoaZjf69",icon:"icon-RoaZjf69",title:"title-RoaZjf69"}},972404:e=>{e.exports={wrapper:"wrapper-Dg2Jb5Mv",title:"title-Dg2Jb5Mv",dateTimeWrapper:"dateTimeWrapper-Dg2Jb5Mv",mobileDateTimeWrapper:"mobileDateTimeWrapper-Dg2Jb5Mv",mobilePickerControl:"mobilePickerControl-Dg2Jb5Mv",mobileDateInputContainer:"mobileDateInputContainer-Dg2Jb5Mv",mobileDateInput:"mobileDateInput-Dg2Jb5Mv",mobileDateInputIcon:"mobileDateInputIcon-Dg2Jb5Mv",timeInput:"timeInput-Dg2Jb5Mv",buttonWrapper:"buttonWrapper-Dg2Jb5Mv",button:"button-Dg2Jb5Mv"}},649789:(e,t,a)=>{"use strict";a.d(t,{DurationControl:()=>U});var n=a(509806),i=a(50959),o=a(601227),r=a(654936),l=a(72571),s=a(102691),u=a(476853),g=a(481330),_=a(466052),c=a.n(_),m=a(28466),d=a(529631),p=a(192063),h=a(518799),b=a(930052),w=a(996038),f=a(650151)
;const D=JSON.parse('{"ar_AE":{"language":"ar","language_name":"العربية","flag":"ae","geoip_code":"ae","countries_with_this_language":["ae","bh","dj","dz","eg","er","iq","jo","km","kw","lb","ly","ma","mr","om","qa","sa","sd","so","sy","td","tn","ye"],"priority":500,"dir":"rtl","iso":"ar","iso_639_3":"arb","show_on_widgets":true,"global_name":"Arabic"},"br":{"language":"pt","language_name":"Português","flag":"br","geoip_code":"br","priority":650,"iso":"pt","iso_639_3":"por","show_on_widgets":true,"global_name":"Portuguese"},"ca_ES":{"language":"ca_ES","language_name":"Català","flag":"es","geoip_code":"es","priority":745,"iso":"ca","iso_639_3":"cat","disabled":true,"show_on_widgets":true,"global_name":"Catalan"},"cs":{"language":"cs","language_name":"Czech","flag":"cz","geoip_code":"cz","priority":718,"iso":"cs","iso_639_3":"ces","show_on_widgets":true,"global_name":"Czech","is_in_european_union":true,"isBattle":true},"de_DE":{"language":"de","language_name":"Deutsch","flag":"de","geoip_code":"de","countries_with_this_language":["at","ch"],"priority":756,"iso":"de","iso_639_3":"deu","show_on_widgets":true,"global_name":"German","is_in_european_union":true},"en":{"language":"en","language_name":"English","flag":"us","geoip_code":"us","priority":1000,"iso":"en","iso_639_3":"eng","show_on_widgets":true,"global_name":"English","is_only_recommended_tw_autorepost":true},"es":{"language":"es","language_name":"Español","flag":"es","geoip_code":"es","countries_with_this_language":["mx","ar","ve","cl","co","pe","uy","py","cr","gt","c","bo","pa","pr"],"priority":744,"iso":"es","iso_639_3":"spa","show_on_widgets":true,"global_name":"Spanish","is_in_european_union":true},"fa_IR":{"language":"fa","language_name":"فارسى","flag":"ir","geoip_code":"ir","priority":480,"dir":"rtl","iso":"fa","iso_639_3":"fas","show_on_widgets":false,"global_name":"Iranian","disabled":true},"fr":{"language":"fr","language_name":"Français","flag":"fr","geoip_code":"fr","priority":750,"iso":"fr","iso_639_3":"fra","show_on_widgets":true,"global_name":"French","is_in_european_union":true},"he_IL":{"language":"he_IL","language_name":"עברית","flag":"il","geoip_code":"il","priority":490,"dir":"rtl","iso":"he","iso_639_3":"heb","show_on_widgets":true,"global_name":"Israeli"},"hu_HU":{"language":"hu_HU","language_name":"Magyar","flag":"hu","geoip_code":"hu","priority":724,"iso":"hu","iso_639_3":"hun","show_on_widgets":true,"global_name":"Hungarian","is_in_european_union":true,"disabled":true},"id":{"language":"id_ID","language_name":"Bahasa Indonesia","flag":"id","geoip_code":"id","priority":648,"iso":"id","iso_639_3":"ind","show_on_widgets":true,"global_name":"Indonesian"},"in":{"language":"en","language_name":"English ‎(India)‎","flag":"in","geoip_code":"in","priority":800,"iso":"en","iso_639_3":"eng","show_on_widgets":true,"global_name":"Indian"},"it":{"language":"it","language_name":"Italiano","flag":"it","geoip_code":"it","priority":737,"iso":"it","iso_639_3":"ita","show_on_widgets":true,"global_name":"Italian","is_in_european_union":true},"ja":{"language":"ja","language_name":"日本語","flag":"jp","geoip_code":"jp","priority":600,"iso":"ja","iso_639_3":"jpn","show_on_widgets":true,"global_name":"Japanese"},"kr":{"language":"ko","language_name":"한국어","flag":"kr","geoip_code":"kr","priority":550,"iso":"ko","iso_639_3":"kor","show_on_widgets":true,"global_name":"Korean"},"ms_MY":{"language":"ms_MY","language_name":"Bahasa Melayu","flag":"my","geoip_code":"my","priority":647,"iso":"ms","iso_639_3":"zlm","show_on_widgets":true,"global_name":"Malaysian"},"pl":{"language":"pl","language_name":"Polski","flag":"pl","geoip_code":"pl","priority":725,"iso":"pl","iso_639_3":"pol","show_on_widgets":true,"global_name":"Polish","is_in_european_union":true},"ru":{"language":"ru","language_name":"Русский","flag":"ru","geoip_code":"ru","countries_with_this_language":["am","by","kg","kz","md","tj","tm","uz"],"priority":700,"iso":"ru","iso_639_3":"rus","show_on_widgets":true,"global_name":"Russian","is_only_recommended_tw_autorepost":true},"sv_SE":{"language":"sv","language_name":"Svenska","flag":"se","geoip_code":"se","priority":723,"iso":"sv","iso_639_3":"swe","show_on_widgets":true,"global_name":"Swedish","is_in_european_union":true},"th_TH":{"language":"th","language_name":"ภาษาไทย","flag":"th","geoip_code":"th","priority":646,"iso":"th","iso_639_3":"tha","show_on_widgets":true,"global_name":"Thai"},"tr":{"language":"tr","language_name":"Türkçe","flag":"tr","geoip_code":"tr","priority":713,"iso":"tr","iso_639_3":"tur","show_on_widgets":true,"global_name":"Turkish","is_only_recommended_tw_autorepost":true},"vi_VN":{"language":"vi","language_name":"Tiếng Việt","flag":"vn","geoip_code":"vn","priority":645,"iso":"vi","iso_639_3":"vie","show_on_widgets":true,"global_name":"Vietnamese"},"zh_CN":{"language":"zh","language_name":"简体中文","flag":"cn","geoip_code":"cn","countries_with_this_language":["zh"],"priority":537,"iso":"zh-Hans","iso_639_3":"cmn","show_on_widgets":true,"global_name":"Chinese"},"zh_TW":{"language":"zh_TW","language_name":"繁體中文","flag":"tw","geoip_code":"tw","countries_with_this_language":["hk"],"priority":536,"iso":"zh-Hant","iso_639_3":"cmn","show_on_widgets":true,"global_name":"Taiwanese"},"el":{"language":"el","language_name":"Greek","flag":"gr","geoip_code":"gr","priority":625,"iso":"el","iso_639_3":"ell","global_name":"Greek","is_in_european_union":true,"isBattle":true},"nl_NL":{"language":"nl_NL","language_name":"Dutch","flag":"nl","geoip_code":"nl","priority":731,"iso":"nl","iso_639_3":"nld","global_name":"Dutch","is_in_european_union":true,"isBattle":true},"ro":{"language":"ro","language_name":"Romanian","flag":"ro","geoip_code":"ro","priority":707,"iso":"ro","iso_639_3":"ron","global_name":"Romanian","is_in_european_union":true,"isBattle":true}}'),y=function(){
const e=document.querySelectorAll("link[rel~=link-locale][data-locale]");if(0===e.length)return D;const t={};return e.forEach((e=>{const a=(0,f.ensureNotNull)(e.getAttribute("data-locale"));t[a]={...D[a],href:e.href}})),t}();const v=(k=k||window.locale,null===(T=y[k])||void 0===T?void 0:T.iso);var k,T;const I=new Intl.DateTimeFormat(v,{hour:"2-digit",minute:"2-digit"});function M(e){return I.format(e)}function C(e,t){return(t.hasDatePicker?function(e){const t=e.toLocaleString(v,{day:"2-digit"}),a=e.toLocaleString(v,{month:"2-digit"});return`${e.toLocaleString(v,{year:"numeric"})}-${a}-${t}`}(e):"")+(t.hasTimePicker?", "+M(e):"")}var E=a(805184),S=a(350324),P=a(493173),N=a(626458),j=a(44807),z=a(508550),W=a(614793),H=a(972404);const R=(0,P.mergeThemes)(S.DEFAULT_INPUT_DATE_THEME,{container:H.mobileDateInputContainer,date:H.mobileDateInput,icon:H.mobileDateInputIcon}),B=o.CheckMobile.any();function A(e){return i.createElement(S.DateInput,{theme:B?R:void 0,...e})}class J extends i.PureComponent{constructor(e){super(e),this._todayMidnight=new Date((new Date).setHours(0,0,0,0)),this._onSelect=()=>{this.props.onSelect(this.state.date,this.state.time)},this._onDateSelect=e=>{null!==e&&this.setState({date:e},this._handleMobileSelect)},this._onTimeSelect=e=>{const t=function(e){const[t,a]=e.split(":"),n=new Date;return n.setHours(Number(t),Number(a)),n}(e);this.setState({time:t},this._handleMobileSelect)},this._handleMobileSelect=()=>{B&&this._onSelect()},this._onKeyDown=e=>{e.stopPropagation()},this.state={date:this.props.initDateTime,time:this.props.initDateTime}}render(){const e=i.createElement(W.DatePicker,{minDate:this._todayMidnight,initial:this.state.date,InputComponent:A,withCalendar:!1,onPick:this._onDateSelect,revertInvalidData:!0}),t=i.createElement(j.TimeInput,{className:!B&&H.timeInput,value:(o=this.state.time,(0,z.twoDigitsFormat)(o.getHours())+":"+(0,z.twoDigitsFormat)(o.getMinutes())),onChange:this._onTimeSelect});var o;return B?i.createElement("div",{className:H.mobileDateTimeWrapper},this.props.durationMetaInfo.hasDatePicker&&i.createElement("div",{className:H.mobilePickerControl},i.createElement("span",{className:H.title},n.t(null,void 0,a(676912))),e),this.props.durationMetaInfo.hasTimePicker&&i.createElement("div",{className:H.mobilePickerControl},i.createElement("span",{className:H.title},n.t(null,void 0,a(631976))),t)):i.createElement("div",{className:H.wrapper,onKeyDown:this._onKeyDown},i.createElement("div",{className:H.dateTimeWrapper},this.props.durationMetaInfo.hasDatePicker&&e,this.props.durationMetaInfo.hasTimePicker&&t),this.props.durationMetaInfo.hasDatePicker&&i.createElement(N.Calendar,{key:this.state.date.valueOf(),selectedDate:this.state.date,minDate:this._todayMidnight,onSelect:this._onDateSelect,popupStyle:!1}),i.createElement("div",{className:H.buttonWrapper},i.createElement(E.Button,{className:H.button,type:"submit",size:"l",onClick:this._onSelect},this._makeButtonText())))}_makeButtonText(){const e=this.state.date.getFullYear(),t=this.state.date.toLocaleString("default",{
month:"2-digit"}),i=this.state.date.toLocaleString("default",{day:"2-digit"}),o=M(this.state.time);return n.t(null,void 0,a(127446)).replace("{dateTime}",`${e}-${t}-${i} ${o}`)}}var L=a(693676),O=a(598475);const F=new(c());function U(e){const{currentDuration:t,durationMetaInfoList:_,onDurationChanged:c,onClick:p}=e,f=(0,g.findDurationMetaInfo)(_,t.type);if(void 0===f)return null;const D=f.hasDatePicker||f.hasTimePicker,y=o.CheckMobile.any(),v=(0,i.useMemo)((()=>void 0!==t.datetime?new Date(t.datetime):["GTT","GTD"].includes(t.type)?(0,g.makeDatePlus24UTCHours)():new Date),[t.datetime,t.type]),k=(0,i.useMemo)((()=>C(v,f)),[v,f]),T=(0,i.useMemo)((()=>_.map((e=>({content:e.name,value:e.value})))),[_]),I=T.length<2,M=i.createElement(J,{durationMetaInfo:f,initDateTime:v,onSelect:function(t,a){const n=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),a.getUTCHours(),a.getUTCMinutes());e.onDurationChanged({type:e.currentDuration.type,datetime:n}),o.CheckMobile.iOS()||H()}});function E(e){return i.createElement(d.Select,{onClick:p,className:L.select,menuClassName:e?L.selectMenu:void 0,value:null==f?void 0:f.value,items:T,"data-name":"duration-type-selector",disabled:I,hideArrowButton:I,onChange:W,stretch:!0,matchButtonAndListboxWidths:!0})}const[S,P]=(0,i.useState)(!1),N=i.createElement(r.Input,{className:S&&!y?L.focused:null,inputClassName:L.dateTimePickerInput,value:k,"data-name":"duration-datetime-selector",stretch:!0,readonly:!0,intent:S&&!y?"primary":"default",noReadonlyStyles:!0,endSlot:i.createElement(s.EndSlot,{icon:!0,interactive:!1},i.createElement(l.Icon,{icon:O,className:L.icon}))});return i.createElement(b.MatchMedia,{rule:w.DialogBreakpoints.TabletSmall},(e=>i.createElement("div",{className:L.wrapper},i.createElement("span",{className:L.title},n.t(null,void 0,a(625318))),e?i.createElement(h.ToolWidgetMenu,{className:L.menuButton,content:E(e),arrow:!1,children:i.createElement(x,{menuItems:T,onTypeSelect:W}),isDrawer:!0,isDisabled:I,closeOnClickOutside:!0}):E(e),D&&(y?M:i.createElement(m.CloseDelegateContext.Provider,{value:F},i.createElement(h.ToolWidgetMenu,{className:L.dateTimePickerWrapper,content:N,arrow:!1,closeOnClickOutside:!0,verticalDropDirection:u.VerticalDropDirection.FromBottomToTop,horizontalDropDirection:u.HorizontalDropDirection.FromRightToLeft,horizontalAttachEdge:u.HorizontalAttachEdge.Right,verticalAttachEdge:u.VerticalAttachEdge.Top,onOpen:j,onClose:z},M))))));function j(){P(!0)}function z(){P(!1)}function W(e){const a={type:e},n=(0,g.findDurationMetaInfo)(_,e);void 0!==n&&(n.hasDatePicker||n.hasTimePicker)&&(a.datetime=t.datetime||(0,g.getTimestamp)((0,g.makeDatePlus24UTCHours)())),c(a),H()}function H(){void 0!==e.onClose&&e.onClose(),F.fire()}}function x(e){const{menuItems:t,onTypeSelect:a}=e;return i.createElement(i.Fragment,null,Object.values(t).map((e=>{var t;return i.createElement(p.PopupMenuItem,{key:e.value,label:null!==(t=e.content)&&void 0!==t?t:e.value,onClick:a,onClickArg:e.value})})))}},493173:(e,t,a)=>{"use strict";function n(e,t,a={}){
return Object.assign({},e,function(e,t,a={}){const n=Object.assign({},t);for(const i of Object.keys(t)){const o=a[i]||i;o in e&&(n[i]=[e[o],t[i]].join(" "))}return n}(e,t,a))}a.d(t,{mergeThemes:()=>n})}}]);