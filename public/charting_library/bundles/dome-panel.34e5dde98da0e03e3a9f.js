(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[7636],{3657:()=>{},41273:()=>{},21304:()=>{},40210:()=>{},20912:()=>{},87032:()=>{},36285:()=>{},18661:t=>{t.exports={headerWrapper:"headerWrapper-1NF_-3lE",header:"header-1NF_-3lE",customField:"customField-1NF_-3lE",duration:"duration-1NF_-3lE",arrow:"arrow-1NF_-3lE",upperCase:"upperCase-1NF_-3lE",textBlock:"textBlock-1NF_-3lE",summaryLine:"summaryLine-1NF_-3lE"}},68554:t=>{t.exports={title:"title-Dma7JX8h"}},82853:t=>{t.exports={wrapper:"wrapper-1HqQ-Fxl"}},11623:t=>{t.exports={container:"container-vN7pJrip",row:"row-vN7pJrip",button:"button-vN7pJrip",buttonOrdinary:"buttonOrdinary-vN7pJrip button-vN7pJrip",buttonBuy:"buttonBuy-vN7pJrip button-vN7pJrip",buttonSell:"buttonSell-vN7pJrip button-vN7pJrip"}},58825:t=>{t.exports={mobile:"screen and (max-width: 567px)"}},57084:t=>{t.exports={container:"container-2gpvcRL6",disabledDuration:"disabledDuration-2gpvcRL6"}},70883:(t,e,i)=>{"use strict";i.r(e),i.d(e,{DomePanel:()=>vt});var s=i(73935),o=i(67294),r=(i(41273),i(74245)),n=i(19160),a=i.n(n),l=(i(42254),i(16282)),d=i(79442),h=i(69671),c=i(96456),u=i(64185),_=i(35849),m=i(98658),p=i(52067),v=i(14032),g=i(91778),b=i(5251),y=i(97391),f=i(64879),w=i(200),k=i(87915),x=i(93302),S=i(69397);i(20912);const P={limitOrder:(0,r.t)("Limit"),stopOrder:(0,r.t)("Stop")};class I{constructor(t){this._pool=[],this._handlers=t||{},this._ordersPool=new C(this._handlers),this._useCssTransform="transform"in document.createElement("span").style}allocate(){return this._pool.pop()||new N(this._ordersPool,this._handlers,this._useCssTransform)}free(t){t.destroy(),this._pool.push(t)}}class N{constructor(t,e,i){this._price=0,this._useCssTransform=i,this._ordersPool=t,this._handlers=e,this._allocatedOrderViews=[];const s=document.createElement("div");s.setAttribute("class","tv-dome-widget-main__row");const o=document.createElement("span");o.setAttribute("class","tv-dome-widget-main__value tv-dome-widget-main__value--price");const r=document.createElement("span");r.setAttribute("class","tv-dome-widget-main__value tv-dome-widget-main__value--sell");const n=document.createElement("span");n.setAttribute("class","tv-dome-widget-main__value tv-dome-widget-main__value--buy");const a=document.createElement("span");a.setAttribute("class","tv-dome-widget-main__meter tv-dome-widget-main__meter--sell");const l=document.createElement("span");l.setAttribute("class","tv-dome-widget-main__meter tv-dome-widget-main__meter--buy");const d=document.createElement("span");d.setAttribute("class","tv-dome-widget-main__value-readout");const h=document.createElement("span");h.setAttribute("class","tv-dome-widget-main__value-readout");const c=document.createTextNode(""),u=document.createTextNode(""),_=document.createTextNode("");this._useCssTransform&&(a.style.width=l.style.width="100%",a.style.transform=l.style.transform="scale(0, 1)");const m=document.createElement("span");m.setAttribute("class","tv-dome-widget-main__value tv-dome-widget-main__value--orders-buy");const p=document.createElement("span")
;p.textContent=P.limitOrder,p.setAttribute("class","tv-dome-widget-main__label"),m.appendChild(p);const v=document.createElement("span");v.setAttribute("class","tv-dome-widget-main__value tv-dome-widget-main__value--orders-sell");const g=document.createElement("span");g.textContent=P.limitOrder,g.setAttribute("class","tv-dome-widget-main__label"),v.appendChild(g),s.appendChild(r),s.appendChild(n),s.appendChild(o),s.appendChild(m),s.appendChild(v),o.appendChild(_),r.appendChild(a),n.appendChild(l),r.appendChild(d),n.appendChild(h),d.appendChild(c),h.appendChild(u),this._priceCell=o,this._priceText=_,this._askText=c,this._bidText=u,this._askMeter=a,this._bidMeter=l,this._ordersBuy=m,this._ordersSell=v,this._orderBuyLabel=p,this._orderSellLabel=g,this._isHigherThanBestBid=!1,this._isLowerThanBestAsk=!1,this._orderType=1,e&&e.bidAskClick&&(r.addEventListener("click",t=>this._handlerCellClick(-1,t),!1),n.addEventListener("click",t=>this._handlerCellClick(1,t),!1)),e&&e.bidAskContextMenu&&(r.addEventListener("contextmenu",t=>{e.bidAskContextMenu.call(null,t,{price:this._price,side:-1})},!1),n.addEventListener("contextmenu",t=>{e.bidAskContextMenu.call(null,t,{price:this._price,side:1})},!1)),r.addEventListener("mouseover",t=>{g.textContent=(0,S.modifiersFromEvent)(t)===S.Modifiers.Mod?P.stopOrder:P.limitOrder,g.style.visibility="visible"},!1),r.addEventListener("mouseout",()=>{g.style.visibility="hidden"},!1),n.addEventListener("mouseover",t=>{p.textContent=(0,S.modifiersFromEvent)(t)===S.Modifiers.Mod?P.stopOrder:P.limitOrder,p.style.visibility="visible"},!1),n.addEventListener("mouseout",()=>{p.style.visibility="hidden"},!1),this.element=s}updatePriceText(t){this._priceText.nodeValue=t}updateBidVolume(t){this._bidText.nodeValue!==t&&(this._bidText.nodeValue=t)}updateAskVolume(t){this._askText.nodeValue!==t&&(this._askText.nodeValue=t)}updateBidMeter(t){const e=Math.min(Math.max(t,0),1)||0;this._useCssTransform?this._bidMeter.style.transform=`scale(${e}, 1)`:this._bidMeter.style.width=100*e+"%"}updateAskMeter(t){const e=Math.min(Math.max(t,0),1)||0;this._useCssTransform?this._askMeter.style.transform=`scale(${e}, 1)`:this._askMeter.style.width=100*e+"%"}updatePriceHighlight(t,e){const i=this._priceCell.classList;if(i)i.toggle("tv-dome-widget-main__value--highlighted",t),i.toggle("tv-dome-widget-main__value--long-position",e>0),i.toggle("tv-dome-widget-main__value--short-position",e<0);else{let i="tv-dome-widget-main__value tv-dome-widget-main__value--price";t&&(i+=" tv-dome-widget-main__value--highlighted"),e>0?i+=" tv-dome-widget-main__value--long-position":e<0&&(i+=" tv-dome-widget-main__value--short-position"),this._priceCell.setAttribute("class",i)}}setHigherThanBid(t){this._isHigherThanBestBid=t,this._updateLabelColor(this._orderBuyLabel,this._isActive(t))}updateAskLabels(t){this._isLowerThanBestAsk=t,this._updateLabelColor(this._orderSellLabel,this._isActive(t))}handlerKey(t){const e=(0,S.modifiersFromEvent)(t)===S.Modifiers.Mod;this._orderType=e?3:1,this._orderSellLabel.textContent=e?P.stopOrder:P.limitOrder,
this._orderBuyLabel.textContent=e?P.stopOrder:P.limitOrder,this._updateLabelColor(this._orderBuyLabel,this._isActive(this._isHigherThanBestBid)),this._updateLabelColor(this._orderSellLabel,this._isActive(this._isLowerThanBestAsk))}updatePrice(t){this._price=t}updateOrders(t){for(var e;this._allocatedOrderViews.length>t.length;){const t=this._allocatedOrderViews.pop();t&&this._ordersPool.free(t)}for(;this._allocatedOrderViews.length<t.length;)this._allocatedOrderViews.push(this._ordersPool.allocate());const i={};for(let s=0;s<t.length;s++){const o=t[s],r=this._allocatedOrderViews[s],n=Boolean(o.buy),a=n?1:-1;null===(e=i[a])||void 0===e||e.collapse(),i[a]=o.noCollapse?void 0:r,o.order!==r.order()&&(r.updateOrderData(o.order,o.pricePropertyName),r.updateQty(o.qty),r.updateTypeText(o.typeText),n?this._ordersBuy.prepend(r.element):this._ordersSell.append(r.element)),r.updateClassName({isBuy:n,type:o.type,inactive:o.inactive,ghost:o.ghost,highlighted:o.highlighted,isModifiable:o.isModifiable,isMovable:o.isMovable,isCancellable:o.isCancellable})}}destroy(){const t=this._allocatedOrderViews.length;if(t>0){for(let e=0;e<t;e++)this._ordersPool.free(this._allocatedOrderViews[e]);this._allocatedOrderViews.length=0}}paintPrice(t){const e=this.element.classList;e.toggle("tv-dome-widget-main__value--color-ask","ask"===t),e.toggle("tv-dome-widget-main__value--color-bid","bid"===t)}_handlerCellClick(t,e){const i=(0,S.modifiersFromEvent)(e);if(![S.Modifiers.None,S.Modifiers.Mod].includes(i))return;const s=1===t?this._bidMeter:this._askMeter,o=1===t?"buy":"sell";clearTimeout(this._activeStateTimerId),s.classList.add(`tv-dome-widget-main__meter--${o}-active`),this._activeStateTimerId=setTimeout(()=>{s.classList.remove(`tv-dome-widget-main__meter--${o}-active`)},500),this._handlers.bidAskClick.call(null,e,{price:this._price,side:t,type:i===S.Modifiers.Mod?3:1})}_updateLabelColor(t,e){const i=t.classList;if(i)i.toggle("tv-dome-widget-main__label--active",e);else{let i="tv-dome-widget-main__label";e&&(i+=" tv-dome-widget-main__label--active"),t.setAttribute("class",i)}}_isActive(t){const e=3===this._orderType;return e&&!t||!e&&t}}class C{constructor(t){this._pool=[],this._handlers=t}allocate(){return this._pool.pop()||new L(this._handlers)}free(t){t.destroy(),this._pool.push(t)}}class L{constructor(t){this._order=null,this._pricePropertyName=null;const e=document.createElement("div");e.setAttribute("class","tv-dome-widget-main__order tv-dome-widget-order");const s=document.createElement("div");s.innerHTML=i(12297),s.setAttribute("class","tv-dome-widget-order__close");const o=document.createElement("span");o.setAttribute("class","tv-dome-widget-order__qty");const r=document.createTextNode(""),n=document.createElement("span");n.setAttribute("class","tv-dome-widget-order__type");const a=document.createTextNode("");e.appendChild(s),e.appendChild(o),o.appendChild(r),e.appendChild(n),n.appendChild(a),t&&t.closeButtonClick&&s.addEventListener("click",e=>{t.closeButtonClick.call(null,e,this._order)},!1),
t&&t.qtyClick&&o.addEventListener("click",e=>{t.qtyClick.call(null,e,this._order)},!1),t&&t.orderMousedown&&o.addEventListener("mousedown",e=>{null!==this._order&&null!==this._pricePropertyName&&t.orderMousedown.call(null,e,{order:this._order,pricePropertyName:this._pricePropertyName})},!1),this.element=e,this._qtyText=r,this._typeText=a}order(){return this._order}updateQty(t){this._qtyText.nodeValue=t||""}updateTypeText(t){this._typeText.nodeValue=t||""}updateClassName(t){const{isBuy:e,type:i,inactive:s,ghost:o,highlighted:r,isModifiable:n,isMovable:a,isCancellable:l}=t,d=this.element;d.className="tv-dome-widget-main__order tv-dome-widget-order",d.classList.toggle("tv-dome-widget-order--buy",!!e),d.classList.toggle("tv-dome-widget-order--type-"+i,!!i),d.classList.toggle("tv-dome-widget-order--inactive",!!s),d.classList.toggle("tv-dome-widget-order--ghost",!!o),d.classList.toggle("tv-dome-widget-order--highlighted",!!r),d.classList.toggle("tv-dome-widget-order--unmodified",!1===n),d.classList.toggle("tv-dome-widget-order--immovable",!1===a),d.classList.toggle("tv-dome-widget-order--notcanceled",!1===l)}collapse(){this.element.classList.add("tv-dome-widget-main__order--collapsed")}updateOrderData(t,e){this._order=t,this._pricePropertyName=e}destroy(){this.element.parentNode&&this.element.parentNode.removeChild(this.element),this._order=null}}var T=i(6766),B=i(36310);class D{constructor(t,e,i){this._container=null,this._listContainer=null,this._offscreenArrowHigher=null,this._offscreenArrowLower=null,this._dragShield=null,this._offscreenPriceHigher=!1,this._offscreenPriceLower=!1,this._viewsList=[],this._bids={},this._asks={},this._indexes=[],this._sortableVisibleIndexes=[],this._bestAskIndex=1/0,this._bestBidIndex=-1/0,this._repaintScheduled=!1,this._worstBidIndex=1/0,this._worstAskIndex=-1/0,this._currentVolumeMax=0,this._orders={},this._positionIndex=NaN,this._positionQty=0,this._orderGhost=null,this._totalVolumeBid=0,this._totalVolumeAsk=0,this._buyOrdersValue=0,this._sellOrdersValue=0,this._buyOrdersValueInactive=0,this._sellOrdersValueInactive=0,this._buyOrdersQuantity=0,this._sellOrdersQuantity=0,this._handlers=t||{},this._realtimeProvider=i,this._showPricesWith=e,this.autoCenterRequired=new(a())(!1),this.height=0,this.topIndex=NaN,this._symbolData=null,this._lastPriceIndex=NaN,this._viewAllocated=new Map,this._viewPool=null,this._invalidatedAsk={},this._invalidatedBid={},this._invalidatedPriceHighlight={},this._invalidatedOrders={},this._dynamicModeState=!1,this._numericFormatter=new T.NumericFormatter,this._showPricesWith.zeroVolume.subscribe(this.centerOnLast.bind(this)),this._showPricesWith.spread.subscribe(this.centerOnLast.bind(this)),this.reset()}reset(){this.topIndex=NaN,this._symbolData=null,this._lastPriceIndex=NaN,this.resetData(),this.resetView(),this.resetOrders(),this.resetOrderGhost(),this.resetPosition(),this.autoCenterRequired.setValue(!1)}resetData(){if(this._bids={},this._asks={},this._totalVolumeBid=0,this._totalVolumeAsk=0,this._recalcMaxVolume(),this._recalcBestWorstBid(),
this._recalcBestWorstAsk(),this._viewAllocated)for(const[t]of this._viewAllocated)this._invalidatedAsk[t]=!0,this._invalidatedBid[t]=!0;this._offscreenArrowHigher&&this._offscreenArrowLower&&(this._offscreenArrowHigher.classList.add("js-hidden"),this._offscreenArrowLower.classList.add("js-hidden")),this._offscreenPriceHigher=!1,this._offscreenPriceLower=!1,this.scheduleRepaint()}resetOrders(){if(this._orders)for(const t in this._orders)this._orders.hasOwnProperty(t)&&(this._invalidatedOrders[t]=!0);this._orders={},this._buyOrdersValue=0,this._sellOrdersValue=0,this._buyOrdersValueInactive=0,this._sellOrdersValueInactive=0,this._buyOrdersQuantity=0,this._sellOrdersQuantity=0,this.scheduleRepaint()}resetPosition(){this._invalidatedPriceHighlight[this._positionIndex]=!0,this._positionIndex=NaN,this._positionQty=0,this.scheduleRepaint()}resetView(){if(this._viewAllocated&&this._viewPool)for(const[t]of this._viewAllocated){const e=this._viewAllocated.get(t);e&&(e.element.remove(),this._viewPool.free(e),this._viewAllocated.delete(t))}this._listContainer&&(this._viewsList.length=0,this._listContainer.innerHTML=""),this.setDragShield(!1,!1),this.scheduleRepaint()}setSymbolInfo(t){this._symbolData={...t}}setContainer(t){if(this._container===t)return;this._container&&(this.resetView(),this._container.innerHTML=""),this._container=t,this._viewPool=new I(this._handlers),this._viewAllocated=new Map;const e=this._listContainer=document.createElement("div");e.className="tv-dome-widget-main__anchor",t.append(e);const s=this._offscreenArrowHigher=document.createElement("span");s.className="tv-dome-widget-main__offscreen-arrow tv-dome-widget-main__offscreen-arrow--higher js-hidden",s.innerHTML=i(36653),t.append(s);const o=this._offscreenArrowLower=document.createElement("span");o.className="tv-dome-widget-main__offscreen-arrow tv-dome-widget-main__offscreen-arrow--lower js-hidden",o.innerHTML=i(36074),t.append(o);const r=this._dragShield=document.createElement("div");r.className="tv-dome-widget-main__drag-shield js-hidden",t.append(r),this._repaintScheduled=!1,this.scheduleRepaint()}setHeight(t){t!==this.height&&(this.height=t,this.checkAutoCenter(),this.scheduleRepaint())}shiftTopIndexRelativeToIndex(t,e){this._setTopIndex(t+e)}handlerKey(t){let e=this.topIndex;this._canIndexBeDisplayed(e)||(e=this.correctIndex(e,-1));const i=this.correctIndex(e,1-this.height);if(!isFinite(i))return;const s=this._viewAllocated;for(const[,e]of s)e&&e.handlerKey(t)}correctIndex(t,e=0){const i=t+e,s=this._bestBidIndex>=this._bestAskIndex,o=this._showPricesWith.zeroVolume.value(),r=s||this._showPricesWith.spread.value();if(o&&r)return i;if(i>this._worstAskIndex)return i;if(!this._hasQuotes())return i;const n=this._fiendVisibleIndex(this._bestAskIndex),a=this._fiendVisibleIndex(this._bestBidIndex),l=this._bestAskIndex-this._bestBidIndex-1,d=a-n-1,h=r?l:0;if(!o){const t=this._worstAskIndex-i,e=this._fiendVisibleIndex(this._worstBidIndex),s=r?l:d;if(t<=n)return Number(this._sortableVisibleIndexes[t])
;if(t<=n+s)return r?this._bestAskIndex-t+n:Number(this._sortableVisibleIndexes[t]);const o=r?d:0;if(t<=e+h-o)return Number(this._sortableVisibleIndexes[t-h+o]);const c=n+s+e-a+1;return i-this._worstAskIndex+this._worstBidIndex+c-o}if(!r&&i<this._bestAskIndex){const t=this._bestAskIndex-i,e=this._sortableVisibleIndexes.slice(n+1,a);return t<=e.length?Number(e[t-1]):i+e.length-l}return i}centerOnLast(){this.autoCenterRequired.setValue(!1);const t=this._autoCenterTargetTopIndex();isFinite(t)&&this._setTopIndex(t)}guessOrderType(t,e){const i=this.priceToIndex(t);if(!isFinite(t))return null;if(1!==e&&-1!==e)return null;let s=this._bestAskIndex,o=this._bestBidIndex;return isFinite(s)||(s=o+1),isFinite(o)||(o=s-1),isFinite(s)||isFinite(o)||(s=o=this._lastPriceIndex),1===e?i&&i<s?1:3:i&&i>o?1:3}indexToPrice(t){return null===this._symbolData?NaN:(0,x.Big)(t).mul(this._symbolData.minTick).toNumber()}priceToIndex(t){return this._symbolData?Math.round(t/this._symbolData.minTick):NaN}updateData(t){this._indexes.forEach(t=>{isFinite(this._asks[t])||delete this._asks[t],isFinite(this._bids[t])||delete this._bids[t]});let e=!1;if(t.snapshot){const t=0===Object.keys(this._asks).length&&0===Object.keys(this._bids).length;e=!this._showPricesWith.zeroVolume.value()&&!this._showPricesWith.spread.value()&&t,this.resetData()}let i=!1;if(t.bids)for(let e=0;e<t.bids.length;e++){const s=(0,l.ensureDefined)(t.bids[e]),o=this.priceToIndex(s.price),r=s.volume,n=this._bids[o]||null;n!==r&&(i=!0,r>0?(this._totalVolumeBid+=r-Number(n),this._bids[o]=r):(this._totalVolumeBid-=Number(n),delete this._bids[o]),this._invalidatedBid[o]=!0)}if(t.asks)for(let e=0;e<t.asks.length;e++){const s=(0,l.ensureDefined)(t.asks[e]),o=this.priceToIndex(s.price),r=s.volume,n=this._asks[o]||null;n!==r&&(i=!0,r>0?(this._totalVolumeAsk+=r-Number(n),this._asks[o]=r):(this._totalVolumeAsk-=Number(n),delete this._asks[o]),this._invalidatedAsk[o]=!0)}if(this._collectIndexes(),!this._hasDataInDom()){if(i=!0,0!==t.bids.length){const e=this.priceToIndex(t.bids[0].price);this._bids[e]=1/0}if(0!==t.asks.length){const e=this.priceToIndex(t.asks[0].price);this._asks[e]=1/0}this._collectIndexes()}this._recalcBestWorstBid(),this._recalcBestWorstAsk(),i&&this._recalcSortVisibleIndexes(),this._recalcMaxVolume(),e?this.centerOnLast():this.checkAutoCenter(),this._dynamicModeState&&this.centerOnLast(),this.scheduleRepaint()}totalVolumeBid(){return this._totalVolumeBid}totalVolumeAsk(){return this._totalVolumeAsk}buyOrdersValue(){return this._buyOrdersValue}sellOrdersValue(){return this._sellOrdersValue}buyInactiveOrdersValue(){return this._buyOrdersValueInactive}sellInactiveOrdersValue(){return this._sellOrdersValueInactive}buyOrdersQuantity(){return this._numericFormatter.format(this._buyOrdersQuantity)}sellOrdersQuantity(){return this._numericFormatter.format(this._sellOrdersQuantity)}updateOrders(t){this.resetOrders();for(let e=0;e<t.length;e++){const i=t[e],s=6===i.status;if(1===i.side?(this._buyOrdersValue+=Number(s),this._buyOrdersValueInactive+=Number(!s),
this._buyOrdersQuantity+=s?i.qty:0):(this._sellOrdersValue+=Number(s),this._sellOrdersValueInactive+=Number(!s),this._sellOrdersQuantity+=s?i.qty:0),i.stopPrice){const t=this.priceToIndex(i.stopPrice);this._orders[t]||(this._orders[t]=[]),this._orders[t].push({order:i,pricePropertyName:"stopPrice"}),this._invalidatedOrders[t]=!0}if(void 0!==i.limitPrice){const t=this.priceToIndex(i.limitPrice);this._orders[t]||(this._orders[t]=[]),this._orders[t].push({order:i,pricePropertyName:"limitPrice"}),this._invalidatedOrders[t]=!0}}this._recalcSortVisibleIndexes(),this.scheduleRepaint()}updateLast(t){const e=this.priceToIndex(t);e!==this._lastPriceIndex&&(this._invalidatedPriceHighlight[this._lastPriceIndex]=!0,this._invalidatedPriceHighlight[e]=!0,this._lastPriceIndex=e,this.checkAutoCenter(),this.scheduleRepaint())}updatePosition(t){if(!t||!t.qty)return void this.resetPosition();const e=this.priceToIndex(t.avgPrice),i=Math.abs(t.qty)*(1===t.side?1:-1);this._positionIndex===e&&this._positionQty===i||(this._invalidatedPriceHighlight[this._positionIndex]=!0,this._invalidatedPriceHighlight[e]=!0,this._positionIndex=e,this._positionQty=i,this.scheduleRepaint())}resetOrderGhost(){this._orderGhost&&(this._invalidatedOrders[this._orderGhost.index]=!0,this._invalidatedOrders[this._orderGhost.originIndex]=!0,this._orderGhost=null,this.scheduleRepaint())}setOrderGhost(t){const{order:e,pricePropertyName:i,price:s}=t;this.resetOrderGhost();const o=this.priceToIndex(s);isFinite(o)&&(this._orderGhost={ghost:!0,order:e,pricePropertyName:i,price:s,index:o,originIndex:this.priceToIndex(e[i])},this._invalidatedOrders[o]=!0,this.scheduleRepaint())}setDragShield(t,e){this._dragShield&&(this._dragShield.classList.toggle("js-hidden",!t),this._dragShield.classList.toggle("tv-dome-widget-main__drag-shield--order",e))}scheduleRepaint(){this._repaintScheduled||this._symbolData&&(requestAnimationFrame(()=>this.repaint()),this._repaintScheduled=!0)}formatVolume(t){return null===this._symbolData?String(t):this._symbolData.volumeFormatter.format(t)}repaint(){if(this._repaintScheduled=!1,!this._listContainer)return;if(null===this._viewPool)return;const t=this.topIndex,e=this.correctIndex(t,1-this.height);if(isFinite(e)){for(;this._viewsList.length<this.height;){const t=this._viewPool.allocate();this._listContainer.append(t.element),this._viewsList.push(t)}for(;this._viewsList.length>this.height;){const t=(0,l.ensureDefined)(this._viewsList.pop());t.element.remove(),this._viewPool.free(t)}this._oldViewAllocated=this._viewAllocated,this._viewAllocated=new Map;for(let e=0;e<this._viewsList.length;e++){const i=this.correctIndex(t,-e),s=this._viewsList[e];this._viewAllocated.set(i,s),this._updateRow(i)}if(isFinite(this._lastPriceIndex)){const i=this._lastPriceIndex>t,s=this._lastPriceIndex<e;i!==this._offscreenPriceHigher&&this._offscreenArrowHigher&&(this._offscreenPriceHigher=i,this._offscreenArrowHigher.classList.toggle("js-hidden",!i)),s!==this._offscreenPriceLower&&this._offscreenArrowLower&&(this._offscreenPriceLower=s,
this._offscreenArrowLower.classList.toggle("js-hidden",!s))}for(const t in this._invalidatedBid)this._invalidatedBid.hasOwnProperty(t)&&delete this._invalidatedBid[t];for(const t in this._invalidatedAsk)this._invalidatedAsk.hasOwnProperty(t)&&delete this._invalidatedAsk[t];for(const t in this._invalidatedPriceHighlight)this._invalidatedPriceHighlight.hasOwnProperty(t)&&delete this._invalidatedPriceHighlight[t];for(const t in this._invalidatedOrders)this._invalidatedOrders.hasOwnProperty(t)&&delete this._invalidatedOrders[t]}}typePrice(t){return t>=this._bestAskIndex?"ask":t<=this._bestBidIndex?"bid":void 0}toggleDynamicModeState(){return this._dynamicModeState=!this._dynamicModeState,this._dynamicModeState}getDynamicModeState(){return this._dynamicModeState}checkAutoCenter(){isFinite(this.topIndex)||this.centerOnLast();const t=this.topIndex,e=this.correctIndex(this.topIndex,1-this.height);let i;i=isFinite(this._bestBidIndex)?this._bestBidIndex:isFinite(this._bestAskIndex)?this._bestAskIndex:isFinite(this._lastPriceIndex)?this._lastPriceIndex:NaN;let s=NaN;isFinite(this._bestAskIndex)?s=this._bestAskIndex:isFinite(this._bestBidIndex)?s=this._bestBidIndex:isFinite(this._lastPriceIndex)&&(i=this._lastPriceIndex);let o=!1;(s+3>t||i-3<e)&&this.topIndex!==this._autoCenterTargetTopIndex()&&(o=!0),this.autoCenterRequired.setValue(o)}isSpread(t){return this._bestAskIndex>t&&t>this._bestBidIndex}_hasDataInDom(){return 0!==this._indexes.length}_hasQuotes(){return this._indexes.length>1}_collectIndexes(){this._indexes=Object.keys(Object.assign({},this._asks,this._bids))}_fiendVisibleIndex(t){return(0,B.lowerbound)(this._sortableVisibleIndexes,t,(t,e)=>t>e,0,this._sortableVisibleIndexes.length)}_recalcSortVisibleIndexes(){this._sortableVisibleIndexes=[...Object.keys(this._asks),...Object.keys(this._bids)].map(Number);const t=[...Object.keys(this._orders)].map(Number);for(const e of t)e<=this._worstAskIndex&&e>=this._worstBidIndex&&!this._sortableVisibleIndexes.includes(e)&&this._sortableVisibleIndexes.push(e);this._sortableVisibleIndexes.sort((t,e)=>e-t).filter((t,e,i)=>t!==i[e-1])}_updateRow(t){var e;if(!this._symbolData)return;const i=this._oldViewAllocated,s=this._viewAllocated;let o=s.get(t);this._viewPool&&!o&&(o=this._viewPool.allocate(),s.set(t,o));const n=this._orderGhost;if(i&&i.get(t)!==s.get(t)){const e=this.indexToPrice(t);o.updatePrice(e),o.updatePriceText(this._symbolData.priceFormatter.format(e))}o.paintPrice(this.typePrice(t)),this._asks[t]&&this._asks[t]!==1/0?o.updateAskVolume(this.formatVolume(this._asks[t])):o.updateAskVolume(""),o.updateAskLabels(t<this._bestAskIndex),this._bids[t]&&this._bids[t]!==1/0?o.updateBidVolume(this.formatVolume(this._bids[t])):o.updateBidVolume(""),o.setHigherThanBid(t>this._bestBidIndex),o.updateAskMeter(this._asks[t]===1/0?100:this._asks[t]/this._currentVolumeMax||0),o.updateBidMeter(this._bids[t]===1/0?100:this._bids[t]/this._currentVolumeMax||0);const a=t===this._lastPriceIndex,l=t===this._positionIndex?this._positionQty:0;o.updatePriceHighlight(a,l)
;let d,h,c=this._orders[t]||[];null!==n&&(n.index===t&&(n.originIndex!==t?c=c.concat(n):h=n.order.id),n.index!==t&&n.originIndex!==t||(d=n.order.side));const u=null===(e=this._realtimeProvider.activeBroker())||void 0===e?void 0:e.metainfo().configFlags;for(let t=0;t<c.length;t++){const e=c[t],i=e.order,s=i.filledQty||0;switch(e.inactive=6!==i.status||4===i.type&&"limitPrice"===e.pricePropertyName,e.isModifiable=void 0!==u&&(0,k.isModifyOrderSupported)(i,u),e.isMovable=void 0!==u&&(0,k.isMoveOrderSupported)(i,u),e.isCancellable=!0,i.type){case 2:e.typeText=(0,r.t)("Market"),e.type="market";break;case 1:e.typeText=i.parentId?(0,r.t)("TakeProfit"):(0,r.t)("Limit"),e.type="limit";break;case 3:e.typeText=i.parentId?(0,r.t)("StopLoss"):(0,r.t)("Stop",{context:"order"}),e.type="stop";break;case 4:e.typeText=(0,r.t)("StopLimit"),e.type="stoplimit";break;default:e.typeText=""}e.qty=this._symbolData.quantityFormatter.format(i.qty-s),e.buy=1===i.side,e.noCollapse=i.side===d,e.highlighted=null!==n&&void 0!==h&&i.id===h&&n.pricePropertyName===e.pricePropertyName}o.updateOrders(c)}_setTopIndex(t){t!==this.topIndex&&(this.topIndex=t,this.checkAutoCenter()),this.scheduleRepaint()}_canIndexBeDisplayed(t){const e=this._showPricesWith.zeroVolume.value(),i=this._showPricesWith.spread.value();if(e&&!this.isSpread(t))return!0;if(i&&this.isSpread(t))return!0;const s=t===this._lastPriceIndex,o=t===this._positionIndex,r=this._bids.hasOwnProperty(t)||this._asks.hasOwnProperty(t),n=t<=this._worstBidIndex||this._worstAskIndex<=t,a=this._orders[t]||[],l=this._orderGhost&&this._orderGhost.index===t;return o||s||l||n||r||0!==a.length}_getGapMiddleIndex(){let t=this._bestAskIndex,e=this._bestBidIndex;return isFinite(t)||(t=e),isFinite(e)||(e=t),Math.floor((e+t)/2)}_autoCenterTargetTopIndex(){const t=Math.floor(this.height/2);return this._showPricesWith.zeroVolume.value()&&this._showPricesWith.spread.value()?this.correctIndex(Math.floor(this._getCenterIndex()),t):this._getCorrectCenterIndex()+t}_getCorrectCenterIndex(){const t=this._getCenterIndex();let e=t;return this._showPricesWith.zeroVolume.value()||(e=t+this._worstAskIndex-this._bestAskIndex-1-this._fiendVisibleIndex(this._bestAskIndex)+1),this._showPricesWith.spread.value()||(e+=this._bestAskIndex-t),e}_getCenterIndex(){const t=this._getGapMiddleIndex();return isFinite(t)?t:isFinite(this._bestBidIndex)?this._bestBidIndex:isFinite(this._bestAskIndex)?this._bestAskIndex:isFinite(this._lastPriceIndex)?this._lastPriceIndex:NaN}_recalcMaxVolume(){let t=0;for(const e in this._asks)this._asks.hasOwnProperty(e)&&(t=Math.max(this._asks[e],t));for(const e in this._bids)this._bids.hasOwnProperty(e)&&(t=Math.max(this._bids[e],t));t!==this._currentVolumeMax&&(this._currentVolumeMax=t)}_recalcBestWorstBid(){let t=-1/0,e=1/0;for(const i in this._bids)this._bids.hasOwnProperty(i)&&(+i>t&&(t=+i),+i<e&&(e=+i));this._bestBidIndex=t,this._worstBidIndex=e}_recalcBestWorstAsk(){let t=1/0,e=-1/0;for(const i in this._asks)this._asks.hasOwnProperty(i)&&(+i<t&&(t=+i),+i>e&&(e=+i));this._bestAskIndex=t,
this._worstAskIndex=e}}i(3657),i(36285);class O{constructor(t){this._nodes=null,this._symbolData=null,this._positionInvalidated=!0,this._plInvalidated=!0,this._repaintScheduled=!1,this._calculatePLUsingLast=!1,this._plDirectionCache=0,this._plTextCache="",this._hasLotSize=new(a())(!1),this._handlers=t||{},this._numericFormatter=new T.NumericFormatter,this._uiState={plViewType:h.getJSON(_.settingsKeys.PROFIT_VIEW_TYPE,0)},this.reset(),this._integerFormatter=new T.NumericFormatter(0),this._oneDecimalFormatter=new T.NumericFormatter(1),this.qty=new(a())(1),this.qty.subscribe(t=>this._handlers.qtyChange.call(null,t)),this._qtyProperties=new(a())({min:1,step:1,max:1,format:null})}reset(){this._position=void 0,this._pl=void 0,this._lastPrice=void 0,this._bid=void 0,this._ask=void 0,this._symbolData=null,this._positionInvalidated=!0,this._plInvalidated=!0,this.scheduleRepaint()}setBrokerConfigFlags(t){this._calculatePLUsingLast=t.calculatePLUsingLast}setSymbolInfo(t){const{qtyProperties:e}=t;this._symbolData=t,this._qtyProperties.setValue({min:e.min,step:e.step,uiStep:e.uiStep,max:e.max,format:this._numericFormatter})}getQtyProperties(){return this._qtyProperties}updatePosition(t){this._position=t,this._position||(this._pl=void 0),this._positionInvalidated=!0,this._plInvalidated=!0,this.scheduleRepaint()}updatePL(t){this._pl=t,this._position&&(this._plInvalidated=!0,this.scheduleRepaint())}updateLast(t,e,i){this._lastPrice=t,this._bid=e,this._ask=i,this._position&&0!==this._uiState.plViewType&&(this._plInvalidated=!0,this.scheduleRepaint())}bid(){return this._bid}ask(){return this._ask}removeNodesIfExist(){if(null!==this._nodes){const t=this._nodes.container;for(;null!==t.firstChild;)t.removeChild(t.firstChild);let e;for(e in this._nodes)e in this._nodes&&delete this._nodes[e]}this._plDirectionCache=0,this._plTextCache=""}onPlClick(t){t.preventDefault(),this._uiState.plViewType=-~this._uiState.plViewType%3,this._plInvalidated=!0,h.setValue(_.settingsKeys.PROFIT_VIEW_TYPE,this._uiState.plViewType),this.scheduleRepaint()}onPositionClick(t){var e;t.preventDefault();const i=Math.abs(Number(null===(e=this._position)||void 0===e?void 0:e.qty));i>0&&isFinite(i)&&this.qty.setValue(i)}setNodes(t){this._nodes=t}scheduleRepaint(){this._repaintScheduled||(window.requestAnimationFrame?window.requestAnimationFrame(()=>this.repaint()):window.setTimeout(()=>this.repaint(),0),this._repaintScheduled=!0)}repaint(){var t,e,i,s;this._repaintScheduled=!1;const o=this._nodes;if(null==o?void 0:o.container){if(this._positionInvalidated){this._positionInvalidated=!1;const s=(null===(t=this._position)||void 0===t?void 0:t.qty)||0;if(o.pl.classList.toggle("tv-dome-calc-block__pl--disabled",0===s),0!==s&&this._symbolData){const t=Math.abs(s),i=null===(e=this._position)||void 0===e?void 0:e.avgPrice,r=this._symbolData.priceFormatter.format(i);let n;n=this._symbolData.volumeFormatter?this._symbolData.volumeFormatter.format(t):t+"",o.positionText.nodeValue=`${n} @ ${r}`}else o.positionText.nodeValue="—"
;const r=null===(i=this._position)||void 0===i?void 0:i.side;o.position.classList.toggle("tv-dome-calc-block__position--buy",0!==s&&1===r),o.position.classList.toggle("tv-dome-calc-block__position--sell",0!==s&&-1===r),o.position.classList.toggle("tv-dome-calc-block__position--disabled",0===s)}if(this._plInvalidated){this._plInvalidated=!1;let t=0,e="—",i=NaN;if(this._position){let e=Number(this._lastPrice);const s=-1===this._position.side;this._calculatePLUsingLast||(e=Number(s?this._ask:this._bid)),i=(e-this._position.avgPrice)*(s?-1:1),t=i<0?-1:1}if(2===this._uiState.plViewType){let t=NaN;this._position&&(t=i/this._position.avgPrice),e=isFinite(t)?(100*t).toFixed(2)+"%":"—"}else if(1===this._uiState.plViewType){let t=NaN;if(this._position&&this._symbolData){const{pipSize:e,minTick:s}=this._symbolData,o=isFinite(e)&&e!==s?this._oneDecimalFormatter:this._integerFormatter;t=parseFloat(o.format(i/(e||s)))}e=isFinite(t)?(0,r.t)("{pips} pips").format({pips:String(t)}):"—"}else void 0!==this._pl?(e=this._pl.toFixed(2),void 0!==(null===(s=this._symbolData)||void 0===s?void 0:s.positionCurrency)&&(e=`${e} ${this._symbolData.positionCurrency}`)):e="—";this._plTextCache!==e&&(o.plText.nodeValue=e,this._plTextCache=e),this._plDirectionCache!==t&&(o.pl.classList.toggle("tv-dome-calc-block__pl--loss",t<0),o.pl.classList.toggle("tv-dome-calc-block__pl--profit",t>0),this._plDirectionCache=t)}}}setHasLotSize(t){this._hasLotSize.setValue(t)}hasLotSize(){return this._hasLotSize.readonly()}}class V{constructor(t,e,i){this._expiresAt=0,this._delay=t,this._doneCb=e,this._progressCb=i}run(){if(this._timeoutId)return;const t=Date.now?Date.now():+new Date;this._expiresAt=t+this._delay,this._timeoutId=window.setTimeout(()=>{this.abort(),this._doneCb()},this._delay),this._trackProgressScheduled||this._trackProgress()}revert(){this._timeoutId&&(window.clearTimeout(this._timeoutId),this._timeoutId=void 0,this.run())}abort(){this._timeoutId&&(window.clearTimeout(this._timeoutId),this._timeoutId=void 0,this._expiresAt=0,this._progressCb&&this._progressCb(0))}setWindow(t){this._wnd=t}_trackProgress(){if(this._trackProgressScheduled=!1,!this._progressCb||!this._timeoutId)return;const t=Date.now?Date.now():+new Date;let e=1-(this._expiresAt-t)/this._delay;e=Math.max(Math.min(e,1),0),this._progressCb(e),this._wnd&&this._wnd.requestAnimationFrame?this._wnd.requestAnimationFrame(()=>{this._trackProgress()}):window.setTimeout(()=>{this._trackProgress()},40),this._trackProgressScheduled=!0}}var M=i(21526),A=i.n(M);class F{constructor(){this._customFieldsCount=new(a())(0),this._currentValuesSummaryLine=new(a())(""),this._onCustomFieldsUpdate=new(A()),this._selectedComboBoxValues=new Map,this._checkboxFieldsStates=new Map,this._comboBoxItems=new(a())([]),this._checkboxFields=new(a())([]),this._rewriteDisplayedSelectedItems=()=>{const t=[...this._getSelectedComboBoxItemsNames(),...this._getCheckedCheckboxFieldsTitles()],e=this._getCurrentDurationName();void 0!==e&&t.push(e);const i=t.join(", ");this._currentValuesSummaryLine.setValue(i)},
this._getSelectedComboBoxItemsNames=()=>{const t=[];for(const e of this._comboBoxItems.value()){const i=(0,l.ensureDefined)(this._selectedComboBoxValues.get(e.id)).value(),s=e.items.find(t=>t.value===i);t.push((0,l.ensureDefined)(s).text)}return t},this._recountCustomFields=()=>{var t;let e=void 0!==this._currentDuration?1:0;void 0!==(null===(t=this._currentDuration)||void 0===t?void 0:t.datetime)&&e++,this._customFieldsCount.setValue(this._comboBoxItems.value().length+e)},this._recountCustomFields()}setCustomFields(t){const e=[],i=[];this._selectedComboBoxValues.forEach(t=>t.unsubscribe(this._rewriteDisplayedSelectedItems)),this._selectedComboBoxValues.clear(),this._checkboxFieldsStates.forEach(t=>t.unsubscribe(this._rewriteDisplayedSelectedItems)),this._checkboxFieldsStates.clear(),t.forEach(t=>{if("ComboBox"===t.inputType){const i=new(a())(t.items[0].value);i.subscribe(this._rewriteDisplayedSelectedItems),this._selectedComboBoxValues.set(t.id,i),e.push(t)}if("Checkbox"===t.inputType){const e=new(a())(t.value);e.subscribe(this._rewriteDisplayedSelectedItems),this._checkboxFieldsStates.set(t.id,e),i.push(t)}}),this._comboBoxItems.setValue(e),this._checkboxFields.setValue(i),this._rewriteDisplayedSelectedItems(),this._recountCustomFields(),this._onCustomFieldsUpdate.fire()}comboBoxItems(){return this._comboBoxItems.readonly()}getSelectedComboBoxValues(){return this._selectedComboBoxValues}checkboxFields(){return this._checkboxFields.readonly()}getCheckboxFieldsStates(){return this._checkboxFieldsStates}getCustomFieldsCount(){return this._customFieldsCount.value()}currentValuesSummaryLine(){return this._currentValuesSummaryLine.readonly()}onCustomFieldsUpdate(){return this._onCustomFieldsUpdate}subscribeRecountCustomFields(t){this._customFieldsCount.subscribe(t)}unsubscribeRecountCustomFields(t){this._customFieldsCount.unsubscribe(t)}setDurationsInfo(t,e){void 0!==e&&(this._durationsMetaInfo=e),this._currentDuration=t,this._rewriteDisplayedSelectedItems(),this._recountCustomFields()}_getCheckedCheckboxFieldsTitles(){const t=[];for(const e of this._checkboxFields.value()){(0,l.ensureDefined)(this._checkboxFieldsStates.get(e.id)).value()&&t.push(e.title)}return t}_getCurrentDurationName(){var t,e;const i=null===(t=this._currentDuration)||void 0===t?void 0:t.type,s=null===(e=this._durationsMetaInfo)||void 0===e?void 0:e.find(t=>t.value===i);return null==s?void 0:s.name}}var E=i(70083),q=i(65954),H=i(91436),R=i(72989),U=i(68554);function W(t){const{calcData:e}=t,[i,s]=(0,o.useState)(!1),[n,a]=(0,o.useState)(),[l,d]=(0,o.useState)(e.qty.value()),[h,c]=(0,E.useWatchedValue)(e.qty),u=(0,q.useWatchedValueReadonly)({watchedValue:e.getQtyProperties()}),_=(0,q.useWatchedValueReadonly)({watchedValue:e.hasLotSize()})?(0,r.t)("Lots"):(0,r.t)("Units");return(0,o.useEffect)(()=>{if(h===l)return;const{res:t,msg:e}=(0,R.checkQtyError)(u,h,!0);t||d(h),s(t),a(e)},[h,u,l]),o.createElement(o.Fragment,null,o.createElement("span",{className:U.title},_),o.createElement(H.NumberInput,{alwaysUpdateValueFromProps:!0,mode:"float",value:h,
onValueChange:t=>c(t),errorHandler:t=>s(t),errorMessage:n,error:i,onBlur:function(){if(l===h)return;c(l)},min:u.min,max:u.max,step:u.step,uiStep:u.uiStep}))}var j=i(21659),Q=i(94184),z=i(96493),$=i(10935),G=i(75566),K=i(57084);function J(t){const{currentDuration:e,durationMetaInfoList:i,onDurationChanged:s}=t;return void 0===e||void 0===i?o.createElement("span",{className:K.disabledDuration},"Time in Force"):o.createElement(G.DurationControl,{currentDuration:e,durationMetaInfoList:i,onDurationChanged:s})}var Y=i(18661),X=i(51432),Z=i(82019);function tt(t){const e=t.domDetails,[i,s]=(0,E.useWatchedValue)(t.openState),n=(0,q.useWatchedValueReadonly)({watchedValue:t.currentDuration}),a=(0,q.useWatchedValueReadonly)({watchedValue:t.durationMetaInfoList}),d=(0,q.useWatchedValueReadonly)({watchedValue:e.currentValuesSummaryLine()}),h=(0,q.useWatchedValueReadonly)({watchedValue:e.comboBoxItems()}),c=(0,q.useWatchedValueReadonly)({watchedValue:e.checkboxFields()}),u=t.onDurationChanged,_=e.getSelectedComboBoxValues(),m=e.getCheckboxFieldsStates();return o.createElement(o.Fragment,null,o.createElement("div",{className:Y.headerWrapper},o.createElement("div",{className:Y.header,onClick:()=>s(!i)},o.createElement("div",{className:Q(Y.textBlock,Y.summaryLine)},o.createElement("span",{className:Y.upperCase},(0,r.t)("Details")+": "),d),o.createElement("div",{className:Y.arrow},o.createElement(j.Icon,{icon:i?X:Z})))),o.createElement("div",null,h.length>0&&_.size>0&&o.createElement(o.Fragment,null,h.map(t=>{const e=(0,l.ensureDefined)(_.get(t.id));return o.createElement("div",{key:t.id,className:Y.customField},o.createElement(z.CustomComboboxContainer,{title:t.title,items:t.items,selectedItem:e,forceUserToSelectValue:!1,alwaysShowAttachedErrors:!1}))})),c.length>0&&m.size>0&&o.createElement(o.Fragment,null,c.map(t=>o.createElement("div",{key:t.id,className:Y.customField},o.createElement($.CheckboxCustomField,{title:t.title,help:t.help,checked:(0,l.ensureDefined)(m.get(t.id))})))),o.createElement("div",{className:Y.duration},o.createElement(J,{currentDuration:n,durationMetaInfoList:a,onDurationChanged:u}))))}i(21304),i(40210),i(87032);var et=i(11623),it=i(82853),st=i(16936),ot=i(90601),rt=i(75972);function nt(t,e){return`${_.settingsKeys.DOM_DURATION}${t}.${e}`}const at={1:"LIMIT",2:"MARKET",3:"STOP",4:"STOPLIMIT"};function lt(t){var e,i;return t instanceof MouseEvent?t.pageY:null!==(i=null===(e=t.touches[0])||void 0===e?void 0:e.pageY)&&void 0!==i?i:0}class dt{constructor(t,e,i,s,o){this.delayedData=new(a())(!1),this.isBats=new(a())(!1),this._container=null,this._warning=null,this._mainBlock=null,this._svgTimerPath=null,this._navBlock=null,this._noDataNoticeBlock=null,this._totalVolumeBidTextNode=null,this._totalVolumeAskTextNode=null,this._countVolumeBuyTextNode=null,this._countVolumeSellTextNode=null,this._countVolumeBid=null,this._countVolumeAsk=null,this._detailsBlock=null,this._positionActionsBlock=null,this._marketActionBlock=null,this._calculatorBlock=null,this._qtyInput=null,this._subscription=null,this._noDataTimeout=null,
this._actionMarketButtons=null,this._actionPositionButtons=null,this._navButtons=null,this._currentDuration=new(a()),this._durationMetaInfoList=new(a()),this._viewTotalVolumeScheduled=!1,this._detailsOpenState=new(a())(!1),this._csxAllTitle=(0,r.t)("Cancel all orders for the current symbol"),this._flattenTitle=(0,r.t)("Close the position"),this._reverseTitle=(0,r.t)("Reverse the position"),this._calculateLayout=()=>{let t=this._height.value(),e=!1;for(const{element:i,height:s}of[{element:(0,l.ensureNotNull)(this._navBlock),height:52},{element:(0,l.ensureNotNull)(this._calculatorBlock),height:34},{element:(0,l.ensureNotNull)(this._positionActionsBlock),height:34},{element:(0,l.ensureNotNull)(this._qtyInput),height:64},{element:(0,l.ensureNotNull)(this._marketActionBlock),height:50},{element:(0,l.ensureNotNull)(this._detailsBlock),height:this._calculateDetailsBlockHeight()}])e?i.classList.add("js-hidden"):(t-s<100?e=!0:t-=s,i.classList.toggle("tv-dome-widget-main__hidden",0===s),i.style.height=s+"px",i.classList.remove("js-hidden"));(0,l.ensureNotNull)(this._mainBlock).style.height=t+"px";const i=Math.ceil(t/20);this._data.setHeight(i)},this._onDurationChanged=t=>{this._currentDuration.setValue(t),this._domDetails.setDurationsInfo(t);const e=this._realtimeProvider.activeBroker();if(null===e)return;const i=nt(e.metainfo().id,d.linking.proSymbol.value());h.setValue(i,t.type)},this._onSuggestedQtyChange=t=>{this._calcData.qty.setValue(t),this._mergeUiState({qty:t})},this._calculateLayoutAfterRender=()=>{setTimeout(this._calculateLayout)},this._height=e,this._visible=i,this._symbolData=null,this._supportedOrderTypes=[2],this._domDetails=new F,this._trading=s,this._qtySuggester=o,this._realtimeProvider=this._trading.realtimeProvider();const n=this._handlers(),c={zeroVolume:this._trading.showPricesWith().zeroVolume.readonly(),spread:this._trading.showPricesWith().spread.readonly()};this._data=new D(n,c,this._realtimeProvider),this._calcData=new O(n),this._uiState={},this._timerLockState={},this._timer=new V(2e3,()=>{this._data.centerOnLast()},t=>{this._updateTimerUi(t)}),this._data.autoCenterRequired.subscribe(t=>{this._mergeTimerLockState({autoCenterRequired:t})}),t.subscribe(t=>this._recreateLayout(t),{callWithLast:!0}),this._height.subscribe(()=>this._calculateLayout()),d.linking.proSymbol.subscribe(()=>this._onStateChange()),this._realtimeProvider.onStatusChanged.subscribe(null,()=>{this._onStateChange()}),i.subscribe(()=>this._onStateChange()),this._onStateChange()}uiScroll(t){this._data.getDynamicModeState()||(this._data.shiftTopIndexRelativeToIndex(this._data.topIndex,0|t),this._timer.revert())}uiCenter(){this._data.centerOnLast(),this._trackEvent("Center")}uiCancelOrder(t){this._uiState.isTradable&&null!==t&&((0,l.ensureNotNull)(this._trading.brokerCommandsUI()||null).cancelOrder(t),this._trackEvent("Cancel Order"))}uiModifyOrder(t,e=null){if(!t||!this._uiState.isTradable||void 0===this._configFlags||!(0,k.isModifyOrderSupported)(t,this._configFlags))return Promise.resolve();let i=!0;null===e&&(e={},i=!1);const s=(0,
l.ensureNotNull)(this._trading.brokerCommandsUI()||null).modifyOrder({...t,...e},i,void 0,!0);return this._lockTimerUntilSettled(s),this._trackEvent("Modify Order"),Promise.resolve()}uiPlaceOrder({side:t,type:e,price:i=NaN,altPrice:s=NaN}){var o;if(!this._realtimeProvider.activeBroker())return void this._trading.toggleTradingWidget().then(()=>{this._trading.onNeedSelectBroker.fire()});if(!(null===(o=this._subscription)||void 0===o?void 0:o.broker))return void this._trading.toggleTradingWidget();if(2!==e&&!isFinite(i))return;null===e&&(e=this._data.guessOrderType(i,t));let r=!0;if(null===e&&(r=!1,e=1),!this._isOrderTypeSupported(e))return;const n={};for(const[t,e]of this._domDetails.getSelectedComboBoxValues())n[t]=e.value();for(const[t,e]of this._domDetails.getCheckboxFieldsStates())n[t]=e.value();const a=1===t?this._calcData.ask():this._calcData.bid(),h={symbol:d.linking.proSymbol.value(),qty:this._calcData.qty.value(),side:t,type:e,seenPrice:null!=a?a:null,duration:this._currentDuration.value(),customFields:n};3===h.type&&(h.stopPrice=i),1===h.type&&(h.limitPrice=i),4===h.type&&(h.stopPrice=i,isFinite(s)?h.limitPrice=s:r=!1),this._lockTimerUntilSettled((0,l.ensureNotNull)(this._trading.brokerCommandsUI()||null).placeOrder(h,r,!0)),this._trackEvent("Place Order",at[e])}uiCancelAllOrders(t){const e=this._uiState;if(!e.isTradable||!e.hasBuyOrders&&!e.hasSellOrders||1===t&&!e.hasBuyOrders||-1===t&&!e.hasSellOrders)return Promise.resolve();const i=(0,l.ensureNotNull)(this._trading.brokerCommandsUI()||null).cancelOrders(d.linking.proSymbol.value(),t);return this._lockTimerUntilSettled(i),t?this._trackEvent("Cancel All "+(1===t?"Buy":"Sell")+" Orders"):this._trackEvent("Cancel All Orders"),Promise.resolve()}async uiClosePosition(){if(this._uiState.isPositionBlocked||!this._uiState.isTradable||!this._uiState.hasPosition||!this._hasFlatten)return;const t=this._realtimeProvider.activeBroker();if(!t)return;this._mergeUiState({isPositionBlocked:!0});const e=t.positions(d.linking.proSymbol.value()).then(t=>{for(const e of t)if(0!==e.qty)return(0,l.ensureNotNull)(this._trading.brokerCommandsUI()).closePosition(e.id);return Promise.resolve(!1)}).finally(()=>this._mergeUiState({isPositionBlocked:!1}));this._lockTimerUntilSettled(e),this._trackEvent("Close Position")}async uiReversePosition(){if(this._uiState.isPositionBlocked||!this._uiState.isTradable||!this._uiState.hasPosition||!this._hasReverse)return;const t=this._realtimeProvider.activeBroker();if(!t)return;this._mergeUiState({isPositionBlocked:!0});const e=t.positions(d.linking.proSymbol.value()).then(t=>{for(const e of t)if(0!==e.qty)return(0,l.ensureNotNull)(this._trading.brokerCommandsUI()).reversePosition(e.id);return Promise.resolve(!1)}).finally(()=>this._mergeUiState({isPositionBlocked:!1}));this._lockTimerUntilSettled(e),this._trackEvent("Reverse")}uiOrderMousedown(t,e,i){if(1!==t.buttons||null===e||null===this._mainBlock||null===this._subscription)return;this.uiStopOrderDrag();const s=e[i],o=this._subscription;let r=NaN;o.orderMouseRoot=document.documentElement,
o.orderMousemoveHandler=t=>{if(t.preventDefault(),1!==(t.buttons||t.which)||void 0===this._configFlags||!(0,k.isMoveOrderSupported)(e,this._configFlags))return void this.uiStopOrderDrag();const s=(0,l.ensureNotNull)(this._mainBlock).getBoundingClientRect().y,o=lt(t)-s,n=-Math.floor(o/20),a=this._data.correctIndex(this._data.topIndex,n);r=this._data.indexToPrice(a),this._data.setDragShield(!0,!0),this._mergeTimerLockState({drag:!0}),this._data.setOrderGhost({order:e,pricePropertyName:i,price:r})},o.orderMouseupHandler=()=>{this.uiStopOrderDrag();this._realtimeProvider.activeBroker()&&isFinite(r)&&r!==s&&(this._data.setOrderGhost({order:e,pricePropertyName:i,price:r}),this._data.setDragShield(!0,!0),this._trackEvent("Move Order"),this.uiModifyOrder(e,{[i]:r}).then(()=>this.uiStopOrderDrag()).catch(()=>this.uiStopOrderDrag()))},o.orderMousedownHandler=()=>{this.uiStopOrderDrag()},o.orderMouseRoot.addEventListener("mousemove",o.orderMousemoveHandler),o.orderMouseRoot.addEventListener("mouseup",o.orderMouseupHandler),setTimeout(()=>{const{orderMouseRoot:t,orderMousedownHandler:e}=o;t&&e&&t.addEventListener("mousedown",e)},0)}uiStopOrderDrag(){if(this._data.setDragShield(!1,!1),this._data.resetOrderGhost(),this._mergeTimerLockState({drag:!1}),!this._subscription)return;const{orderMousemoveHandler:t,orderMouseupHandler:e,orderMousedownHandler:i,orderMouseRoot:s}=this._subscription;delete this._subscription.orderMousemoveHandler,delete this._subscription.orderMouseupHandler,delete this._subscription.orderMousedownHandler,delete this._subscription.orderMouseRoot,s&&t&&s.removeEventListener("mousemove",t),s&&e&&s.removeEventListener("mouseup",e),s&&i&&s.removeEventListener("mousedown",i)}uiContextMenu(t,e,i){if(!this._uiState.isTradable)return;if(1!==e&&-1!==e)return;const s=this._uiState.qty||NaN,o=d.linking.seriesShortSymbol.value()||d.linking.proSymbol.value(),n=(0,v.abbreviatedNumber)(s),a=[],l=this._symbolData&&this._symbolData.priceFormatter||new m.PriceFormatter;if(this._trackEvent("Context Menu"),isFinite(i)){const t=l.format(i);if(this._isOrderTypeSupported(3)){const s={stopPrice:t,qty:n,symbol:o};let l="";l=1===e?(0,r.t)("Buy {qty} {symbol} @ {stopPrice} Stop",{replace:s}):(0,r.t)("Sell {qty} {symbol} @ {stopPrice} Stop",{replace:s});const d=new b.Action({actionId:"Trading.DomePlaceStopOrder",label:l,onExecute:()=>{this.uiPlaceOrder({side:e,price:i,type:3})}});a.push(d)}if(this._isOrderTypeSupported(1)){const s={limitPrice:t,qty:n,symbol:o};let l="";l=1===e?(0,r.t)("Buy {qty} {symbol} @ {limitPrice} Limit",{replace:s}):(0,r.t)("Sell {qty} {symbol} @ {limitPrice} Limit",{replace:s});const d=new b.Action({actionId:"Trading.DomePlaceLimitOrder",label:l,onExecute:()=>{this.uiPlaceOrder({side:e,price:i,type:1})}});a.push(d)}if(this._symbolData&&this._hasStopLimit){const s=i+this._symbolData.minTick*(1===e?1:-1),d={stopPrice:t,limitPrice:l.format(s),qty:n,symbol:o};let h="";h=1===e?(0,r.t)("Buy {qty} {symbol} @ {stopPrice} Stop {limitPrice} Limit",{replace:d}):(0,
r.t)("Sell {qty} {symbol} @ {stopPrice} Stop {limitPrice} Limit",{replace:d});const c=new b.Action({actionId:"Trading.DomePlaceStopLimitOrder",label:h,onExecute:()=>{this.uiPlaceOrder({side:e,price:i,altPrice:s,type:4})}});a.push(c)}}if(this._isOrderTypeSupported(2)){const t={qty:n,symbol:o};let i="";i=1===e?(0,r.t)("Buy {qty} {symbol} @ Market",{replace:t}):(0,r.t)("Sell {qty} {symbol} @ Market",{replace:t});const s=new b.Action({actionId:"Trading.DomePlaceMarketOrder",label:i,onExecute:()=>{this.uiPlaceOrder({side:e,type:2})}});a.push(s)}a.length&&y.ContextMenuManager.showMenu(a,t,void 0,{menuName:"DomeWidgetContextMenu"})}_recreateLayout(t){var e;null!==this._container&&(null!==(e=this._detailsBlock)&&s.unmountComponentAtNode(e),this._container.innerHTML=""),this._calcData.removeNodesIfExist(),this._container=t,this._createMainBlock(),this._createNavBlock(),this._createCalculatorBlock(this._container),this._createPositionActionsBlock(),this._createQtyInput(),this._createMarketActionBlock(),this._syncActionButtons(),this._updateValueBuySellOrders(),this._createDetailsBlock(this._container),this._calculateLayout(),this._calcData.reset()}_createMainBlock(){const t=(0,l.ensureNotNull)(this._container),e=document.createElement("div");e.className="tv-dome-widget-main",t.append(e);const i=this._warning=document.createElement("div");i.className="tv-dome-panel__warning i-hidden",i.textContent=(0,r.t)("No data"),e.append(i),this._data.setContainer(e);let s=0;e.addEventListener("wheel",t=>{if(t.preventDefault(),!this._data.getDynamicModeState()&&(t.deltaMode!==t.DOM_DELTA_PAGE?s-=(0,c.getPixelsFromEvent)(t).y/100:s-=(0,u.clamp)(t.deltaY,-1,1),Math.abs(s)>=1)){const t=s%1;this.uiScroll(s-t),s=t}});let o=!1;const n=t=>{if(o)return;const e="touches"in t;if(!e&&1!==(t.buttons||t.which))return;const i=this._data.topIndex;if(!isFinite(i))return;if(e&&1!==t.touches.length)return;if(!(t.target instanceof Element))return;if(!t.target.closest(".tv-dome-widget-main__value--price"))return;o=!0;const s=lt(t),r=document.documentElement,n=()=>{["mouseup","mousedown","touchend","touchstart","touchcancel"].forEach(t=>r.removeEventListener(t,n)),r.removeEventListener("mousemove",a),r.removeEventListener("touchmove",a),o=!1,this._data.setDragShield(!1,!1),this._mergeTimerLockState({scroll:!1})},a=t=>{if(t.preventDefault(),!this._data.getDynamicModeState()){if(!e&&1!==(t.buttons||t.which))return void n();const o=lt(t)-s,r=Math.round(o/20);r&&(this._data.setDragShield(!0,!1),this._mergeTimerLockState({scroll:!0})),this._data.shiftTopIndexRelativeToIndex(i,r)}};r.addEventListener(e?"touchmove":"mousemove",a),r.addEventListener(e?"touchend":"mouseup",n),e&&r.addEventListener("touchcancel",n),setTimeout(()=>{o&&r.addEventListener(e?"touchstart":"mousedown",n)},0)};e.addEventListener("mousedown",n),e.addEventListener("touchstart",n),e.addEventListener("dblclick",t=>{if(!(t.target instanceof Element))return;t.target.closest(".tv-dome-widget-main__value--price")&&this.uiCenter()}),this._mainBlock=e,
document.addEventListener("keydown",t=>this._data.handlerKey(t),!1),document.addEventListener("keyup",t=>this._data.handlerKey(t),!1)}_createDetailsBlock(t){this._detailsBlock=document.createElement("div"),t.append(this._detailsBlock);const e={domDetails:this._domDetails,currentDuration:this._currentDuration,durationMetaInfoList:this._durationMetaInfoList,onDurationChanged:this._onDurationChanged,openState:this._detailsOpenState};!function(t,e){s.render(o.createElement(tt,{...e}),t)}(this._detailsBlock,e)}_createMarketActionBlock(){const t=(0,l.ensureNotNull)(this._container),e=(0,g.hotKeySerialize)({keys:["Shift","B"],text:"{0} + {1}"}),i=(0,g.hotKeySerialize)({keys:["Shift","S"],text:"{0} + {1}"}),s=this._marketActionBlock=(0,l.ensureNotNull)((0,f.parseHtmlElement)(`\n\t\t\t<div class="${et.row} ${it.wrapper}">\n\t\t\t\t<button class="${et.buttonBuy} js-buy-mkt apply-common-tooltip" data-tooltip-hotkey="${e}">${(0,r.t)("Buy Mkt")}</button>\n\t\t\t\t<button class="${et.buttonSell} js-sell-mkt apply-common-tooltip" data-tooltip-hotkey="${i}">${(0,r.t)("Sell Mkt")}</button>\n\t\t\t</div>\n\t\t`)),o={buyMarket:(0,l.ensureNotNull)(s.querySelector(".js-buy-mkt")),sellMarket:(0,l.ensureNotNull)(s.querySelector(".js-sell-mkt"))};o.buyMarket.addEventListener("click",t=>{t.preventDefault(),this.uiPlaceOrder({side:1,type:2})}),o.sellMarket.addEventListener("click",t=>{t.preventDefault(),this.uiPlaceOrder({side:-1,type:2})}),this._actionPositionButtons=o,t.append(s)}_createPositionActionsBlock(){const t=(0,l.ensureNotNull)(this._container),e=(0,r.t)("CXL All"),i=(0,r.t)("Flatten"),s=(0,r.t)("Reverse"),o=this._positionActionsBlock=(0,l.ensureNotNull)((0,f.parseHtmlElement)(`\n\t\t<div class="${et.row} ${it.wrapper}">\n\t\t\t<button class="${et.buttonOrdinary} js-flatten apply-common-tooltip" title="${this._flattenTitle}">${i}</button>\n\t\t\t<button class="${et.buttonOrdinary} js-clear apply-common-tooltip" title="${this._csxAllTitle}">${e}</button>\n\t\t\t<button class="${et.buttonOrdinary} js-reverse apply-common-tooltip" title="${this._reverseTitle}">${s}</button>\n\t\t</div>\n\t\t`)),n={flatten:(0,l.ensureNotNull)(o.querySelector(".js-flatten")),clear:(0,l.ensureNotNull)(o.querySelector(".js-clear")),reverse:(0,l.ensureNotNull)(o.querySelector(".js-reverse"))};n.flatten.addEventListener("click",t=>{t.preventDefault(),this.uiClosePosition()}),n.clear.addEventListener("click",t=>{t.preventDefault(),this.uiCancelAllOrders()}),n.reverse.addEventListener("click",t=>{t.preventDefault(),this.uiReversePosition()}),this._actionMarketButtons=n,t.append(o)}_createCalculatorBlock(t){const e=this._calculatorBlock=document.createElement("div");e.classList.add("tv-dome-widget-actions"),t.append(e),e.appendChild((0,l.ensureNotNull)((0,
f.parseHtmlElement)(`\n\t\t\t\t<div class="tv-dome-widget-calculator tv-dome-calc-block ${it.wrapper}">\n\t\t\t\t\t<div class="tv-dome-calc-block__wrap">\n\t\t\t\t\t\t<span class="tv-dome-calc-block__position tv-dome-calc-block__position--disabled js-position"></span>\n\t\t\t\t\t\t<span class="tv-dome-calc-block__pl tv-dome-calc-block__pl--disabled js-pl"></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`))),e.classList.add("tv-dome-calc-block");const i=document.createTextNode(""),s=document.createTextNode(""),o=(0,l.ensureNotNull)(e.querySelector(".js-position"));o.classList.add("apply-common-tooltip"),o.setAttribute("title",(0,r.t)("Position")),o.appendChild(s);const n=(0,l.ensureNotNull)(e.querySelector(".js-pl"));n.classList.add("apply-common-tooltip"),n.setAttribute("title",(0,r.t)("Profit/Loss")),n.appendChild(i),this._calcData.setNodes({container:e,position:o,pl:n,plText:i,positionText:s}),o.addEventListener("click",t=>{this._calcData.onPositionClick(t)}),n.addEventListener("click",t=>{this._calcData.onPlClick(t)}),this._calcData.scheduleRepaint()}_createQtyInput(){const t=this._qtyInput=document.createElement("div"),e=(0,l.ensureNotNull)(this._container);t.classList.add("tv-dome-widget-actions",it.wrapper),e.append(t),function(t,e){s.render(o.createElement(W,{calcData:e}),t)}(t,this._calcData)}_createNavBlock(){const t=(0,l.ensureNotNull)(this._container),e={on:ot,off:rt},i=(0,l.ensureNotNull)((0,
f.parseHtmlElement)(`\n\t\t\t<div class="tv-dome-widget-nav-wrapper">\n\t\t\t\t<div class="tv-dome-widget-nav">\n\t\t\t\t\t<div class="tv-dome-widget-nav__button-block tv-dome-widget-nav__button-block--orders">\n\t\t\t\t\t\t<span class="apply-common-tooltip tv-dome-widget-nav__button tv-dome-widget-nav__button--clear-ask js-clear-ask">\n\t\t\t\t\t\t\t${st}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class="tv-dome-widget-nav_count-volume js-count-volume-buy"></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="tv-dome-widget-nav__button-block tv-dome-widget-nav__button-block--price">\n\t\t\t\t\t\t<div class="tv-dome-widget-nav_overall-volume tv-dome-widget-nav_overall-volume--bid">\n\t\t\t\t\t\t\t<span class="apply-common-tooltip js-total-volume-bid"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="tv-dome-widget-nav_center apply-common-tooltip js-center">\n\t\t\t\t\t\t\t<svg class="tv-dome-widget-nav__timer" viewBox="-1 -1 2 2" width="2" height="2">\n\t\t\t\t\t\t\t\t<path d="M 0,0" class="js-timer-path"></path>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t<span class="tv-dome-widget-nav__button tv-dome-widget-nav__button--center js-center-target">\n\t\t\t\t\t\t\t\t${e.off}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="tv-dome-widget-nav_overall-volume tv-dome-widget-nav_overall-volume--ask">\n\t\t\t\t\t\t\t<span class="apply-common-tooltip js-total-volume-ask"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="tv-dome-widget-nav__button-block tv-dome-widget-nav__button-block--orders">\n\t\t\t\t\t\t<span class="tv-dome-widget-nav_count-volume js-count-volume-sell"></span>\n\t\t\t\t\t\t<span class="apply-common-tooltip tv-dome-widget-nav__button tv-dome-widget-nav__button--clear-bid js-clear-bid">\n\t\t\t\t\t\t\t${st}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`)),s=(0,l.ensureNotNull)(i.querySelector(".js-clear-ask")),o=(0,l.ensureNotNull)(i.querySelector(".js-clear-bid")),n=(0,l.ensureNotNull)(i.querySelector(".js-center")),a=(0,l.ensureNotNull)(i.querySelector(".js-center-target"));this._totalVolumeBidTextNode=document.createTextNode("-"),this._totalVolumeAskTextNode=document.createTextNode("-"),this._countVolumeBuyTextNode=document.createTextNode(""),this._countVolumeSellTextNode=document.createTextNode("");const d=(0,l.ensureNotNull)(i.querySelector(".js-total-volume-bid")),h=(0,l.ensureNotNull)(i.querySelector(".js-total-volume-ask")),c=(0,l.ensureNotNull)(this._countVolumeBid=i.querySelector(".js-count-volume-buy")),u=(0,l.ensureNotNull)(this._countVolumeAsk=i.querySelector(".js-count-volume-sell"));d.appendChild(this._totalVolumeBidTextNode),d.setAttribute("title",(0,r.t)("Total buy quantity")),h.appendChild(this._totalVolumeAskTextNode),h.setAttribute("title",(0,r.t)("Total sell quantity")),c.appendChild(this._countVolumeBuyTextNode),u.appendChild(this._countVolumeSellTextNode),s.setAttribute("title",(0,r.t)("Cancel all buy orders")),o.setAttribute("title",(0,r.t)("Cancel all sell orders")),n.setAttribute("title",(0,r.t)("Disable dynamic mode")),
s.addEventListener("click",t=>{t.preventDefault(),this.uiCancelAllOrders(1)}),o.addEventListener("click",t=>{t.preventDefault(),this.uiCancelAllOrders(-1)}),n.addEventListener("click",t=>{t.preventDefault(),this.uiCenter();const i=this._data.toggleDynamicModeState(),s=i?e.on:e.off,o=i?(0,r.t)("Enable dynamic mode"):(0,r.t)("Disable dynamic mode");n.setAttribute("title",o),a.removeChild(a.children[0]),a.appendChild((0,l.ensureNotNull)((0,f.parseHtmlElement)(s)))}),this._navBlock=i,this._svgTimerPath=i.querySelector(".js-timer-path"),this._navButtons={clearBuy:s,clearSell:o},t.append(i)}_calculateDetailsBlockHeight(){if(!this._uiState.isTradable)return 0;if(!this._detailsOpenState.value())return 0===this._domDetails.getCustomFieldsCount()?0:52;let t=0;for(const e of Array.from((0,l.ensureNotNull)(this._detailsBlock).children))t+=e.scrollHeight;return t}_createNoticeBlock(){const t=(0,l.ensureNotNull)(this._container);this._noDataNoticeBlock=document.createElement("div"),this._noDataNoticeBlock.className="tv-dome-panel__no-data-notice",t.append(this._noDataNoticeBlock)}_showNoDataNotice(){var t;const e=null===(t=this._realtimeProvider.activeBroker())||void 0===t?void 0:t.metainfo().title;null!==this._noDataNoticeBlock&&void 0!==e&&s.render(o.createElement(Informer,{header:(0,r.t)("Caution!"),content:(0,r.t)("Trading with {brokerName} is not possible at the moment due to the market data not being provided. Please try again later.").replace("{brokerName}",e),informerIntent:"warning"}),this._noDataNoticeBlock)}_hideNoDataNotice(){null!==this._noDataNoticeBlock&&s.unmountComponentAtNode(this._noDataNoticeBlock)}_syncActionButtons(){const{isPositionBlocked:t,isTradable:e,hasPosition:i,hasBuyOrders:s,hasSellOrders:o}=this._uiState;if(this._actionPositionButtons&&this._actionMarketButtons){const r={...this._actionPositionButtons,...this._actionMarketButtons},n="i-disabled";r.flatten.disabled=t||!e||!i||!this._hasFlatten,r.reverse.disabled=t||!e||!i||!this._hasReverse,r.clear.disabled=!e||!(s||o),r.flatten.title=this._flattenTitle,r.reverse.title=this._reverseTitle,r.clear.title=this._csxAllTitle;const a=this._isOrderTypeSupported(2);r.buyMarket.classList.toggle(n,!a),r.sellMarket.classList.toggle(n,!a)}if(this._navButtons){const t=this._navButtons,i="tv-dome-widget-nav__button--disabled";t.clearBuy.classList.toggle(i,!e||!s),t.clearSell.classList.toggle(i,!e||!o)}}_mergeUiState(t){const e=this._uiState;let i,s=!1;for(i in t)e!==t[i]&&(e[i]=t[i],s=!0);s&&this._syncActionButtons()}_handlers(){return{closeButtonClick:(t,e)=>{t.preventDefault(),this.uiCancelOrder(e&&e.id)},qtyClick:(t,e)=>{t.preventDefault(),this.uiModifyOrder(e)},bidAskClick:(t,{side:e,price:i,type:s})=>{t.preventDefault(),this.uiPlaceOrder({side:e,price:i,type:s||null})},bidAskContextMenu:(t,{side:e,price:i})=>{t.preventDefault(),this.uiContextMenu(t,e,i)},qtyChange:t=>{!isFinite(t)||t<0||(this._qtySuggester.setQty(d.linking.proSymbol.value(),t),this._mergeUiState({qty:t}))},qtyInput:t=>{!isFinite(t)||t<0||this._mergeUiState({qty:t})},
orderMousedown:(t,{order:e,pricePropertyName:i})=>{this.uiOrderMousedown(t,e,i)}}}_mergeTimerLockState(t){const e=this._timerLockState;let i,s=!1;for(i in t)e[i]!==t[i]&&(e[i]=t[i],s=!0);s&&(!e.autoCenterRequired||e.scroll||e.drag||e.dialog?this._timer.abort():this._timer.run())}_lockTimerUntilSettled(t){if(!t)return;this._mergeTimerLockState({dialog:t});const e=()=>{this._timerLockState.dialog===t&&this._mergeTimerLockState({dialog:null})};t.then(e,e)}_updateTimerUi(t){t=t||0,(0,l.ensureNotNull)(this._svgTimerPath).setAttribute("d",(t=>{let e="M 0 0";return t>0&&(t>=1?e="M 0 -1":e+="L 0 -1",t>.5&&(e+="A 1 1 0 0 1 0 1"),e+="A 1 1 0 0 1 "+Math.sin(2*t*Math.PI)+" "+-Math.cos(2*t*Math.PI)+"Z"),e})(t))}async _getSymbolData(t){var e;const[i,s,o,r]=await Promise.all([this._realtimeProvider.symbolInfo(t),this._realtimeProvider.formatter(t),this._realtimeProvider.quantityFormatter(t),null===(e=this._realtimeProvider.activeBroker())||void 0===e?void 0:e.getPositionCurrency(t)]),n=Math.ceil(-Math.log10(i.qty.step)),a=new p.VolumeFormatter(n);return{minTick:i.minTick,pipSize:i.pipSize,priceFormatter:s,volumeFormatter:a,quantityFormatter:o,qtyProperties:i.qty,lotSize:i.lotSize,positionCurrency:r}}_unsubscribeData(){var t;if(!this._subscription)return;const{broker:e,symbol:i,domeHandler:s,realtimeHandler:o,orderHandler:r,positionHandler:n,plHandler:a,plPositionId:l,fullUpdateOrders:d,fullUpdatePosition:h}=this._subscription;this._subscription=null,this._domDetails.unsubscribeRecountCustomFields(this._calculateLayoutAfterRender),this._detailsOpenState.unsubscribe(this._calculateLayout),i&&o&&this._realtimeProvider.unsubscribeRealtime(i,o),i&&s&&this._realtimeProvider.unsubscribeDOME(i,s),e&&r&&e.orderUpdate.unsubscribe(null,r),e&&n&&e.positionUpdate.unsubscribe(null,n),e&&a&&l&&e.unsubscribePL(l,a),e&&d&&e.currentAccountUpdate.unsubscribe(null,d),e&&h&&e.currentAccountUpdate.unsubscribe(null,h),null===(t=this._suggestedQtySubscription)||void 0===t||t.unsubscribe()}_trackEvent(t,e){this._trading.trackEvent("DOM",t,e)}_processOrders(t){const e=[];let i=!1,s=!1;for(let o=0;o<t.length;o++){const r=t[o];if(4===r.status||3===r.status||6===r.status)switch(e.push(r),r.side){case 1:i=!0;break;case-1:s=!0}}this._data.updateOrders(e),this._updateValueBuySellOrders(),this._mergeUiState({hasBuyOrders:i,hasSellOrders:s})}_processPositions(t,e,i){const s=i.filter(t=>0!==t.qty)[0];this._mergeUiState({hasPosition:!!s}),s&&s.id===e.plPositionId||e.plPositionId&&e.plHandler&&t.unsubscribePL&&(t.unsubscribePL(e.plPositionId,e.plHandler),delete e.plPositionId,e.plHandler=null),s&&(e.plPositionId===s.id&&e.plHandler||(e.plHandler=(t,i)=>{this._subscription===e&&this._calcData.updatePL(i)},e.plPositionId=s.id,t.subscribePL(e.plPositionId,e.plHandler))),this._data.updatePosition(s),this._calcData.updatePosition(s)}_updateDurationMetainfo(t,e){if(this._durationMetaInfoList.setValue(null==t?void 0:t.metainfo().durations),null===t||void 0===this._durationMetaInfoList.value())return
;const i=nt(t.metainfo().id,e),s=h.getValue(i),o=void 0!==s?this._makeOrderDuration(s):this._makeDefaultOrderDuration();this._currentDuration.setValue(o),void 0!==o&&this._domDetails.setDurationsInfo(o,this._durationMetaInfoList.value())}_makeDefaultOrderDuration(){if(void 0===this._durationMetaInfoList.value())return;const t=this._durationMetaInfoList.value();if(void 0===t)return;const e=t.find(t=>!0===t.default)||t[0];return(0,w.makeOrderDuration)(e)}_makeOrderDuration(t){var e;const i=null===(e=this._durationMetaInfoList.value())||void 0===e?void 0:e.find(e=>e.value===t);return void 0!==i?(0,w.makeOrderDuration)(i):void 0}async _onStateChange(){var t;const e=d.linking.proSymbol.value(),i=this._realtimeProvider.activeBroker(),s=null==i?void 0:i.metainfo().configFlags.calculatePLUsingLast;if(this._updateDurationMetainfo(i,e),!this._visible.value())return void this._unsubscribeData();this._noDataTimeout&&clearTimeout(this._noDataTimeout),this._noDataTimeout=setTimeout(()=>{var t;null===(t=this._warning)||void 0===t||t.classList.remove("i-hidden")},3e3),this._symbolData=null,this._unsubscribeData(),this._data.reset(),this._domDetails.subscribeRecountCustomFields(this._calculateLayoutAfterRender),this._detailsOpenState.subscribe(this._calculateLayout),this._updateDetails(),this._calcData.setBrokerConfigFlags({calculatePLUsingLast:!0===s}),this._calcData.reset();const o=null===i||(null==i?void 0:i.metainfo().configFlags.supportDOM);this._configFlags=null==i?void 0:i.metainfo().configFlags,this._hasReverse=null!==i&&i.metainfo().configFlags.supportReversePosition,this._hasFlatten=null!==i&&!i.metainfo().configFlags.supportMultiposition,this._hasStopLimit=null!==i&&i.metainfo().configFlags.supportStopLimitOrders,this._mergeUiState({isTradable:!1,hasPosition:!1,hasBuyOrders:!1,hasSellOrders:!1,qty:void 0}),this._mergeTimerLockState({scroll:!1,drag:!1,dialog:null}),this.uiStopOrderDrag();let r=[],n=[];if(!e||!o)return;const a={broker:i,symbol:e,domeHandler:null,realtimeHandler:null,orderHandler:null,positionHandler:null,plHandler:null,plPositionId:void 0,fullUpdateOrders:null,fullUpdatePosition:null};this._subscription=a;const l=await this._qtySuggester.getQty(e);this._onSuggestedQtyChange(l),this._suggestedQtySubscription=this._qtySuggester.suggestedQtyChanged(e).subscribe(this._onSuggestedQtyChange);const h=await this._getSymbolData(e);if(this._calcData.setHasLotSize(void 0!==h.lotSize),!h)return;if(this._subscription!==a)return;this._symbolData=h,this._data.setSymbolInfo(h),this._calcData.setSymbolInfo(h),this.isBats.setValue(!1),a.realtimeHandler=(t,e)=>{var i;const s=e.trade||e.bid||e.ask;s&&this._noDataTimeout&&(null===(i=this._warning)||void 0===i||i.classList.add("i-hidden"),clearTimeout(this._noDataTimeout),this._noDataTimeout=null),this._data.updateLast(s||NaN),this._calcData.updateLast(e.trade||NaN,e.bid||NaN,e.ask||NaN),this.delayedData.setValue(Boolean(e.isDelayed)),!this.isBats.value()&&(0,k.isBatsQuotes)(e)&&this.isBats.setValue(!0)},a.domeHandler=(t,e)=>{this._data.updateData(e),
this._scheduleUpdateViewTotalVolume()};const c=null===(t=await this._realtimeProvider.isTradable(e))||void 0===t?void 0:t.tradable;this._mergeUiState({isTradable:c}),this._calculateLayout(),this._realtimeProvider.subscribeRealtime(e,a.realtimeHandler),this._realtimeProvider.subscribeDOME(e,a.domeHandler),this._supportedOrderTypes=this._getSupportedOrderTypes(i),i&&c&&(a.orderHandler=t=>{if(t.symbol!==a.symbol)return;const e=r.findIndex(e=>e.id===t.id);-1!==e?r[e]=t:r.push(t),this._processOrders(r)},a.positionHandler=t=>{if(t.symbol!==a.symbol)return;const e=n.findIndex(e=>e.id===t.id);-1!==e?n[e]=t:n.push(t),this._processPositions(i,a,n)},a.fullUpdateOrders=()=>{const t=i.orders(e);a.orderPromise=t,t.then(e=>{this._subscription===a&&a.orderPromise===t&&(r=e,this._processOrders(e))})},a.fullUpdatePosition=()=>{const t=i.positions(e);a.positionPromise=t,t.then(e=>{this._subscription===a&&a.positionPromise===t&&(n=e,this._processPositions(i,a,e))})},i.orderUpdate.subscribe(null,a.orderHandler),i.positionUpdate.subscribe(null,a.positionHandler),i.currentAccountUpdate.subscribe(null,a.fullUpdateOrders),i.currentAccountUpdate.subscribe(null,a.fullUpdatePosition),a.fullUpdateOrders(),a.fullUpdatePosition()),this._updateValueBuySellOrders()}async _updateDetails(){var t,e;const i=await(null===(t=this._realtimeProvider.activeBroker())||void 0===t?void 0:t.getOrderDialogOptions(d.linking.proSymbol.value())),s=null!==(e=null==i?void 0:i.customFields)&&void 0!==e?e:[];this._domDetails.setCustomFields(s)}_getSupportedOrderTypes(t){const e=[];return null===t||1!==t.connectionStatus()?[2]:(t.metainfo().configFlags.supportMarketOrders&&e.push(2),t.metainfo().configFlags.supportLimitOrders&&e.push(1),t.metainfo().configFlags.supportStopOrders&&e.push(3),t.metainfo().configFlags.supportStopLimitOrders&&e.push(4),e)}_isOrderTypeSupported(t){return-1!==this._supportedOrderTypes.indexOf(t)}_scheduleUpdateViewTotalVolume(){this._viewTotalVolumeScheduled||(this._viewTotalVolumeScheduled=!0,window.requestAnimationFrame(()=>this._updateViewTotalVolume()))}_updateViewTotalVolume(){if(this._viewTotalVolumeScheduled=!1,this._symbolData){const t=this._data.totalVolumeBid(),e=this._data.totalVolumeAsk(),i=(0,l.ensureNotNull)(this._totalVolumeBidTextNode),s=(0,l.ensureNotNull)(this._totalVolumeAskTextNode);i.nodeValue=isFinite(t)?this._data.formatVolume(t):"-",s.nodeValue=isFinite(e)?this._data.formatVolume(e):"-"}}_updateValueBuySellOrders(){const t=this._data.buyOrdersValue(),e=this._data.sellOrdersValue(),i=this._data.buyInactiveOrdersValue(),s=this._data.sellInactiveOrdersValue(),o=this._data.buyOrdersQuantity(),r=this._data.sellOrdersQuantity(),n=(0,l.ensureNotNull)(this._countVolumeBid),a=(0,l.ensureNotNull)(this._countVolumeAsk),d=(0,l.ensureNotNull)(this._countVolumeBuyTextNode),h=(0,l.ensureNotNull)(this._countVolumeSellTextNode);0!==t||0!==i?(n.setAttribute("title",this._setFormattingTextForCountVolume(t,i,+o)),n.classList.add("apply-common-tooltip")):(n.setAttribute("title",""),n.classList.remove("apply-common-tooltip")),
0!==e||0!==s?(a.setAttribute("title",this._setFormattingTextForCountVolume(e,s,+r)),a.classList.add("apply-common-tooltip")):(a.setAttribute("title",""),a.classList.remove("apply-common-tooltip")),d.nodeValue=String(i>0?t:t||""),h.nodeValue=String(s>0?e:e||"")}_setFormattingTextForCountVolume(t,e,i){const s=(0,r.t)("{countOrders} active order x {countQuantity}",{plural:"{countOrders} active orders x {countQuantity}",count:t}).format({countOrders:String(t),countQuantity:String(i)}),o=(0,r.t)("{countInactiveOrders} inactive order",{plural:"{countInactiveOrders} inactive orders",count:e}).format({countInactiveOrders:String(e)});return s+(e>0?", "+o:"")}}var ht=i(38120),ct=i(50441);const ut=(0,r.t)("Show zero trade volume prices"),_t=(0,r.t)("Show prices between the best bid/ask"),mt=(0,r.t)("You are seeing delayed data in the DOM. You need to get the data from your broker, if you want to see it real-time.");function pt(t){const e=(0,q.useWatchedValueReadonly)({watchedValue:t.symbol}),i=(0,q.useWatchedValueReadonly)({watchedValue:t.delayedData}),s=(0,q.useWatchedValueReadonly)({watchedValue:t.isBats}),[r,n]=(0,E.useWatchedValue)(t.domeSettings.zeroVolume),[a,l]=(0,E.useWatchedValue)(t.domeSettings.spread),d=o.createElement(o.Fragment,null,o.createElement(ht.PopupMenuItemToggle,{label:ut,isChecked:r,onClick:()=>n(!r)}),o.createElement(ht.PopupMenuItemToggle,{label:_t,isChecked:a,onClick:()=>l(!a)}));return o.createElement(ct.Header,{title:e.symbol,description:e.exchange&&", "+e.exchange,symbol:e.symbol,settingsItems:d,hasDelayedWarning:i,hasCloseButton:!0,close:t.closePanel,delayedWarningMessage:mt,hasBatsQuotes:s})}class vt{constructor(t,e,i){var s;this._widget=null;this._resizerBridge=e,this._height=this._resizerBridge.height,this._innerHeight=new(a()),this._widgetBody=new(a()),this._height.subscribe(t=>{this._innerHeight.setValue(Math.max(t-42,0))},{callWithLast:!0}),this._visible=new(a())(!1),this._close=()=>{},this._trading=t,this._qtySuggester=i,this._body=this._resizerBridge.container.value().querySelector(".trading-panel-content"),this._header=document.createElement("div"),this._container=document.createElement("div");const o=d.linking.proSymbol.value(),n=null===(s=this._trading.activeBroker())||void 0===s?void 0:s.metainfo().title;this._symbol=new(a())({symbol:o||"",exchange:n||""});const l=()=>{const t=this._trading.activeBroker();let e;if(t&&1===t.connectionStatus()&&!t.metainfo().configFlags.supportDOM){const t=document.querySelector(".tv-dome-panel__content");if(null!==document.querySelector(".tv-dome-panel__disabled")||null===t)return;const i=document.createElement("span");return e=document.createElement("div"),i.classList.add("tv-dome-panel__disabled-warning"),i.innerText=(0,r.t)("The DOM window is currently unavailable for this broker"),e.classList.add("tv-dome-panel__disabled"),e.appendChild(i),void t.insertBefore(e,t.firstChild)}e=document.querySelector(".tv-dome-panel__disabled"),e&&e.parentNode&&e.parentNode.removeChild(e)},h=t=>{var e,i;t?(this._body.append(this._header),
this._body.append(this._container)):(null===(e=this._body.querySelector(".tv-dome-header"))||void 0===e||e.remove(),null===(i=this._body.querySelector(".tv-dome-panel"))||void 0===i||i.remove()),this._displayHeader(this._header,t)};this._trading.onConnectionStatusChange.subscribe(null,l),this._visible.subscribe(l),l(),this._visible.when(()=>{this._updateSymbol(d.linking.proSymbol.value()),this._resizerBridge.container.subscribe(t=>{this._body=t.querySelector(".trading-panel-content"),this._createLayout(),this._trading.onBrokerChange.subscribe(this,()=>this._updateSymbol(d.linking.proSymbol.value())),d.linking.proSymbol.spawn().subscribe(t=>this._updateSymbol(t)),l()},{callWithLast:!0}),this._widget=new dt(this._widgetBody,this._innerHeight,this._visible,this._trading,this._qtySuggester),this._visible.subscribe(h),this._displayHeader(this._header,!0)})}setCloseHandler(t){this._close=t}setVisibility(t){this._visible.setValue(t)}_displayHeader(t,e){e&&this._widget?s.render(o.createElement(pt,{symbol:this._symbol,closePanel:this._close,domeSettings:this._trading.showPricesWith(),delayedData:this._widget.delayedData,isBats:this._widget.isBats}),t):s.unmountComponentAtNode(t)}_createLayout(){this._header.classList.add("tv-dome-header"),this._body.append(this._header),this._container.classList.add("tv-dome-panel");const t=document.createElement("div");return t.className="tv-dome-panel__content",this._container.append(t),this._container.addEventListener("contextmenu",t=>{t.target instanceof HTMLElement&&t.target.matches("input, textarea")||t.preventDefault()}),this._body.append(this._container),this._widgetBody.setValue(t),t}_updateSymbol(t){var e;const i=t,s=null===(e=this._trading.activeBroker())||void 0===e?void 0:e.metainfo().title;this._symbol.setValue({symbol:i||"",exchange:s||""})}}},46055:(t,e,i)=>{"use strict";i.d(e,{OrderPanelStatus:()=>s,OrderPlacingStatus:()=>o,OrderEditorDisplayMode:()=>r,PriceType:()=>n,BracketDefaultPips:()=>a,BracketSubControlType:()=>l,QuantitySubControlType:()=>d,PriceSubControlType:()=>h,CalculatorDecKeyCodes:()=>c,CalculatorIncKeyCodes:()=>u,Context:()=>p,orderTypes:()=>v});var s,o,r,n,a,l,d,h,c,u,_=i(67294),m=i(74245);!function(t){t[t.Wait=0]="Wait",t[t.Active=1]="Active",t[t.Editing=2]="Editing",t[t.Preview=3]="Preview"}(s||(s={})),function(t){t[t.Creating=0]="Creating",t[t.Placed=1]="Placed"}(o||(o={})),function(t){t.Popup="popup",t.Panel="panel"}(r||(r={})),function(t){t[t.Stop=0]="Stop",t[t.Limit=1]="Limit"}(n||(n={})),function(t){t[t.TakeProfit=75]="TakeProfit",t[t.StopLoss=25]="StopLoss"}(a||(a={})),function(t){t.Price="Price",t.Pips="Pips",t.Money="Money",t.Percent="Percent"}(l||(l={})),function(t){t.Units="Units",t.RiskInCurrency="RiskInCurrency",t.RiskInPercent="RiskInPercent",t.BaseCurrency="BaseCurrency",t.QuoteCurrency="QuoteCurrency"}(d||(d={})),function(t){t.Absolute="Absolute",t.Relative="Relative"}(h||(h={})),function(t){t[t.Minus=189]="Minus",t[t.NumMinus=109]="NumMinus",t[t.FirefoxMinus=173]="FirefoxMinus"}(c||(c={})),function(t){t[t.Plus=187]="Plus",
t[t.NumPlus=107]="NumPlus",t[t.FirefoxPlus=61]="FirefoxPlus"}(u||(u={}));const p=_.createContext({resizerWidth:null,mode:r.Panel,supportTrailingStop:!1}),v={1:(0,m.t)("Limit"),2:(0,m.t)("Market"),3:(0,m.t)("Stop"),4:(0,m.t)("Stop Limit")}},71701:(t,e,i)=>{"use strict";i.d(e,{TradingLayoutBreakpoint:()=>o});var s=i(58825);const o={Mobile:s.mobile}},21786:(t,e,i)=>{"use strict";i.d(e,{SplitThousandsFormatter:()=>r});var s=i(6867),o=i(74605);class r{constructor(t=" "){this._divider=t}format(t){const e=(0,s.splitThousands)(t,this._divider);return(0,o.isRtl)()?(0,o.startWithLTR)(e):e}parse(t){const e=(0,o.stripLTRMarks)(t).split(this._divider).join(""),i=Number(e);return isNaN(i)||/e/i.test(e)?{res:!1}:{res:!0,value:i,suggest:this.format(i)}}}},96456:(t,e,i)=>{"use strict";i.d(e,{getPixelsFromEvent:()=>o});const s=[()=>navigator.userAgent.includes("Win")&&navigator.userAgent.includes("Chrome")?1/window.devicePixelRatio:1,()=>16,(t=(()=>0))=>{var e;return.8*(null!==(e=t())&&void 0!==e?e:0)}];function o(t,e=(()=>({}))){return{x:t.deltaX*s[t.deltaMode](()=>e().width),y:t.deltaY*s[t.deltaMode](()=>e().height)}}},82019:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentcolor" stroke-linecap="round" d="M4 7l5 4 5-4"/></svg>'},51432:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentcolor" stroke-linecap="round" d="M4 11l5-4 5 4"/></svg>'},16936:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 9" width="9" height="9"><path stroke="currentcolor" stroke-width="1.2" d="M1 1l7 7m0-7L1 8"/></svg>'},90601:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 17" width="16" height="17" fill="none"><rect width="15" height="9" stroke="currentcolor" rx="2.5" x=".5" y="7.5"/><circle stroke="currentcolor" cx="8" cy="12" r=".5"/><path stroke="currentcolor" d="M3.5 7c0 .28.22.5.5.5h8a.5.5 0 0 0 .5-.5V5a4.5 4.5 0 1 0-9 0v2z"/></svg>'},75972:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 17" width="16" height="17" fill="none"><path fill="currentcolor" fill-rule="evenodd" clip-rule="evenodd" d="M4 5v2h9a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V5a5 5 0 0 1 8.66-3.4l-.74.66A3.99 3.99 0 0 0 4 5z"/><rect width="15" height="9" stroke="currentcolor" rx="2.5" x=".5" y="7.5"/><circle stroke="currentcolor" cx="8" cy="12" r=".5"/></svg>'},36074:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 7" width="12" height="7"><path d="M1 0a1 1 0 0 0-1 1c0 .276.1.538.28.72l5 5c.182.18.444.28.72.28.276 0 .538-.1.72-.28l5-5c.18-.182.28-.444.28-.72a1 1 0 0 0-1-1c-.276 0-.538.1-.72.28L6 4.563 1.72.282C1.537.1 1.275 0 1 0z"/></svg>'},36653:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 7" width="12" height="7"><path d="M1 7a1 1 0 0 1-1-1c0-.276.1-.538.28-.72l5-5C5.463.1 5.725 0 6 0c.276 0 .538.1.72.28l5 5c.18.182.28.444.28.72a1 1 0 0 1-1 1c-.276 0-.538-.1-.72-.28L6 2.437l-4.28 4.28C1.537 6.9 1.275 7 1 7z"/></svg>'},
12297:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 9" width="9px" height="9px"><path d="M2 1L1 2l2.5 2.5L1 7l1 1 2.5-2.5L7 8l1-1-2.5-2.5L8 2 7 1 4.5 3.5z"/></svg>'}}]);