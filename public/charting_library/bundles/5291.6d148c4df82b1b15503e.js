(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[5291],{27754:e=>{e.exports={button:"button-2YcRd2gv"}},70294:e=>{e.exports={dropTargetInside:"dropTargetInside-3UxYcxls",dropTarget:"dropTarget-3UxYcxls",before:"before-3UxYcxls",after:"after-3UxYcxls"}},58686:e=>{e.exports={wrap:"wrap-1a1_EyKG",selected:"selected-1a1_EyKG",childOfSelected:"childOfSelected-1a1_EyKG",disabled:"disabled-1a1_EyKG",expandHandle:"expandHandle-1a1_EyKG",expanded:"expanded-1a1_EyKG"}},18343:e=>{e.exports={separator:"separator-3U2Wf-wc",tree:"tree-3U2Wf-wc",overlayScrollWrap:"overlayScrollWrap-3U2Wf-wc",listContainer:"listContainer-3U2Wf-wc"}},59404:e=>{e.exports={button:"button-2zRC9WmY",disabled:"disabled-2zRC9WmY"}},78953:(e,t,r)=>{"use strict";r.d(t,{ToolWidgetIconButton:()=>s});var n=r(67294),o=r(94184),i=r(57812),a=r(27754);const s=n.forwardRef((e,t)=>{const{className:r,id:s,...c}=e;return n.createElement(i.ToolWidgetButton,{"data-name":s,...c,ref:t,className:o(r,a.button)})})},10384:(e,t,r)=>{"use strict";r.d(t,{SizeContext:()=>n});const n=r(67294).createContext({size:0,smallSizeTreeNodeAction:1})},30558:(e,t,r)=>{"use strict";r.d(t,{resetTree:()=>o,syncNodes:()=>i,setNodes:()=>a,selectPrevious:()=>s,selectNext:()=>c,multiSelectPrevious:()=>u,multiSelectNext:()=>d,processDropTarget:()=>l,dropSelection:()=>f,updateDropTarget:()=>h,hideDropTarget:()=>p,setSelectedIds:()=>g,moveNodes:()=>v,startMultiSelect:()=>y,stopMultiSelect:()=>m,setFocusedNode:()=>S,scrollToId:()=>b,setIsSelected:()=>E,setIsExpanded:()=>T,setDisabledNodes:()=>D,endDrag:()=>O});var n=r(49025);const o=()=>({type:n.RESET_TREE}),i=e=>({type:n.SYNC_NODES,nodes:e}),a=e=>({type:n.SET_NODES,nodes:e}),s=()=>({type:n.SELECT_PREVIOUS}),c=()=>({type:n.SELECT_NEXT}),u=()=>({type:n.MULTI_SELECT_PREVIOUS}),d=()=>({type:n.MULTI_SELECT_NEXT}),l=(e,t,r,o,i)=>({type:n.PROCESS_DROP_TARGET,dropTarget:e,dropType:t,isHoveredLeft:r,boundBox:o,isLastChild:i}),f=()=>({type:n.DROP_SELECTION}),h=(e,t,r)=>({type:n.UPDATE_DROP_TARGET,node:e,dropType:t,boundBox:r}),p=()=>({type:n.HIDE_DROP_TARGET}),g=e=>({type:n.SET_SELECTED_IDS,ids:e}),v=(e,t,r)=>({type:n.MOVE_NODES,ids:e,targetId:t,dropType:r}),y=()=>({type:n.START_MULTI_SELECT}),m=()=>({type:n.STOP_MULTI_SELECT}),S=e=>({type:n.SET_FOCUSED_NODE,nodeId:e}),b=e=>({type:n.SCROLL_TO_ID,nodeId:e}),E=(e,t,r=0)=>({type:n.SET_IS_SELECTED,nodeId:e,isSelected:t,mode:r}),T=(e,t)=>({type:n.SET_IS_EXPANDED,nodeId:e,isExpanded:t}),D=e=>({type:n.SET_DISABLED_NODES,ids:e}),O=()=>({type:n.END_DRAG})},49025:(e,t,r)=>{"use strict";r.d(t,{SET_NODES:()=>o,SYNC_NODES:()=>i,UPDATE_NODE:()=>a,UPDATE_NODES:()=>s,RESET_TREE:()=>c,SET_SELECTED_IDS:()=>u,DROP_SELECTION:()=>d,SELECT_PREVIOUS:()=>l,SELECT_NEXT:()=>f,MULTI_SELECT_PREVIOUS:()=>h,MULTI_SELECT_NEXT:()=>p,PROCESS_DROP_TARGET:()=>g,UPDATE_DROP_TARGET:()=>v,HIDE_DROP_TARGET:()=>y,START_MULTI_SELECT:()=>m,STOP_MULTI_SELECT:()=>S,SET_FOCUSED_NODE:()=>b,SCROLL_TO_ID:()=>E,SET_IS_SELECTED:()=>T,SET_IS_EXPANDED:()=>D,SET_DISABLED_NODES:()=>O,MOVE_NODES:()=>I,END_DRAG:()=>w});const n=(0,
r(10358).createActionTypeFactory)("OBJECT_TREE"),o=n("SET_NODES"),i=n("SYNC_NODES"),a=n("UPDATE_NODE"),s=n("UPDATE_NODES"),c=n("RESET_TREE"),u=n("SET_SELECTED_IDS"),d=n("DROP_SELECTION"),l=n("SELECT_PREVIOUS"),f=n("SELECT_NEXT"),h=n("MULTI_SELECT_PREVIOUS"),p=n("MULTI_SELECT_NEXT"),g=n("PROCESS_DROP_TARGET"),v=n("UPDATE_DROP_TARGET"),y=n("HIDE_DROP_TARGET"),m=n("START_MULTI_SELECT"),S=n("STOP_MULTI_SELECT"),b=(n("REMOVE_NODE"),n("SET_FOCUSED_NODE")),E=n("SCROLL_TO_ID"),T=n("SET_IS_SELECTED"),D=n("SET_IS_EXPANDED"),O=n("SET_DISABLED_NODES"),I=n("MOVE_NODES"),w=(n("START_DRAG"),n("END_DRAG"))},93156:(e,t,r)=>{"use strict";r.d(t,{nodesSelector:()=>i,dropTargetSelector:()=>s,scrollToIdSelector:()=>u,nodeSelector:()=>l,isSelectedSelector:()=>f,isExpandedSelector:()=>h,isDisabledSelector:()=>p,nodeIdsSelector:()=>g,selectedIdsSelector:()=>v,lastFocusedNodeIdSelector:()=>y,isMultiSelectingSelector:()=>m,selectedNodesSelector:()=>S,orderedNodesSelector:()=>E,renderListSelector:()=>D,renderDragListSelector:()=>O});var n=r(22222),o=r(16282);const i=e=>e.nodes,a=e=>e.selection,s=e=>e.dropTarget,c=e=>e.expanded,u=e=>e.scrollToId,d=(e,t)=>t,l=(0,n.createSelector)([i,d],(e,t)=>e[t]),f=(0,n.createSelector)([a,d],(e,t)=>e.ids.includes(t)),h=(0,n.createSelector)([c,d],(e,t)=>e.includes(t)),p=(0,n.createSelector)([e=>e.disabled,a,d],(e,t,r)=>!t.ids.includes(r)&&e.includes(r)),g=(0,n.createSelector)(i,e=>Object.keys(e)),v=(0,n.createSelector)(a,({ids:e})=>e),y=(0,n.createSelector)(a,({lastFocusedNodeId:e})=>e),m=(0,n.createSelector)(a,({isMultiSelecting:e})=>e),S=(0,n.createSelector)([i,v],(e,t)=>t.map(t=>e[t])),b=(0,n.createSelector)(i,e=>Object.values(e).filter(e=>0===e.level)),E=(0,n.createSelector)([i,b],(e,t)=>t.reduce((t,r)=>[...t,...T(e,(0,o.ensureDefined)(r))],[]));function T(e,t){const r=[];for(const n of t.children)r.push(e[n]),r.push(...T(e,e[n]));return r}const D=(0,n.createSelector)([i,b,c],(e,t,r)=>{const n=new Set(r);return t.reduce((t,r)=>[...t,...I(e,(0,o.ensureDefined)(r),n)],[])}),O=(0,n.createSelector)([i,v,c],(e,t,r)=>{const n=new Set(r);return[{id:"drag-list",level:-1,children:t}].reduce((t,r)=>[...t,...I(e,(0,o.ensureDefined)(r),n)],[])});function I(e,t,r){const n=[];for(const o of t.children){const t=e[o];void 0!==t&&(n.push(t),r.has(o)&&n.push(...I(e,t,r)))}return n}},74203:(e,t,r)=>{"use strict";r.d(t,{logger:()=>i,getInsertIndex:()=>a});var n=r(14071),o=r(16282);const i=(0,n.getLogger)("Platform.GUI.ObjectTree.CallApi"),a=(e,t,r)=>{switch(r){case"before":return e.indexOf((0,o.ensureDefined)(t));case"inside":return e.length;case"after":return e.indexOf((0,o.ensureDefined)(t))+1;default:return 0}}},87605:(e,t,r)=>{"use strict";r.d(t,{Tree:()=>lo});var n={};r.r(n),r.d(n,{FILE:()=>m,HTML:()=>E,TEXT:()=>b,URL:()=>S});var o=r(67294),i=r(30797),a=r(37703);function s(e){var t=null;return function(){return null==t&&(t=e()),t}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){
function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entered=[],this.isNodeInDocument=t}var t,r,n;return t=e,(r=[{key:"enter",value:function(e){var t=this,r=this.entered.length;return this.entered=function(e,t){var r=new Set,n=function(e){return r.add(e)};e.forEach(n),t.forEach(n);var o=[];return r.forEach((function(e){return o.push(e)})),o}(this.entered.filter((function(r){return t.isNodeInDocument(r)&&(!r.contains||r.contains(e))})),[e]),0===r&&this.entered.length>0}},{key:"leave",value:function(e){var t,r,n=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),r=e,t.filter((function(e){return e!==r}))),n>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}])&&c(t.prototype,r),n&&c(t,n),e}(),d=s((function(){return/firefox/i.test(navigator.userAgent)})),l=s((function(){return Boolean(window.safari)}));function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var h=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=t.length,o=[],i=0;i<n;i++)o.push(i);o.sort((function(e,r){return t[e]<t[r]?-1:1}));for(var a,s,c=[],u=[],d=[],l=0;l<n-1;l++)a=t[l+1]-t[l],s=r[l+1]-r[l],u.push(a),c.push(s),d.push(s/a);for(var f=[d[0]],h=0;h<u.length-1;h++){var p=d[h],g=d[h+1];if(p*g<=0)f.push(0);else{a=u[h];var v=u[h+1],y=a+v;f.push(3*y/((y+v)/p+(y+a)/g))}}f.push(d[d.length-1]);for(var m,S=[],b=[],E=0;E<f.length-1;E++){m=d[E];var T=f[E],D=1/u[E],O=T+f[E+1]-m-m;S.push((m-T-O)*D),b.push(O*D*D)}this.xs=t,this.ys=r,this.c1s=f,this.c2s=S,this.c3s=b}var t,r,n;return t=e,(r=[{key:"interpolate",value:function(e){var t=this.xs,r=this.ys,n=this.c1s,o=this.c2s,i=this.c3s,a=t.length-1;if(e===t[a])return r[a];for(var s,c=0,u=i.length-1;c<=u;){var d=t[s=Math.floor(.5*(c+u))];if(d<e)c=s+1;else{if(!(d>e))return r[s];u=s-1}}var l=e-t[a=Math.max(0,u)],f=l*l;return r[a]+n[a]*l+o[a]*f+i[a]*l*f}}])&&f(t.prototype,r),n&&f(t,n),e}();function p(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var r=t.getBoundingClientRect(),n=r.top;return{x:r.left,y:n}}function g(e){return{x:e.clientX,y:e.clientY}}function v(e,t,r,n,o){var i,a,s,c="IMG"===(i=t).nodeName&&(d()||!(null!==(a=document.documentElement)&&void 0!==a&&a.contains(i))),u=p(c?e:t),f={x:r.x-u.x,y:r.y-u.y},g=e.offsetWidth,v=e.offsetHeight,y=n.anchorX,m=n.anchorY,S=function(e,t,r,n){var o=e?t.width:r,i=e?t.height:n;return l()&&e&&(i/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:i}}(c,t,g,v),b=S.dragPreviewWidth,E=S.dragPreviewHeight,T=o.offsetX,D=o.offsetY,O=0===D||D;return{x:0===T||T?T:new h([0,.5,1],[f.x,f.x/g*b,f.x+b-g]).interpolate(y),y:O?D:(s=new h([0,.5,1],[f.y,f.y/v*E,f.y+E-v]).interpolate(m),l()&&c&&(s+=(window.devicePixelRatio-1)*E),s)}}var y,m="__NATIVE_FILE__",S="__NATIVE_URL__",b="__NATIVE_TEXT__",E="__NATIVE_HTML__"
;function T(e,t,r){var n=t.reduce((function(t,r){return t||e.getData(r)}),"");return null!=n?n:r}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var O=(D(y={},m,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]}),D(y,E,{exposeProperties:{html:function(e,t){return T(e,t,"")}},matchesTypes:["Html","text/html"]}),D(y,S,{exposeProperties:{urls:function(e,t){return T(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]}),D(y,b,{exposeProperties:{text:function(e,t){return T(e,t,"")}},matchesTypes:["Text","text/plain"]}),y);function I(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.item={},this.initializeExposedProperties()}var t,r,n;return t=e,(r=[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach((function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})}))}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var r={};Object.keys(this.config.exposeProperties).forEach((function(n){r[n]={value:t.config.exposeProperties[n](e,t.config.matchesTypes),configurable:!0,enumerable:!0}})),Object.defineProperties(this.item,r)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}])&&I(t.prototype,r),n&&I(t,n),e}();function C(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(O).filter((function(e){return O[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var N=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ownerDocument=null,this.globalContext=t,this.optionsArgs=r}var t,r,n;return t=e,(r=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){var e;return null!==(e=this.globalContext)&&void 0!==e&&e.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}}])&&k(t.prototype,r),n&&k(t,n),e}();function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){
return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var M,L=function(){function e(t,r,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){var t=o.sourceNodes.get(e);return t&&p(t)||null},this.endDragNativeItem=function(){o.isDraggingNativeItem()&&(o.actions.endDrag(),o.currentNativeHandle&&o.registry.removeSource(o.currentNativeHandle),o.currentNativeHandle=null,o.currentNativeSource=null)},this.isNodeInDocument=function(e){return Boolean(e&&o.document&&o.document.body&&document.body.contains(e))},this.endDragIfSourceWasRemovedFromDOM=function(){var e=o.currentDragSourceNode;null==e||o.isNodeInDocument(e)||o.clearCurrentDragSourceNode()&&o.monitor.isDragging()&&o.actions.endDrag()},this.handleTopDragStartCapture=function(){o.clearCurrentDragSourceNode(),o.dragStartSourceIds=[]},this.handleTopDragStart=function(e){if(!e.defaultPrevented){var t=o.dragStartSourceIds;o.dragStartSourceIds=null;var r=g(e);o.monitor.isDragging()&&o.actions.endDrag(),o.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:o.getSourceClientOffset,clientOffset:r});var n=e.dataTransfer,i=C(n);if(o.monitor.isDragging()){if(n&&"function"==typeof n.setDragImage){var a=o.monitor.getSourceId(),s=o.sourceNodes.get(a),c=o.sourcePreviewNodes.get(a)||s;if(c){var u=o.getCurrentSourcePreviewNodeOptions(),d=v(s,c,r,{anchorX:u.anchorX,anchorY:u.anchorY},{offsetX:u.offsetX,offsetY:u.offsetY});n.setDragImage(c,d.x,d.y)}}try{null==n||n.setData("application/json",{})}catch(e){}o.setCurrentDragSourceNode(e.target),o.getCurrentSourcePreviewNodeOptions().captureDraggingState?o.actions.publishDragSource():setTimeout((function(){return o.actions.publishDragSource()}),0)}else if(i)o.beginDragNativeItem(i);else{if(n&&!n.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}},this.handleTopDragEndCapture=function(){
o.clearCurrentDragSourceNode()&&o.monitor.isDragging()&&o.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(o.dragEnterTargetIds=[],o.enterLeaveCounter.enter(e.target)&&!o.monitor.isDragging()){var t=e.dataTransfer,r=C(t);r&&o.beginDragNativeItem(r,t)}},this.handleTopDragEnter=function(e){var t=o.dragEnterTargetIds;(o.dragEnterTargetIds=[],o.monitor.isDragging())&&(o.altKeyPressed=e.altKey,t.length>0&&o.actions.hover(t,{clientOffset:g(e)}),t.some((function(e){return o.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=o.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){o.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var t=o.dragOverTargetIds;if(o.dragOverTargetIds=[],!o.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));o.altKeyPressed=e.altKey,o.actions.hover(t||[],{clientOffset:g(e)}),(t||[]).some((function(e){return o.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=o.getCurrentDropEffect())):o.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){o.isDraggingNativeItem()&&e.preventDefault(),o.enterLeaveCounter.leave(e.target)&&o.isDraggingNativeItem()&&setTimeout((function(){return o.endDragNativeItem()}),0)},this.handleTopDropCapture=function(e){var t;(o.dropTargetIds=[],o.isDraggingNativeItem())&&(e.preventDefault(),null===(t=o.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer));o.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var t=o.dropTargetIds;o.dropTargetIds=[],o.actions.hover(t,{clientOffset:g(e)}),o.actions.drop({dropEffect:o.getCurrentDropEffect()}),o.isDraggingNativeItem()?o.endDragNativeItem():o.monitor.isDragging()&&o.actions.endDrag()},this.handleSelectStart=function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new N(r,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new u(this.isNodeInDocument)}var t,r,o;return t=e,(r=[{key:"profile",value:function(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var e=this.rootElement;if(void 0!==e){
if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}},{key:"teardown",value:function(){var e,t=this.rootElement;void 0!==t&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(e=this.window)||void 0===e||e.cancelAnimationFrame(this.asyncEndDragFrameId)))}},{key:"connectDragPreview",value:function(e,t,r){var n=this;return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,t),function(){n.sourcePreviewNodes.delete(e),n.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,r){var n=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,r);var o=function(t){return n.handleDragStart(t,e)},i=function(e){return n.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",o),t.addEventListener("selectstart",i),function(){n.sourceNodes.delete(e),n.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",o),t.removeEventListener("selectstart",i),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var r=this,n=function(t){return r.handleDragEnter(t,e)},o=function(t){return r.handleDragOver(t,e)},i=function(t){return r.handleDrop(t,e)};return t.addEventListener("dragenter",n),t.addEventListener("dragover",o),t.addEventListener("drop",i),function(){t.removeEventListener("dragenter",n),t.removeEventListener("dragover",o),t.removeEventListener("drop",i)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return x({
dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return x({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(n).some((function(t){return n[t]===e}))}},{key:"beginDragNativeItem",value:function(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){var r=new w(O[e]);return r.loadDataTransfer(t),r}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((function(){var e;return null===(e=t.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){var e;return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.rootElement&&(null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}}])&&R(t.prototype,r),o&&R(t,o),e}(),j=function(e,t,r){return new L(e,t,r)};function A(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];if(!e){var i;if(void 0===t)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(i=new Error(t.replace(/%s/g,(function(){return n[a++]})))).name="Invariant Violation"}throw i.framesToPop=1,i}}!function(e){e.mouse="mouse",e.touch="touch",e.keyboard="keyboard"}(M||(M={}));var U=1,F=0;function H(e){return void 0===e.button||e.button===F}function B(e){return!!e.targetTouches}function G(e,t){return B(e)?function(e,t){return 1===e.targetTouches.length?G(e.targetTouches[0]):t&&1===e.touches.length&&e.touches[0].target===t.target?G(e.touches[0]):void 0}(e,t):{x:e.clientX,y:e.clientY}}var V=function(){var e=!1;try{addEventListener("test",(function(){}),Object.defineProperty({},"passive",{get:function(){return e=!0,!0}}))}catch(e){}return e}();function X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,
"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var W,z=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.enableTouchEvents=!0,this.enableMouseEvents=!1,this.enableKeyboardEvents=!1,this.ignoreContextMenu=!1,this.enableHoverOutsideTarget=!1,this.touchSlop=0,this.scrollAngleRanges=void 0,this.context=r,this.delayTouchStart=t.delayTouchStart||t.delay||0,this.delayMouseStart=t.delayMouseStart||t.delay||0,Object.keys(t).forEach((function(e){null!=t[e]&&(n[e]=t[e])}))}var t,r,n;return t=e,(r=[{key:"window",get:function(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){var e;return null!==(e=this.context)&&void 0!==e&&e.document?this.context.document:this.window?this.window.document:void 0}}])&&X(t.prototype,r),n&&X(t,n),e}();function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function K(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var q=(K(W={},M.mouse,{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"}),K(W,M.touch,{start:"touchstart",move:"touchmove",end:"touchend"}),K(W,M.keyboard,{keydown:"keydown"}),W),$=function(){function e(t,r,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getSourceClientOffset=function(e){var t=o.sourceNodes.get(e);return t&&function(e){var t=1===e.nodeType?e:e.parentElement;if(t){var r=t.getBoundingClientRect(),n=r.top;return{x:r.left,y:n}}}(t)},this.handleTopMoveStartCapture=function(e){H(e)&&(o.moveStartSourceIds=[])},this.handleMoveStart=function(e){Array.isArray(o.moveStartSourceIds)&&o.moveStartSourceIds.unshift(e)},this.handleTopMoveStart=function(e){if(H(e)){var t=G(e);t&&(B(e)&&(o.lastTargetTouchFallback=e.targetTouches[0]),o._mouseClientOffset=t),o.waitingForDelay=!1}},this.handleTopMoveStartDelay=function(e){if(H(e)){var t=e.type===q.touch.start?o.options.delayTouchStart:o.options.delayMouseStart;o.timeout=setTimeout(o.handleTopMoveStart.bind(o,e),t),o.waitingForDelay=!0}},this.handleTopMoveCapture=function(){o.dragOverTargetIds=[]},this.handleMove=function(e,t){o.dragOverTargetIds&&o.dragOverTargetIds.unshift(t)},this.handleTopMove=function(e){if(o.timeout&&clearTimeout(o.timeout),o.document&&!o.waitingForDelay){var t,r,n,i,a=o.moveStartSourceIds,s=o.dragOverTargetIds,c=o.options.enableHoverOutsideTarget,u=G(e,o.lastTargetTouchFallback);if(u)if(o._isScrolling||!o.monitor.isDragging()&&function(e,t,r,n,o){if(!o)return!1;for(var i=180*Math.atan2(n-t,r-e)/Math.PI+180,a=0;a<o.length;++a)if((null==o[a].start||i>=o[a].start)&&(null==o[a].end||i<=o[a].end))return!0;return!1
}(o._mouseClientOffset.x||0,o._mouseClientOffset.y||0,u.x,u.y,o.options.scrollAngleRanges))o._isScrolling=!0;else if(!o.monitor.isDragging()&&o._mouseClientOffset.hasOwnProperty("x")&&a&&(t=o._mouseClientOffset.x||0,r=o._mouseClientOffset.y||0,n=u.x,i=u.y,Math.sqrt(Math.pow(Math.abs(n-t),2)+Math.pow(Math.abs(i-r),2))>(o.options.touchSlop?o.options.touchSlop:0))&&(o.moveStartSourceIds=void 0,o.actions.beginDrag(a,{clientOffset:o._mouseClientOffset,getSourceClientOffset:o.getSourceClientOffset,publishSource:!1})),o.monitor.isDragging()){var d=o.sourceNodes.get(o.monitor.getSourceId());o.installSourceNodeRemovalObserver(d),o.actions.publishDragSource(),e.cancelable&&e.preventDefault();var l=(s||[]).map((function(e){return o.targetNodes.get(e)})).filter((function(e){return!!e})),f=o.options.getDropTargetElementsAtPoint?o.options.getDropTargetElementsAtPoint(u.x,u.y,l):o.document.elementsFromPoint(u.x,u.y),h=[];for(var p in f)if(f.hasOwnProperty(p)){var g=f[p];for(h.push(g);g;)(g=g.parentElement)&&-1===h.indexOf(g)&&h.push(g)}var v=h.filter((function(e){return l.indexOf(e)>-1})).map((function(e){return o._getDropTargetId(e)})).filter((function(e){return!!e})).filter((function(e,t,r){return r.indexOf(e)===t}));if(c)for(var y in o.targetNodes){var m=o.targetNodes.get(y);if(d&&m&&m.contains(d)&&-1===v.indexOf(y)){v.unshift(y);break}}v.reverse(),o.actions.hover(v,{clientOffset:u})}}},this._getDropTargetId=function(e){for(var t=o.targetNodes.keys(),r=t.next();!1===r.done;){var n=r.value;if(e===o.targetNodes.get(n))return n;r=t.next()}},this.handleTopMoveEndCapture=function(e){o._isScrolling=!1,o.lastTargetTouchFallback=void 0,function(e){return void 0===e.buttons||0==(e.buttons&U)}(e)&&(o.monitor.isDragging()&&!o.monitor.didDrop()?(e.cancelable&&e.preventDefault(),o._mouseClientOffset={},o.uninstallSourceNodeRemovalObserver(),o.actions.drop(),o.actions.endDrag()):o.moveStartSourceIds=void 0)},this.handleCancelOnEscape=function(e){"Escape"===e.key&&o.monitor.isDragging()&&(o._mouseClientOffset={},o.uninstallSourceNodeRemovalObserver(),o.actions.endDrag())},this.options=new z(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(M.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(M.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(M.keyboard)}var t,r,n;return t=e,(r=[{key:"profile",value:function(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:(null===(e=this.dragOverTargetIds)||void 0===e?void 0:e.length)||0}}},{key:"document",get:function(){return this.options.document}},{key:"setup",value:function(){this.document&&(A(!e.isSetUp,"Cannot have two Touch backends at the same time."),
e.isSetUp=!0,this.addEventListener(this.document,"start",this.getTopMoveStartHandler()),this.addEventListener(this.document,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(this.document,"move",this.handleTopMove),this.addEventListener(this.document,"move",this.handleTopMoveCapture,!0),this.addEventListener(this.document,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(this.document,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(this.document,"keydown",this.handleCancelOnEscape,!0))}},{key:"teardown",value:function(){this.document&&(e.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(this.document,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(this.document,"start",this.handleTopMoveStart),this.removeEventListener(this.document,"move",this.handleTopMoveCapture,!0),this.removeEventListener(this.document,"move",this.handleTopMove),this.removeEventListener(this.document,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(this.document,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(this.document,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}},{key:"addEventListener",value:function(e,t,r,n){var o=V?{capture:n,passive:!1}:n;this.listenerTypes.forEach((function(n){var i=q[n][t];i&&e.addEventListener(i,r,o)}))}},{key:"removeEventListener",value:function(e,t,r,n){var o=V?{capture:n,passive:!1}:n;this.listenerTypes.forEach((function(n){var i=q[n][t];i&&e.removeEventListener(i,r,o)}))}},{key:"connectDragSource",value:function(e,t){var r=this,n=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,t),this.addEventListener(t,"start",n),function(){r.sourceNodes.delete(e),r.removeEventListener(t,"start",n)}}},{key:"connectDragPreview",value:function(e,t,r){var n=this;return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,t),function(){n.sourcePreviewNodes.delete(e),n.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDropTarget",value:function(e,t){var r=this;if(!this.document)return function(){};var n=function(n){if(r.document&&r.monitor.isDragging()){var o;switch(n.type){case q.mouse.move:o={x:n.clientX,y:n.clientY};break;case q.touch.move:o={x:n.touches[0].clientX,y:n.touches[0].clientY}}var i=null!=o?r.document.elementFromPoint(o.x,o.y):void 0,a=i&&t.contains(i);return i===t||a?r.handleMove(n,e):void 0}};return this.addEventListener(this.document.body,"move",n),this.targetNodes.set(e,t),function(){r.document&&(r.targetNodes.delete(e),r.removeEventListener(r.document.body,"move",n))}}},{key:"getTopMoveStartHandler",value:function(){return this.options.delayTouchStart||this.options.delayMouseStart?this.handleTopMoveStartDelay:this.handleTopMoveStart}},{key:"installSourceNodeRemovalObserver",value:function(e){var t=this
;this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver((function(){e&&!e.parentElement&&(t.resurrectSourceNode(),t.uninstallSourceNodeRemovalObserver())})),e&&e.parentElement&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}},{key:"resurrectSourceNode",value:function(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}},{key:"uninstallSourceNodeRemovalObserver",value:function(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}}])&&Y(t.prototype,r),n&&Y(t,n),e}(),J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new $(e,t,r)},Q=r(85893),Z="dnd-core/INIT_COORDS",ee="dnd-core/BEGIN_DRAG",te="dnd-core/PUBLISH_DRAG_SOURCE",re="dnd-core/HOVER",ne="dnd-core/DROP",oe="dnd-core/END_DRAG";function ie(e,t){return{type:Z,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t,r){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:r||null}),e)}function ce(e,t){return e.filter((function(e){return e!==t}))}function ue(e){return"object"===ae(e)}function de(e,t){var r=new Map,n=function(e){r.set(e,r.has(e)?r.get(e)+1:1)};e.forEach(n),t.forEach(n);var o=[];return r.forEach((function(e,t){1===e&&o.push(t)})),o}var le={type:Z,payload:{clientOffset:null,sourceClientOffset:null}};function fe(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},n=r.publishSource,o=void 0===n||n,i=r.clientOffset,a=r.getSourceClientOffset,s=e.getMonitor(),c=e.getRegistry();e.dispatch(ie(i)),he(t,s,c);var u=ve(t,s);if(null!==u){var d=null;if(i){if(!a)throw new Error("getSourceClientOffset must be defined");pe(a),d=a(u)}e.dispatch(ie(i,d));var l=c.getSource(u),f=l.beginDrag(s,u);if(null!=f){ge(f),c.pinSource(u);var h=c.getSourceType(u);return{type:ee,payload:{itemType:h,item:f,sourceId:u,clientOffset:i||null,sourceClientOffset:d||null,isSourcePublic:!!o}}}}else e.dispatch(le)}}function he(e,t,r){A(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){A(r.getSource(e),"Expected sourceIds to be registered.")}))}function pe(e){A("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}function ge(e){A(ue(e),"Item must be an object.")}function ve(e,t){for(var r=null,n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){r=e[n];break}return r}function ye(e){return function(){
if(e.getMonitor().isDragging())return{type:te}}}function me(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function Se(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.clientOffset;be(t);var o=t.slice(0),i=e.getMonitor(),a=e.getRegistry();Ee(o,i,a);var s=i.getItemType();return Te(o,a,s),De(o,i,a),{type:re,payload:{targetIds:o,clientOffset:n||null}}}}function be(e){A(Array.isArray(e),"Expected targetIds to be an array.")}function Ee(e,t,r){A(t.isDragging(),"Cannot call hover while not dragging."),A(!t.didDrop(),"Cannot call hover after drop.");for(var n=0;n<e.length;n++){var o=e[n];A(e.lastIndexOf(o)===n,"Expected targetIds to be unique in the passed array."),A(r.getTarget(o),"Expected targetIds to be registered.")}}function Te(e,t,r){for(var n=e.length-1;n>=0;n--){var o=e[n];me(t.getTargetType(o),r)||e.splice(n,1)}}function De(e,t,r){e.forEach((function(e){r.getTarget(e).hover(t,e)}))}function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){we(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function we(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ce(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.getMonitor(),n=e.getRegistry();ke(r);var o=Pe(r);o.forEach((function(o,i){var a=Ne(o,i,n,r),s={type:ne,payload:{dropResult:Ie(Ie({},t),a)}};e.dispatch(s)}))}}function ke(e){A(e.isDragging(),"Cannot call drop while not dragging."),A(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function Ne(e,t,r,n){var o=r.getTarget(e),i=o?o.drop(n,e):void 0;return function(e){A(void 0===e||ue(e),"Drop result must either be an object or undefined.")}(i),void 0===i&&(i=0===t?{}:n.getDropResult()),i}function Pe(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function xe(e){return function(){var t=e.getMonitor(),r=e.getRegistry();!function(e){A(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var n=t.getSourceId();null!=n&&(r.getSource(n,!0).endDrag(t,n),r.unpinSource());return{type:oe}}}function _e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Re=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isSetUp=!1,this.handleRefCountChange=function(){var e=n.store.getState().refCount>0;n.backend&&(e&&!n.isSetUp?(n.backend.setup(),
n.isSetUp=!0):!e&&n.isSetUp&&(n.backend.teardown(),n.isSetUp=!1))},this.store=t,this.monitor=r,t.subscribe(this.handleRefCountChange)}var t,r,n;return t=e,(r=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch,r=function(e){return{beginDrag:fe(e),publishDragSource:ye(e),hover:Se(e),drop:Ce(e),endDrag:xe(e)}}(this);return Object.keys(r).reduce((function(n,o){var i,a=r[o];return n[o]=(i=a,function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];var a=i.apply(e,n);void 0!==a&&t(a)}),n}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}])&&_e(t.prototype,r),n&&_e(t,n),e}(),Me=r(15857),Le=function(e,t){return e===t};function je(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)}function Ae(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Le;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!r(e[n],t[n]))return!1;return!0}function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(r),!0).forEach((function(t){He(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function He(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Be={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0,r=t.payload;switch(t.type){case Z:case ee:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case re:return je(e.clientOffset,r.clientOffset)?e:Fe(Fe({},e),{},{clientOffset:r.clientOffset});case oe:case ne:return Be;default:return e}}var Ve="dnd-core/ADD_SOURCE",Xe="dnd-core/ADD_TARGET",We="dnd-core/REMOVE_SOURCE",ze="dnd-core/REMOVE_TARGET";function Ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(r),!0).forEach((function(t){qe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qe(e,t,r){
return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $e={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0,r=t.payload;switch(t.type){case ee:return Ke(Ke({},e),{},{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case te:return Ke(Ke({},e),{},{isSourcePublic:!0});case re:return Ke(Ke({},e),{},{targetIds:r.targetIds});case ze:return-1===e.targetIds.indexOf(r.targetId)?e:Ke(Ke({},e),{},{targetIds:ce(e.targetIds,r.targetId)});case ne:return Ke(Ke({},e),{},{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case oe:return Ke(Ke({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function Qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ve:case Xe:return e+1;case We:case ze:return e-1;default:return e}}var Ze=[],et=[];function tt(e,t){return e!==Ze&&(e===et||void 0===t||(r=e,t.filter((function(e){return r.indexOf(e)>-1}))).length>0);var r}function rt(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case re:break;case Ve:case Xe:case ze:case We:return Ze;case ee:case te:case oe:case ne:default:return et}var t=e.payload,r=t.targetIds,n=void 0===r?[]:r,o=t.prevTargetIds,i=void 0===o?[]:o,a=de(n,i),s=a.length>0||!Ae(n,i);if(!s)return Ze;var c=i[i.length-1],u=n[n.length-1];return c!==u&&(c&&a.push(c),u&&a.push(u)),a}function nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}function ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(r),!0).forEach((function(t){at(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function at(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function st(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:rt(e.dirtyHandlerIds,{type:t.type,payload:it(it({},t.payload),{},{prevTargetIds:se(e,"dragOperation.targetIds",[])})}),dragOffset:Ge(e.dragOffset,t),refCount:Qe(e.refCount,t),dragOperation:Je(e.dragOperation,t),stateId:nt(e.stateId)}}function ct(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ut(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}
Ze.__IS_NONE__=!0,et.__IS_ALL__=!0;var dt,lt=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.registry=r}var t,r,n;return t=e,(r=[{key:"subscribeToStateChange",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},n=r.handlerIds;A("function"==typeof e,"listener must be a function."),A(void 0===n||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");var o=this.store.getState().stateId,i=function(){var r=t.store.getState(),i=r.stateId;try{i===o||i===o+1&&!tt(r.dirtyHandlerIds,n)||e()}finally{o=i}};return this.store.subscribe(i)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;A("function"==typeof e,"listener must be a function.");var r=this.store.getState().dragOffset;return this.store.subscribe((function(){var n=t.store.getState().dragOffset;n!==r&&(r=n,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return A(t,"Expected to find a valid source. sourceId=".concat(e)),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return A(t,"Expected to find a valid target. targetId=".concat(e)),!(!this.isDragging()||this.didDrop())&&me(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return A(t,"Expected to find a valid source. sourceId=".concat(e)),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var r=t.shallow;if(!this.isDragging())return!1;var n=this.registry.getTargetType(e),o=this.getItemType();if(o&&!me(n,o))return!1;var i=this.getTargetIds();if(!i.length)return!1;var a=i.indexOf(e);return r?a===i.length-1:a>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){
return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return e=this.store.getState().dragOffset,n=e.clientOffset,o=e.initialClientOffset,i=e.initialSourceClientOffset,n&&o&&i?ct((r=i,{x:(t=n).x+r.x,y:t.y+r.y}),o):null;var e,t,r,n,o,i}},{key:"getDifferenceFromInitialOffset",value:function(){return e=this.store.getState().dragOffset,t=e.clientOffset,r=e.initialClientOffset,t&&r?ct(t,r):null;var e,t,r}}])&&ut(t.prototype,r),n&&ut(t,n),e}(),ft=0;function ht(e){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(e,t){t&&Array.isArray(e)?e.forEach((function(e){return pt(e,!1)})):A("string"==typeof e||"symbol"===ht(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(dt||(dt={}));const gt="undefined"!=typeof global?global:self,vt=gt.MutationObserver||gt.WebKitMutationObserver;function yt(e){return function(){const t=setTimeout(n,0),r=setInterval(n,50);function n(){clearTimeout(t),clearInterval(r),e()}}}const mt="function"==typeof vt?function(e){let t=1;const r=new vt(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}:yt;class St{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}const bt=new class{enqueueTask(e){const{queue:t,requestFlush:r}=this;t.length||(r(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,r=e.length-this.index;t<r;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=mt(this.flush),this.requestErrorThrow=yt(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}},Et=new class{create(e){const t=this.freeTasks,r=t.length?t.pop():new St(this.onError,e=>t[t.length]=e);return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}(bt.registerPendingError);function Tt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return
;if("string"==typeof e)return Ot(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ot(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function It(e){var t=(ft++).toString();switch(e){case dt.SOURCE:return"S".concat(t);case dt.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function wt(e){switch(e[0]){case"S":return dt.SOURCE;case"T":return dt.TARGET;default:A(!1,"Cannot parse handler ID: ".concat(e))}}function Ct(e,t){var r=e.entries(),n=!1;do{var o=r.next(),i=o.done;if(Dt(o.value,2)[1]===t)return!0;n=!!i}while(!n);return!1}var kt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}var t,r,n;return t=e,(r=[{key:"addSource",value:function(e,t){pt(e),function(e){A("function"==typeof e.canDrag,"Expected canDrag to be a function."),A("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),A("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);var r=this.addHandler(dt.SOURCE,e,t);return this.store.dispatch(function(e){return{type:Ve,payload:{sourceId:e}}}(r)),r}},{key:"addTarget",value:function(e,t){pt(e,!0),function(e){A("function"==typeof e.canDrop,"Expected canDrop to be a function."),A("function"==typeof e.hover,"Expected hover to be a function."),A("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);var r=this.addHandler(dt.TARGET,e,t);return this.store.dispatch(function(e){return{type:Xe,payload:{targetId:e}}}(r)),r}},{key:"containsHandler",value:function(e){return Ct(this.dragSources,e)||Ct(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];A(this.isSourceId(e),"Expected a valid source ID.");var r=t&&e===this.pinnedSourceId,n=r?this.pinnedSource:this.dragSources.get(e);return n}},{key:"getTarget",value:function(e){return A(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return A(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return A(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return wt(e)===dt.SOURCE}},{key:"isTargetId",value:function(e){return wt(e)===dt.TARGET}},{key:"removeSource",value:function(e){var t,r=this;A(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:We,payload:{sourceId:e}}}(e)),
t=function(){r.dragSources.delete(e),r.types.delete(e)},bt.enqueueTask(Et.create(t))}},{key:"removeTarget",value:function(e){A(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:ze,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);A(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){A(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,r){var n=It(e);return this.types.set(n,t),e===dt.SOURCE?this.dragSources.set(n,r):e===dt.TARGET&&this.dropTargets.set(n,r),n}}])&&Tt(t.prototype,r),n&&Tt(t,n),e}();function Nt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Pt(n),i=new lt(o,new kt(o)),a=new Re(o,i),s=e(a,t,r);return a.receiveBackend(s),a}function Pt(e){var t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return(0,Me.createStore)(st,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var xt=(0,o.createContext)({dragDropManager:void 0});function _t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Rt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var Lt=0,jt=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),At=(0,o.memo)((function(e){var t=e.children,r=_t(function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ut(),r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=t;o[jt]||(o[jt]={dragDropManager:Nt(e,t,r,n)});return o[jt]
}(e.backend,e.context,e.options,e.debugMode),r=!e.context;return[t,r]}(Mt(e,["children"])),2),n=r[0],i=r[1];return(0,o.useEffect)((function(){if(i){var e=Ut();return++Lt,function(){0==--Lt&&(e[jt]=null)}}}),[]),(0,Q.jsx)(xt.Provider,Object.assign({value:n},{children:t}),void 0)}));function Ut(){return void 0!==r.g?r.g:window}var Ft=r(34857),Ht=r(49025),Bt=r(30558),Gt=r(93156);function*Vt(e){const{selectedIds:t,nodes:r}=yield(0,Ft.call)(e),n={};for(let e=0;e<r.length;++e){const t=r[e];n[t.id]=t}yield(0,Ft.put)((0,Bt.setNodes)(n)),yield(0,Ft.put)((0,Bt.setSelectedIds)(t));!(0,Gt.lastFocusedNodeIdSelector)(yield(0,Ft.select)())&&t.length>0&&(yield(0,Ft.put)((0,Bt.setFocusedNode)(t[0])),yield(0,Ft.put)((0,Bt.scrollToId)(t[0])))}var Xt=r(16282);function*Wt(e){for(;;){if((yield(0,Ft.take)([Ht.START_MULTI_SELECT,Ht.STOP_MULTI_SELECT])).type===Ht.START_MULTI_SELECT){const t=(0,Gt.nodeIdsSelector)(yield(0,Ft.select)()).filter(t=>!e(t));yield(0,Ft.put)((0,Bt.setDisabledNodes)(t))}else yield(0,Ft.put)((0,Bt.setDisabledNodes)([]))}}function*zt(){for(;;){const{type:e}=yield(0,Ft.take)([Ht.MULTI_SELECT_NEXT,Ht.MULTI_SELECT_PREVIOUS]),t=yield(0,Ft.select)(),r=(0,Gt.orderedNodesSelector)(t),n=r.length,o=(0,Gt.lastFocusedNodeIdSelector)(t),i=[...(0,Gt.selectedIdsSelector)(t)],a=1===i.length&&i[0]!==o,s=r.findIndex(e=>e.id===(a?i[0]:o));if(e===Ht.MULTI_SELECT_PREVIOUS&&0===s||e===Ht.MULTI_SELECT_NEXT&&s===n-1)continue;const c=Zt(t,e===Ht.MULTI_SELECT_NEXT?"next":"previous",r,s),{id:u}=c;i.includes(u)&&o?(yield(0,Ft.put)((0,Bt.setIsSelected)(o,!1,1)),yield(0,Ft.put)((0,Bt.setFocusedNode)(u))):yield(0,Ft.put)((0,Bt.setIsSelected)(u,!0,1)),yield(0,Ft.put)((0,Bt.scrollToId)(u))}}function*Yt(e,t){for(;;){const{type:r}=yield(0,Ft.take)([Ht.SELECT_NEXT,Ht.SELECT_PREVIOUS]),n=yield(0,Ft.select)(),o=(0,Gt.orderedNodesSelector)(n),i=(0,Gt.selectedNodesSelector)(n),a=(0,Gt.lastFocusedNodeIdSelector)(n);if(1===i.length&&i[0].id!==a&&!a){if(r===Ht.SELECT_NEXT){yield(0,Ft.put)((0,Bt.setFocusedNode)(i[0].id));continue}if(r===Ht.SELECT_PREVIOUS){const e=o.findIndex(e=>e.id===i[0].id),t=Zt(n,"previous",o,e);yield(0,Ft.put)((0,Bt.setFocusedNode)(t.id));continue}}const s=o.findIndex(e=>e.id===a),c=r===Ht.SELECT_NEXT?"next":"previous",u=Zt(n,c,o,s),{id:d}=u;e?e([d],c):yield(0,Ft.put)((0,Bt.setSelectedIds)([d])),t&&t(d),yield(0,Ft.put)((0,Bt.setFocusedNode)(d))}}function*Kt(e,t=(()=>!0)){for(;;){const{mode:r,nodeId:n,isSelected:o}=yield(0,Ft.take)(Ht.SET_IS_SELECTED);let i=[...(0,Gt.selectedIdsSelector)(yield(0,Ft.select)())];const a=(0,Gt.orderedNodesSelector)(yield(0,Ft.select)());if(1===r)o?i.push(n):i.splice(i.indexOf(n),1);else if(2===r&&i.length>0){const e=(0,Gt.lastFocusedNodeIdSelector)(yield(0,Ft.select)());let r=a.findIndex(t=>t.id===e);-1===r&&(r=a.reduce((e,t,r)=>i.includes(t.id)?r:e,-1));const o=a.findIndex(e=>e.id===n);if(r!==o)for(let e=Math.min(r,o);e<=Math.max(r,o);e++){const r=a[e].id;!i.includes(r)&&t(r)&&i.push(r)}}else i=n?[n]:[];const s=new Set(i);i=a.reduce((e,t)=>(s.has(t.id)&&e.push(t.id),e),[]),e?e(i):yield(0,Ft.put)((0,
Bt.setSelectedIds)(i)),yield(0,Ft.put)((0,Bt.setFocusedNode)(n))}}function*qt(e=(()=>!0),t){const{dropTarget:r,dropType:n,isHoveredLeft:o,boundBox:i,isLastChild:a}=t,s=(0,Gt.dropTargetSelector)(yield(0,Ft.select)()),c=(0,Gt.nodeSelector)(yield(0,Ft.select)(),(0,Xt.ensureDefined)(r.parentId)),u=a&&"after"===n,d=(0,Gt.selectedNodesSelector)(yield(0,Ft.select)()),l=!u||!o&&e(d,r,n)?r:c,f=s.node&&s.node.id!==l.id||s.dropType!==n;d.map(e=>e.id).includes(l.id)?yield(0,Ft.put)((0,Bt.hideDropTarget)()):f&&e(d,l,n)&&(yield(0,Ft.put)((0,Bt.updateDropTarget)(l,n,i)))}function*$t(e){yield(0,Ft.throttle)(0,Ht.PROCESS_DROP_TARGET,qt,e)}function*Jt(e){for(;;){yield(0,Ft.take)(Ht.DROP_SELECTION);const t=(0,Gt.selectedNodesSelector)(yield(0,Ft.select)()),{node:r,dropType:n}=(0,Gt.dropTargetSelector)(yield(0,Ft.select)());if(r&&n){const o=new CustomEvent("tree-node-drop",{detail:{nodes:t,target:r.id,type:n}});if(e&&e(o),!o.defaultPrevented){const e=(0,Gt.selectedIdsSelector)(yield(0,Ft.select)());yield(0,Ft.put)((0,Bt.moveNodes)(e,r.id,n))}}}}function*Qt(e){for(;;){yield(0,Ft.take)(Ht.MOVE_NODES);e((0,Gt.nodesSelector)(yield(0,Ft.select)()))}}function Zt(e,t,r,n){const o=r.length;let i,a=0;for(;!i||Math.abs(a)<o&&((s=i).level>1&&!(0,Gt.isExpandedSelector)(e,(0,Xt.ensureDefined)(s.parentId)));)a+="next"===t?1:-1,i=r[(n+a+o)%o];var s;return i}function*er(e={}){const{saga:t,onDrop:r,canMove:n,onMove:o,onSelect:i,onKeyboardSelect:a,initState:s,canBeAddedToSelection:c}=e,u=[(0,Ft.fork)($t,n),(0,Ft.fork)(Jt,r),(0,Ft.fork)(Kt,i,c),(0,Ft.fork)(Yt,i,a),(0,Ft.fork)(zt)];for(t&&u.push((0,Ft.fork)(t)),o&&u.push((0,Ft.fork)(Qt,o)),c&&u.push((0,Ft.fork)(Wt,c));;){s&&(yield(0,Ft.call)(Vt,s));const e=yield(0,Ft.all)(u);yield(0,Ft.take)(Ht.RESET_TREE);for(const t of e)yield(0,Ft.cancel)(t)}}var tr=r(90592),rr=r(74203);const nr={ids:[],lastFocusedNodeId:void 0,isMultiSelecting:!1};const or={node:void 0,dropType:void 0,boundBox:void 0};const ir=(0,Me.combineReducers)({nodes:function(e={},t){switch(t.type){case Ht.SET_NODES:return t.nodes;case Ht.SYNC_NODES:{const{nodes:r}=t,n=r.map(e=>e.id),o={...e};for(const t of Object.keys(e))if(!n.includes(t)){const{parentId:e}=o[t];e&&(o[e]={...o[e],children:o[e].children.filter(e=>e!==t)}),delete o[t]}for(const e of r){const t=e.id;if(o.hasOwnProperty(t)){!(0,tr.deepEquals)(o[t].children,e.children)[0]&&(o[t]={...o[t],children:[...e.children]})}else{o[t]=e;const{parentId:r}=e;if(r&&!o[r].children.includes(t))throw new Error("Not implemented")}}return o}case Ht.UPDATE_NODE:{const{type:r,nodeId:n,...o}=t;return{...e,[n]:{...e[n],...o}}}case Ht.UPDATE_NODES:{const{nodes:r}=t,n={...e};return Object.keys(r).forEach(e=>{n[e]={...n[e],...r[e]}}),{...e,...n}}case Ht.MOVE_NODES:{const{ids:r,targetId:n,dropType:o}=t,i=(0,Xt.ensureDefined)(e[n].parentId),a=e[i],s={};for(const t of r){const r=e[t];if(r.parentId){const n=s[r.parentId]||e[r.parentId];s[r.parentId]={...n,children:n.children.filter(e=>e!==t)}}s[t]={...r,parentId:i,level:a.level+1}}const c=a.children.filter(e=>!r.includes(e));return c.splice((0,
rr.getInsertIndex)(c,n,o),0,...r),s[i]={...e[i],children:c,isExpanded:!0},{...e,...s}}default:return e}},selection:function(e=nr,t){switch(t.type){case Ht.SET_SELECTED_IDS:{const{ids:r}=t;return{...e,ids:r,lastFocusedNodeId:r.length>0?e.lastFocusedNodeId:void 0}}case Ht.START_MULTI_SELECT:return{...e,isMultiSelecting:!0};case Ht.STOP_MULTI_SELECT:return{...e,isMultiSelecting:!1};case Ht.SET_FOCUSED_NODE:return{...e,lastFocusedNodeId:t.nodeId};case Ht.SYNC_NODES:{const r=new Set(t.nodes.map(e=>e.id));return e.lastFocusedNodeId&&!r.has(e.lastFocusedNodeId)&&delete e.lastFocusedNodeId,{...e,ids:e.ids.filter(e=>r.has(e))}}default:return e}},dropTarget:function(e=or,t){switch(t.type){case Ht.UPDATE_DROP_TARGET:{const{node:r,dropType:n,boundBox:o}=t;return{...e,node:r,dropType:n,boundBox:o}}case Ht.HIDE_DROP_TARGET:case Ht.END_DRAG:case Ht.RESET_TREE:return{...or};default:return e}},expanded:function(e=[],t){switch(t.type){case Ht.SET_IS_EXPANDED:{const{nodeId:r,isExpanded:n}=t;if(n)return[...e,r];const o=[...e];return o.splice(e.indexOf(r),1),o}default:return e}},disabled:function(e=[],t){switch(t.type){case Ht.SET_DISABLED_NODES:return[...t.ids];default:return e}},scrollToId:function(e=null,t){switch(t.type){case Ht.SCROLL_TO_ID:return null===t.nodeId?null:{id:t.nodeId};default:return e}}});var ar=r(94184),sr=r.n(ar);function cr(e,t,r){var n=r.getRegistry(),o=n.addTarget(e,t);return[o,function(){return n.removeTarget(o)}]}function ur(e,t,r){var n=r.getRegistry(),o=n.addSource(e,t);return[o,function(){return n.removeSource(o)}]}function dr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var lr=!1,fr=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.targetId=null,this.internalMonitor=t.getMonitor()}var t,r,n;return t=e,(r=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;A(!lr,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return lr=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{lr=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){
return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&dr(t.prototype,r),n&&dr(t,n),e}();function hr(e,t,r,n){var o=r?r.call(n,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<i.length;c++){var u=i[c];if(!s(u))return!1;var d=e[u],l=t[u];if(!1===(o=r?r.call(n,d,l,u):void 0)||void 0===o&&d!==l)return!1}return!0}function pr(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function gr(e){var t={};return Object.keys(e).forEach((function(r){var n=e[r];if(r.endsWith("Ref"))t[r]=e[r];else{var i=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,o.isValidElement)(t)){var n=t;return e(n,r),n}var i=t;pr(i);var a=r?function(t){return e(t,r)}:e;return yr(i,a)}}(n);t[r]=function(){return i}}})),t}function vr(e,t){"function"==typeof e?e(t):e.current=t}function yr(e,t){var r=e.ref;return A("string"!=typeof r,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?(0,o.cloneElement)(e,{ref:function(e){vr(r,e),vr(t,e)}}):(0,o.cloneElement)(e,{ref:t})}function mr(e){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sr(e){return null!==e&&"object"===mr(e)&&Object.prototype.hasOwnProperty.call(e,"current")}function br(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Er=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=gr({dropTarget:function(e,t){r.clearDropTarget(),r.dropTargetOptions=t,Sr(e)?r.dropTargetRef=e:r.dropTargetNode=e,r.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}var t,r,n;return t=e,(r=[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",
value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!hr(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}])&&br(t.prototype,r),n&&br(t,n),e}();function Tr(e){return(Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dr(e){var t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}function Or(e){return(t=e)&&t.prototype&&"function"==typeof t.prototype.render||function(e){var t,r=e;return"Symbol(react.forward_ref)"===(null==r||null===(t=r.$$typeof)||void 0===t?void 0:t.toString())}(e);var t}function Ir(e){return"function"==typeof e}function wr(){}function Cr(e){if(!function(e){return"object"===Tr(e)&&null!==e}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function kr(e,t){return"string"==typeof e||"symbol"===Tr(e)||!!t&&Array.isArray(e)&&e.every((function(e){return kr(e,!1)}))}function Nr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xr(e,t,r){return t&&Pr(e.prototype,t),r&&Pr(e,r),e}var _r=function(){function e(t){Nr(this,e),this.isDisposed=!1,this.action=Ir(t)?t:wr}return xr(e,[{key:"dispose",value:function(){this.isDisposed||(this.action(),this.isDisposed=!0)}}],[{key:"isDisposable",value:function(e){return Boolean(e&&Ir(e.dispose))}},{key:"_fixup",value:function(t){return e.isDisposable(t)?t:e.empty}},{key:"create",value:function(t){return new e(t)}}]),e}();_r.empty={dispose:wr};var Rr=function(){function e(){
Nr(this,e),this.isDisposed=!1;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this.disposables=r}return xr(e,[{key:"add",value:function(e){this.isDisposed?e.dispose():this.disposables.push(e)}},{key:"remove",value:function(e){var t=!1;if(!this.isDisposed){var r=this.disposables.indexOf(e);-1!==r&&(t=!0,this.disposables.splice(r,1),e.dispose())}return t}},{key:"clear",value:function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),r=0;r<e;r++)t[r]=this.disposables[r];this.disposables=[];for(var n=0;n<e;n++)t[n].dispose()}}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),r=0;r<e;r++)t[r]=this.disposables[r];this.disposables=[];for(var n=0;n<e;n++)t[n].dispose()}}}]),e}(),Mr=function(){function e(){Nr(this,e),this.isDisposed=!1}return xr(e,[{key:"getDisposable",value:function(){return this.current}},{key:"setDisposable",value:function(e){var t=this.isDisposed;if(!t){var r=this.current;this.current=e,r&&r.dispose()}t&&e&&e.dispose()}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=void 0,e&&e.dispose()}}}]),e}(),Lr=r(8679),jr=r.n(Lr);function Ar(e){return(Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ur(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Br(e,t){return(Br=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Xr(e);if(t){var o=Xr(this).constructor;r=Reflect.construct(n,arguments,o)
}else r=n.apply(this,arguments);return Vr(this,r)}}function Vr(e,t){return!t||"object"!==Ar(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xr(e){return(Xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wr(e){var t=e.DecoratedComponent,r=e.createHandler,n=e.createMonitor,i=e.createConnector,a=e.registerHandler,s=e.containerDisplayName,c=e.getType,u=e.collect,d=e.options.arePropsEqual,l=void 0===d?hr:d,f=t,h=t.displayName||t.name||"Component",p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Br(e,t)}(g,e);var t,s,d,p=Gr(g);function g(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),(t=p.call(this,e)).decoratedRef=(0,o.createRef)(),t.handleChange=function(){var e=t.getCurrentState();hr(e,t.state)||t.setState(e)},t.disposable=new Mr,t.receiveProps(e),t.dispose(),t}return t=g,(s=[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return A(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current}},{key:"shouldComponentUpdate",value:function(e,t){return!l(e,this.props)||!hr(t,this.state)}},{key:"componentDidMount",value:function(){this.disposable=new Mr,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()}},{key:"componentDidUpdate",value:function(e){l(this.props,e)||(this.receiveProps(this.props),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose()}},{key:"receiveProps",value:function(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(c(e)))}},{key:"receiveType",value:function(e){if(this.handlerMonitor&&this.manager&&this.handlerConnector&&e!==this.currentType){this.currentType=e;var t=Ur(a(e,this.handler,this.manager),2),r=t[0],n=t[1];this.handlerId=r,this.handlerMonitor.receiveHandlerId(r),this.handlerConnector.receiveHandlerId(r);var o=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[r]});this.disposable.setDisposable(new Rr(new _r(o),new _r(n)))}}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)}},{key:"getCurrentState",value:function(){return this.handlerConnector?u(this.handlerConnector.hooks,this.handlerMonitor,this.props):{}}},{key:"render",value:function(){var e=this;return(0,Q.jsx)(xt.Consumer,{children:function(t){var r=t.dragDropManager;return e.receiveDragDropManager(r),"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame((function(){var t;return null===(t=e.handlerConnector)||void 0===t?void 0:t.reconnect()})),(0,
Q.jsx)(f,Object.assign({},e.props,e.getCurrentState(),{ref:Or(f)?e.decoratedRef:null}),void 0)}},void 0)}},{key:"receiveDragDropManager",value:function(e){void 0===this.manager&&(A(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",h,h),void 0!==e&&(this.manager=e,this.handlerMonitor=n(e),this.handlerConnector=i(e.getBackend()),this.handler=r(this.handlerMonitor,this.decoratedRef)))}}])&&Hr(t.prototype,s),d&&Hr(t,d),g}(o.Component);return p.DecoratedComponent=t,p.displayName="".concat(s,"(").concat(h,")"),jr()(p,t)}function zr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Yr=["canDrop","hover","drop"],Kr=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=null,this.spec=t,this.monitor=r,this.ref=n}var t,r,n;return t=e,(r=[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveMonitor",value:function(e){this.monitor=e}},{key:"canDrop",value:function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)}},{key:"hover",value:function(){this.spec.hover&&this.props&&this.spec.hover(this.props,this.monitor,Dr(this.ref))}},{key:"drop",value:function(){if(this.spec.drop)return this.spec.drop(this.props,this.monitor,this.ref.current)}}])&&zr(t.prototype,r),n&&zr(t,n),e}();function qr(e){return Object.keys(e).forEach((function(t){A(Yr.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',Yr.join(", "),t),A("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])})),function(t,r){return new Kr(e,t,r)}}function $r(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e;"function"!=typeof e&&(A(kr(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),o=function(){return e}),A(Cr(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var i=qr(t);return A("function"==typeof r,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',r),
A(Cr(n),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',r),function(e){return Wr({containerDisplayName:"DropTarget",createHandler:i,registerHandler:cr,createMonitor:function(e){return new fr(e)},createConnector:function(e){return new Er(e)},DecoratedComponent:e,getType:o,collect:r,options:n})}}var Jr=r(33093),Qr=r(85452);function Zr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var en=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=gr({dragSource:function(e,t){r.clearDragSource(),r.dragSourceOptions=t||null,Sr(e)?r.dragSourceRef=e:r.dragSourceNode=e,r.reconnectDragSource()},dragPreview:function(e,t){r.clearDragPreview(),r.dragPreviewOptions=t||null,Sr(e)?r.dragPreviewRef=e:r.dragPreviewNode=e,r.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}var t,r,n;return t=e,(r=[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();t&&this.disconnectDragSource(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)):this.lastConnectedDragSource=e)}},{key:"reconnectDragPreview",value:function(){var e=this.dragPreview,t=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();t&&this.disconnectDragPreview(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions)):this.lastConnectedDragPreview=e)}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{
key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!hr(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!hr(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}])&&Zr(t.prototype,r),n&&Zr(t,n),e}();function tn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var rn=!1,nn=!1,on=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourceId=null,this.internalMonitor=t.getMonitor()}var t,r,n;return t=e,(r=[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){A(!rn,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return rn=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{rn=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;A(!nn,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return nn=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{nn=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){
return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&tn(t.prototype,r),n&&tn(t,n),e}();function an(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var sn,cn=["canDrag","beginDrag","isDragging","endDrag"],un=["beginDrag"],dn=function(){function e(t,r,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=null,this.beginDrag=function(){if(o.props)return o.spec.beginDrag(o.props,o.monitor,o.ref.current)},this.spec=t,this.monitor=r,this.ref=n}var t,r,n;return t=e,(r=[{key:"receiveProps",value:function(e){this.props=e}},{key:"canDrag",value:function(){return!!this.props&&(!this.spec.canDrag||this.spec.canDrag(this.props,this.monitor))}},{key:"isDragging",value:function(e,t){return!!this.props&&(this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):t===e.getSourceId())}},{key:"endDrag",value:function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,Dr(this.ref))}}])&&an(t.prototype,r),n&&an(t,n),e}();function ln(e){return Object.keys(e).forEach((function(t){A(cn.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',cn.join(", "),t),A("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),un.forEach((function(t){A("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),function(t,r){return new dn(e,t,r)}}var fn=r(21659),hn=r(69397),pn=r(88812),gn=r(51720),vn=r(10384);const yn={[hn.Modifiers.Mod]:1,[hn.Modifiers.Shift]:2};var mn=r(11875),Sn=r(58686);const bn=()=>{};class En extends o.PureComponent{constructor(){
super(...arguments),this._ref=null,this._handleRef=e=>{this._ref=e;const{connectDragSource:t,connectDropTarget:r,connectDragPreview:n}=this.props;(0,Xt.ensureDefined)(r)(this._ref),(0,Xt.ensureDefined)(t)(this._ref),(0,Xt.ensureDefined)(n)((sn||((sn=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),sn),{captureDraggingState:!0})},this._handleTouchStart=e=>{const t=(e,t)=>{const r=function(e,t){try{const r=document.createEvent("TouchEvent");return r.initTouchEvent(e,!0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,t.touches,t.targetTouches,t.changedTouches),r}catch(e){return null}}(e,t);if(r)return r;const n=Array.from(t.changedTouches),o=Array.from(t.touches),i=Array.from(t.targetTouches);return new TouchEvent(e,{bubbles:!0,changedTouches:n,touches:o,targetTouches:i})},r=e.target;if(r instanceof Element){const e=e=>{const n=e;if(!r.isConnected){n.preventDefault();const e=t("touchmove",n);document.body.dispatchEvent(e)}},n=o=>{const i=o;if(!r.isConnected){i.preventDefault();const e=t("touchend",i);document.body.dispatchEvent(e)}r.removeEventListener("touchend",n),r.removeEventListener("touchmove",e)};r.addEventListener("touchend",n),r.addEventListener("touchmove",e)}}}componentDidMount(){var e;null===(e=this._ref)||void 0===e||e.addEventListener("touchstart",this._handleTouchStart)}componentWillUnmount(){var e;null===(e=this._ref)||void 0===e||e.removeEventListener("touchstart",this._handleTouchStart)}render(){return o.createElement(Tn,{...this.props,reference:this._handleRef})}getNode(){return(0,Xt.ensureNotNull)(this._ref)}}const Tn=e=>{const{id:t,isSelected:r,isOffset:n,isExpandable:i,setIsSelected:a,isDisabled:s,isExpanded:c,onClick:u,parentId:d,setIsExpanded:l,reference:f,isFirstListItem:h,isLastListItem:p,nodeRenderer:g,isChildOfSelected:v=!1}=e,{size:y,smallSizeTreeNodeAction:m}=(0,o.useContext)(vn.SizeContext),S=(0,o.useRef)(null),b=(0,pn.createSafeMulticastEventHandler)(e=>S.current=e,f);let[E,T]=(0,gn.useHover)();return Qr.CheckMobile.any()&&(E=r,T={onMouseOut:bn,onMouseOver:bn}),o.createElement("div",{className:ar(Sn.wrap,r&&Sn.selected,v&&Sn.childOfSelected,s&&Sn.disabled,i&&Sn.expandable),onClick:1===y&&0===m?D:function(e){if(e.defaultPrevented)return;const n=yn[(0,hn.modifiersFromEvent)(e)]||0;!s&&a&&a(t,!r,n);u&&0===n&&u(e,t)},onContextMenu:D,ref:b,...T},i&&o.createElement(fn.Icon,{icon:mn,className:ar(Sn.expandHandle,c&&Sn.expanded),onClick:function(e){e.preventDefault(),i&&l(t,!c)},onMouseDown:function(e){e.preventDefault()}}),g({id:t,isOffset:n,parentId:d,isDisabled:s,isSelected:r,isChildOfSelected:v,isHovered:E,isExpanded:c,isFirstListItem:h,isLastListItem:p}));function D(){s||r||!a||a(t,!0)}},Dn=o.createContext({});function On(e,t){const{id:r}=t,n=(0,Gt.nodeSelector)(e,r),o=(0,Gt.isSelectedSelector)(e,r);let i=!1,a=n.parentId;for(;a&&!i;)i=(0,Gt.isSelectedSelector)(e,a),a=(0,Gt.nodeSelector)(e,a).parentId;return{...n,isSelected:o,isChildOfSelected:i,isExpanded:n.children.length>0&&(0,Gt.isExpandedSelector)(e,r),
isExpandable:n.children.length>0,isDisabled:(0,Gt.isDisabledSelector)(e,r)}}function In(e){return(0,Me.bindActionCreators)({setIsExpanded:Bt.setIsExpanded,processDropTarget:Bt.processDropTarget,dropSelection:Bt.dropSelection,selectNext:Bt.selectNext,selectPrevious:Bt.selectPrevious,setIsSelected:Bt.setIsSelected,endDrag:Bt.endDrag},e)}const wn=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e;"function"!=typeof e&&(A(kr(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),o=function(){return e}),A(Cr(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);var i=ln(t);return A("function"==typeof r,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',r),A(Cr(n),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',r),function(e){return Wr({containerDisplayName:"DragSource",createHandler:i,registerHandler:ur,createConnector:function(e){return new en(e)},createMonitor:function(e){return new on(e)},DecoratedComponent:e,getType:o,collect:r,options:n})}}("node",{beginDrag:e=>{const{id:t,isDisabled:r,isSelected:n}=e;return r||n||e.setIsSelected(t,!0),e},endDrag:e=>e.endDrag()},e=>({connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview()})),Cn=$r("node",{hover:(e,t,r)=>{if(!r)return;const n=r.getNode(),o=n.getBoundingClientRect(),i=o.bottom-o.top,a=t.getClientOffset();if(a){const t=a.y-o.top;let r,s;if(r=0===e.children.length?t<i/2?"before":"after":t<i/3?"before":e.isExpanded||t>=i/3&&t<2*i/3?"inside":"after",void 0!==e.getContainerElement){const t=e.getContainerElement().getBoundingClientRect();s={top:o.top-t.top,left:o.left-t.left,bottom:o.top-t.top+o.height,right:o.left-t.left+o.width,height:o.height,width:o.width}}else s={top:n.offsetTop,left:n.offsetLeft,bottom:n.offsetTop+n.offsetHeight,right:n.offsetLeft+n.offsetWidth,height:n.offsetHeight,width:n.offsetWidth};e.processDropTarget(e,r,a.x-o.left<48,s,e.isLastChild)}}},e=>({connectDropTarget:e.dropTarget()})),kn=(0,a.connect)(On,In,null,{context:Dn})(wn(Cn(En))),Nn=(0,a.connect)(On,In,null,{context:Dn})(Tn);var Pn=r(61119);function xn(e){return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rn(e,t){for(var r=0;r<t.length;r++){var n=t[r]
;n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Mn(e,t,r){return t&&Rn(e.prototype,t),r&&Rn(e,r),e}function Ln(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jn(e,t)}function jn(e,t){return(jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function An(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Fn(e);if(t){var o=Fn(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Un(this,r)}}function Un(e,t){return!t||"object"!==xn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fn(e){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return A("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer",e),A(Cr(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer',t),function(r){var n=r,i=t.arePropsEqual,a=void 0===i?hr:i,s=n.displayName||n.name||"Component",c=function(t){Ln(i,t);var r=An(i);function i(){var e;return _n(this,i),(e=r.apply(this,arguments)).isCurrentlyMounted=!1,e.ref=(0,o.createRef)(),e.handleChange=function(){if(e.isCurrentlyMounted){var t=e.getCurrentState();hr(t,e.state)||e.setState(t)}},e}return Mn(i,[{key:"getDecoratedComponentInstance",value:function(){return A(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current}},{key:"shouldComponentUpdate",value:function(e,t){return!a(e,this.props)||!hr(t,this.state)}},{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0,this.handleChange()}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange&&(this.unsubscribeFromOffsetChange(),this.unsubscribeFromOffsetChange=void 0),this.unsubscribeFromStateChange&&(this.unsubscribeFromStateChange(),this.unsubscribeFromStateChange=void 0)}},{key:"render",value:function(){var e=this;return(0,Q.jsx)(xt.Consumer,{children:function(t){var r=t.dragDropManager;return void 0===r?null:(e.receiveDragDropManager(r),e.isCurrentlyMounted?(0,
Q.jsx)(n,Object.assign({},e.props,e.state,{ref:Or(n)?e.ref:null}),void 0):null)}},void 0)}},{key:"receiveDragDropManager",value:function(e){if(void 0===this.manager){this.manager=e,A("object"===xn(e),"Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",s,s);var t=this.manager.getMonitor();this.unsubscribeFromOffsetChange=t.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=t.subscribeToStateChange(this.handleChange)}}},{key:"getCurrentState",value:function(){if(!this.manager)return{};var t=this.manager.getMonitor();return e(t,this.props)}}]),i}(o.Component);return c.displayName="DragLayer(".concat(s,")"),c.DecoratedComponent=r,jr()(c,r)}}var Bn=r(22165);function Gn(e){const t=e(),r=(0,o.useRef)(t);r.current=t;const[n,i]=(0,o.useState)(r.current),a=(0,o.useRef)(null);return(0,o.useEffect)(()=>{null===a.current&&(a.current=requestAnimationFrame(()=>{a.current=null,i(r.current)}))}),(0,o.useEffect)(()=>()=>{a.current&&cancelAnimationFrame(a.current)},[]),n}function Vn(e){const{dropTargetOffset:t,mousePosition:r}=e;if(!t)return{display:"none"};const{x:n,y:o}=t,i=r&&t?r.y-t.y:0,a=`translate(${n+(r&&t?r.x-t.x:0)}px, ${o+i}px)`;return{transform:a,WebkitTransform:a}}const Xn={top:0,left:0,position:"fixed",pointerEvents:"none",zIndex:100,opacity:.5,width:300,backgroundColor:"red"};const Wn=Hn((function(e){return{isDragging:e.isDragging()&&"node"===e.getItemType(),mousePosition:e.getClientOffset(),dropTargetOffset:e.getSourceClientOffset()}}))((0,a.connect)((function(e){return{items:(0,Gt.renderDragListSelector)(e)}}),null,null,{context:Dn})((function(e){const{items:t,isDragging:r,nodeRenderer:n,dragPreviewRenderer:i}=e;return Gn((function(){return r?o.createElement(Bn.Portal,null,o.createElement("div",{style:{...Xn,...Vn(e)}},t.map(e=>{if(i){const t=i;return o.createElement(t,{key:e.id,...e})}return o.createElement(Nn,{id:e.id,key:e.id,nodeRenderer:n,isDragPreview:!0,isOffset:e.level>1})}))):null}))})));var zn=r(57887),Yn=r(20978),Kn=r(42442);const qn=o.forwardRef((e,t)=>{const r=(0,o.useRef)(null);return e.connectDropTarget(r),(0,o.useImperativeHandle)(t,()=>({getNode:()=>(0,Xt.ensureNotNull)(r.current)}),[]),o.createElement("div",{ref:r,style:{height:"100%",width:"100%"}})}),$n=$r("node",{hover:(e,t,r)=>{if(!r)return;const n=t.getClientOffset();if(null===n)return;const o=e.getOrderedNodes();if(0===o.length)return;const i=r.getNode().getBoundingClientRect(),a=e.getContainerElement().getBoundingClientRect();if("first"===e.type){const t={top:i.top-a.top+i.height,left:i.left-a.left,bottom:i.top-a.top+i.height,right:i.left-a.left+i.width,height:0,width:i.width};e.processDropTarget(o[0],"before",!1,t,!1)}if("last"===e.type){const t=n.x-i.left<48,r=o[o.length-1],s=t&&2===r.level?(0,Xt.ensureDefined)(o.find(e=>e.id===r.parentId)):r,c={top:i.top-a.top,left:i.left-a.left,bottom:i.top-a.top,
right:i.left-a.left+i.width,height:i.height,width:i.width};e.processDropTarget(s,"after",t,c,!1)}}},e=>({connectDropTarget:e.dropTarget()}))(qn),Jn=o.createContext({isOver:!1,transform:void 0});var Qn=r(70294);function Zn(e){const{dropType:t,boundBox:r}=e,{top:n,bottom:o,left:i}=(0,Xt.ensureDefined)(r);return[i,"before"===t||"inside"===t?n:o]}const eo=Hn((function(e){return{isDragging:e.isDragging()}}))((0,a.connect)((function(e){const{boundBox:t,dropType:r,node:n}=(0,Gt.dropTargetSelector)(e);return{boundBox:t,dropType:r,level:n?n.level:void 0}}),null,null,{context:Dn})((function(e){const{dropType:t,boundBox:r,isDragging:n,level:i,transform:a=Zn}=e;return Gn((function(){if(!n||!t||!r)return null;const s={[Qn.dropTarget]:"inside"!==t,[Qn.dropTargetInside]:"inside"===t},{width:c,height:u}=r,[d,l]=a(e),f=`translate(${d}px, ${l}px)`;return o.createElement("div",{className:ar(s),style:{position:"absolute",transform:f,WebkitTransform:f,top:0,left:2===i?"46px":0,width:2===i?c-46+"px":c,height:"inside"===t?u:"2px"}})}))}))),to=o.forwardRef((e,t)=>{const r=(0,o.useContext)(Jn);return o.createElement("div",{...e,ref:t},e.children,r.isOver&&o.createElement(eo,{transform:r.transform}))});var ro=r(74605),no=r(18343);const oo=38+hn.Modifiers.Shift,io=40+hn.Modifiers.Shift;const ao=o.forwardRef((function(e,t){const{navigationKeys:r,renderList:n,stopMultiSelect:i,startMultiSelect:a,isMultiSelecting:s,nodeRenderer:c,dragPreviewRenderer:u,className:d,connectDropTarget:l,readOnly:f,onClick:h,dropLayerTransform:p,setFocusedNode:g,scrollToId:v,rowHeight:y,onMultiSelectPrevious:m,onMultiSelectNext:S,onMoveCursorToNext:b,onMoveCursorToPrevious:E,outerRef:T,width:D,height:O,isOver:I,processDropTarget:w}=e,C=(0,o.useContext)(zn.ObjectTreeContext),k=(0,o.useRef)(null);(0,o.useEffect)(()=>{const e=e=>{[hn.Modifiers.Mod,hn.Modifiers.Shift].includes((0,hn.modifiersFromEvent)(e))&&a()},t=e=>{s&&![hn.Modifiers.Mod,hn.Modifiers.Shift].includes((0,hn.modifiersFromEvent)(e))&&i()};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),document.addEventListener("mousemove",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t),document.removeEventListener("mousemove",t)}},[s]),function(e){(0,o.useEffect)(()=>{if(Qr.isEdge){let t=null;const r=(0,Xt.ensureNotNull)(e.current),n=e=>{if(e.target instanceof Element){const r=(0,Xt.ensureNotNull)(e.target.closest("[draggable]"));r instanceof HTMLElement&&(r.style.opacity="0",t=requestAnimationFrame(()=>r.style.opacity="1"))}};return r.addEventListener("dragstart",n),()=>{r.removeEventListener("dragstart",n),null!==t&&cancelAnimationFrame(t)}}return()=>{}},[])}(k);const N=(0,o.useCallback)(()=>(0,Xt.ensureNotNull)(G.current),[]),P=(0,o.useCallback)(()=>n,[n]),x=(0,o.useMemo)(()=>{const e=f?Nn:kn,t=[];let r;t.push({type:"padding",node:o.createElement($n,{type:"first",key:"padding-top",getContainerElement:N,getOrderedNodes:P,processDropTarget:w})});for(let i=0;i<n.length;i++){const a=n[i];1===a.level&&(void 0!==r&&r!==a.parentId&&t.push({
type:"separator",node:o.createElement("div",{key:r+"_separator",className:no.separator})}),r=a.parentId),t.push({type:"node",node:o.createElement(e,{id:a.id,key:a.id,isFirstListItem:0===i,isLastListItem:i===n.length-1,isExpandable:a.children.length>0,nodeRenderer:c,readOnly:f,onClick:h,isOffset:a.level>1,getContainerElement:N})})}return t.push({type:"padding",node:o.createElement($n,{type:"last",key:"padding-bottom",getContainerElement:N,getOrderedNodes:P,processDropTarget:w})}),t},[n]),_=(0,o.useRef)([]);_.current=x;const R=(0,o.useCallback)(e=>{let{style:t}=e;const{index:r}=e;return r===_.current.length-1&&(t={...t,bottom:0,minHeight:t.height},delete t.height),o.createElement("div",{style:t},_.current[r].node)},[]),M=(0,o.useCallback)(e=>{const t=_.current[e];return"padding"===t.type?6:"function"==typeof y?y(e,t):y},[y]),L=(0,o.useCallback)(e=>(0,Xt.ensure)(_.current[e].node.key),[]),j=(0,o.useMemo)(()=>null===v?{index:-1}:{index:_.current.findIndex(e=>e.node.key===v.id)},[v]);l(k);const[A,U,F,H]=(0,Kn.useOverlayScroll)(),B=(0,o.useRef)(null);(0,o.useEffect)(()=>(0,Xt.ensureNotNull)(B.current).resetAfterIndex(0,!0),[x]),(0,o.useEffect)(()=>(0,Xt.ensureNotNull)(B.current).scrollToItem(j.index),[j]);const G=(0,o.useRef)(null),V=(0,o.useMemo)(()=>({isOver:I,transform:p}),[I,p]),X=(0,o.useRef)(null),W=(0,o.useRef)({startScroll(e){const t=()=>{null!==F.current&&(X.current=requestAnimationFrame(t),F.current.scrollBy({top:e}))};this.stopScroll(),t()},stopScroll(){null!==X.current&&(cancelAnimationFrame(X.current),X.current=null)},getListElement:()=>F.current});return(0,o.useImperativeHandle)(t,()=>W.current,[]),(0,o.useEffect)(()=>()=>W.current.stopScroll(),[I]),o.createElement(Jn.Provider,{value:V},o.createElement("div",{...U,className:sr()(no.tree,d),ref:k,tabIndex:-1,onKeyDown:function(e){const t=(0,hn.hashFromEvent)(e);if(e.defaultPrevented||(0,Pn.isNativeUIInteraction)(t,e.target))return;C||t!==oo||(e.preventDefault(),m());C||t!==io||(e.preventDefault(),S());(38===t||void 0!==r&&"previous"===r[t])&&(e.preventDefault(),E());(40===t||void 0!==r&&"next"===r[t])&&(e.preventDefault(),b());if((8===t||46===t)&&C){const{viewModel:e}=C,t=e.selection(),r=t.selected();if(1!==r.length)return;const n=e.getNextNodeIdAfterRemove(r[0]);if(null===n)return;e.onChange().subscribe(null,()=>{if(t.selected().length)return;const r=e.entity(n);r&&(t.set([r]),g(n))},!0)}}},o.createElement(Yn.OverlayScrollContainer,{...A,className:no.overlayScrollWrap}),o.createElement(Jr.VariableSizeList,{ref:function(e){B.current=e},className:no.listContainer,width:D,height:O,itemCount:x.length,itemSize:M,children:R,itemKey:L,outerRef:function(e){F.current=e,T&&T(e)},innerRef:function(e){G.current=e},innerElementType:to,onItemsRendered:function(){H()},overscanCount:20,direction:(0,ro.isRtl)()?"rtl":"ltr"}),o.createElement(Wn,{dragPreviewRenderer:u,nodeRenderer:c})))})),so=$r("node",{drop:(e,t,r)=>{("touch"===e.drag||Qr.isFF)&&r.stopScroll(),t.getItem().dropSelection()},hover:(e,t,r)=>{if("touch"!==e.drag&&!Qr.isFF)return;const n=t.getClientOffset()
;if(null===n)return;const o=r.getListElement();if(null===o)return;const i=o.getBoundingClientRect();((t,n,o)=>{const i=Math.abs(t-o),a=Math.abs(t-n);if(a>40&&i>40||i<=40&&a<=40)return void r.stopScroll();var s,c,u,d;s=a>20&&a<=40,u=i<=20,d=a<=20,(c=i>20&&i<=40)||s?"touch"===e.drag?r.startScroll(c?-5:5):r.startScroll(c?-2:2):(u||d)&&("touch"===e.drag?r.startScroll(u?-10:10):r.startScroll(u?-5:5))})(n.y,i.bottom,i.top)}},(e,t)=>({connectDropTarget:e.dropTarget(),isOver:t.isOver()}))(ao);const co=(0,a.connect)((function(e){return{renderList:(0,Gt.renderListSelector)(e),orderedNodes:(0,Gt.orderedNodesSelector)(e),isMultiSelecting:(0,Gt.isMultiSelectingSelector)(e),selectedIds:(0,Gt.selectedIdsSelector)(e),scrollToId:(0,Gt.scrollToIdSelector)(e)}}),(function(e){return(0,Me.bindActionCreators)({startMultiSelect:Bt.startMultiSelect,stopMultiSelect:Bt.stopMultiSelect,setFocusedNode:Bt.setFocusedNode,processDropTarget:Bt.processDropTarget,onMoveCursorToNext:Bt.selectNext,onMoveCursorToPrevious:Bt.selectPrevious,onMultiSelectPrevious:Bt.multiSelectPrevious,onMultiSelectNext:Bt.multiSelectNext},e)}),null,{context:Dn})(so),uo={delayTouchStart:100};function lo(e){const{canBeAddedToSelection:t,initState:r,onSelect:n,canMove:a,onDrop:s,onMove:c,nodes:u,selectedIds:d,onKeyboardSelect:l,saga:f,lastFocusedNodeObject:h,lastSyncTimestampRef:p,scrollToId:g,...v}=e,[y,m]=(0,o.useState)(null);return(0,o.useEffect)(()=>{const e=(0,i.default)();m(function(e){const t=(0,Me.applyMiddleware)(e);return(0,Me.createStore)(ir,t)}(e));const o=e.run(er,{initState:r,onKeyboardSelect:l,saga:f,canMove:a,onMove:c,onDrop:s,onSelect:n,canBeAddedToSelection:t});return()=>o.cancel()},[]),(0,o.useEffect)(()=>(null!==y&&u&&(p&&(p.current=performance.now()),y.dispatch((0,Bt.syncNodes)(u))),()=>{}),[y,u]),(0,o.useEffect)(()=>{null!==y&&d&&y.dispatch((0,Bt.setSelectedIds)(d))},[y,d]),(0,o.useEffect)(()=>{null!==y&&(null==h?void 0:h.id)&&y.dispatch((0,Bt.setFocusedNode)(h.id))},[y,h]),null===y?null:o.createElement(fo,{store:y,scrollToId:g,...v})}const fo=o.memo((function(e){const{store:t,scrollToId:r,...n}=e,i="touch"===e.drag?J:j;return(0,o.useEffect)(()=>{var e;t.dispatch((0,Bt.scrollToId)(null!==(e=null==r?void 0:r.id)&&void 0!==e?e:null))},[r]),o.createElement(At,{backend:i,options:uo},o.createElement(a.Provider,{store:t,context:Dn},o.createElement(co,{...n})))}))},57887:(e,t,r)=>{"use strict";r.d(t,{ObjectTreeContext:()=>n});const n=r(67294).createContext(null)},10358:(e,t,r)=>{"use strict";function n(e){return t=>e+"__"+t}r.d(t,{createActionTypeFactory:()=>n})},65954:(e,t,r)=>{"use strict";r.d(t,{useWatchedValueReadonly:()=>o});var n=r(67294);const o=(e,t=!1)=>{const r="watchedValue"in e?e.watchedValue:void 0,o="defaultValue"in e?e.defaultValue:e.watchedValue.value(),[i,a]=(0,n.useState)(r?r.value():o);return(t?n.useLayoutEffect:n.useEffect)(()=>{if(r){a(r.value());const e=e=>a(e);return r.subscribe(e),()=>r.unsubscribe(e)}return()=>{}},[r]),i}},65205:(e,t,r)=>{"use strict";r.d(t,{ListItemButton:()=>c})
;var n=r(67294),o=r(94184),i=r.n(o),a=r(21659),s=r(59404);function c(e){const{className:t,disabled:r,...o}=e;return n.createElement(a.Icon,{className:i()(s.button,r&&s.disabled,t),...o})}},78060:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M8 9.5H6.5a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1V20m-8-1.5h11a1 1 0 0 0 1-1v-11a1 1 0 0 0-1-1h-11a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1z"/></svg>'},50948:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M17.086 6.207a2 2 0 0 1 2.828 0l1.879 1.879a2 2 0 0 1 0 2.828l-.94.94-9 9-1 1-.146.146H6v-4.707l.146-.146 1-1 9-9 .94-.94zm2.121.707a1 1 0 0 0-1.414 0l-.586.586 1.647 1.646 1.646 1.647.586-.586a1 1 0 0 0 0-1.414l-1.879-1.879zm.586 4.586L18.5 10.207 10.207 18.5l1.293 1.293 8.293-8.293zm-9 9l-1.647-1.646L7.5 17.207l-.5.5V21h3.293l.5-.5zm-2.586-4L9.5 17.793 17.793 9.5 16.5 8.207 8.207 16.5z"/></svg>'},11875:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none"><path stroke="currentColor" d="M8 5l3.5 3.5L8 12"/></svg>'}}]);