(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[7392],{981193:e=>{e.exports={container:"container-Mtq7m9Yl","intent-default":"intent-default-Mtq7m9Yl",focused:"focused-Mtq7m9Yl",readonly:"readonly-Mtq7m9Yl",disabled:"disabled-Mtq7m9Yl","with-highlight":"with-highlight-Mtq7m9Yl",grouped:"grouped-Mtq7m9Yl","adjust-position":"adjust-position-Mtq7m9Yl","first-row":"first-row-Mtq7m9Yl","first-col":"first-col-Mtq7m9Yl",stretch:"stretch-Mtq7m9Yl","font-size-medium":"font-size-medium-Mtq7m9Yl","font-size-large":"font-size-large-Mtq7m9Yl","no-corner-top-left":"no-corner-top-left-Mtq7m9Yl","no-corner-top-right":"no-corner-top-right-Mtq7m9Yl","no-corner-bottom-right":"no-corner-bottom-right-Mtq7m9Yl","no-corner-bottom-left":"no-corner-bottom-left-Mtq7m9Yl","size-small":"size-small-Mtq7m9Yl","size-medium":"size-medium-Mtq7m9Yl","size-large":"size-large-Mtq7m9Yl","intent-success":"intent-success-Mtq7m9Yl","intent-warning":"intent-warning-Mtq7m9Yl","intent-danger":"intent-danger-Mtq7m9Yl","intent-primary":"intent-primary-Mtq7m9Yl","border-none":"border-none-Mtq7m9Yl","border-thin":"border-thin-Mtq7m9Yl","border-thick":"border-thick-Mtq7m9Yl",highlight:"highlight-Mtq7m9Yl",shown:"shown-Mtq7m9Yl"}},484684:e=>{e.exports={"inner-slot":"inner-slot-yJbunXPO",interactive:"interactive-yJbunXPO",icon:"icon-yJbunXPO","inner-middle-slot":"inner-middle-slot-yJbunXPO","before-slot":"before-slot-yJbunXPO","after-slot":"after-slot-yJbunXPO"}},358089:e=>{e.exports={input:"input-oiYdY6I4","with-start-slot":"with-start-slot-oiYdY6I4","with-end-slot":"with-end-slot-oiYdY6I4"}},574292:e=>{e.exports={scrollWrap:"scrollWrap-Lt5uPNKI"}},82461:e=>{e.exports={wrap:"wrap-cbCWDq_M","wrap--horizontal":"wrap--horizontal-cbCWDq_M",bar:"bar-cbCWDq_M",barInner:"barInner-cbCWDq_M","barInner--horizontal":"barInner--horizontal-cbCWDq_M","bar--horizontal":"bar--horizontal-cbCWDq_M"}},820577:e=>{e.exports={dropTargetInside:"dropTargetInside-fd_GivvG",dropTarget:"dropTarget-fd_GivvG",before:"before-fd_GivvG",after:"after-fd_GivvG"}},603950:e=>{e.exports={wrap:"wrap-G4AKrzja",selected:"selected-G4AKrzja",childOfSelected:"childOfSelected-G4AKrzja",disabled:"disabled-G4AKrzja",expandHandle:"expandHandle-G4AKrzja",expanded:"expanded-G4AKrzja"}},643380:e=>{e.exports={separator:"separator-zol_jClG",tree:"tree-zol_jClG",overlayScrollWrap:"overlayScrollWrap-zol_jClG",listContainer:"listContainer-zol_jClG"}},945966:e=>{e.exports={"default-drawer-min-top-distance":"100px",wrap:"wrap-yBUNQyVA",positionBottom:"positionBottom-yBUNQyVA",backdrop:"backdrop-yBUNQyVA",drawer:"drawer-yBUNQyVA",positionLeft:"positionLeft-yBUNQyVA"}},734393:e=>{e.exports={button:"button-W4RYPlVi",disabled:"disabled-W4RYPlVi"}},655498:e=>{e.exports={"tablet-small-breakpoint":"screen and (max-width: 430px)",item:"item-RhC5uhZw",hovered:"hovered-RhC5uhZw",isDisabled:"isDisabled-RhC5uhZw",isActive:"isActive-RhC5uhZw",shortcut:"shortcut-RhC5uhZw",toolbox:"toolbox-RhC5uhZw",withIcon:"withIcon-RhC5uhZw",icon:"icon-RhC5uhZw",labelRow:"labelRow-RhC5uhZw",label:"label-RhC5uhZw",
showOnHover:"showOnHover-RhC5uhZw"}},190948:e=>{e.exports={icon:"icon-XIHzWm6B",dropped:"dropped-XIHzWm6B"}},380327:(e,t,n)=>{"use strict";n.d(t,{ControlGroupContext:()=>r});const r=n(50959).createContext({isGrouped:!1,cellState:{isTop:!0,isRight:!0,isBottom:!0,isLeft:!0}})},331774:(e,t,n)=>{"use strict";function r(e){let t=0;return e.isTop&&e.isLeft||(t+=1),e.isTop&&e.isRight||(t+=2),e.isBottom&&e.isLeft||(t+=8),e.isBottom&&e.isRight||(t+=4),t}n.d(t,{getGroupCellRemoveRoundBorders:()=>r})},34735:(e,t,n)=>{"use strict";n.d(t,{ControlSkeleton:()=>v,InputClasses:()=>m});var r=n(50959),o=n(497754),s=n(650151),i=n(525388),l=n(800417),c=n(380327),a=n(331774);var d=n(981193),u=n.n(d);function p(e){let t="";return 0!==e&&(1&e&&(t=o(t,u()["no-corner-top-left"])),2&e&&(t=o(t,u()["no-corner-top-right"])),4&e&&(t=o(t,u()["no-corner-bottom-right"])),8&e&&(t=o(t,u()["no-corner-bottom-left"]))),t}function h(e,t,n,r){const{removeRoundBorder:s,className:i,intent:l="default",borderStyle:c="thin",size:d,highlight:h,disabled:f,readonly:m,stretch:E,noReadonlyStyles:g,isFocused:v}=e,S=p(null!=s?s:(0,a.getGroupCellRemoveRoundBorders)(n));return o(u().container,u()[`intent-${l}`],u()[`border-${c}`],d&&u()[`size-${d}`],S,h&&u()["with-highlight"],f&&u().disabled,m&&!g&&u().readonly,v&&u().focused,E&&u().stretch,t&&u().grouped,!r&&u()["adjust-position"],n.isTop&&u()["first-row"],n.isLeft&&u()["first-col"],i)}function f(e,t){const{highlight:n,highlightRemoveRoundBorder:r}=e;if(!n)return u().highlight;const s=p(null!=r?r:(0,a.getGroupCellRemoveRoundBorders)(t));return o(u().highlight,u().shown,s)}const m={FontSizeMedium:(0,s.ensureDefined)(u()["font-size-medium"]),FontSizeLarge:(0,s.ensureDefined)(u()["font-size-large"])},E={passive:!1};function g(e,t){const{style:n,id:o,role:s,onFocus:a,onBlur:d,onMouseOver:u,onMouseOut:p,onMouseDown:m,onMouseUp:g,onKeyDown:v,onClick:S,tabIndex:T,startSlot:y,middleSlot:D,endSlot:_,onWheel:C,onWheelNoPassive:b=null}=e,{isGrouped:N,cellState:w,disablePositionAdjustment:I=!1}=(0,r.useContext)(c.ControlGroupContext),x=function(e,t=null,n){const o=(0,r.useRef)(null),s=(0,r.useRef)(null),i=(0,r.useCallback)((()=>{if(null===o.current||null===s.current)return;const[e,t,n]=s.current;null!==t&&o.current.addEventListener(e,t,n)}),[]),l=(0,r.useCallback)((()=>{if(null===o.current||null===s.current)return;const[e,t,n]=s.current;null!==t&&o.current.removeEventListener(e,t,n)}),[]),c=(0,r.useCallback)((e=>{l(),o.current=e,i()}),[]);return(0,r.useEffect)((()=>(s.current=[e,t,n],i(),l)),[e,t,n]),c}("wheel",b,E);return r.createElement("span",{style:n,id:o,role:s,className:h(e,N,w,I),tabIndex:T,ref:(0,i.useMergedRefs)([t,x]),onFocus:a,onBlur:d,onMouseOver:u,onMouseOut:p,onMouseDown:m,onMouseUp:g,onKeyDown:v,onClick:S,onWheel:C,...(0,l.filterDataProps)(e),...(0,l.filterAriaProps)(e)},y,D,_,r.createElement("span",{className:f(e,w)}))}g.displayName="ControlSkeleton";const v=r.forwardRef(g)},102691:(e,t,n)=>{"use strict";n.d(t,{BeforeSlot:()=>l,StartSlot:()=>c,MiddleSlot:()=>a,EndSlot:()=>d,AfterSlot:()=>u})
;var r=n(50959),o=n(497754),s=n(484684),i=n.n(s);function l(e){const{className:t,children:n}=e;return r.createElement("span",{className:o(i()["before-slot"],t)},n)}function c(e){const{className:t,interactive:n=!0,icon:s=!1,children:l}=e;return r.createElement("span",{className:o(i()["inner-slot"],n&&i().interactive,s&&i().icon,t)},l)}function a(e){const{className:t,children:n}=e;return r.createElement("span",{className:o(i()["inner-slot"],i()["inner-middle-slot"],t)},n)}function d(e){const{className:t,interactive:n=!0,icon:s=!1,children:l}=e;return r.createElement("span",{className:o(i()["inner-slot"],n&&i().interactive,s&&i().icon,t)},l)}function u(e){const{className:t,children:n}=e;return r.createElement("span",{className:o(i()["after-slot"],t)},n)}},654936:(e,t,n)=>{"use strict";n.d(t,{Input:()=>g,InputControl:()=>v});var r=n(50959),o=n(497754),s=n(800417),i=n(269842),l=n(1811),c=n(525388),a=n(21778),d=n(383836),u=n(603548),p=n(34735),h=n(102691),f=n(358089),m=n.n(f);function E(e){return!(0,s.isAriaAttribute)(e)&&!(0,s.isDataAttribute)(e)}function g(e){const{id:t,title:n,role:i,tabIndex:l,placeholder:c,name:a,type:d,value:u,defaultValue:f,draggable:g,autoComplete:v,autoFocus:S,maxLength:T,min:y,max:D,step:_,pattern:C,inputMode:b,onSelect:N,onFocus:w,onBlur:I,onKeyDown:x,onKeyUp:M,onKeyPress:O,onChange:L,onDragStart:R,size:P="medium",className:k,inputClassName:A,disabled:B,readonly:F,containerTabIndex:z,startSlot:U,endSlot:W,reference:H,containerReference:q,onContainerFocus:G,...Y}=e,V=(0,s.filterProps)(Y,E),j={...(0,s.filterAriaProps)(Y),...(0,s.filterDataProps)(Y),id:t,title:n,role:i,tabIndex:l,placeholder:c,name:a,type:d,value:u,defaultValue:f,draggable:g,autoComplete:v,autoFocus:S,maxLength:T,min:y,max:D,step:_,pattern:C,inputMode:b,onSelect:N,onFocus:w,onBlur:I,onKeyDown:x,onKeyUp:M,onKeyPress:O,onChange:L,onDragStart:R};return r.createElement(p.ControlSkeleton,{...V,disabled:B,readonly:F,tabIndex:z,className:o(m().container,k),size:P,ref:q,onFocus:G,startSlot:U,middleSlot:r.createElement(h.MiddleSlot,null,r.createElement("input",{...j,className:o(m().input,A,U&&m()["with-start-slot"],W&&m()["with-end-slot"]),disabled:B,readOnly:F,ref:H})),endSlot:W})}function v(e){e=(0,a.useControl)(e);const{disabled:t,autoSelectOnFocus:n,tabIndex:o=0,onFocus:s,onBlur:p,reference:h,containerReference:f=null}=e,m=(0,r.useRef)(null),E=(0,r.useRef)(null),[v,S]=(0,d.useFocus)(),T=t?void 0:v?-1:o,y=t?void 0:v?o:-1,{isMouseDown:D,handleMouseDown:_,handleMouseUp:C}=(0,u.useIsMouseDown)(),b=(0,i.createSafeMulticastEventHandler)(S.onFocus,(function(e){n&&!D.current&&(0,l.selectAllContent)(e.currentTarget)}),s),N=(0,i.createSafeMulticastEventHandler)(S.onBlur,p),w=(0,r.useCallback)((e=>{m.current=e,h&&("function"==typeof h&&h(e),"object"==typeof h&&(h.current=e))}),[m,h]);return r.createElement(g,{...e,isFocused:v,containerTabIndex:T,tabIndex:y,onContainerFocus:function(e){E.current===e.target&&null!==m.current&&m.current.focus()},onFocus:b,onBlur:N,reference:w,containerReference:(0,c.useMergedRefs)([E,f]),onMouseDown:_,onMouseUp:C})}
},21778:(e,t,n)=>{"use strict";n.d(t,{useControl:()=>s});var r=n(269842),o=n(383836);function s(e){const{onFocus:t,onBlur:n,intent:s,highlight:i,disabled:l}=e,[c,a]=(0,o.useFocus)(void 0,l),d=(0,r.createSafeMulticastEventHandler)(l?void 0:a.onFocus,t),u=(0,r.createSafeMulticastEventHandler)(l?void 0:a.onBlur,n);return{...e,intent:s||(c?"primary":"default"),highlight:null!=i?i:c,onFocus:d,onBlur:u}}},383836:(e,t,n)=>{"use strict";n.d(t,{useFocus:()=>o});var r=n(50959);function o(e,t){const[n,o]=(0,r.useState)(!1);(0,r.useEffect)((()=>{t&&n&&o(!1)}),[t,n]);const s={onFocus:(0,r.useCallback)((function(t){void 0!==e&&e.current!==t.target||o(!0)}),[e]),onBlur:(0,r.useCallback)((function(t){void 0!==e&&e.current!==t.target||o(!1)}),[e])};return[n,s]}},603548:(e,t,n)=>{"use strict";n.d(t,{useIsMouseDown:()=>o});var r=n(50959);function o(){const e=(0,r.useRef)(!1),t=(0,r.useCallback)((()=>{e.current=!0}),[e]),n=(0,r.useCallback)((()=>{e.current=!1}),[e]);return{isMouseDown:e,handleMouseDown:t,handleMouseUp:n}}},525388:(e,t,n)=>{"use strict";n.d(t,{useMergedRefs:()=>s});var r=n(50959),o=n(273388);function s(e){return(0,r.useCallback)((0,o.mergeRefs)(e),e)}},800417:(e,t,n)=>{"use strict";function r(e){return s(e,i)}function o(e){return s(e,l)}function s(e,t){const n=Object.entries(e).filter(t),r={};for(const[e,t]of n)r[e]=t;return r}function i(e){const[t,n]=e;return 0===t.indexOf("data-")&&"string"==typeof n}function l(e){return 0===e[0].indexOf("aria-")}n.d(t,{filterDataProps:()=>r,filterAriaProps:()=>o,filterProps:()=>s,isDataAttribute:()=>i,isAriaAttribute:()=>l})},1811:(e,t,n)=>{"use strict";function r(e){null!==e&&e.setSelectionRange(0,e.value.length)}n.d(t,{selectAllContent:()=>r})},269842:(e,t,n)=>{"use strict";function r(...e){return t=>{for(const n of e)void 0!==n&&n(t)}}n.d(t,{createSafeMulticastEventHandler:()=>r})},621709:(e,t,n)=>{"use strict";function r(e,t,n,r,o){function s(o){if(e>o.timeStamp)return;const s=o.target;void 0!==n&&null!==t&&null!==s&&s.ownerDocument===r&&(t.contains(s)||n(o))}return o.click&&r.addEventListener("click",s,!1),o.mouseDown&&r.addEventListener("mousedown",s,!1),o.touchEnd&&r.addEventListener("touchend",s,!1),o.touchStart&&r.addEventListener("touchstart",s,!1),()=>{r.removeEventListener("click",s,!1),r.removeEventListener("mousedown",s,!1),r.removeEventListener("touchend",s,!1),r.removeEventListener("touchstart",s,!1)}}n.d(t,{addOutsideEventListener:()=>r})},285089:(e,t,n)=>{"use strict";n.d(t,{setFixedBodyState:()=>c});var r=n(735922);const o=()=>!window.matchMedia("screen and (min-width: 768px)").matches,s=()=>!window.matchMedia("screen and (min-width: 1280px)").matches;let i=0,l=!1;function c(e){const{body:t}=document,n=t.querySelector(".widgetbar-wrap");if(e&&1==++i){const e=(0,r.getCSSProperty)(t,"overflow"),o=(0,r.getCSSPropertyNumericValue)(t,"padding-right");"hidden"!==e.toLowerCase()&&t.scrollHeight>t.offsetHeight&&((0,r.setStyle)(n,"right",`${(0,r.getScrollbarWidth)()}px`),t.style.paddingRight=`${o+(0,r.getScrollbarWidth)()}px`,l=!0),t.classList.add("i-no-scroll")
}else if(!e&&i>0&&0==--i&&(t.classList.remove("i-no-scroll"),l)){(0,r.setStyle)(n,"right","0px");let e=0;e=n?(c=(0,r.getContentWidth)(n),o()?0:s()?46:Math.min(Math.max(c,46),450)):0,t.scrollHeight<=t.clientHeight&&(e-=(0,r.getScrollbarWidth)()),t.style.paddingRight=(e<0?0:e)+"px",l=!1}var c}},73288:(e,t,n)=>{"use strict";n.d(t,{OverlayScrollContainer:()=>h});var r=n(50959),o=n(497754),s=n.n(o),i=n(650151),l=n(218954),c=n(561626);const a=n(82461);function d(e){const{size:t,scrollSize:n,clientSize:o,scrollProgress:d,onScrollProgressChange:u,horizontal:p,theme:h=a,onDragStart:f,onDragEnd:m,minBarSize:E=40}=e,g=(0,r.useRef)(null),v=(0,r.useRef)(null),[S,T]=(0,r.useState)(!1),y=(0,r.useRef)(0);(0,r.useEffect)((()=>{const e=(0,i.ensureNotNull)(g.current).ownerDocument;return S?(f&&f(),e&&(e.addEventListener("mousemove",w),e.addEventListener("mouseup",I))):m&&m(),()=>{e&&(e.removeEventListener("mousemove",w),e.removeEventListener("mouseup",I))}}),[S]);const D=t/n||0,_=o*D||0,C=Math.max(_,E),b=(t-C)/(t-_),N=function(e){if((0,c.isRtl)()&&p)return e-n+o;return e}((0,l.clamp)(d,0,n-t));return r.createElement("div",{ref:g,className:s()(h.wrap,p&&h["wrap--horizontal"]),style:{[p?"width":"height"]:t},onMouseDown:function(e){if(e.isDefaultPrevented())return;e.preventDefault();const r=(0,i.ensureNotNull)(v.current).getBoundingClientRect();y.current=(p?r.width:r.height)/2;const o=n-t;let s=x(e.nativeEvent,(0,i.ensureNotNull)(g.current))-y.current;s<0?(s=0,y.current=x(e.nativeEvent,(0,i.ensureNotNull)(g.current))):s>o*D*b&&(s=o*D*b,y.current=x(e.nativeEvent,(0,i.ensureNotNull)(g.current))-s);u(s/D/b),T(!0)}},r.createElement("div",{ref:v,className:s()(h.bar,p&&h["bar--horizontal"]),style:{[p?"minWidth":"minHeight"]:E,[p?"width":"height"]:C,transform:`translate${p?"X":"Y"}(${N*D*b||0}px)`},onMouseDown:function(e){e.preventDefault(),y.current=x(e.nativeEvent,(0,i.ensureNotNull)(v.current)),T(!0)}},r.createElement("div",{className:s()(h.barInner,p&&h["barInner--horizontal"])})));function w(e){const t=x(e,(0,i.ensureNotNull)(g.current))-y.current;u(t/D/b)}function I(e){T(!1)}function x(e,t){const n=t.getBoundingClientRect();return p?e.clientX-n.left:e.clientY-n.top}}var u=n(921258),p=n(574292);function h(e){const{reference:t,className:n,containerHeight:s=0,containerWidth:i=0,contentHeight:l=0,contentWidth:c=0,scrollPosTop:a=0,scrollPosLeft:h=0,onVerticalChange:f,onHorizontalChange:m,visible:E}=e,[g,v]=(0,u.useHover)(),[S,T]=(0,r.useState)(!1),y=s<l,D=i<c,_=y&&D?8:0;return r.createElement("div",{...v,ref:t,className:o(n,p.scrollWrap),style:{visibility:E||g||S?"visible":"hidden"}},y&&r.createElement(d,{size:s-_,scrollSize:l-_,clientSize:s-_,scrollProgress:a,onScrollProgressChange:function(e){f&&f(e)},onDragStart:C,onDragEnd:b}),D&&r.createElement(d,{size:i-_,scrollSize:c-_,clientSize:i-_,scrollProgress:h,onScrollProgressChange:function(e){m&&m(e)},onDragStart:C,onDragEnd:b,horizontal:!0}));function C(){T(!0)}function b(){T(!1)}}},535842:(e,t,n)=>{"use strict";n.d(t,{SizeContext:()=>r});const r=n(50959).createContext({size:0,
smallSizeTreeNodeAction:1})},849392:(e,t,n)=>{"use strict";n.d(t,{resetTree:()=>o,syncNodes:()=>s,setNodes:()=>i,selectPrevious:()=>l,selectNext:()=>c,multiSelectPrevious:()=>a,multiSelectNext:()=>d,processDropTarget:()=>u,dropSelection:()=>p,updateDropTarget:()=>h,hideDropTarget:()=>f,setSelectedIds:()=>m,moveNodes:()=>E,startMultiSelect:()=>g,stopMultiSelect:()=>v,setFocusedNode:()=>S,scrollToId:()=>T,setIsSelected:()=>y,setIsExpanded:()=>D,setDisabledNodes:()=>_,endDrag:()=>C});var r=n(471505);const o=()=>({type:r.RESET_TREE}),s=e=>({type:r.SYNC_NODES,nodes:e}),i=e=>({type:r.SET_NODES,nodes:e}),l=()=>({type:r.SELECT_PREVIOUS}),c=()=>({type:r.SELECT_NEXT}),a=()=>({type:r.MULTI_SELECT_PREVIOUS}),d=()=>({type:r.MULTI_SELECT_NEXT}),u=(e,t,n,o,s)=>({type:r.PROCESS_DROP_TARGET,dropTarget:e,dropType:t,isHoveredLeft:n,boundBox:o,isLastChild:s}),p=()=>({type:r.DROP_SELECTION}),h=(e,t,n)=>({type:r.UPDATE_DROP_TARGET,node:e,dropType:t,boundBox:n}),f=()=>({type:r.HIDE_DROP_TARGET}),m=e=>({type:r.SET_SELECTED_IDS,ids:e}),E=(e,t,n)=>({type:r.MOVE_NODES,ids:e,targetId:t,dropType:n}),g=()=>({type:r.START_MULTI_SELECT}),v=()=>({type:r.STOP_MULTI_SELECT}),S=e=>({type:r.SET_FOCUSED_NODE,nodeId:e}),T=e=>({type:r.SCROLL_TO_ID,nodeId:e}),y=(e,t,n=0)=>({type:r.SET_IS_SELECTED,nodeId:e,isSelected:t,mode:n}),D=(e,t)=>({type:r.SET_IS_EXPANDED,nodeId:e,isExpanded:t}),_=e=>({type:r.SET_DISABLED_NODES,ids:e}),C=()=>({type:r.END_DRAG})},471505:(e,t,n)=>{"use strict";n.d(t,{SET_NODES:()=>o,SYNC_NODES:()=>s,UPDATE_NODE:()=>i,UPDATE_NODES:()=>l,RESET_TREE:()=>c,SET_SELECTED_IDS:()=>a,DROP_SELECTION:()=>d,SELECT_PREVIOUS:()=>u,SELECT_NEXT:()=>p,MULTI_SELECT_PREVIOUS:()=>h,MULTI_SELECT_NEXT:()=>f,PROCESS_DROP_TARGET:()=>m,UPDATE_DROP_TARGET:()=>E,HIDE_DROP_TARGET:()=>g,START_MULTI_SELECT:()=>v,STOP_MULTI_SELECT:()=>S,SET_FOCUSED_NODE:()=>T,SCROLL_TO_ID:()=>y,SET_IS_SELECTED:()=>D,SET_IS_EXPANDED:()=>_,SET_DISABLED_NODES:()=>C,MOVE_NODES:()=>b,END_DRAG:()=>N});const r=(0,n(215078).createActionTypeFactory)("OBJECT_TREE"),o=r("SET_NODES"),s=r("SYNC_NODES"),i=r("UPDATE_NODE"),l=r("UPDATE_NODES"),c=r("RESET_TREE"),a=r("SET_SELECTED_IDS"),d=r("DROP_SELECTION"),u=r("SELECT_PREVIOUS"),p=r("SELECT_NEXT"),h=r("MULTI_SELECT_PREVIOUS"),f=r("MULTI_SELECT_NEXT"),m=r("PROCESS_DROP_TARGET"),E=r("UPDATE_DROP_TARGET"),g=r("HIDE_DROP_TARGET"),v=r("START_MULTI_SELECT"),S=r("STOP_MULTI_SELECT"),T=(r("REMOVE_NODE"),r("SET_FOCUSED_NODE")),y=r("SCROLL_TO_ID"),D=r("SET_IS_SELECTED"),_=r("SET_IS_EXPANDED"),C=r("SET_DISABLED_NODES"),b=r("MOVE_NODES"),N=(r("START_DRAG"),r("END_DRAG"))},129881:(e,t,n)=>{"use strict";n.d(t,{nodesSelector:()=>s,dropTargetSelector:()=>l,scrollToIdSelector:()=>a,nodeSelector:()=>u,isSelectedSelector:()=>p,isExpandedSelector:()=>h,isDisabledSelector:()=>f,nodeIdsSelector:()=>m,selectedIdsSelector:()=>E,lastFocusedNodeIdSelector:()=>g,isMultiSelectingSelector:()=>v,selectedNodesSelector:()=>S,orderedNodesSelector:()=>y,renderListSelector:()=>_,renderDragListSelector:()=>C});var r=n(377145),o=n(650151)
;const s=e=>e.nodes,i=e=>e.selection,l=e=>e.dropTarget,c=e=>e.expanded,a=e=>e.scrollToId,d=(e,t)=>t,u=(0,r.createSelector)([s,d],((e,t)=>e[t])),p=(0,r.createSelector)([i,d],((e,t)=>e.ids.includes(t))),h=(0,r.createSelector)([c,d],((e,t)=>e.includes(t))),f=(0,r.createSelector)([e=>e.disabled,i,d],((e,t,n)=>!t.ids.includes(n)&&e.includes(n))),m=(0,r.createSelector)(s,(e=>Object.keys(e))),E=(0,r.createSelector)(i,(({ids:e})=>e)),g=(0,r.createSelector)(i,(({lastFocusedNodeId:e})=>e)),v=(0,r.createSelector)(i,(({isMultiSelecting:e})=>e)),S=(0,r.createSelector)([s,E],((e,t)=>t.map((t=>e[t])))),T=(0,r.createSelector)(s,(e=>Object.values(e).filter((e=>0===e.level)))),y=(0,r.createSelector)([s,T],((e,t)=>t.reduce(((t,n)=>[...t,...D(e,(0,o.ensureDefined)(n))]),[])));function D(e,t){const n=[];for(const r of t.children)n.push(e[r]),n.push(...D(e,e[r]));return n}const _=(0,r.createSelector)([s,T,c],((e,t,n)=>{const r=new Set(n);return t.reduce(((t,n)=>[...t,...b(e,(0,o.ensureDefined)(n),r)]),[])})),C=(0,r.createSelector)([s,E,c],((e,t,n)=>{const r=new Set(n);return[{id:"drag-list",level:-1,children:t}].reduce(((t,n)=>[...t,...b(e,(0,o.ensureDefined)(n),r)]),[])}));function b(e,t,n){const r=[];for(const o of t.children){const t=e[o];void 0!==t&&(r.push(t),n.has(o)&&r.push(...b(e,t,n)))}return r}},451539:(e,t,n)=>{"use strict";n.d(t,{logger:()=>s,getInsertIndex:()=>i});var r=n(817808),o=n(650151);const s=(0,r.getLogger)("Platform.GUI.ObjectTree.CallApi"),i=(e,t,n)=>{switch(n){case"before":return e.indexOf((0,o.ensureDefined)(t));case"inside":return e.length;case"after":return e.indexOf((0,o.ensureDefined)(t))+1;default:return 0}}},317447:(e,t,n)=>{"use strict";n.d(t,{Tree:()=>Ie});var r=n(50959),o=n(254773),s=n(386942),i=n(10170),l=n(207809),c=n(23642),a=n(336349),d=n(471505),u=n(849392),p=n(129881);function*h(e){const{selectedIds:t,nodes:n}=yield(0,a.call)(e),r={};for(let e=0;e<n.length;++e){const t=n[e];r[t.id]=t}yield(0,a.put)((0,u.setNodes)(r)),yield(0,a.put)((0,u.setSelectedIds)(t));!(0,p.lastFocusedNodeIdSelector)(yield(0,a.select)())&&t.length>0&&(yield(0,a.put)((0,u.setFocusedNode)(t[0])),yield(0,a.put)((0,u.scrollToId)(t[0])))}var f=n(650151);function*m(e){for(;;){if((yield(0,a.take)([d.START_MULTI_SELECT,d.STOP_MULTI_SELECT])).type===d.START_MULTI_SELECT){const t=(0,p.nodeIdsSelector)(yield(0,a.select)()).filter((t=>!e(t)));yield(0,a.put)((0,u.setDisabledNodes)(t))}else yield(0,a.put)((0,u.setDisabledNodes)([]))}}function*E(){for(;;){const{type:e}=yield(0,a.take)([d.MULTI_SELECT_NEXT,d.MULTI_SELECT_PREVIOUS]),t=yield(0,a.select)(),n=(0,p.orderedNodesSelector)(t),r=n.length,o=(0,p.lastFocusedNodeIdSelector)(t),s=[...(0,p.selectedIdsSelector)(t)],i=1===s.length&&s[0]!==o,l=n.findIndex((e=>e.id===(i?s[0]:o)));if(e===d.MULTI_SELECT_PREVIOUS&&0===l||e===d.MULTI_SELECT_NEXT&&l===r-1)continue;const c=_(t,e===d.MULTI_SELECT_NEXT?"next":"previous",n,l),{id:h}=c;s.includes(h)&&o?(yield(0,a.put)((0,u.setIsSelected)(o,!1,1)),yield(0,a.put)((0,u.setFocusedNode)(h))):yield(0,a.put)((0,u.setIsSelected)(h,!0,1)),yield(0,a.put)((0,
u.scrollToId)(h))}}function*g(e,t){for(;;){const{type:n}=yield(0,a.take)([d.SELECT_NEXT,d.SELECT_PREVIOUS]),r=yield(0,a.select)(),o=(0,p.orderedNodesSelector)(r),s=(0,p.selectedNodesSelector)(r),i=(0,p.lastFocusedNodeIdSelector)(r);if(1===s.length&&s[0].id!==i&&!i){if(n===d.SELECT_NEXT){yield(0,a.put)((0,u.setFocusedNode)(s[0].id));continue}if(n===d.SELECT_PREVIOUS){const e=o.findIndex((e=>e.id===s[0].id)),t=_(r,"previous",o,e);yield(0,a.put)((0,u.setFocusedNode)(t.id));continue}}const l=o.findIndex((e=>e.id===i)),c=n===d.SELECT_NEXT?"next":"previous",h=_(r,c,o,l),{id:f}=h;e?e([f],c):yield(0,a.put)((0,u.setSelectedIds)([f])),t&&t(f),yield(0,a.put)((0,u.setFocusedNode)(f))}}function*v(e,t=(()=>!0)){for(;;){const{mode:n,nodeId:r,isSelected:o}=yield(0,a.take)(d.SET_IS_SELECTED);let s=[...(0,p.selectedIdsSelector)(yield(0,a.select)())];const i=(0,p.orderedNodesSelector)(yield(0,a.select)());if(1===n)o?s.push(r):s.splice(s.indexOf(r),1);else if(2===n&&s.length>0){const e=(0,p.lastFocusedNodeIdSelector)(yield(0,a.select)());let n=i.findIndex((t=>t.id===e));-1===n&&(n=i.reduce(((e,t,n)=>s.includes(t.id)?n:e),-1));const o=i.findIndex((e=>e.id===r));if(n!==o)for(let e=Math.min(n,o);e<=Math.max(n,o);e++){const n=i[e].id;!s.includes(n)&&t(n)&&s.push(n)}}else s=r?[r]:[];const l=new Set(s);s=i.reduce(((e,t)=>(l.has(t.id)&&e.push(t.id),e)),[]),e?e(s):yield(0,a.put)((0,u.setSelectedIds)(s)),yield(0,a.put)((0,u.setFocusedNode)(r))}}function*S(e=(()=>!0),t){const{dropTarget:n,dropType:r,isHoveredLeft:o,boundBox:s,isLastChild:i}=t,l=(0,p.dropTargetSelector)(yield(0,a.select)()),c=(0,p.nodeSelector)(yield(0,a.select)(),(0,f.ensureDefined)(n.parentId)),d=i&&"after"===r,h=(0,p.selectedNodesSelector)(yield(0,a.select)()),m=!d||!o&&e(h,n,r)?n:c,E=l.node&&l.node.id!==m.id||l.dropType!==r;h.map((e=>e.id)).includes(m.id)?yield(0,a.put)((0,u.hideDropTarget)()):E&&e(h,m,r)&&(yield(0,a.put)((0,u.updateDropTarget)(m,r,s)))}function*T(e){yield(0,a.throttle)(0,d.PROCESS_DROP_TARGET,S,e)}function*y(e){for(;;){yield(0,a.take)(d.DROP_SELECTION);const t=(0,p.selectedNodesSelector)(yield(0,a.select)()),{node:n,dropType:r}=(0,p.dropTargetSelector)(yield(0,a.select)());if(n&&r){const o=new CustomEvent("tree-node-drop",{detail:{nodes:t,target:n.id,type:r}});if(e&&e(o),!o.defaultPrevented){const e=(0,p.selectedIdsSelector)(yield(0,a.select)());yield(0,a.put)((0,u.moveNodes)(e,n.id,r))}}}}function*D(e){for(;;){yield(0,a.take)(d.MOVE_NODES);e((0,p.nodesSelector)(yield(0,a.select)()))}}function _(e,t,n,r){const o=n.length;let s;-1===r&&"previous"===t&&(r=o);let i=0;for(;!s||Math.abs(i)<o&&((l=s).level>1&&!(0,p.isExpandedSelector)(e,(0,f.ensureDefined)(l.parentId)));)i+="next"===t?1:-1,s=n[(r+i+o)%o];var l;return s}function*C(e={}){const{saga:t,onDrop:n,canMove:r,onMove:o,onSelect:s,onKeyboardSelect:i,initState:l,canBeAddedToSelection:c}=e,u=[(0,a.fork)(T,r),(0,a.fork)(y,n),(0,a.fork)(v,s,c),(0,a.fork)(g,s,i),(0,a.fork)(E)];for(t&&u.push((0,a.fork)(t)),o&&u.push((0,a.fork)(D,o)),c&&u.push((0,a.fork)(m,c));;){l&&(yield(0,a.call)(h,l));const e=yield(0,a.all)(u)
;yield(0,a.take)(d.RESET_TREE);for(const t of e)yield(0,a.cancel)(t)}}var b=n(691622),N=n(486028),w=n(451539);const I={ids:[],lastFocusedNodeId:void 0,isMultiSelecting:!1};const x={node:void 0,dropType:void 0,boundBox:void 0};const M=(0,b.combineReducers)({nodes:function(e={},t){switch(t.type){case d.SET_NODES:return t.nodes;case d.SYNC_NODES:{const{nodes:n}=t,r=n.map((e=>e.id)),o={...e};for(const t of Object.keys(e))if(!r.includes(t)){const{parentId:e}=o[t];e&&(o[e]={...o[e],children:o[e].children.filter((e=>e!==t))}),delete o[t]}for(const e of n){const t=e.id;if(o.hasOwnProperty(t)){!(0,N.deepEquals)(o[t].children,e.children)[0]&&(o[t]={...o[t],children:[...e.children]})}else{o[t]=e;const{parentId:n}=e;if(n&&!o[n].children.includes(t))throw new Error("Not implemented")}}return o}case d.UPDATE_NODE:{const{type:n,nodeId:r,...o}=t;return{...e,[r]:{...e[r],...o}}}case d.UPDATE_NODES:{const{nodes:n}=t,r={...e};return Object.keys(n).forEach((e=>{r[e]={...r[e],...n[e]}})),{...e,...r}}case d.MOVE_NODES:{const{ids:n,targetId:r,dropType:o}=t,s=(0,f.ensureDefined)(e[r].parentId),i=e[s],l={};for(const t of n){const n=e[t];if(n.parentId){const r=l[n.parentId]||e[n.parentId];l[n.parentId]={...r,children:r.children.filter((e=>e!==t))}}l[t]={...n,parentId:s,level:i.level+1}}const c=i.children.filter((e=>!n.includes(e)));return c.splice((0,w.getInsertIndex)(c,r,o),0,...n),l[s]={...e[s],children:c,isExpanded:!0},{...e,...l}}default:return e}},selection:function(e=I,t){switch(t.type){case d.SET_SELECTED_IDS:{const{ids:n}=t;return{...e,ids:n,lastFocusedNodeId:n.length>0?e.lastFocusedNodeId:void 0}}case d.START_MULTI_SELECT:return{...e,isMultiSelecting:!0};case d.STOP_MULTI_SELECT:return{...e,isMultiSelecting:!1};case d.SET_FOCUSED_NODE:return{...e,lastFocusedNodeId:t.nodeId};case d.SYNC_NODES:{const n=new Set(t.nodes.map((e=>e.id)));return e.lastFocusedNodeId&&!n.has(e.lastFocusedNodeId)&&delete e.lastFocusedNodeId,{...e,ids:e.ids.filter((e=>n.has(e)))}}default:return e}},dropTarget:function(e=x,t){switch(t.type){case d.UPDATE_DROP_TARGET:{const{node:n,dropType:r,boundBox:o}=t;return{...e,node:n,dropType:r,boundBox:o}}case d.HIDE_DROP_TARGET:case d.END_DRAG:case d.RESET_TREE:return{...x};default:return e}},expanded:function(e=[],t){if(t.type===d.SET_IS_EXPANDED){const{nodeId:n,isExpanded:r}=t;if(r)return[...e,n];const o=[...e];return o.splice(e.indexOf(n),1),o}return e},disabled:function(e=[],t){return t.type===d.SET_DISABLED_NODES?[...t.ids]:e},scrollToId:function(e=null,t){return t.type===d.SCROLL_TO_ID?null===t.nodeId?null:{id:t.nodeId}:e}});var O=n(497754),L=n.n(O),R=n(240933),P=n(220037),k=n(601227);var A=n(42357),B=n(298314),F=n(72571),z=n(180185),U=n(269842),W=n(921258),H=n(535842);const q={[z.Modifiers.Mod]:1,[z.Modifiers.Shift]:2};var G=n(569533),Y=n(603950);const V=()=>{};class j extends r.PureComponent{constructor(){super(...arguments),this._ref=null,this._handleRef=e=>{this._ref=e;const{connectDragSource:t,connectDropTarget:n,connectDragPreview:r}=this.props;(0,f.ensureDefined)(n)(this._ref),(0,
f.ensureDefined)(t)(this._ref),(0,f.ensureDefined)(r)((0,B.getEmptyImage)(),{captureDraggingState:!0})},this._handleTouchStart=e=>{const t=(e,t)=>{const n=function(e,t){try{const n=document.createEvent("TouchEvent");return n.initTouchEvent(e,!0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,t.touches,t.targetTouches,t.changedTouches),n}catch(e){return null}}(e,t);if(n)return n;const r=Array.from(t.changedTouches),o=Array.from(t.touches),s=Array.from(t.targetTouches);return new TouchEvent(e,{bubbles:!0,changedTouches:r,touches:o,targetTouches:s})},n=e.target;if(n instanceof Element){const e=e=>{const r=e;if(!n.isConnected){r.preventDefault();const e=t("touchmove",r);document.body.dispatchEvent(e)}},r=o=>{const s=o;if(!n.isConnected){s.preventDefault();const e=t("touchend",s);document.body.dispatchEvent(e)}n.removeEventListener("touchend",r),n.removeEventListener("touchmove",e)};n.addEventListener("touchend",r),n.addEventListener("touchmove",e)}}}componentDidMount(){var e;null===(e=this._ref)||void 0===e||e.addEventListener("touchstart",this._handleTouchStart)}componentWillUnmount(){var e;null===(e=this._ref)||void 0===e||e.removeEventListener("touchstart",this._handleTouchStart)}render(){return r.createElement(X,{...this.props,reference:this._handleRef})}getNode(){return(0,f.ensureNotNull)(this._ref)}}const X=e=>{const{id:t,isSelected:n,isOffset:o,isExpandable:s,setIsSelected:i,isDisabled:l,isExpanded:c,onClick:a,parentId:d,setIsExpanded:u,reference:p,isFirstListItem:h,isLastListItem:f,nodeRenderer:m,isChildOfSelected:E=!1}=e,{size:g,smallSizeTreeNodeAction:v}=(0,r.useContext)(H.SizeContext),S=(0,r.useRef)(null),T=(0,U.createSafeMulticastEventHandler)((e=>S.current=e),p);let[y,D]=(0,W.useHover)();return(k.CheckMobile.any()||k.CheckMobile.isIPad())&&(y=n,D={onMouseOut:V,onMouseOver:V}),r.createElement("div",{className:O(Y.wrap,n&&Y.selected,E&&Y.childOfSelected,l&&Y.disabled,s&&Y.expandable),onClick:1===g&&0===v?_:function(e){if(e.defaultPrevented)return;const r=q[(0,z.modifiersFromEvent)(e)]||0;!l&&i&&i(t,!n,r);a&&0===r&&a(e,t)},onContextMenu:_,ref:T,...D},s&&r.createElement(F.Icon,{icon:G,className:O(Y.expandHandle,c&&Y.expanded),onClick:function(e){e.preventDefault(),s&&u(t,!c)},onMouseDown:function(e){e.preventDefault()}}),m({id:t,isOffset:o,parentId:d,isDisabled:l,isSelected:n,isChildOfSelected:E,isHovered:y,isExpanded:c,isFirstListItem:h,isLastListItem:f}));function _(){l||n||!i||i(t,!0)}},K=r.createContext({});function $(e,t){const{id:n}=t,r=(0,p.nodeSelector)(e,n),o=(0,p.isSelectedSelector)(e,n);let s=!1,i=r.parentId;for(;i&&!s;)s=(0,p.isSelectedSelector)(e,i),i=(0,p.nodeSelector)(e,i).parentId;return{...r,isSelected:o,isChildOfSelected:s,isExpanded:r.children.length>0&&(0,p.isExpandedSelector)(e,n),isExpandable:r.children.length>0,isDisabled:(0,p.isDisabledSelector)(e,n)}}function Z(e){return(0,b.bindActionCreators)({setIsExpanded:u.setIsExpanded,processDropTarget:u.processDropTarget,dropSelection:u.dropSelection,selectNext:u.selectNext,selectPrevious:u.selectPrevious,
setIsSelected:u.setIsSelected,endDrag:u.endDrag},e)}const J=(0,s.connect)($,Z,null,{context:K})((function(e){const t=(0,r.useRef)(null),[,n,o]=(0,A.useDrag)({type:"node",item:t=>{const{id:n,isDisabled:r,isSelected:o}=e;return r||o||e.setIsSelected(n,!0),e},end:e=>{e.endDrag()}}),[,s]=(0,R.useDrop)({accept:"node",hover:(n,r)=>{const o=t.current;if(!o)return;const s=o.getNode(),i=s.getBoundingClientRect(),l=i.bottom-i.top,c=r.getClientOffset();if(c){const t=c.y-i.top;let n,r;if(n=0===e.children.length?t<l/2?"before":"after":t<l/3?"before":e.isExpanded||t>=l/3&&t<2*l/3?"inside":"after",void 0!==e.getContainerElement){const t=e.getContainerElement().getBoundingClientRect();r={top:i.top-t.top,left:i.left-t.left,bottom:i.top-t.top+i.height,right:i.left-t.left+i.width,height:i.height,width:i.width}}else r={top:s.offsetTop,left:s.offsetLeft,bottom:s.offsetTop+s.offsetHeight,right:s.offsetLeft+s.offsetWidth,height:s.offsetHeight,width:s.offsetWidth};e.processDropTarget(e,n,c.x-i.left<48,r,e.isLastChild)}}});return r.createElement(j,{...e,connectDragSource:n,connectDropTarget:s,connectDragPreview:o,ref:t})})),Q=(0,s.connect)($,Z,null,{context:K})(X);var ee=n(698043),te=n(85783),ne=n(8361);function re(e){const t=e(),n=(0,r.useRef)(t);n.current=t;const[o,s]=(0,r.useState)(n.current),i=(0,r.useRef)(null);return(0,r.useEffect)((()=>{null===i.current&&(i.current=requestAnimationFrame((()=>{i.current=null,s(n.current)})))})),(0,r.useEffect)((()=>()=>{i.current&&cancelAnimationFrame(i.current)}),[]),o}function oe(e){const{dropTargetOffset:t,mousePosition:n}=e;if(!t)return{display:"none"};const{x:r,y:o}=t,s=n&&t?n.y-t.y:0,i=`translate(${r+(n&&t?n.x-t.x:0)}px, ${o+s}px)`;return{transform:i,WebkitTransform:i}}const se={top:0,left:0,position:"fixed",pointerEvents:"none",zIndex:100,opacity:.5,width:300,backgroundColor:"red"};function ie(e){return{isDragging:e.isDragging()&&"node"===e.getItemType(),mousePosition:e.getClientOffset(),dropTargetOffset:e.getSourceClientOffset()}}const le=(0,s.connect)((function(e){return{items:(0,p.renderDragListSelector)(e)}}),null,null,{context:K})((function(e){const{items:t,isDragging:n,nodeRenderer:o,dragPreviewRenderer:s}=e;return re((function(){return n?r.createElement(ne.Portal,null,r.createElement("div",{style:{...se,...oe(e)}},t.map((e=>{if(s){const t=s;return r.createElement(t,{key:e.id,...e})}return r.createElement(Q,{id:e.id,key:e.id,nodeRenderer:o,isDragPreview:!0,isOffset:e.level>1})})))):null}))}));function ce(e){return r.createElement(le,{...e,...(0,te.useDragLayer)(ie)})}var ae=n(693838),de=n(73288),ue=n(139043);const pe=r.forwardRef(((e,t)=>{const n=(0,r.useRef)(null);return e.connectDropTarget(n),(0,r.useImperativeHandle)(t,(()=>({getNode:()=>(0,f.ensureNotNull)(n.current)})),[]),r.createElement("div",{ref:n,style:{height:"100%",width:"100%"}})}));function he(e){const t=(0,r.useRef)(null),[,n]=(0,R.useDrop)({accept:"node",hover:(n,r)=>{if(!t.current)return;const o=r.getClientOffset();if(null===o)return;const s=e.getOrderedNodes();if(0===s.length)return
;const i=t.current.getNode().getBoundingClientRect(),l=e.getContainerElement().getBoundingClientRect();if("first"===e.type){const t={top:i.top-l.top+i.height,left:i.left-l.left,bottom:i.top-l.top+i.height,right:i.left-l.left+i.width,height:0,width:i.width};e.processDropTarget(s[0],"before",!1,t,!1)}if("last"===e.type){const t=o.x-i.left<48,n=s[s.length-1],r=t&&2===n.level?(0,f.ensureDefined)(s.find((e=>e.id===n.parentId))):n,c={top:i.top-l.top,left:i.left-l.left,bottom:i.top-l.top,right:i.left-l.left+i.width,height:i.height,width:i.width};e.processDropTarget(r,"after",t,c,!1)}}});return r.createElement(pe,{...e,connectDropTarget:n,ref:t})}const fe=r.createContext({isOver:!1,transform:void 0});var me=n(820577);function Ee(e){const{dropType:t,boundBox:n}=e,{top:r,bottom:o,left:s}=(0,f.ensureDefined)(n);return[s,"before"===t||"inside"===t?r:o]}function ge(e){return{isDragging:e.isDragging()}}const ve=(0,s.connect)((function(e){const{boundBox:t,dropType:n,node:r}=(0,p.dropTargetSelector)(e);return{boundBox:t,dropType:n,level:r?r.level:void 0}}),null,null,{context:K})((function(e){const{dropType:t,boundBox:n,isDragging:o,level:s,transform:i=Ee}=e;return re((function(){if(!o||!t||!n)return null;const l={[me.dropTarget]:"inside"!==t,[me.dropTargetInside]:"inside"===t},{width:c,height:a}=n,[d,u]=i(e),p=`translate(${d}px, ${u}px)`;return r.createElement("div",{className:O(l),style:{position:"absolute",transform:p,WebkitTransform:p,top:0,left:2===s?"46px":0,width:2===s?c-46+"px":c,height:"inside"===t?a:"2px"}})}))}));function Se(e){const{isDragging:t}=(0,te.useDragLayer)(ge);return r.createElement(ve,{...e,isDragging:t})}const Te=r.forwardRef(((e,t)=>{const n=(0,r.useContext)(fe);return r.createElement("div",{...e,ref:t},e.children,n.isOver&&r.createElement(Se,{transform:n.transform}))}));var ye=n(561626),De=n(643380);const _e=38+z.Modifiers.Shift,Ce=40+z.Modifiers.Shift;const be=r.forwardRef((function(e,t){const{navigationKeys:n,renderList:o,stopMultiSelect:s,startMultiSelect:i,isMultiSelecting:l,nodeRenderer:c,dragPreviewRenderer:a,className:d,connectDropTarget:u,readOnly:p,onClick:h,dropLayerTransform:m,setFocusedNode:E,scrollToId:g,rowHeight:v,onMultiSelectPrevious:S,onMultiSelectNext:T,onMoveCursorToNext:y,onMoveCursorToPrevious:D,onKeyDown:_,outerRef:C,width:b,height:N,isOver:w,processDropTarget:I,autofocus:x}=e,M=(0,r.useContext)(ae.ObjectTreeContext),O=(0,r.useRef)(null);(0,r.useEffect)((()=>{var e;x&&(null===(e=O.current)||void 0===e||e.focus())}),[]),(0,r.useEffect)((()=>{const e=e=>{[z.Modifiers.Mod,z.Modifiers.Shift].includes((0,z.modifiersFromEvent)(e))&&i()},t=e=>{l&&![z.Modifiers.Mod,z.Modifiers.Shift].includes((0,z.modifiersFromEvent)(e))&&s()};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),document.addEventListener("mousemove",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t),document.removeEventListener("mousemove",t)}}),[l]),function(e){(0,r.useEffect)((()=>{if(k.isEdge){let t=null;const n=(0,f.ensureNotNull)(e.current),r=e=>{
if(e.target instanceof Element){const n=(0,f.ensureNotNull)(e.target.closest("[draggable]"));n instanceof HTMLElement&&(n.style.opacity="0",t=requestAnimationFrame((()=>n.style.opacity="1")))}};return n.addEventListener("dragstart",r),()=>{n.removeEventListener("dragstart",r),null!==t&&cancelAnimationFrame(t)}}return()=>{}}),[])}(O);const R=(0,r.useCallback)((()=>(0,f.ensureNotNull)(K.current)),[]),A=(0,r.useCallback)((()=>o),[o]),B=(0,r.useMemo)((()=>{const e=p?Q:J,t=[];let n;t.push({type:"padding",node:r.createElement(he,{type:"first",key:"padding-top",getContainerElement:R,getOrderedNodes:A,processDropTarget:I})});for(let s=0;s<o.length;s++){const i=o[s];1===i.level&&(void 0!==n&&n!==i.parentId&&t.push({type:"separator",node:r.createElement("div",{key:n+"_separator",className:De.separator})}),n=i.parentId),t.push({type:"node",node:r.createElement(e,{id:i.id,key:i.id,isFirstListItem:0===s,isLastListItem:s===o.length-1,isExpandable:i.children.length>0,nodeRenderer:c,readOnly:p,onClick:h,isOffset:i.level>1,getContainerElement:R})})}return t.push({type:"padding",node:r.createElement(he,{type:"last",key:"padding-bottom",getContainerElement:R,getOrderedNodes:A,processDropTarget:I})}),t}),[o]),F=(0,r.useRef)([]);F.current=B;const U=(0,r.useCallback)((e=>{let{style:t}=e;const{index:n}=e;return n===F.current.length-1&&(t={...t,bottom:0,minHeight:t.height},delete t.height),r.createElement("div",{style:t},F.current[n].node)}),[]),W=(0,r.useCallback)((e=>{const t=F.current[e];return"padding"===t.type?6:"function"==typeof v?v(e,t):v}),[v]),H=(0,r.useCallback)((e=>(0,f.ensure)(F.current[e].node.key)),[]),q=(0,r.useMemo)((()=>null===g?{index:-1}:{index:F.current.findIndex((e=>e.node.key===g.id))}),[g]);u(O);const[G,Y,V,j]=(0,ue.useOverlayScroll)(),X=(0,r.useRef)(null);(0,r.useEffect)((()=>(0,f.ensureNotNull)(X.current).resetAfterIndex(0,!0)),[B]),(0,r.useEffect)((()=>(0,f.ensureNotNull)(X.current).scrollToItem(q.index)),[q]);const K=(0,r.useRef)(null),$=(0,r.useMemo)((()=>({isOver:w,transform:m})),[w,m]),Z=(0,r.useRef)(null),te=(0,r.useRef)({startScroll(e){const t=()=>{null!==V.current&&(Z.current=requestAnimationFrame(t),V.current.scrollBy({top:e}))};this.stopScroll(),t()},stopScroll(){null!==Z.current&&(cancelAnimationFrame(Z.current),Z.current=null)},getListElement:()=>V.current});return(0,r.useImperativeHandle)(t,(()=>te.current),[]),(0,r.useEffect)((()=>()=>te.current.stopScroll()),[w]),r.createElement(fe.Provider,{value:$},r.createElement("div",{...Y,className:L()(De.tree,d),ref:O,tabIndex:-1,onKeyDown:function(e){const t=(0,z.hashFromEvent)(e);if(e.defaultPrevented||(0,ee.isNativeUIInteraction)(t,e.target))return;M||t!==_e||(e.preventDefault(),S());M||t!==Ce||(e.preventDefault(),T());(38===t||void 0!==n&&"previous"===n[t])&&(e.preventDefault(),D());(40===t||void 0!==n&&"next"===n[t])&&(e.preventDefault(),y());if((8===t||46===t)&&M){const{viewModel:e}=M,t=e.selection(),n=t.selected();if(1!==n.length)return;const r=e.getNextNodeIdAfterRemove(n[0]);if(null===r)return;e.onChange().subscribe(null,(()=>{
if(t.selected().length)return;const n=e.entity(r);n&&(t.set([n]),E(r))}),!0)}null==_||_(e)}},r.createElement(de.OverlayScrollContainer,{...G,className:De.overlayScrollWrap}),r.createElement(P.VariableSizeList,{ref:function(e){X.current=e},className:De.listContainer,width:b,height:N,itemCount:B.length,itemSize:W,children:U,itemKey:H,outerRef:function(e){V.current=e,C&&C(e)},innerRef:function(e){K.current=e},innerElementType:Te,onItemsRendered:function(){j()},overscanCount:20,direction:(0,ye.isRtl)()?"rtl":"ltr"}),r.createElement(ce,{dragPreviewRenderer:a,nodeRenderer:c})))}));const Ne=(0,s.connect)((function(e){return{renderList:(0,p.renderListSelector)(e),orderedNodes:(0,p.orderedNodesSelector)(e),isMultiSelecting:(0,p.isMultiSelectingSelector)(e),selectedIds:(0,p.selectedIdsSelector)(e),scrollToId:(0,p.scrollToIdSelector)(e)}}),(function(e){return(0,b.bindActionCreators)({startMultiSelect:u.startMultiSelect,stopMultiSelect:u.stopMultiSelect,setFocusedNode:u.setFocusedNode,processDropTarget:u.processDropTarget,onMoveCursorToNext:u.selectNext,onMoveCursorToPrevious:u.selectPrevious,onMultiSelectPrevious:u.multiSelectPrevious,onMultiSelectNext:u.multiSelectNext},e)}),null,{context:K})((function(e){const t=(0,r.useRef)(null),[{isOver:n},o]=(0,R.useDrop)({accept:"node",drop:(n,r)=>{var o;("touch"===e.drag||k.isFF)&&(null===(o=t.current)||void 0===o||o.stopScroll()),r.getItem().dropSelection()},hover:(n,r)=>{var o,s;if("touch"!==e.drag&&!k.isFF)return;const i=r.getClientOffset();if(null===i)return;const l=null!==(s=null===(o=t.current)||void 0===o?void 0:o.getListElement())&&void 0!==s?s:null;if(null===l)return;const c=l.getBoundingClientRect();((n,r,o)=>{var s;const i=Math.abs(n-o),l=Math.abs(n-r);if(l>40&&i>40||i<=40&&l<=40)return void(null===(s=t.current)||void 0===s||s.stopScroll());((n,r,o,s)=>{var i,l,c,a;r||n?"touch"===e.drag?null===(i=t.current)||void 0===i||i.startScroll(r?-5:5):null===(l=t.current)||void 0===l||l.startScroll(r?-2:2):(o||s)&&("touch"===e.drag?null===(c=t.current)||void 0===c||c.startScroll(o?-10:10):null===(a=t.current)||void 0===a||a.startScroll(o?-5:5))})(l>20&&l<=40,i>20&&i<=40,i<=20,l<=20)})(i.y,c.bottom,c.top)},collect:e=>({isOver:e.isOver()})});return r.createElement(be,{...e,isOver:n,connectDropTarget:o,ref:t})})),we={delayTouchStart:100};function Ie(e){const{canBeAddedToSelection:t,initState:n,onSelect:s,canMove:i,onDrop:l,onMove:c,nodes:a,selectedIds:d,onKeyboardSelect:p,saga:h,lastFocusedNodeObject:f,lastSyncTimestampRef:m,scrollToId:E,...g}=e,[v,S]=(0,r.useState)(null);return(0,r.useEffect)((()=>{const e=(0,o.default)();S(function(e){const t=(0,b.applyMiddleware)(e);return(0,b.createStore)(M,t)}(e));const r=e.run(C,{initState:n,onKeyboardSelect:p,saga:h,canMove:i,onMove:c,onDrop:l,onSelect:s,canBeAddedToSelection:t});return()=>r.cancel()}),[]),(0,r.useEffect)((()=>(null!==v&&a&&(m&&(m.current=performance.now()),v.dispatch((0,u.syncNodes)(a))),()=>{})),[v,a]),(0,r.useEffect)((()=>{null!==v&&d&&v.dispatch((0,u.setSelectedIds)(d))}),[v,d]),(0,r.useEffect)((()=>{
null!==v&&(null==f?void 0:f.id)&&v.dispatch((0,u.setFocusedNode)(f.id))}),[v,f]),null===v?null:r.createElement(xe,{store:v,scrollToId:E,...g})}const xe=r.memo((function(e){const{store:t,scrollToId:n,...o}=e,a="touch"===e.drag?l.TouchBackend:i.HTML5Backend;return(0,r.useEffect)((()=>{var e;t.dispatch((0,u.scrollToId)(null!==(e=null==n?void 0:n.id)&&void 0!==e?e:null))}),[n]),r.createElement(c.DndProvider,{backend:a,options:we},r.createElement(s.Provider,{store:t,context:K},r.createElement(Ne,{...o})))}))},693838:(e,t,n)=>{"use strict";n.d(t,{ObjectTreeContext:()=>r});const r=n(50959).createContext(null)},215078:(e,t,n)=>{"use strict";function r(e){return t=>e+"__"+t}n.d(t,{createActionTypeFactory:()=>r})},163694:(e,t,n)=>{"use strict";n.d(t,{DrawerManager:()=>s,DrawerContext:()=>i});var r=n(50959),o=n(285089);class s extends r.PureComponent{constructor(e){super(e),this._isBodyFixed=!1,this._addDrawer=e=>{this.setState((t=>({stack:[...t.stack,e]})))},this._removeDrawer=e=>{this.setState((t=>({stack:t.stack.filter((t=>t!==e))})))},this.state={stack:[]}}componentDidUpdate(e,t){!t.stack.length&&this.state.stack.length&&((0,o.setFixedBodyState)(!0),this._isBodyFixed=!0),t.stack.length&&!this.state.stack.length&&this._isBodyFixed&&((0,o.setFixedBodyState)(!1),this._isBodyFixed=!1)}componentWillUnmount(){this.state.stack.length&&this._isBodyFixed&&(0,o.setFixedBodyState)(!1)}render(){return r.createElement(i.Provider,{value:{addDrawer:this._addDrawer,removeDrawer:this._removeDrawer,currentDrawer:this.state.stack.length?this.state.stack[this.state.stack.length-1]:null}},this.props.children)}}const i=r.createContext(null)},759339:(e,t,n)=>{"use strict";n.d(t,{Drawer:()=>p});var r=n(50959),o=n(650151),s=n(497754),i=n(220863),l=n(8361),c=n(163694),a=n(28466),d=n(742554),u=n(945966);function p(e){const{position:t="Bottom",onClose:n,children:p,className:h,theme:f=u}=e,m=(0,o.ensureNotNull)((0,r.useContext)(c.DrawerContext)),[E]=(0,r.useState)((()=>(0,i.randomHash)())),g=(0,r.useRef)(null),v=(0,r.useContext)(a.CloseDelegateContext);return(0,r.useLayoutEffect)((()=>((0,o.ensureNotNull)(g.current).focus({preventScroll:!0}),v.subscribe(m,n),m.addDrawer(E),()=>{m.removeDrawer(E),v.unsubscribe(m,n)})),[]),r.createElement(l.Portal,null,r.createElement("div",{className:s(u.wrap,u[`position${t}`])},E===m.currentDrawer&&r.createElement("div",{className:u.backdrop,onClick:n}),r.createElement(d.TouchScrollContainer,{className:s(u.drawer,f.drawer,u[`position${t}`],h),tabIndex:-1,ref:g,"data-name":e["data-name"]},p)))}},961174:(e,t,n)=>{"use strict";n.d(t,{useOutsideEvent:()=>s});var r=n(50959),o=n(621709);function s(e){const{click:t,mouseDown:n,touchEnd:s,touchStart:i,handler:l,reference:c,ownerDocument:a=document}=e,d=(0,r.useRef)(null),u=(0,r.useRef)(new CustomEvent("timestamp").timeStamp);return(0,r.useLayoutEffect)((()=>{const e={click:t,mouseDown:n,touchEnd:s,touchStart:i},r=c?c.current:d.current;return(0,o.addOutsideEventListener)(u.current,r,l,a,e)}),[t,n,s,i,l]),c||d}},139043:(e,t,n)=>{"use strict";n.d(t,{useOverlayScroll:()=>c})
;var r=n(50959),o=n(650151),s=n(921258),i=n(601227);const l={onMouseOver:()=>{},onMouseOut:()=>{}};function c(e,t=i.CheckMobile.any()){const n=(0,r.useRef)(null),c=e||(0,r.useRef)(null),[a,d]=(0,s.useHover)(),[u,p]=(0,r.useState)({reference:n,containerHeight:0,containerWidth:0,contentHeight:0,contentWidth:0,scrollPosTop:0,scrollPosLeft:0,onVerticalChange:function(e){p((t=>({...t,scrollPosTop:e}))),(0,o.ensureNotNull)(c.current).scrollTop=e},onHorizontalChange:function(e){p((t=>({...t,scrollPosLeft:e}))),(0,o.ensureNotNull)(c.current).scrollLeft=e},visible:a}),h=(0,r.useCallback)((()=>{if(!c.current)return;const{clientHeight:e,scrollHeight:t,scrollTop:r,clientWidth:o,scrollWidth:s,scrollLeft:i}=c.current,l=n.current?n.current.offsetTop:0;p((n=>({...n,containerHeight:e-l,contentHeight:t-l,scrollPosTop:r,containerWidth:o,contentWidth:s,scrollPosLeft:i})))}),[]);function f(){p((e=>({...e,scrollPosTop:(0,o.ensureNotNull)(c.current).scrollTop,scrollPosLeft:(0,o.ensureNotNull)(c.current).scrollLeft})))}return(0,r.useEffect)((()=>{a&&h(),p((e=>({...e,visible:a})))}),[a]),(0,r.useEffect)((()=>{const e=c.current;return e&&e.addEventListener("scroll",f),()=>{e&&e.removeEventListener("scroll",f)}}),[c]),[u,t?l:d,c,h]}},297265:(e,t,n)=>{"use strict";n.d(t,{useWatchedValueReadonly:()=>o});var r=n(50959);const o=(e,t=!1)=>{const n="watchedValue"in e?e.watchedValue:void 0,o="defaultValue"in e?e.defaultValue:e.watchedValue.value(),[s,i]=(0,r.useState)(n?n.value():o);return(t?r.useLayoutEffect:r.useEffect)((()=>{if(n){i(n.value());const e=e=>i(e);return n.subscribe(e),()=>n.unsubscribe(e)}return()=>{}}),[n]),s}},800296:(e,t,n)=>{"use strict";n.d(t,{ListItemButton:()=>c});var r=n(50959),o=n(497754),s=n.n(o),i=n(72571),l=n(734393);function c(e){const{className:t,disabled:n,...o}=e;return r.createElement(i.Icon,{className:s()(l.button,n&&l.disabled,t),...o})}},930052:(e,t,n)=>{"use strict";n.d(t,{MatchMedia:()=>o});var r=n(50959);class o extends r.PureComponent{constructor(e){super(e),this._handleChange=()=>{this.forceUpdate()},this.state={query:window.matchMedia(this.props.rule)}}componentDidMount(){this._subscribe(this.state.query)}componentDidUpdate(e,t){this.state.query!==t.query&&(this._unsubscribe(t.query),this._subscribe(this.state.query))}componentWillUnmount(){this._unsubscribe(this.state.query)}render(){return this.props.children(this.state.query.matches)}static getDerivedStateFromProps(e,t){return e.rule!==t.query.media?{query:window.matchMedia(e.rule)}:null}_subscribe(e){e.addListener(this._handleChange)}_unsubscribe(e){e.removeListener(this._handleChange)}}},763212:(e,t,n)=>{"use strict";n.d(t,{OverlapManager:()=>s,getRootOverlapManager:()=>l});var r=n(650151);class o{constructor(){this._storage=[]}add(e){this._storage.push(e)}remove(e){this._storage=this._storage.filter((t=>e!==t))}has(e){return this._storage.includes(e)}getItems(){return this._storage}}class s{constructor(e=document){this._storage=new o,this._windows=new Map,this._index=0,this._document=e,this._container=e.createDocumentFragment()}setContainer(e){
const t=this._container,n=null===e?this._document.createDocumentFragment():e;!function(e,t){Array.from(e.childNodes).forEach((e=>{e.nodeType===Node.ELEMENT_NODE&&t.appendChild(e)}))}(t,n),this._container=n}registerWindow(e){this._storage.has(e)||this._storage.add(e)}ensureWindow(e,t={position:"fixed",direction:"normal"}){const n=this._windows.get(e);if(void 0!==n)return n;this.registerWindow(e);const r=this._document.createElement("div");if(r.style.position=t.position,r.style.zIndex=this._index.toString(),r.dataset.id=e,void 0!==t.index){const e=this._container.childNodes.length;if(t.index>=e)this._container.appendChild(r);else if(t.index<=0)this._container.insertBefore(r,this._container.firstChild);else{const e=this._container.childNodes[t.index];this._container.insertBefore(r,e)}}else"reverse"===t.direction?this._container.insertBefore(r,this._container.firstChild):this._container.appendChild(r);return this._windows.set(e,r),++this._index,r}unregisterWindow(e){this._storage.remove(e);const t=this._windows.get(e);void 0!==t&&(null!==t.parentElement&&t.parentElement.removeChild(t),this._windows.delete(e))}getZindex(e){const t=this.ensureWindow(e);return parseInt(t.style.zIndex||"0")}moveToTop(e){if(this.getZindex(e)!==this._index){this.ensureWindow(e).style.zIndex=(++this._index).toString()}}removeWindow(e){this.unregisterWindow(e)}}const i=new WeakMap;function l(e=document){const t=e.getElementById("overlap-manager-root");if(null!==t)return(0,r.ensureDefined)(i.get(t));{const t=new s(e),n=function(e){const t=e.createElement("div");return t.style.position="absolute",t.style.zIndex=150..toString(),t.style.top="0px",t.style.left="0px",t.id="overlap-manager-root",t}(e);return i.set(n,t),t.setContainer(n),e.body.appendChild(n),t}}},192063:(e,t,n)=>{"use strict";n.d(t,{DEFAULT_POPUP_MENU_ITEM_THEME:()=>a,PopupMenuItem:()=>u});var r=n(50959),o=n(497754),s=n(370981),i=n(32133),l=n(800417),c=n(655498);const a=c;function d(e){e.stopPropagation()}function u(e){const{id:t,role:n,"aria-label":a,"aria-selected":u,"aria-checked":p,className:h,title:f,labelRowClassName:m,labelClassName:E,shortcut:g,forceShowShortcuts:v,icon:S,isActive:T,isDisabled:y,isHovered:D,appearAsDisabled:_,label:C,link:b,showToolboxOnHover:N,target:w,rel:I,toolbox:x,reference:M,onMouseOut:O,onMouseOver:L,onKeyDown:R,suppressToolboxClick:P=!0,theme:k=c,tabIndex:A,tagName:B,renderComponent:F}=e,z=(0,l.filterDataProps)(e),U=(0,r.useRef)(null),W=(0,r.useMemo)((()=>function(e){function t(t){const{reference:n,...o}=t,s=null!=e?e:o.href?"a":"div",i="a"===s?o:function(e){const{download:t,href:n,hrefLang:r,media:o,ping:s,rel:i,target:l,type:c,referrerPolicy:a,...d}=e;return d}(o);return r.createElement(s,{...i,ref:n})}return t.displayName=`DefaultComponent(${e})`,t}(B)),[B]),H=null!=F?F:W;return r.createElement(H,{...z,id:t,role:n,"aria-label":a,"aria-selected":u,"aria-checked":p,className:o(h,k.item,S&&k.withIcon,{[k.isActive]:T,[k.isDisabled]:y||_,[k.hovered]:D}),title:f,href:b,target:w,rel:I,reference:function(e){U.current=e,"function"==typeof M&&M(e)
;"object"==typeof M&&(M.current=e)},onClick:function(t){const{dontClosePopup:n,onClick:r,onClickArg:o,trackEventObject:l}=e;if(y)return;l&&(0,i.trackEvent)(l.category,l.event,l.label);r&&r(o,t);n||(0,s.globalCloseMenu)()},onContextMenu:function(t){const{trackEventObject:n,trackRightClick:r}=e;n&&r&&(0,i.trackEvent)(n.category,n.event,`${n.label}_rightClick`)},onMouseUp:function(t){const{trackEventObject:n,trackMouseWheelClick:r}=e;if(1===t.button&&b&&n){let e=n.label;r&&(e+="_mouseWheelClick"),(0,i.trackEvent)(n.category,n.event,e)}},onMouseOver:L,onMouseOut:O,onKeyDown:R,tabIndex:A},void 0!==S&&r.createElement("span",{className:k.icon,dangerouslySetInnerHTML:{__html:S}}),r.createElement("span",{className:o(k.labelRow,m)},r.createElement("span",{className:o(k.label,E)},C)),(void 0!==g||v)&&r.createElement("span",{className:k.shortcut},(q=g)&&q.split("+").join(" + ")),void 0!==x&&r.createElement("span",{onClick:P?d:void 0,className:o(k.toolbox,{[k.showOnHover]:N})},x));var q}},8361:(e,t,n)=>{"use strict";n.d(t,{Portal:()=>c,PortalContext:()=>a});var r=n(50959),o=n(500962),s=n(220863),i=n(763212),l=n(753327);class c extends r.PureComponent{constructor(){super(...arguments),this._uuid=(0,s.guid)()}componentWillUnmount(){this._manager().removeWindow(this._uuid)}render(){const e=this._manager().ensureWindow(this._uuid,this.props.layerOptions);return e.style.top=this.props.top||"",e.style.bottom=this.props.bottom||"",e.style.left=this.props.left||"",e.style.right=this.props.right||"",e.style.pointerEvents=this.props.pointerEvents||"",o.createPortal(r.createElement(a.Provider,{value:this},this.props.children),e)}moveToTop(){this._manager().moveToTop(this._uuid)}_manager(){return null===this.context?(0,i.getRootOverlapManager)():this.context}}c.contextType=l.SlotContext;const a=r.createContext(null)},753327:(e,t,n)=>{"use strict";n.d(t,{Slot:()=>o,SlotContext:()=>s});var r=n(50959);class o extends r.Component{shouldComponentUpdate(){return!1}render(){return r.createElement("div",{style:{position:"fixed",zIndex:150,left:0,top:0},ref:this.props.reference})}}const s=r.createContext(null)},515783:(e,t,n)=>{"use strict";n.d(t,{ToolWidgetCaret:()=>c});var r=n(50959),o=n(497754),s=n(72571),i=n(190948),l=n(100578);function c(e){const{dropped:t,className:n}=e;return r.createElement(s.Icon,{className:o(n,i.icon,{[i.dropped]:t}),icon:l})}},742554:(e,t,n)=>{"use strict";n.d(t,{TouchScrollContainer:()=>l});var r=n(50959),o=n(259142),s=n(650151),i=n(601227);const l=(0,r.forwardRef)(((e,t)=>{const{children:n,...s}=e,l=(0,r.useRef)(null);return(0,r.useImperativeHandle)(t,(()=>l.current)),(0,r.useLayoutEffect)((()=>{if(i.CheckMobile.iOS())return null!==l.current&&(0,o.disableBodyScroll)(l.current,{allowTouchMove:c(l)}),()=>{null!==l.current&&(0,o.enableBodyScroll)(l.current)}}),[]),r.createElement("div",{ref:l,...s},n)}));function c(e){return t=>{const n=(0,s.ensureNotNull)(e.current),r=document.activeElement;return!n.contains(t)||null!==r&&n.contains(r)&&r.contains(t)}}},635194:e=>{e.exports={button:"button-uO7HM85b",hover:"hover-uO7HM85b",
isInteractive:"isInteractive-uO7HM85b",isGrouped:"isGrouped-uO7HM85b",isActive:"isActive-uO7HM85b",isOpened:"isOpened-uO7HM85b",isDisabled:"isDisabled-uO7HM85b",text:"text-uO7HM85b",icon:"icon-uO7HM85b"}},574749:e=>{e.exports={button:"button-rqVQ8gUB"}},17049:e=>{e.exports={button:"button-reABrhVR",hover:"hover-reABrhVR",arrow:"arrow-reABrhVR",arrowWrap:"arrowWrap-reABrhVR",isOpened:"isOpened-reABrhVR"}},152867:(e,t,n)=>{"use strict";n.d(t,{DEFAULT_TOOL_WIDGET_BUTTON_THEME:()=>l,ToolWidgetButton:()=>c});var r=n(50959),o=n(497754),s=n(72571),i=n(635194);const l=i,c=r.forwardRef(((e,t)=>{const{icon:n,isActive:l,isOpened:c,isDisabled:a,isGrouped:d,isHovered:u,onClick:p,text:h,textBeforeIcon:f,title:m,theme:E=i,className:g,forceInteractive:v,"data-name":S,...T}=e,y=o(g,E.button,m&&"apply-common-tooltip",{[E.isActive]:l,[E.isOpened]:c,[E.isInteractive]:(v||Boolean(p))&&!a,[E.isDisabled]:a,[E.isGrouped]:d,[E.hover]:u}),D=n&&("string"==typeof n?r.createElement(s.Icon,{className:E.icon,icon:n}):r.cloneElement(n,{className:o(E.icon,n.props.className)}));return r.createElement("div",{...T,ref:t,"data-role":"button",className:y,onClick:a?void 0:p,title:m,"data-name":S},f&&h&&r.createElement("div",{className:o("js-button-text",E.text)},h),D,!f&&h&&r.createElement("div",{className:o("js-button-text",E.text)},h))}))},392745:(e,t,n)=>{"use strict";n.d(t,{ToolWidgetIconButton:()=>l});var r=n(50959),o=n(497754),s=n(152867),i=n(574749);const l=r.forwardRef(((e,t)=>{const{className:n,id:l,...c}=e;return r.createElement(s.ToolWidgetButton,{"data-name":l,...c,ref:t,className:o(n,i.button)})}))},155185:(e,t,n)=>{"use strict";n.d(t,{DEFAULT_TOOL_WIDGET_MENU_THEME:()=>h,ToolWidgetMenu:()=>f});var r=n(50959),o=n(497754),s=n(544377),i=n(515783),l=n(800417),c=n(163694),a=n(759339),d=n(838683),u=n(930052),p=n(17049);const h=p;class f extends r.PureComponent{constructor(e){super(e),this._wrapperRef=null,this._controller=r.createRef(),this._handleWrapperRef=e=>{this._wrapperRef=e,this.props.reference&&this.props.reference(e)},this._handleClick=e=>{e.target instanceof Node&&e.currentTarget.contains(e.target)&&(this._handleToggleDropdown(),this.props.onClick&&this.props.onClick(e,!this.state.isOpened))},this._handleToggleDropdown=e=>{const{onClose:t,onOpen:n}=this.props,{isOpened:r}=this.state,o="boolean"==typeof e?e:!r;this.setState({isOpened:o}),o&&n&&n(),!o&&t&&t()},this._handleClose=()=>{this.close()},this.state={isOpened:!1}}render(){const{id:e,arrow:t,content:n,isDisabled:s,isDrawer:c,isShowTooltip:a,title:d,className:p,hotKey:h,theme:f,drawerBreakpoint:m}=this.props,{isOpened:E}=this.state,g=o(p,f.button,{"apply-common-tooltip":a||!s,[f.isDisabled]:s,[f.isOpened]:E});return r.createElement("div",{id:e,className:g,onClick:s?void 0:this._handleClick,title:d,"data-tooltip-hotkey":h,ref:this._handleWrapperRef,"data-role":"button",...(0,l.filterDataProps)(this.props)},n,t&&r.createElement("div",{className:f.arrow},r.createElement("div",{className:f.arrowWrap},r.createElement(i.ToolWidgetCaret,{dropped:E
}))),this.state.isOpened&&(m?r.createElement(u.MatchMedia,{rule:m},(e=>this._renderContent(e))):this._renderContent(c)))}close(){this._handleToggleDropdown(!1)}update(){null!==this._controller.current&&this._controller.current.update()}_renderContent(e){const{menuDataName:t,minWidth:n,menuClassName:o,maxHeight:i,drawerPosition:l="Bottom",children:u}=this.props,{isOpened:p}=this.state,h={horizontalMargin:this.props.horizontalMargin||0,verticalMargin:this.props.verticalMargin||2,verticalAttachEdge:this.props.verticalAttachEdge,horizontalAttachEdge:this.props.horizontalAttachEdge,verticalDropDirection:this.props.verticalDropDirection,horizontalDropDirection:this.props.horizontalDropDirection,matchButtonAndListboxWidths:this.props.matchButtonAndListboxWidths},f=Boolean(p&&e&&l),m=function(e){return"function"==typeof e}(u)?u({isDrawer:f}):u;return f?r.createElement(c.DrawerManager,null,r.createElement(a.Drawer,{onClose:this._handleClose,position:l,"data-name":t},m)):r.createElement(s.PopupMenu,{controller:this._controller,closeOnClickOutside:this.props.closeOnClickOutside,doNotCloseOn:this,isOpened:p,minWidth:n,onClose:this._handleClose,position:(0,d.getPopupPositioner)(this._wrapperRef,h),className:o,maxHeight:i,"data-name":t},m)}}f.defaultProps={arrow:!0,closeOnClickOutside:!0,theme:p}},100578:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 8" width="16" height="8"><path fill="currentColor" d="M0 1.475l7.396 6.04.596.485.593-.49L16 1.39 14.807 0 7.393 6.122 8.58 6.12 1.186.08z"/></svg>'},333765:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"><path fill="currentColor" d="M9.707 9l4.647-4.646-.707-.708L9 8.293 4.354 3.646l-.708.708L8.293 9l-4.647 4.646.708.708L9 9.707l4.646 4.647.708-.707L9.707 9z"/></svg>'},636296:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M8 9.5H6.5a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h11a1 1 0 0 0 1-1V20m-8-1.5h11a1 1 0 0 0 1-1v-11a1 1 0 0 0-1-1h-11a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1z"/></svg>'},133055:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M17.086 6.207a2 2 0 0 1 2.828 0l1.879 1.879a2 2 0 0 1 0 2.828l-.94.94-9 9-1 1-.146.146H6v-4.707l.146-.146 1-1 9-9 .94-.94zm2.121.707a1 1 0 0 0-1.414 0l-.586.586 1.647 1.646 1.646 1.647.586-.586a1 1 0 0 0 0-1.414l-1.879-1.879zm.586 4.586L18.5 10.207 10.207 18.5l1.293 1.293 8.293-8.293zm-9 9l-1.647-1.646L7.5 17.207l-.5.5V21h3.293l.5-.5zm-2.586-4L9.5 17.793 17.793 9.5 16.5 8.207 8.207 16.5z"/></svg>'},569533:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none"><path stroke="currentColor" d="M8 5l3.5 3.5L8 12"/></svg>'}}]);