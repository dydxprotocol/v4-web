(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[6456],{428146:e=>{e.exports={button:"button-OvB35Th_",content:"content-OvB35Th_","icon-only":"icon-only-OvB35Th_",link:"link-OvB35Th_","color-brand":"color-brand-OvB35Th_","variant-primary":"variant-primary-OvB35Th_","variant-secondary":"variant-secondary-OvB35Th_","color-gray":"color-gray-OvB35Th_","color-green":"color-green-OvB35Th_","color-red":"color-red-OvB35Th_","size-xsmall":"size-xsmall-OvB35Th_","with-start-icon":"with-start-icon-OvB35Th_","with-end-icon":"with-end-icon-OvB35Th_","start-icon-wrap":"start-icon-wrap-OvB35Th_","end-icon-wrap":"end-icon-wrap-OvB35Th_","size-small":"size-small-OvB35Th_","size-medium":"size-medium-OvB35Th_","size-large":"size-large-OvB35Th_","size-xlarge":"size-xlarge-OvB35Th_",animated:"animated-OvB35Th_",stretch:"stretch-OvB35Th_",grouped:"grouped-OvB35Th_","adjust-position":"adjust-position-OvB35Th_","first-row":"first-row-OvB35Th_","first-col":"first-col-OvB35Th_","no-corner-top-left":"no-corner-top-left-OvB35Th_","no-corner-top-right":"no-corner-top-right-OvB35Th_","no-corner-bottom-right":"no-corner-bottom-right-OvB35Th_","no-corner-bottom-left":"no-corner-bottom-left-OvB35Th_"}},645469:e=>{e.exports={"tablet-normal-breakpoint":"screen and (max-width: 768px)","small-height-breakpoint":"screen and (max-height: 360px)","tablet-small-breakpoint":"screen and (max-width: 430px)"}},849361:e=>{e.exports={dialog:"dialog-o2xKpnz8",wrapper:"wrapper-o2xKpnz8",separator:"separator-o2xKpnz8"}},424810:e=>{e.exports={"small-height-breakpoint":"screen and (max-height: 360px)",container:"container-HS2PTQRJ",unsetAlign:"unsetAlign-HS2PTQRJ",title:"title-HS2PTQRJ",subtitle:"subtitle-HS2PTQRJ",textWrap:"textWrap-HS2PTQRJ",ellipsis:"ellipsis-HS2PTQRJ",close:"close-HS2PTQRJ",icon:"icon-HS2PTQRJ"}},490585:e=>{e.exports={container:"container-nVh4c_cg",inputContainer:"inputContainer-nVh4c_cg",withCancel:"withCancel-nVh4c_cg",input:"input-nVh4c_cg",icon:"icon-nVh4c_cg",cancel:"cancel-nVh4c_cg"}},221703:e=>{e.exports={wrapper:"wrapper-a7Y2yl3G",container:"container-a7Y2yl3G",tab:"tab-a7Y2yl3G",active:"active-a7Y2yl3G",title:"title-a7Y2yl3G",icon:"icon-a7Y2yl3G",titleText:"titleText-a7Y2yl3G",nested:"nested-a7Y2yl3G",isTablet:"isTablet-a7Y2yl3G",isMobile:"isMobile-a7Y2yl3G"}},149606:e=>{e.exports={title:"title-mMhB7Pv3",small:"small-mMhB7Pv3",normal:"normal-mMhB7Pv3",large:"large-mMhB7Pv3"}},142748:e=>{e.exports={container:"container-soqunFTo"}},973154:e=>{e.exports={title:"title-qtdSVkva",disabled:"disabled-qtdSVkva",icon:"icon-qtdSVkva",locked:"locked-qtdSVkva",open:"open-qtdSVkva",actionIcon:"actionIcon-qtdSVkva",selected:"selected-qtdSVkva",codeIcon:"codeIcon-qtdSVkva",solutionIcon:"solutionIcon-qtdSVkva"}},828124:e=>{e.exports={"tablet-small-breakpoint":"screen and (max-width: 430px)",container:"container-YSK4uslt",selected:"selected-YSK4uslt",disabled:"disabled-YSK4uslt",favorite:"favorite-YSK4uslt",actions:"actions-YSK4uslt",highlighted:"highlighted-YSK4uslt",light:"light-YSK4uslt",
"highlight-animation-theme-light":"highlight-animation-theme-light-YSK4uslt",dark:"dark-YSK4uslt","highlight-animation-theme-dark":"highlight-animation-theme-dark-YSK4uslt",badge:"badge-YSK4uslt",main:"main-YSK4uslt",paddingLeft:"paddingLeft-YSK4uslt",isActive:"isActive-YSK4uslt",author:"author-YSK4uslt",likes:"likes-YSK4uslt"}},348019:e=>{e.exports={container:"container-Y8R6tAt1"}},874781:e=>{e.exports={"tablet-small-breakpoint":"screen and (max-width: 430px)",dialog:"dialog-Oa3ReD0b",dialogLibrary:"dialogLibrary-Oa3ReD0b",contentContainer:"contentContainer-Oa3ReD0b",listContainer:"listContainer-Oa3ReD0b",scroll:"scroll-Oa3ReD0b",sidebarContainer:"sidebarContainer-Oa3ReD0b",noContentBlock:"noContentBlock-Oa3ReD0b",tabWithHint:"tabWithHint-Oa3ReD0b",solution:"solution-Oa3ReD0b"}},672502:e=>{e.exports={container:"container-A3zSzBK_",image:"image-A3zSzBK_",title:"title-A3zSzBK_",description:"description-A3zSzBK_",button:"button-A3zSzBK_"}},683307:e=>{e.exports={highlighted:"highlighted-sanWmRqQ"}},94725:e=>{e.exports={separator:"separator-LQ6E1iWj"}},805184:(e,t,n)=>{"use strict";n.d(t,{Button:()=>c});var i=n(50959),r=n(171529);function a(e="default"){switch(e){case"default":return"primary";case"stroke":return"secondary"}}function o(e="primary"){switch(e){case"primary":return"brand";case"success":return"green";case"default":return"gray";case"danger":return"red"}}function s(e="m"){switch(e){case"s":return"xsmall";case"m":return"small";case"l":return"large"}}function l(e){const{intent:t,size:n,appearance:i,useFullWidth:r,icon:l,...c}=e;return{...c,color:o(t),size:s(n),variant:a(i),stretch:r,startIcon:l}}function c(e){return i.createElement(r.SquareButton,{...l(e)})}},171529:(e,t,n)=>{"use strict";n.d(t,{SquareButton:()=>m});var i=n(50959),r=n(497754),a=n(331774),o=n(72571),s=n(428146),l=n.n(s);function c(e){const{color:t="brand",size:n="medium",variant:i="primary",stretch:o=!1,icon:s,startIcon:c,endIcon:d,iconOnly:u=!1,className:h,isGrouped:p,cellState:m,disablePositionAdjustment:v=!1,isAnchor:f=!1}=e,g=function(e){let t="";return 0!==e&&(1&e&&(t=r(t,l()["no-corner-top-left"])),2&e&&(t=r(t,l()["no-corner-top-right"])),4&e&&(t=r(t,l()["no-corner-bottom-right"])),8&e&&(t=r(t,l()["no-corner-bottom-left"]))),t}((0,a.getGroupCellRemoveRoundBorders)(m));return r(h,l().button,l()[`size-${n}`],l()[`color-${t}`],l()[`variant-${i}`],o&&l().stretch,(s||c)&&l()["with-start-icon"],d&&l()["with-end-icon"],u&&l()["icon-only"],g,p&&l().grouped,p&&!v&&l()["adjust-position"],p&&m.isTop&&l()["first-row"],p&&m.isLeft&&l()["first-col"],f&&l().link)}function d(e){const{startIcon:t,icon:n,iconOnly:r,children:a,endIcon:s}=e,c=null!=t?t:n;return i.createElement(i.Fragment,null,c&&i.createElement(o.Icon,{icon:c,className:l()["start-icon-wrap"]}),a&&i.createElement("span",{className:l().content},a),s&&!r&&i.createElement(o.Icon,{icon:s,className:l()["end-icon-wrap"]}))}var u=n(380327),h=n(800417);function p(e){const{className:t,color:n,variant:i,size:r,stretch:a,animated:o,icon:s,iconOnly:l,startIcon:c,endIcon:d,...u}=e;return{...u,...(0,
h.filterDataProps)(e),...(0,h.filterAriaProps)(e)}}function m(e){const{reference:t,...n}=e,{isGrouped:r,cellState:a,disablePositionAdjustment:o}=(0,i.useContext)(u.ControlGroupContext),s=c({...n,isGrouped:r,cellState:a,disablePositionAdjustment:o});return i.createElement("button",{...p(n),className:s,ref:t},i.createElement(d,{...n}))}},380327:(e,t,n)=>{"use strict";n.d(t,{ControlGroupContext:()=>i});const i=n(50959).createContext({isGrouped:!1,cellState:{isTop:!0,isRight:!0,isBottom:!0,isLeft:!0}})},331774:(e,t,n)=>{"use strict";function i(e){let t=0;return e.isTop&&e.isLeft||(t+=1),e.isTop&&e.isRight||(t+=2),e.isBottom&&e.isLeft||(t+=8),e.isBottom&&e.isRight||(t+=4),t}n.d(t,{getGroupCellRemoveRoundBorders:()=>i})},800417:(e,t,n)=>{"use strict";function i(e){return a(e,o)}function r(e){return a(e,s)}function a(e,t){const n=Object.entries(e).filter(t),i={};for(const[e,t]of n)i[e]=t;return i}function o(e){const[t,n]=e;return 0===t.indexOf("data-")&&"string"==typeof n}function s(e){return 0===e[0].indexOf("aria-")}n.d(t,{filterDataProps:()=>i,filterAriaProps:()=>r,filterProps:()=>a,isDataAttribute:()=>o,isAriaAttribute:()=>s})},273388:(e,t,n)=>{"use strict";function i(e){return t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}}function r(e){return i([e])}n.d(t,{mergeRefs:()=>i,isomorphicRef:()=>r})},996038:(e,t,n)=>{"use strict";n.d(t,{DialogBreakpoints:()=>r});var i=n(645469);const r={SmallHeight:i["small-height-breakpoint"],TabletSmall:i["tablet-small-breakpoint"],TabletNormal:i["tablet-normal-breakpoint"]}},533408:(e,t,n)=>{"use strict";n.d(t,{AdaptivePopupDialog:()=>x});var i=n(50959),r=n(650151),a=n(416014),o=n(497754),s=n.n(o),l=n(180185),c=n(698043),d=n(40766),u=n(494707),h=n(996038),p=n(930052),m=n(910549);var v=n(206594),f=n(559410),g=n(72571),_=n(190410),y=n(507720),b=n(424810);function S(e){const{title:t,titleTextWrap:n=!1,subtitle:r,showCloseIcon:a=!0,onClose:o,onCloseButtonKeyDown:l,renderBefore:c,renderAfter:d,draggable:u,className:h,unsetAlign:p,closeAriaLabel:m,closeButtonReference:v}=e,[f,S]=(0,i.useState)(!1);return i.createElement(_.DialogHeaderContext.Provider,{value:{setHideClose:S}},i.createElement("div",{className:s()(b.container,h,(r||p)&&b.unsetAlign)},c,i.createElement("div",{"data-dragg-area":u,className:b.title},i.createElement("div",{className:s()(n?b.textWrap:b.ellipsis)},t),r&&i.createElement("div",{className:s()(b.ellipsis,b.subtitle)},r)),d,a&&!f&&i.createElement("button",{className:b.close,onClick:o,onKeyDown:l,"data-name":"close","aria-label":m,type:"button",ref:v},i.createElement(g.Icon,{className:b.icon,icon:y,"data-name":"close","data-role":"button"}))))}var k=n(273388),E=n(849361);const C={vertical:20},w={vertical:0};class x extends i.PureComponent{constructor(){super(...arguments),this._controller=null,this._reference=null,this._orientationMediaQuery=null,this._renderChildren=(e,t)=>(this._controller=e,this.props.render({requestResize:this._requestResize,centerAndFit:this._centerAndFit,isSmallWidth:t})),this._handleReference=e=>this._reference=e,
this._handleCloseBtnClick=()=>{this.props.onKeyboardClose&&this.props.onKeyboardClose(),this._handleClose()},this._handleClose=()=>{this.props.onClose()},this._handleOpen=()=>{void 0!==this.props.onOpen&&this.props.isOpened&&this.props.onOpen(this.props.fullScreen||window.matchMedia(h.DialogBreakpoints.TabletSmall).matches)},this._handleKeyDown=e=>{if(!e.defaultPrevented){if(this.props.onKeyDown&&this.props.onKeyDown(e),27===(0,l.hashFromEvent)(e)){if(e.defaultPrevented)return;if(this.props.forceCloseOnEsc&&this.props.forceCloseOnEsc())return this.props.onKeyboardClose&&this.props.onKeyboardClose(),void this._handleClose();const{activeElement:n}=document,i=(0,r.ensureNotNull)(this._reference);if(null!==n){if(e.preventDefault(),"true"===(t=n).getAttribute("data-haspopup")&&"true"!==t.getAttribute("data-expanded"))return void this._handleClose();if((0,c.isTextEditingField)(n))return void i.focus();if(i.contains(n))return this.props.onKeyboardClose&&this.props.onKeyboardClose(),void this._handleClose()}}var t,n;(function(e){if("function"==typeof e)return e();return Boolean(e)})(this.props.disableTabNavigationContainment)||(n=e,[9,l.Modifiers.Shift+9].includes((0,l.hashFromEvent)(n))&&n.stopPropagation())}},this._requestResize=()=>{null!==this._controller&&this._controller.recalculateBounds()},this._centerAndFit=()=>{null!==this._controller&&this._controller.centerAndFit()}}componentDidMount(){this.props.ignoreClosePopupsAndDialog||f.subscribe(v.CLOSE_POPUPS_AND_DIALOGS_COMMAND,this._handleClose,null),this._handleOpen(),void 0!==this.props.onOpen&&(this._orientationMediaQuery=window.matchMedia("(orientation: portrait)"),(0,a.mediaQueryAddEventListener)(this._orientationMediaQuery,this._handleOpen))}componentWillUnmount(){this.props.ignoreClosePopupsAndDialog||f.unsubscribe(v.CLOSE_POPUPS_AND_DIALOGS_COMMAND,this._handleClose,null),null!==this._orientationMediaQuery&&(0,a.mediaQueryRemoveEventListener)(this._orientationMediaQuery,this._handleOpen)}focus(){(0,r.ensureNotNull)(this._reference).focus()}getElement(){return this._reference}contains(e){var t,n;return null!==(n=null===(t=this._reference)||void 0===t?void 0:t.contains(e))&&void 0!==n&&n}render(){const{className:e,wrapperClassName:t,headerClassName:n,isOpened:r,title:a,titleTextWrap:o,dataName:l,onClickOutside:c,additionalElementPos:v,additionalHeaderElement:f,backdrop:g,shouldForceFocus:_=!0,showSeparator:y,subtitle:b,draggable:x=!0,fullScreen:N=!1,showCloseIcon:I=!0,rounded:T=!0,isAnimationEnabled:B,growPoint:D,dialogTooltip:O,unsetHeaderAlign:R,onDragStart:A,dataDialogName:P,closeAriaLabel:z,containerAriaLabel:L,reference:K,containerTabIndex:F,closeButtonReference:M,onCloseButtonKeyDown:H}=this.props,W="after"!==v?f:void 0,Y="after"===v?f:void 0,j="string"==typeof a?a:P||"",V=(0,k.mergeRefs)([this._handleReference,K]);return i.createElement(p.MatchMedia,{rule:h.DialogBreakpoints.SmallHeight},(v=>i.createElement(p.MatchMedia,{rule:h.DialogBreakpoints.TabletSmall},(h=>i.createElement(d.PopupDialog,{rounded:!(h||N)&&T,className:s()(E.dialog,e),isOpened:r,
reference:V,onKeyDown:this._handleKeyDown,onClickOutside:c,onClickBackdrop:c,fullscreen:h||N,guard:v?w:C,boundByScreen:h||N,shouldForceFocus:_,backdrop:g,draggable:x,isAnimationEnabled:B,growPoint:D,name:this.props.dataName,dialogTooltip:O,onDragStart:A,containerAriaLabel:L,containerTabIndex:F},i.createElement("div",{className:s()(E.wrapper,t),"data-name":l,"data-dialog-name":j},void 0!==a&&i.createElement(S,{draggable:x&&!(h||N),onClose:this._handleCloseBtnClick,renderAfter:Y,renderBefore:W,subtitle:b,title:a,titleTextWrap:o,showCloseIcon:I,className:n,unsetAlign:R,closeAriaLabel:z,closeButtonReference:M,onCloseButtonKeyDown:H}),y&&i.createElement(u.Separator,{className:E.separator}),i.createElement(m.PopupContext.Consumer,null,(e=>this._renderChildren(e,h||N)))))))))}}},190410:(e,t,n)=>{"use strict";n.d(t,{DialogHeaderContext:()=>i});const i=n(50959).createContext({setHideClose:()=>{}})},231862:(e,t,n)=>{"use strict";n.d(t,{DialogSearch:()=>d});var i=n(50959),r=n(497754),a=n.n(r),o=n(509806),s=n(72571),l=n(969859),c=n(490585);function d(e){const{children:t,renderInput:r,onCancel:d,containerClassName:h,...p}=e;return i.createElement("div",{className:a()(c.container,h)},i.createElement("div",{className:a()(c.inputContainer,d&&c.withCancel)},r||i.createElement(u,{...p})),t,i.createElement(s.Icon,{className:c.icon,icon:l}),d&&i.createElement("div",{className:c.cancel,onClick:d},o.t(null,void 0,n(620036))))}function u(e){const{className:t,reference:n,value:r,onChange:o,onFocus:s,onBlur:l,onKeyDown:d,onSelect:u,placeholder:h,...p}=e;return i.createElement("input",{...p,ref:n,type:"text",className:a()(t,c.input),autoComplete:"off","data-role":"search",placeholder:h,value:r,onChange:o,onFocus:s,onBlur:l,onSelect:u,onKeyDown:d})}},982850:(e,t,n)=>{"use strict";n.d(t,{DialogSidebarContainer:()=>d,DialogSidebarWrapper:()=>u,DialogSidebarItem:()=>h});var i=n(50959),r=n(497754),a=n.n(r),o=n(72571),s=n(568648),l=n(221703);function c(e){return{isMobile:"mobile"===e,isTablet:"tablet"===e}}function d(e){const{mode:t,className:n,...r}=e,{isMobile:o,isTablet:s}=c(t),d=a()(l.container,s&&l.isTablet,o&&l.isMobile,n);return i.createElement("div",{...r,className:d,"data-role":"dialog-sidebar"})}function u(e){return i.createElement("div",{className:l.wrapper,...e})}function h(e){const{mode:t,title:n,icon:r,isActive:d,onClick:u,...h}=e,{isMobile:p,isTablet:m}=c(t);return i.createElement("div",{...h,className:a()(l.tab,m&&l.isTablet,p&&l.isMobile,d&&l.active),onClick:u},i.createElement(o.Icon,{className:l.icon,icon:r}),!m&&i.createElement("span",{className:l.title},i.createElement("span",{className:l.titleText},n),p&&i.createElement(o.Icon,{className:l.nested,icon:s})))}},82808:(e,t,n)=>{"use strict";n.r(t),n.d(t,{IndicatorsLibraryContainer:()=>ce});var i=n(50959),r=n(500962),a=n(509806),o=n(358076),s=n(898005),l=n(484727),c=n(232468);function d(e,t){const n=e.title.toLowerCase(),i=t.title.toLowerCase();return n<i?-1:n>i?1:0}const u={earning:new RegExp("EPS"),earnings:new RegExp("EPS"),"trailing twelve months":new RegExp("TTM")}
;function h(e){var t;const{id:i,description:r,shortDescription:o,description_localized:c,is_hidden_study:d,version:u,extra:h,tags:p}=e,m=l.enabled("graying_disabled_tools_enabled")&&(null===(t=window.ChartApiInstance)||void 0===t?void 0:t.studiesAccessController.isToolGrayed(r)),v=(null==h?void 0:h.isAuto)?"auto-java":s.StudyMetaInfo.getPackageName(i);return{id:i,title:c||a.t(r,{context:"study"},n(168716)),shortDescription:o,shortTitle:o,isStrategy:s.StudyMetaInfo.isScriptStrategy(e),isHidden:d,isNew:null==h?void 0:h.isNew,isUpdated:null==h?void 0:h.isUpdated,isBeta:null==h?void 0:h.isBeta,isFundamental:!1,studyData:{id:i,version:u,descriptor:{type:"java",studyId:e.id},packageName:v},isGrayed:m,tags:p}}var p=n(497754),m=n.n(p),v=n(132455),f=n(533408),g=n(601227),_=n(231862),y=n(982850),b=n(348019);function S(e){const{reference:t,className:n,...r}=e;return i.createElement("div",{ref:t,className:m()(b.container,n),...r,"data-role":"dialog-content"})}var k=n(973154);function E(e){const{children:t,className:n,disabled:r}=e;return i.createElement("span",{className:m()(k.title,r&&k.disabled,n)},t)}const C=i.createContext(null);var w=n(260598),x=n(297265),N=n(702054),I=n(651049),T=n(577687),B=n(180185),D=n(828124);function O(e){var t;const r=(0,i.useContext)(C),{style:o,layoutMode:s,item:l,query:c,regExpRules:d,isBeta:u,isNew:h,isUpdated:p,isSelected:v,isHighlighted:f,reference:g,onClick:_,renderActions:y}=e,{isFavorite:b,isLocked:S,public:k,editorsPick:B}=l,O=void 0!==b,A=R(_,l),P=(0,i.useCallback)((e=>e.stopPropagation()),[]),z=null!==(t=e.favoriteClickHandler)&&void 0!==t?t:(null==r?void 0:r.toggleFavorite)?R(r.toggleFavorite,l):void 0,L=(0,x.useWatchedValueReadonly)({watchedValue:N.watchedTheme})===I.StdTheme.Dark?D.dark:D.light,K=m()(D.container,l.isGrayed&&D.disabled,v&&D.selected,f&&D.highlighted,f&&L);return i.createElement("div",{ref:g,className:K,onClick:A,style:o,"data-role":"list-item","data-disabled":l.isGrayed,"data-title":l.title,"data-id":l.id},i.createElement("div",{className:m()(D.main,!O&&D.paddingLeft)},O&&i.createElement(T.FavoriteButton,{className:m()(D.favorite,b&&D.isActive),isFilled:b,onClick:z}),i.createElement(E,{disabled:l.isGrayed},i.createElement(w.HighlightedText,{queryString:c,rules:d,text:l.title})),!1,u&&i.createElement(BadgeIndicator,{type:"beta",className:D.badge}),h&&i.createElement(BadgeIndicator,{type:"new",className:D.badge}),p&&i.createElement(BadgeIndicator,{type:"updated",className:D.badge}),B&&i.createElement(BadgeIndicator,{type:"ep",className:D.badge,tooltip:a.t(null,void 0,n(192490))})),k&&i.createElement("a",{href:k.authorLink,className:D.author,target:"_blank",onClick:P},k.authorName),"mobile"!==s&&k&&i.createElement("span",{className:D.likes},k.likesCount),!1)}function R(e,t){return n=>{const i=0===(0,B.modifiersFromEvent)(n)&&0===n.button;!n.defaultPrevented&&e&&i&&(n.preventDefault(),e(t))}}var A=n(149606);function P(e){const{title:t,type:n,className:r}=e;return i.createElement("h3",{className:m()(A.title,"Small"===n&&A.small,"Normal"===n&&A.normal,"Large"===n&&A.large,r)
},t)}var z=n(142748);function L(e){const{style:t,children:n}=e;return i.createElement("div",{style:t,className:z.container},n)}var K=n(72571),F=n(805184),M=n(672502);function H(e){const{className:t,icon:n,title:r,description:a,buttonText:o,buttonAction:s}=e;return i.createElement("div",{className:m()(M.container,t)},n&&i.createElement(K.Icon,{icon:n,className:M.image}),r&&i.createElement("h3",{className:M.title},r),a&&i.createElement("p",{className:M.description},a),o&&s&&i.createElement(F.Button,{onClick:s,className:M.button},o))}function W(e){const[t,n]=(0,i.useState)(null);function r(e){return e.findIndex((e=>(null==t?void 0:t.id)===e.id))}return[t,n,function(){n(function(){var n;const i=r(e),a=i===e.length-1;return null===t||-1===i?null!==(n=e[0])&&void 0!==n?n:null:a?e[i]:e[i+1]}())},function(){n(function(){var n;const i=r(e);return null===t||0===i||-1===i?null!==(n=e[0])&&void 0!==n?n:null:e[i-1]}())}]}var Y=n(512991),j=n(874781),V=n(922157),G=n.n(V),q=n(870122);const Q=new(G()),U=new(G()),J=new(G());let $=[];function Z(e){return-1===ee(e)?(function(e){!X(e)&&($.push(e),ne(),Q.fire(e))}(e),!0):(function(e){const t=ee(e);-1!==t&&($.splice(t,1),ne(),U.fire(e))}(e),!1)}function X(e){return-1!==ee(e)}function ee(e){return $.indexOf(e)}function te(){var e,t;$=[];const n=Boolean(void 0===(0,q.getValue)("chart.favoriteLibraryIndicators")),i=(0,q.getJSON)("chart.favoriteLibraryIndicators",[]);if($.push(...i),0===$.length&&n&&"undefined"!=typeof window){const n=JSON.parse(null!==(t=null===(e=window.urlParams)||void 0===e?void 0:e.favorites)&&void 0!==t?t:"{}").indicators;n&&Array.isArray(n)&&$.push(...n)}J.fire()}function ne(){const e=$.slice();(0,q.setJSON)("chart.favoriteLibraryIndicators",e)}function ie(e){const{reference:t,data:r,isOpened:o,onClose:s,applyStudy:l}=e,[c,d]=(0,i.useState)(""),h=(0,i.useMemo)((()=>(0,Y.createRegExpList)(c,u)),[c]),p=(0,i.useMemo)((()=>c?(0,Y.rankedSearch)({data:r,rules:h,queryString:c,primaryKey:"shortDescription",secondaryKey:"title",optionalPrimaryKey:"shortTitle",tertiaryKey:"tags"}):r),[c,h,r]),{highlightedItem:b,selectedItem:k,selectedNodeReference:E,scrollContainerRef:C,searchInputRef:w,onClickStudy:x,handleKeyDown:N}=function(e,t,n,r){let a=0;const[o,s]=(0,i.useState)(null),l=(0,i.useRef)(null),c=(0,i.useRef)(null),[d,u,h,p]=W(t),m=(0,i.useRef)(null);return(0,i.useEffect)((()=>{e?v(0):u(null)}),[e]),(0,i.useEffect)((()=>{void 0!==r&&(v(0),u(null))}),[r]),(0,i.useEffect)((()=>(o&&(a=setTimeout((()=>{s(null)}),1500)),()=>{clearInterval(a)})),[o]),{highlightedItem:o,scrollContainerRef:l,selectedNodeReference:c,selectedItem:d,searchInputRef:m,onClickStudy:function(e){n&&(n(e),u(e),s(e))},handleKeyDown:function(e){const[t,i]=function(e,t){if(null===e.current||null===t.current)return[0,0];const n=e.current.getBoundingClientRect(),i=t.current.getBoundingClientRect(),{height:r}=n,a=n.top-i.top,o=n.bottom-i.bottom+r<0?0:r,s=a-r>0?0:r,{scrollTop:l}=t.current;return[l-s,l+o]}(c,l);if(40===(0,B.hashFromEvent)(e)&&(e.preventDefault(),h(),v(i)),38===(0,
B.hashFromEvent)(e)&&(e.preventDefault(),p(),v(t)),13===(0,B.hashFromEvent)(e)&&d){if(!n)return;n(d),s(d)}}};function v(e){null!==l.current&&l.current.scrollTo&&l.current.scrollTo(0,e)}}(o,p,l),I=""===c&&!p.length;return(0,i.useEffect)((()=>{var e;o||d(""),g.CheckMobile.any()||null===(e=w.current)||void 0===e||e.focus()}),[o]),i.createElement(f.AdaptivePopupDialog,{isOpened:o,onClose:s,onClickOutside:s,className:m()(j.dialogLibrary),render:function(){return i.createElement(i.Fragment,null,i.createElement(_.DialogSearch,{reference:w,placeholder:a.t(null,void 0,n(252298)),onChange:T,onFocus:D}),i.createElement(y.DialogSidebarWrapper,null,i.createElement(S,{reference:C,className:j.scroll},I?i.createElement(v.Spinner,null):p.length?i.createElement(i.Fragment,null,i.createElement(L,null,i.createElement(P,{title:a.t(null,void 0,n(515491))})),p.slice().sort(re).map((e=>{const t=(null==k?void 0:k.id)===e.id;return i.createElement(O,{key:e.id,item:e,onClick:()=>x(e),query:c,regExpRules:h,reference:t?E:void 0,isSelected:(null==k?void 0:k.id)===e.id,isHighlighted:(null==b?void 0:b.id)===e.id,favoriteClickHandler:t=>{t.stopPropagation(),Z(e.title)}})}))):i.createElement(H,{className:j.noContentBlock,description:a.t(null,void 0,n(353170))}))))},title:a.t(null,void 0,n(561142)),dataName:"indicators-dialog",onKeyDown:N,ref:t});function T(e){d(e.target.value)}function D(){var e;c.length>0&&(null===(e=w.current)||void 0===e||e.select())}}function re(e,t){return e.isFavorite===t.isFavorite?0:e.isFavorite?-1:1}te(),q.onSync.subscribe(null,te);var ae=n(559410),oe=n(210596),se=n.n(oe);function le(e,t){return e[t]||[]}class ce extends class{constructor(e){this._searchInputRef=i.createRef(),this._dialog=i.createRef(),this._visibility=new(se())(!1),this._container=document.createElement("div"),this._isForceRender=!1,this._parentSources=[],this._isDestroyed=!1,this._deepFundamentalsHistoryNotificationHasBeenShown=!1,this._showDeepFundamentalsHistoryNotification=()=>{},this._chartWidgetCollection=e}isDestroyed(){return this._isDestroyed}visible(){return this._visibility.readonly()}resetAllStudies(){}updateFavorites(){}open(e){this._parentSources=e,this._updateSymbol(),this._setProps({isOpened:!0}),this._visibility.setValue(!0),ae.emit("indicators_dialog")}show(){this.open([])}hide(){this._parentSources=[],this._setProps({isOpened:!1}),this._visibility.setValue(!1)}destroy(){this._isDestroyed=!0,r.unmountComponentAtNode(this._container)}_shouldPreventRender(){return this._isDestroyed||!this._isForceRender&&!this._getProps().value().isOpened}_getRenderData(){return{props:this._getProps().value(),container:this._getContainer()}}_applyStudy(e,t){var n;e.isGrayed?ae.emit("onGrayedObjectClicked",{type:"study",name:e.shortDescription}):(g.CheckMobile.any()||null===(n=this._searchInputRef.current)||void 0===n||n.select(),async function(e,t,n,i,r){const a=e.activeChartWidget.value();if(!a)return null;const{studyData:s}=t;if(!s)return Promise.resolve(null);const l=s.descriptor;if("java"===l.type){const e=(0,
c.tryFindStudyLineToolNameByStudyId)(l.studyId);if(null!==e)return o.tool.setValue(e),null}return a.insertStudy(s.descriptor,n,t.shortDescription)}(this._chartWidgetCollection,e,this._parentSources,0,this._symbol).then((()=>{var e;window.is_authenticated;g.CheckMobile.any()||(null===document.activeElement||document.activeElement===document.body||null!==this._dialog.current&&this._dialog.current.contains(document.activeElement))&&(null===(e=this._searchInputRef.current)||void 0===e||e.focus())})))}_setProps(e){const t=this._getProps().value(),{isOpened:n}=t;this._isForceRender=n&&"isOpened"in e&&!e.isOpened;const i={...t,...e};this._getProps().setValue(i)}_requestBuiltInJavaStudies(){return this._chartWidgetCollection.activeChartWidget.value().metaInfoRepository().findAllJavaStudies()}_focus(){var e;this._getProps().value().isOpened&&(null===(e=this._dialog.current)||void 0===e||e.focus())}_getContainer(){return this._container}_getDialog(){return this._dialog}_getSymbol(){return this._symbol}_updateSymbol(){this._symbol=void 0}}{constructor(e,t){super(e),this._options={onWidget:!1},this._indicatorData=[],t&&(this._options=t),this._props=new(se())({data:[],applyStudy:this._applyStudy.bind(this),isOpened:!1,reference:this._getDialog(),onClose:this.hide.bind(this)}),this._getProps().subscribe(this._render.bind(this)),this._init()}_getProps(){return this._props}async _init(){const e=function(e){const t={};return e.forEach((e=>{const{studyData:n}=e;if(!n)return;const{packageName:i}=n;i in t?t[i].push(e):t[i]=[e]})),t}(function(e,t=!0){return e.filter((e=>{const n=!!t||!function(e){return e.isStrategy}(e);return!e.isHidden&&n}))}((await this._requestBuiltInJavaStudies()).map(h)));this._indicatorData=await async function(e,t){let n={...t};return[...le(n,"tv-basicstudies"),...le(n,"Script$STD"),...le(n,"tv-volumebyprice")].filter((e=>!e.isStrategy)).sort(d)}(this._options.onWidget,e),this._setFavorites(),this._setProps({data:this._indicatorData}),Q.subscribe(null,(()=>this._refreshFavorites())),U.subscribe(null,(()=>this._refreshFavorites()))}_setFavorites(){l.enabled("items_favoriting")&&this._indicatorData.forEach((e=>{e.isFavorite=X(e.title)}))}_refreshFavorites(){this._setFavorites(),this._setProps({data:this._indicatorData})}_render(){if(this._shouldPreventRender())return;const{props:e,container:t}=this._getRenderData();r.render(i.createElement(ie,{...e}),t)}}},512991:(e,t,n)=>{"use strict";n.d(t,{rankedSearch:()=>r,createRegExpList:()=>a,getHighlightedChars:()=>o});var i=n(486028);function r(e){const{data:t,rules:n,queryString:r,isPreventedFromFiltering:a,primaryKey:o,secondaryKey:s=o,optionalPrimaryKey:l,tertiaryKey:c}=e;return t.map((e=>{const t=l&&e[l]?e[l]:e[o],a=e[s],d=c&&e[c];let u,h=0;return n.forEach((e=>{var n,o,s,l,c;const{re:p,fullMatch:m}=e;if(p.lastIndex=0,(0,i.isString)(t)&&t&&t.toLowerCase()===r.toLowerCase())return h=4,void(u=null===(n=t.match(m))||void 0===n?void 0:n.index);if((0,i.isString)(t)&&m.test(t))return h=3,void(u=null===(o=t.match(m))||void 0===o?void 0:o.index);if((0,
i.isString)(a)&&m.test(a))return h=2,void(u=null===(s=a.match(m))||void 0===s?void 0:s.index);if((0,i.isString)(a)&&p.test(a))return h=2,void(u=null===(l=a.match(p))||void 0===l?void 0:l.index);if(Array.isArray(d))for(const e of d)if(m.test(e))return h=1,void(u=null===(c=e.match(m))||void 0===c?void 0:c.index)})),{matchPriority:h,matchIndex:u,item:e}})).filter((e=>a||e.matchPriority)).sort(((e,t)=>{if(e.matchPriority<t.matchPriority)return 1;if(e.matchPriority>t.matchPriority)return-1;if(e.matchPriority===t.matchPriority){if(void 0===e.matchIndex||void 0===t.matchIndex)return 0;if(e.matchIndex>t.matchIndex)return 1;if(e.matchIndex<t.matchIndex)return-1}return 0})).map((({item:e})=>e))}function a(e,t){const n=[],i=e.toLowerCase(),r=e.split("").map(((e,t)=>`(${0!==t?`[/\\s-]${s(e)}`:s(e)})`)).join("(.*?)")+"(.*)";return n.push({fullMatch:new RegExp(`(${s(e)})`,"i"),re:new RegExp(`^${r}`,"i"),reserveRe:new RegExp(r,"i"),fuzzyHighlight:!0}),t&&t.hasOwnProperty(i)&&n.push({fullMatch:t[i],re:t[i],fuzzyHighlight:!1}),n}function o(e,t,n){const i=[];return e&&n?(n.forEach((e=>{const{fullMatch:n,re:r,reserveRe:a}=e;n.lastIndex=0,r.lastIndex=0;const o=n.exec(t),s=o||r.exec(t)||a&&a.exec(t);if(e.fuzzyHighlight=!o,s)if(e.fuzzyHighlight){let e=s.index;for(let t=1;t<s.length;t++){const n=s[t],r=s[t].length;if(t%2){const t=n.startsWith(" ")||n.startsWith("/")||n.startsWith("-");i[t?e+1:e]=!0}e+=r}}else for(let e=0;e<s[0].length;e++)i[s.index+e]=!0})),i):i}function s(e){return e.replace(/[!-/[-^{-}]/g,"\\$&")}},260598:(e,t,n)=>{"use strict";n.d(t,{HighlightedText:()=>s});var i=n(50959),r=n(497754),a=n(512991),o=n(683307);function s(e){const{queryString:t,rules:n,text:s,className:l}=e,c=(0,i.useMemo)((()=>(0,a.getHighlightedChars)(t,s,n)),[t,n,s]);return i.createElement(i.Fragment,null,c.length?s.split("").map(((e,t)=>i.createElement(i.Fragment,{key:t},c[t]?i.createElement("span",{className:r(o.highlighted,l)},e):i.createElement("span",null,e)))):s)}},297265:(e,t,n)=>{"use strict";n.d(t,{useWatchedValueReadonly:()=>r});var i=n(50959);const r=(e,t=!1)=>{const n="watchedValue"in e?e.watchedValue:void 0,r="defaultValue"in e?e.defaultValue:e.watchedValue.value(),[a,o]=(0,i.useState)(n?n.value():r);return(t?i.useLayoutEffect:i.useEffect)((()=>{if(n){o(n.value());const e=e=>o(e);return n.subscribe(e),()=>n.unsubscribe(e)}return()=>{}}),[n]),a}},494707:(e,t,n)=>{"use strict";n.d(t,{Separator:()=>o});var i=n(50959),r=n(497754),a=n(94725);function o(e){return i.createElement("div",{className:r(a.separator,e.className)})}},132455:(e,t,n)=>{"use strict";n.d(t,{Spinner:()=>o});var i=n(50959),r=n(497754),a=n(663654);n(286625);function o(e){const t=r(e.className,"tv-spinner","tv-spinner--shown",`tv-spinner--size_${a.spinnerSizeMap[e.size||a.DEFAULT_SIZE]}`);return i.createElement("div",{className:t,style:e.style,role:"progressbar"})}},416014:(e,t,n)=>{"use strict";n.d(t,{mediaQueryAddEventListener:()=>i,mediaQueryRemoveEventListener:()=>r});const i=(e,t)=>{(null==e?void 0:e.addEventListener)?e.addEventListener("change",t):e.addListener(t)
},r=(e,t)=>{(null==e?void 0:e.removeEventListener)?e.removeEventListener("change",t):e.removeListener(t)}},568648:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28" fill="none"><path stroke="currentcolor" stroke-width="1.3" d="M12 9l5 5-5 5"/></svg>'},507720:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 17" width="17" height="17" fill="currentColor"><path d="m.58 1.42.82-.82 15 15-.82.82z"/><path d="m.58 15.58 15-15 .82.82-15 15z"/></svg>'},969859:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none"><path stroke="currentColor" d="M12.4 12.5a7 7 0 1 0-4.9 2 7 7 0 0 0 4.9-2zm0 0l5.101 5"/></svg>'},620036:e=>{e.exports={ar:["إلغاء"],ca_ES:["Cancel·la"],cs:["Zrušit"],de:["Abbrechen"],el:["Άκυρο"],en:"Cancel",es:["Cancelar"],fa:["لغو"],fr:["Annuler"],he_IL:["ביטול"],hu_HU:["Törlés"],id_ID:["Batal"],it:["Annulla"],ja:["キャンセル"],ko:["취소"],ms_MY:["Batal"],nl_NL:["Annuleren"],pl:["Anuluj"],pt:["Cancelar"],ro:"Cancel",ru:["Отмена"],sv:["Avbryt"],th:["ยกเลิก"],tr:["İptal"],vi:["Hủy bỏ"],zh:["取消"],zh_TW:["取消"]}},44629:e=>{e.exports={ar:["اضف إلى القائمة التفضيلات"],ca_ES:["Afegeix a preferits"],cs:["Přidat do oblíbených"],de:["Zu Favoriten hinzufügen"],el:["Προσθήκη στα αγαπημένα"],en:"Add to favorites",es:["Añadir a favoritos"],fa:["افزودن به موارد مورد علاقه"],fr:["Ajouter aux favoris"],he_IL:["הוסף למועדפים"],hu_HU:["Hozzáadás kedvencekhez"],id_ID:["Tambah ke daftar favorit"],it:["Aggiungi ai preferiti"],ja:["お気に入りに追加"],ko:["즐겨찾기에 넣기"],ms_MY:["Tambah kepada kegemaran"],nl_NL:["Voeg toe aan favorieten"],pl:["Dodaj do ulubionych"],pt:["Adicionar aos favoritos"],ro:"Add to favorites",ru:["Добавить в избранное"],sv:["Lägg till som favorit"],th:["เพิ่มลงรายการโปรด"],tr:["Favorilere ekle"],vi:["Thêm vào mục yêu thích"],zh:["添加到收藏"],zh_TW:["加入收藏"]}},192490:e=>{e.exports={ar:["مختارات المحرر"],ca_ES:["Seleccions dels editors"],cs:"Editors' picks",de:["Editor's Picks"],el:"Editors' picks",en:"Editors' picks",es:["Selecciones de los editores"],fa:"Editors' picks",fr:["Choix de la rédaction"],he_IL:["בחירות העורכים"],hu_HU:"Editors' picks",id_ID:["Pilihan editor"],it:["Selezione editoriale"],ja:["エディターズ・ピック"],ko:["에디터즈 픽"],ms_MY:["Pilihan Editor"],nl_NL:"Editors' picks",pl:["Wybór Redakcji"],pt:["Sugestão da Casa"],ro:"Editors' picks",ru:["Выбор редакции"],sv:["Redaktörens val"],th:["คัดสรรโดยบรรณาธิการ"],tr:["Editörün Seçtikleri"],vi:["Biên tập viên chọn"],zh:["编辑精选"],zh_TW:["編輯精選"]}},561142:e=>{e.exports={ar:["مؤشرات"],ca_ES:["Indicadors"],cs:["Indikátory"],de:["Indikatoren"],el:["Τέχν. Δείκτες"],en:"Indicators",es:["Indicadores"],fa:["اندیکاتورها"],fr:["Indicateurs"],he_IL:["אינדיקטורים"],hu_HU:["Indikátorok"],id_ID:["Indikator"],it:["Indicatori"],ja:["インジケーター"],ko:["지표"],ms_MY:["Penunjuk"],nl_NL:["Indicatoren"],pl:["Wskaźniki"],pt:["Indicadores"],ro:"Indicators",ru:["Индикаторы"],sv:["Indikatorer"],th:["อินดิเคเตอร์"],tr:["Göstergeler"],vi:["Các chỉ báo"],zh:["指标"],zh_TW:["技術指標"]}},353170:e=>{e.exports={
ar:["لا توجد مؤشرات تتوافق مع معاييرك."],ca_ES:["Cap indicador coincideix amb els vostres criteris"],cs:["Indikátory nevyhovující vaším požadavkům"],de:["Keine passenden Indikatoren zu Ihren Kriterien gefunden"],el:["Δε βρέθηκαν Τέχνικο. Δείκτες που να ταιριάζουν με τα κριτήρια αναζήτησης"],en:"No indicators matched your criteria",es:["Ningún indicador coincide con sus criterios"],fa:["هیچ اندیکاتوری با شرط شما مطابقت ندارد."],fr:["Aucuns indicateurs ne correspondent à vos critères."],he_IL:["לא נמצאו התאמות לאינדקטור"],hu_HU:["Egyetlen indikátor se felel meg a kritériumoknak."],id_ID:["Tidak ada indikator yang cocok dengan kriteria anda."],it:["Nessun indicatore corrisponde ai criteri"],ja:["条件に合致するインジケーターはありません"],ko:["찾는 지표가 없습니다."],ms_MY:["Tiada penunjuk yang sepadan dengan kriteria anda."],nl_NL:["Geen indicator voldeed aan je criteria"],pl:["Brak wskaźników spełniających twoje kryteria"],pt:["Não foram encontrados indicadores que correspondam à escolha selecionada."],ro:["No indicators matched your criteria."],ru:["Нет подходящих индикаторов."],sv:["Inga indikatorer överensstämde med dina kriterier."],th:["ไม่พบตัวชี้วัดตามเกณฑ์ของคุณ"],tr:["Kriterinize uygun gösterge bulunamadı."],vi:["Không có chỉ số nào khớp với tiêu chí của bạn."],zh:["没有符合您搜索条件的指标."],zh_TW:["沒有指標符合您的搜尋條件。"]}},515491:e=>{e.exports={ar:["اسم النص البرمجي"],ca_ES:["Nom de l'script"],cs:"Script name",de:["Skripname"],el:"Script name",en:"Script name",es:["Nombre del script"],fa:"Script name",fr:["Nom du script"],he_IL:["שם הסקריפט"],hu_HU:["Szkript név"],id_ID:["Nama skrip"],it:["Nome script"],ja:["スクリプト名"],ko:["스크립트 이름"],ms_MY:["Nama skrip"],nl_NL:"Script name",pl:["Nazwa skryptu"],pt:["Nome do script"],ro:"Script name",ru:["Имя скрипта"],sv:["Skriptets namn"],th:["ชื่อชุดคำสั่ง"],tr:["Komut adı"],vi:["Tên Script"],zh:["脚本名称"],zh_TW:["腳本名稱"]}},252298:e=>{e.exports={ar:["بحث"],ca_ES:["Cercar"],cs:["Hledat"],de:["Suche"],el:["Αναζήτησή"],en:"Search",es:["Buscar"],fa:["جستجو"],fr:["Chercher"],he_IL:["חפש"],hu_HU:["Keresés"],id_ID:["Cari"],it:["Cerca"],ja:["検索"],ko:["찾기"],ms_MY:["Cari"],nl_NL:["Zoeken"],pl:["Szukaj"],pt:["Pesquisar"],ro:"Search",ru:["Поиск"],sv:["Sök"],th:["ค้นหา"],tr:["Ara"],vi:["Tìm kiếm"],zh:["搜索"],zh_TW:["搜尋"]}},572482:e=>{e.exports={ar:["حذف من القائمة المفضلة"],ca_ES:["Treure de preferits"],cs:["Odebrat z oblíbených"],de:["Aus Favoriten entfernen"],el:["Διαγραφή απο τα αγαπημένα"],en:"Remove from favorites",es:["Quitar de favoritos"],fa:["حذف از موارد مورد علاقه"],fr:["Retirer des favoris"],he_IL:["הסר ממועדפים"],hu_HU:["Eltávolít kedvencek közül"],id_ID:["Hilangkan dari favorit"],it:["Rimuovi dai preferiti"],ja:["お気に入りから削除"],ko:["즐겨찾기지움"],ms_MY:["Keluarkan dari kegemaran"],nl_NL:["Verwijder van favorieten"],pl:["Usuń z ulubionych"],pt:["Remover dos favoritos"],ro:"Remove from favorites",ru:["Удалить из предпочтений"],sv:["Ta bort från favoriter"],th:["ลบออกจากรายการโปรด"],tr:["Favorilerimden çıkar"],vi:["Loại bỏ khỏi mục yêu thích"],zh:["从收藏中移除"],zh_TW:["從收藏移除"]}}}]);