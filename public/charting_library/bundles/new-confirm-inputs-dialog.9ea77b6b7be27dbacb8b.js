(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[3030],{259142:function(e,t){var n,o,i;o=[t],n=function(e){"use strict";function t(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(e,"__esModule",{value:!0});var n=!1;if("undefined"!=typeof window){var o={get passive(){n=!0}};window.addEventListener("testPassive",null,o),window.removeEventListener("testPassive",null,o)}var i="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),r=[],l=!1,s=-1,u=void 0,c=void 0,a=function(e){return r.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))},d=function(e){var t=e||window.event;return!!a(t.target)||1<t.touches.length||(t.preventDefault&&t.preventDefault(),!1)},p=function(){setTimeout((function(){void 0!==c&&(document.body.style.paddingRight=c,c=void 0),void 0!==u&&(document.body.style.overflow=u,u=void 0)}))};e.disableBodyScroll=function(e,o){if(i){if(!e)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(e&&!r.some((function(t){return t.targetElement===e}))){var p={targetElement:e,options:o||{}};r=[].concat(t(r),[p]),e.ontouchstart=function(e){1===e.targetTouches.length&&(s=e.targetTouches[0].clientY)},e.ontouchmove=function(t){var n,o,i,r;1===t.targetTouches.length&&(o=e,r=(n=t).targetTouches[0].clientY-s,!a(n.target)&&(o&&0===o.scrollTop&&0<r||(i=o)&&i.scrollHeight-i.scrollTop<=i.clientHeight&&r<0?d(n):n.stopPropagation()))},l||(document.addEventListener("touchmove",d,n?{passive:!1}:void 0),l=!0)}}else{m=o,setTimeout((function(){if(void 0===c){var e=!!m&&!0===m.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth;e&&0<t&&(c=document.body.style.paddingRight,document.body.style.paddingRight=t+"px")}void 0===u&&(u=document.body.style.overflow,document.body.style.overflow="hidden")}));var f={targetElement:e,options:o||{}};r=[].concat(t(r),[f])}var m},e.clearAllBodyScrollLocks=function(){i?(r.forEach((function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null})),l&&(document.removeEventListener("touchmove",d,n?{passive:!1}:void 0),l=!1),r=[],s=-1):(p(),r=[])},e.enableBodyScroll=function(e){if(i){if(!e)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");e.ontouchstart=null,e.ontouchmove=null,r=r.filter((function(t){return t.targetElement!==e})),l&&0===r.length&&(document.removeEventListener("touchmove",d,n?{passive:!1}:void 0),l=!1)}else 1===r.length&&r[0].targetElement===e?(p(),r=[]):r=r.filter((function(t){return t.targetElement!==e}))}},void 0===(i="function"==typeof n?n.apply(t,o):n)||(e.exports=i)},484519:e=>{e.exports={separator:"separator-lnX63iy3",scrollable:"scrollable-lnX63iy3"}},876207:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ConfirmInputsDialogRenderer:()=>h})
;var o=n(500962),i=n(50959),r=n(509806),l=n(976669),s=n(370981),u=n(742554),c=n(45720),a=n(922157),d=n.n(a),p=n(601227),f=n(484519);function m(e){const{title:t,confirmInputs:o,inputsProperty:a,model:m,confirmInputsType:h,onCancel:v,onSubmit:y,onClose:g,onStudyInputChange:w}=e,[S,b]=(0,i.useState)(!0),C=(0,i.useMemo)((function(){const e=new(d());return{isInputsStudy:!0,symbolsResolved:()=>e,resolvedSymbolInfoBySymbol:()=>null,tempProperties:a}}),[]),E=(0,i.useRef)(null),[I,_]=(0,i.useState)(D());return(0,i.useEffect)((()=>{if(!p.CheckMobile.any()&&S&&"symbol"===h&&E.current){const e=E.current.querySelector("input");e&&e.focus()}}),[S]),i.createElement(l.AdaptiveConfirmDialog,{dataName:"confirm-inputs-dialog",title:t,isOpened:S,onSubmit:function(){y(a.state().inputs),P()},onCancel:v,onClickOutside:P,onClose:P,render:()=>i.createElement(i.Fragment,null,i.createElement("div",{className:f.separator}),i.createElement(u.TouchScrollContainer,{className:f.scrollable,onScroll:T},i.createElement(c.InputsTabContent,{reference:E,property:a,model:m,study:C,inputs:o,onStudyInputChange:B}))),defaultActionOnClose:"none",submitButtonText:r.t(null,void 0,n(773226)),submitButtonDisabled:I,submitOnEnterKey:!1});function T(){s.globalCloseDelegate.fire()}function P(){b(!1),g()}function D(){const{inputs:e}=a.state();for(const t of o)if("symbol"===t.type&&!t.optional&&""===e[t.id])return!0;return!1}function B(e,t){null==w||w(e,t),_(D())}}class h{constructor(e,t,n,i,r,l,s,u){this._container=document.createElement("div"),this._handleClose=()=>{o.unmountComponentAtNode(this._container),this._onClose()},this._title=e,this._confirmInputs=t,this._model=r,this._confirmInputsType=i,this._onSubmit=l,this._onClose=s,this._onStudyInputChange=u,this._inputsProperty=n}show(){o.render(i.createElement(m,{title:this._title,confirmInputs:this._confirmInputs,inputsProperty:this._inputsProperty,model:this._model,confirmInputsType:this._confirmInputsType,onSubmit:this._onSubmit,onCancel:()=>{},onClose:this._handleClose,onStudyInputChange:this._onStudyInputChange}),this._container)}}},759393:(e,t,n)=>{"use strict";n.r(t),n.d(t,{selectInputValuesOnChart:()=>u});var o=n(650151),i=n(676507),r=n(509806),l=n(298134),s=n(358076);i.colorsPalette["color-cold-gray-500"];async function u(e,t,i,u,c){let a;const d=(0,l.getInputGroups)(t);e.model().model();for await(const e of d)await p(e).catch((e=>{throw new Error(e)}));return{customSourceId:void 0,destPane:a};async function p(e){if((0,l.isGroup)(e))if((0,l.isInputInlines)(e)){const t=function(e){if(2!==e.length||e[0].type===e[1].type)return null;return"price"===e[0].type?{price:e[0],time:e[1]}:{price:e[1],time:e[0]}}(e.children);if(t){const{time:o,price:i}=t,l=o.inline?r.t(null,{replace:{inputInline:o.inline,studyShortDescription:u}},n(359877)):r.t(null,{replace:{studyShortDescription:u}},n(580481)),s=h(e.id);await m(e,"all",null!=s?s:l,o.id,i.id)}else for await(const t of e.children)await f(t)}else for await(const t of e.children)await p(t);else await f(e)}async function f(e){
const t="time"===e.type,o=t?"time":"price",i=function(){if(e.inline){const t=h(e.inline);if(t)return t}if(e.tooltip)return e.tooltip;const o=e.name?r.t(null,{replace:{inputTitle:e.name,studyShortDescription:u}},n(718571)):r.t(null,{replace:{studyShortDescription:u}},n(742917)),i=e.name?r.t(null,{replace:{inputTitle:e.name,studyShortDescription:u}},n(558552)):r.t(null,{replace:{studyShortDescription:u}},n(306083));return t?o:i}(),l=t?e.id:void 0,s=t?void 0:e.id;await m(e,o,i,l,s)}async function m(t,n,r,l,u){const c=await e.requestSelectPoint({pointType:n,pane:a,lineColor:void 0,selectPointMode:s.SelectPointMode.Study},r);void 0===a&&(a=c.pane);const d=i.childs().inputs;d&&(l&&(0,o.ensureDefined)(d.child(l)).setValue(1e3*(c.point.time||0)),u&&(0,o.ensureDefined)(d.child(u)).setValue(c.point.price))}function h(e){let t;return c.filter((t=>t.inline===e)).forEach((e=>{e.tooltip&&(t=e.tooltip)})),t}}}}]);