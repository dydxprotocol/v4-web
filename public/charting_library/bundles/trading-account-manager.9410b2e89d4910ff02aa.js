(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[8354,5031],{69496:e=>{"use strict";function t(e){return"function"==typeof e?e():e}function r(){var e={};return e.promise=new Promise((function(t,r){e.resolve=t,e.reject=r})),e}e.exports=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=void 0,s=void 0,a=void 0,l=[];return function(){var c=t(n),d=(new Date).getTime(),h=!o||d-o>c;o=d;for(var p=arguments.length,f=Array(p),m=0;m<p;m++)f[m]=arguments[m];if(h&&i.leading)return i.accumulate?Promise.resolve(e.call(this,[f])).then((function(e){return e[0]})):Promise.resolve(e.call.apply(e,[this].concat(f)));if(s?clearTimeout(a):s=r(),l.push(f),a=setTimeout(u.bind(this),c),i.accumulate){var g=l.length-1;return s.promise.then((function(e){return e[g]}))}return s.promise};function u(){var t=s;clearTimeout(a),Promise.resolve(i.accumulate?e.call(this,l):e.apply(this,l[l.length-1])).then(t.resolve,t.reject),l=[],s=null}}},24059:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(67294)),a=o(r(34720)),l=r(93721),u=o(r(38997)),c=o(r(21651));t.default=function(e){var t=e.treeDeep,r=e.treeArrowElement,i=e.childComponents,o=e.column.style,d=e.isEditableCell,h=l.getElementCustomization({className:a.default.css.cell+" "+(null!=t?a.default.css.treeCell:""),style:o},e,i.cell),p=h.elementAttributes,f=h.content;return s.createElement("td",n({},p),t?Array(t).fill(void 0).map((function(e,t){return s.createElement("div",{key:t,className:a.default.css.treeCellEmptySpace})})):null,f||s.createElement(s.Fragment,null,r,d?s.createElement(u.default,n({},e)):s.createElement(c.default,n({},e))))}},38997:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(67294)),a=o(r(34720)),l=r(19929),u=r(84656),c=r(93721),d=o(r(13597));t.default=function(e){var t=e.childComponents,r=e.dispatch,i=e.editingMode,o=c.getElementCustomization({className:""+a.default.css.cellEditor},e,t.cellEditor),h=o.elementAttributes,p=o.content
;return s.createElement("div",n({},h),p||(i===l.EditingMode.Cell?s.createElement(d.default,n({},e,{dispatch:u.getCellEditorDispatchHandler(r),autoFocus:!0})):s.createElement(d.default,n({},e))))}},87847:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(67294)),s=r(91130),a=i(r(34720)),l=r(61961),u=r(93721);t.default=function(e){var t,r=e.column,i=e.dispatch,c=e.value,d=e.rowKeyValue,h=e.autoFocus,p=e.childComponents,f=u.getElementCustomization({className:""+a.default.css.checkbox,autoFocus:h,type:"checkbox",checked:c||!1,onChange:function(e){return i(s.updateCellValue(d,r.key,e.currentTarget.checked))},onBlur:function(){return i(s.closeEditor(d,r.key))}},e,null===(t=p)||void 0===t?void 0:t.cellEditorInput),m=f.elementAttributes;return f.content||o.default.createElement("input",n({ref:function(e){return e&&(e.indeterminate=l.isEmpty(c))}},m))}},90697:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(67294)),s=r(19929),a=i(r(87847)),l=i(r(55815)),u=i(r(99366)),c=i(r(35355));t.default=function(e){switch(e.column.dataType){case s.DataType.Boolean:return o.default.createElement(a.default,n({},e));case s.DataType.Date:return o.default.createElement(l.default,n({},e));case s.DataType.Number:return o.default.createElement(u.default,n({},e));default:return o.default.createElement(c.default,n({},e))}}},55815:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(67294)),s=r(91130),a=i(r(34720)),l=r(93721),u=r(81854);t.default=function(e){var t,r=e.column,i=e.dispatch,c=e.value,d=e.rowKeyValue,h=e.autoFocus,p=e.childComponents,f=c&&u.getDateInputValue(c),m=l.getElementCustomization({className:""+a.default.css.dateInput,autoFocus:h,type:"date",value:f||"",onChange:function(e){var t=e.currentTarget.value,n=t?new Date(t):null;i(s.updateCellValue(d,r.key,n))},onBlur:function(){return i(s.closeEditor(d,r.key))}},e,null===(t=p)||void 0===t?void 0:t.cellEditorInput),g=m.elementAttributes;return m.content||o.default.createElement("input",n({},g))}},99366:function(e,t,r){"use strict"
;var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(67294)),s=r(91130),a=i(r(34720)),l=r(93721);t.default=function(e){var t,r=e.column,i=e.dispatch,u=e.value,c=e.rowKeyValue,d=e.autoFocus,h=e.childComponents,p=l.getElementCustomization({className:""+a.default.css.numberInput,autoFocus:d,type:"number",value:null==u?"":u,onChange:function(e){var t=""!==e.currentTarget.value?Number(e.currentTarget.value):null;i(s.updateCellValue(c,r.key,t))},onBlur:function(){i(s.closeEditor(c,r.key))}},e,null===(t=h)||void 0===t?void 0:t.cellEditorInput),f=p.elementAttributes;return p.content||o.default.createElement("input",n({},f))}},13597:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(67294)),a=r(91130),l=r(19929),u=r(20274),c=r(88943),d=r(70320),h=o(r(32307));t.default=function(e){var t=e.column,r=e.dispatch,i=e.editingMode,o=e.rowData,p=e.rowKeyValue,f=e.validation,m=e.value,g=e.validationMessage,_=s.useState(o),v=_[0],y=_[1],b=s.useState(m),w=b[0],C=b[1],S=i===l.EditingMode.Cell;g=S||g?d.getValidationValue(w,v,t,f)||"":g;var E=s.useCallback((function(){r(a.closeEditor(p,t.key))}),[r,t,p]),T=s.useCallback((function(){S&&g||(w!==m&&r(a.updateEditorValue(p,t.key,w)),S&&E())}),[g,r,E,t,w,p,m,S]);s.useEffect((function(){return c.addEscEnterKeyEffect(E,T)}),[E,T]);var A=n(n({},e),{dispatch:function(e){e.type===l.ActionType.CloseEditor?T():e.type===l.ActionType.UpdateCellValue?function(e){var r=u.replaceValue(o,t,e.value);y(r),C(e.value)}(e):r(e)},value:w,editorValue:w,rowData:v,validationMessage:g||void 0});return s.default.createElement(h.default,n({},A))}},35355:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(67294)),s=r(91130),a=i(r(34720)),l=r(93721);t.default=function(e){var t,r=e.column,i=e.dispatch,u=e.value,c=e.rowKeyValue,d=e.autoFocus,h=e.childComponents,p=l.getElementCustomization({className:""+a.default.css.textInput,autoFocus:d,type:"text",value:u||"",
onChange:function(e){i(s.updateCellValue(c,r.key,e.currentTarget.value))},onBlur:function(){i(s.closeEditor(c,r.key))}},e,null===(t=h)||void 0===t?void 0:t.cellEditorInput),f=p.elementAttributes;return p.content||o.default.createElement("input",n({},f))}},32307:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(67294)),s=i(r(34720)),a=i(r(90697)),l=i(r(37613));t.default=function(e){var t=e.validationMessage;return o.default.createElement("div",{className:""+(t?s.default.css.kaCellEditorValidationError:"")},o.default.createElement(a.default,n({},e)),t&&o.default.createElement(l.default,{message:t}))}},37613:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(67294));t.default=function(e){var t=e.message;return i.default.createElement("div",{className:"ka-validation-message-container"},i.default.createElement("div",{className:"ka-validation-message"},t))}},21651:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(67294)),a=r(91130),l=o(r(34720)),u=r(19929),c=r(61961),d=r(93721);t.default=function(e){var t=e.childComponents,r=e.column,i=e.format,o=e.dispatch,h=e.editingMode,p=e.rowKeyValue,f=e.value,m=i&&i({column:r,value:f});m=m||!c.isEmpty(f)&&f.toString();var g=d.getElementCustomization({className:l.default.css.cellText,onClick:function(){h===u.EditingMode.Cell&&o(a.openEditor(p,r.key))}},e,t.cellText),_=g.elementAttributes,v=g.content;return s.createElement("div",n({},_),v||m||s.createElement(s.Fragment,null," "))}},95756:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(67294)),s=i(r(9752)),a=i(r(58277));t.default=function(e){var t=e.isDetailsRowShown;return o.default.createElement(o.default.Fragment,null,o.default.createElement(s.default,n({},e)),t&&o.default.createElement(a.default,n({},e)))}},
9752:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(67294)),s=r(91130),a=i(r(34720)),l=r(93721),u=r(1713),c=i(r(20961)),d=i(r(5549));t.default=function(e){var t=e.dispatch,r=e.groupColumnsCount,i=e.isSelectedRow,h=e.rowKeyValue,p=e.rowReordering,f=e.trRef,m=e.childComponents.dataRow;if(p){var g=u.getDraggableProps(h,t,s.reorderRows,a.default.css.draggedRow,a.default.css.dragOverRow);m=l.addElementAttributes(g,e,m)}var _=l.getElementCustomization({className:a.default.css.row+" "+(i?a.default.css.rowSelected:"")},e,m),v=_.elementAttributes,y=_.content;return o.default.createElement("tr",n({ref:f},v),y?o.default.createElement(o.default.Fragment,null,y):o.default.createElement(o.default.Fragment,null,o.default.createElement(d.default,{count:r}),o.default.createElement(c.default,n({},e))))}},20961:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(67294)),o=r(91130),s=n(r(34720)),a=r(84656),l=r(33562),u=r(20274),c=n(r(24059));t.default=function(e){var t=e.childComponents,r=e.columns,n=e.treeDeep,d=e.dispatch,h=e.editingMode,p=e.format,f=e.isDetailsRowShown,m=e.isSelectedRow,g=e.isTreeExpanded,_=e.isTreeGroup,v=e.rowData,y=e.rowEditableCells,b=e.rowKeyField,w=e.rowKeyValue,C=e.selectedRows,S=e.validation,E=_?[i.default.createElement("div",{onClick:function(){return d(o.updateTreeGroupsExpanded(w))},className:g?s.default.css.iconTreeArrowExpanded:s.default.css.iconTreeArrowCollapsed})]:void 0;return i.default.createElement(i.default.Fragment,null,r.map((function(e,r){var o,s=a.getEditableCell(e,y),g=s&&s.hasOwnProperty("editorValue"),_=s&&s.editorValue,T=g?_:u.getValueByColumn(v,e),A=null!=n&&0===r?n:void 0;return i.default.createElement(c.default,{treeArrowElement:null===(o=E)||void 0===o?void 0:o.pop(),childComponents:t,treeDeep:A,column:e,dispatch:d,editingMode:h,editorValue:_,field:l.getField(e),format:p,hasEditorValue:s&&s.hasOwnProperty("editorValue"),isDetailsRowShown:f,isEditableCell:!!s,isSelectedRow:m,key:e.key,rowData:v,rowKeyField:b,rowKeyValue:w,selectedRows:C,validation:S,validationMessage:s&&s.validationMessage,value:T})})))}},58277:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(67294)),s=i(r(34720)),a=r(93721),l=i(r(5549));t.default=function(e){
var t=e.groupColumnsCount,r=e.childComponents,i=e.columns,u=a.getElementCustomization({className:""+s.default.css.detailsRow},e,r.detailsRow),c=u.elementAttributes,d=u.content;return o.default.createElement("tr",n({},c),o.default.createElement(l.default,{count:t}),d&&o.default.createElement("td",{className:s.default.css.cell,colSpan:i.length},d))}},5549:function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(67294)),a=o(r(34720));t.default=function(e){var t=e.count,r=e.isTh;return s.createElement(s.Fragment,null,n(Array(t)).map((function(e,t){return r?s.createElement("th",{key:t,className:"ka-empty-cell "+a.default.css.theadBackground}):s.createElement("td",{key:t,className:"ka-empty-cell"})})))}},76358:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(67294)),a=o(r(34720)),l=r(93721),u=o(r(96415));t.default=function(e){var t=e.childComponents,r=e.column.style,i=l.getElementCustomization({className:a.default.css.theadCell+" ka-filter-row-cell "+a.default.css.theadBackground,style:r},e,t.filterRowCell),o=i.elementAttributes,c=i.content;return s.createElement("td",n({},o),c||s.createElement(u.default,n({},e)))}},68278:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(67294)),o=r(73553),s=n(r(5549)),a=n(r(76358));t.default=function(e){var t=e.childComponents,r=e.columns,n=e.dispatch,l=e.groupColumnsCount,u=i.default.useRef(null);return i.default.useEffect((function(){o.updateChildrenTop(u)}),[u]),i.default.createElement("tr",{className:"ka-filter-row ka-tr",ref:u},i.default.createElement(s.default,{count:l,isTh:!0}),r.map((function(e){return i.default.createElement(a.default,{key:e.key,column:e,childComponents:t,dispatch:n})})))}},38768:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(67294)),o=r(91130),s=n(r(34720)),a=r(61961);t.default=function(e){
var t=e.column,r=e.dispatch,n=t.filterRowValue;return i.default.createElement("input",{className:s.default.css.checkbox,type:"checkbox",ref:function(e){return e&&(e.indeterminate=a.isEmpty(n))},checked:n||!1,onChange:function(e){var i=e.currentTarget.checked;!1===n&&!0===i&&(i=void 0),r(o.updateFilterRowValue(t.key,i))}})}},96415:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(67294)),s=r(19929),a=i(r(38768)),l=i(r(25154)),u=i(r(54409)),c=i(r(41376));t.default=function(e){switch(e.column.dataType){case s.DataType.Boolean:return o.default.createElement(a.default,n({},e));case s.DataType.Date:return o.default.createElement(l.default,n({},e));case s.DataType.Number:return o.default.createElement(u.default,n({},e));default:return o.default.createElement(c.default,n({},e))}}},25154:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(67294)),o=r(91130),s=n(r(34720)),a=r(81854);t.default=function(e){var t=e.column,r=e.dispatch,n=t.filterRowValue,l=n&&a.getDateInputValue(n);return i.default.createElement("input",{className:s.default.css.dateInput,type:"date",value:l||"",onChange:function(e){var n=e.currentTarget.value,i=n?new Date(n):null;r(o.updateFilterRowValue(t.key,i))}})}},54409:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(67294)),o=r(91130),s=n(r(34720));t.default=function(e){var t=e.column,r=e.dispatch,n=t.filterRowValue;return i.default.createElement("input",{className:s.default.css.numberInput,type:"number",value:null==n?"":n,onChange:function(e){var n=""!==e.currentTarget.value?Number(e.currentTarget.value):null;r(o.updateFilterRowValue(t.key,n))}})}},41376:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(67294)),o=r(91130),s=n(r(34720));t.default=function(e){var t=e.column,r=e.dispatch;return i.default.createElement("input",{type:"text",className:s.default.css.textInput,value:t.filterRowValue||"",onChange:function(e){r(o.updateFilterRowValue(t.key,e.currentTarget.value))}})}},30720:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0})
;var o=i(r(67294)),s=i(r(34720)),a=r(93721),l=i(r(49519));t.default=function(e){var t=e.childComponents,r=a.getElementCustomization({className:s.default.css.groupRow},e,t.groupRow),i=r.elementAttributes,u=r.content;return o.default.createElement("tr",n({},i),u||o.default.createElement(l.default,n({},e)))}},49519:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(67294)),s=r(91130),a=i(r(34720)),l=r(93721),u=i(r(5549));t.default=function(e){var t=e.childComponents,r=e.contentColSpan,i=e.dispatch,c=e.groupIndex,d=e.groupKey,h=e.isExpanded,p=e.text,f=l.getElementCustomization({className:a.default.css.groupCell,colSpan:r},e,t.groupCell),m=f.elementAttributes,g=f.content;return o.default.createElement(o.default.Fragment,null,o.default.createElement(u.default,{count:c}),o.default.createElement("td",n({},m),o.default.createElement("div",{className:"ka-group-cell-content"},o.default.createElement("div",{onClick:function(){i(s.updateGroupsExpanded(d))},className:h?a.default.css.iconGroupArrowExpanded:a.default.css.iconGroupArrowCollapsed}),g||o.default.createElement("div",{className:"ka-group-text"},p))))}},87409:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(67294)),a=o(r(34720)),l=r(93721);t.GroupSummaryCell=function(e){var t,r=e.column.style,i=e.childComponents,o=l.getElementCustomization({className:a.default.css.groupSummaryCell,style:r},e,null===(t=i)||void 0===t?void 0:t.groupSummaryCell),u=o.elementAttributes,c=o.content;return s.createElement("td",n({},u),c)}},59532:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(67294)),a=o(r(34720)),l=r(93721),u=o(r(5549)),c=r(87409);t.GroupSummaryRow=function(e){
var t,r=e.childComponents,i=e.columns,o=e.groupColumnsCount,d=l.getElementCustomization({className:a.default.css.groupSummaryRow},e,null===(t=r)||void 0===t?void 0:t.groupSummaryRow),h=d.elementAttributes,p=d.content;return s.createElement("tr",n({},h),p||s.createElement(s.Fragment,null,s.createElement(u.default,{count:o}),i.map((function(t){return s.createElement(c.GroupSummaryCell,n({key:t.key},e,{column:t}))}))))}},69922:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(67294)),a=r(91130),l=o(r(34720)),u=r(382),c=r(93721),d=r(1713),h=r(44519),p=o(r(43794)),f=o(r(23588));t.default=function(e){var t=e.columnReordering,r=e.columnResizing,i=e.column,o=e.column,m=o.style,g=o.isResizable,_=o.key,v=e.dispatch,y=e.sortingMode,b=e.childComponents,w=e.childComponents.headCell,C=s.useState(m?m.width:void 0),S=C[0],E=C[1],T=n(n({},m),{width:S}),A=u.headCellDispatchWrapper(E,v);if(t){var D=d.getDraggableProps(_,v,a.reorderColumns,l.default.css.draggedColumn,l.default.css.dragOverColumn);w=c.addElementAttributes(D,e,w)}var M=c.getElementCustomization({className:l.default.css.theadCell+" "+l.default.css.theadBackground+" "+(h.isSortingEnabled(y)?"ka-pointer":""),style:T,scope:"col"},e,w),P=M.elementAttributes,O=M.content;return s.createElement("th",n({},P),s.createElement("div",{className:l.default.css.theadCellWrapper},s.createElement("div",{className:l.default.css.theadCellContentWrapper},O||s.createElement(p.default,n({},e))),u.isCellResizeShown(g,r)&&s.createElement(f.default,{column:i,currentWidth:S,dispatch:A,childComponents:b})))}},43794:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(67294)),a=r(91130),l=o(r(34720)),u=r(19929),c=r(93721),d=r(44519);t.default=function(e){var t=e.column,r=e.dispatch,i=e.sortingMode,o=e.childComponents.headCellContent,h=d.isSortingEnabled(i),p=h?function(){r(a.updateSortDirection(t.key))}:void 0,f=c.getElementCustomization({className:l.default.css.theadCellContent+" "+(h?"ka-pointer":""),onClick:p},e,o),m=f.elementAttributes,g=f.content
;return s.createElement("div",n({},m),g||s.createElement("span",null,t.title),t.sortDirection&&h&&s.createElement("span",{className:t.sortDirection===u.SortDirection.Ascend?l.default.css.iconSortArrowUp:l.default.css.iconSortArrowDown},t.sortIndex))}},23588:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(67294)),a=r(91130),l=o(r(34720)),u=r(382),c=r(93721),d=r(88943);t.default=function(e){var t=e.column,r=t.key,i=t.style,o=e.dispatch,h=e.currentWidth,p=e.childComponents,f=u.getMinWidth(i),m=c.getElementCustomization({className:l.default.css.theadCellResize,draggable:!1,onMouseDown:function(e){e.preventDefault();var t=e.screenX-(u.isNumberWidth(h)?h:e.currentTarget.parentElement.offsetWidth),n=d.getEventListenerEffect("mousemove",u.getMouseMove(h,f,t,o)),i=d.getEventListenerEffect("mouseup",(function(e){var s=u.getValidatedWidth(e.screenX-t,f);o(a.resizeColumn(r,s)),o({type:u.HeadCellResizeStateAction,width:s}),i(),n()}))}},e,p.headCellResize),g=m.elementAttributes,_=m.content;return s.createElement("div",n({},g),_||s.createElement(s.Fragment,null," "))}},33932:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(67294)),s=i(r(34720)),a=r(93721),l=i(r(5549)),u=i(r(69922));t.default=function(e){var t=e.areAllRowsSelected,r=e.childComponents,i=e.columnReordering,c=e.columnResizing,d=e.columns,h=e.dispatch,p=e.groupColumnsCount,f=e.sortingMode,m=a.getElementCustomization({className:s.default.css.theadRow},e,r.headRow),g=m.elementAttributes,_=m.content;return o.default.createElement("tr",n({},g),_||o.default.createElement(o.default.Fragment,null,o.default.createElement(l.default,{count:p,isTh:!0}),d.map((function(e){return o.default.createElement(u.default,{areAllRowsSelected:t,childComponents:r,columnReordering:i,columnResizing:c,column:e,dispatch:h,key:e.key,sortingMode:f})}))))}},44494:function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(67294));t.default=function(e){var t=e.enabled,r=e.text;return t?i.createElement("div",{className:"ka-loading"
},i.createElement("div",{className:"ka-loading-icon"}),r&&i.createElement("div",{className:"ka-loading-text"},r)):i.createElement(i.Fragment,null)}},21895:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(67294)),o=r(73993),s=r(19929),a=n(r(9752));t.default=function(e){var t=e.childComponents,r=e.columns,n=e.dispatch,l=e.editableCells,u=e.format,c=e.groupColumnsCount,d=e.rowKeyField,h=e.validation;return i.default.createElement(a.default,{childComponents:t,columns:r,dispatch:n,format:u,editableCells:l,editingMode:s.EditingMode.None,groupColumnsCount:c,isDetailsRowShown:!1,isSelectedRow:!1,rowData:{},rowKeyField:d,rowKeyValue:o.newRowId,rowReordering:!1,validation:h,selectedRows:[],rowEditableCells:l})}},75985:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(67294)),s=r(93721);t.default=function(e){var t=e.childComponents,r=e.columns,i=e.groupColumnsCount,a=s.getElementCustomization({className:"ka-tr ka-no-data-row"},e,t.noDataRow),l=a.elementAttributes,u=a.content;return o.default.createElement("tr",n({},l),o.default.createElement("td",{className:"ka-no-data-cell",colSpan:r.length+i},u))}},4818:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(67294)),a=o(r(34720)),l=r(93721),u=o(r(30555)),c=o(r(43354));t.default=function(e){var t=e.childComponents,r=e.pageSizes,i=l.getElementCustomization({className:a.default.css.paging+" "+(r?"ka-paging-sizes-active":"")},e,t.paging),o=i.elementAttributes,d=i.content;return s.createElement("div",n({},o),d||s.createElement(s.Fragment,null,r&&s.createElement(c.default,n({},e)),s.createElement(u.default,n({},e))))}},73424:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{
default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(67294)),a=r(91130),l=o(r(34720)),u=r(93721);t.default=function(e){var t=e.childComponents,r=e.dispatch,i=e.isActive,o=e.pageIndex,c=e.text,d=u.getElementCustomization({className:l.default.css.pagingPageIndex+" "+(i?"ka-paging-page-index-active":""),onClick:function(){return r(a.updatePageIndex(o))}},e,t.pagingIndex),h=d.elementAttributes,p=d.content;return s.createElement("li",n({},h),p||c)}},30555:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(r(67294)),l=r(91130),u=s(r(34720)),c=r(93721),d=r(45046),h=s(r(73424));t.default=function(e){var t=e.childComponents,r=e.dispatch,o=e.pagesCount,s=e.pageIndex,p=void 0===s?0:s,f=e.pages,m=void 0===f?d.getPagesArrayBySize(o):f;a.useEffect((function(){0!==p&&p>=m.length&&r(l.updatePageIndex(0))}),[r,p,m]);var g=p<m.length-d.centerLength&&m.length>d.centerLength+Math.ceil(d.centerLength/2),_=p>=d.centerLength&&m.length>d.centerLength+Math.ceil(d.centerLength/2),v=d.getPagesForCenter(m,_,g,p),y=c.getElementCustomization({className:u.default.css.pagingPages},e,t.pagingPages),b=y.elementAttributes,w=y.content;return a.createElement("ul",n({},b),w||a.createElement(a.Fragment,null,_&&a.createElement(a.Fragment,null,a.createElement(h.default,n({},e,{pageIndex:0,isActive:0===p,text:1})),a.createElement(h.default,n({},e,{pageIndex:v[0]-1,isActive:!1,text:"..."}))),v.map((function(t,r){return a.createElement(h.default,n({},e,{pageIndex:t,isActive:p===t,key:t,text:t+1}))})),g&&a.createElement(a.Fragment,null,a.createElement(h.default,n({},e,{pageIndex:i(v).pop()+1,isActive:!1,text:"..."})),a.createElement(h.default,n({},e,{pageIndex:m[m.length-1],isActive:p===m[m.length-1],text:m[m.length-1]+1})))))}},90338:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0})
;var s=i(r(67294)),a=r(91130),l=o(r(34720)),u=r(93721);t.default=function(e){var t=e.childComponents,r=e.dispatch,i=e.pageSize,o=e.value,c=i===o,d=u.getElementCustomization({className:l.default.css.pagingSize+" "+(c?"ka-paging-size-active":""),onClick:function(){return r(a.updatePageSize(o))}},e,t.pagingSize),h=d.elementAttributes,p=d.content;return s.createElement("li",n({},h),p||o)}},43354:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(67294)),a=o(r(34720)),l=r(93721),u=o(r(90338));t.default=function(e){var t=e.childComponents,r=e.pageSizes,i=void 0===r?[]:r,o=l.getElementCustomization({className:a.default.css.pagingSizes},e,t.pagingSizes),c=o.elementAttributes,d=o.content;return s.createElement("ul",n({},c),d||i.map((function(t){return s.createElement(u.default,n({},e,{key:t,value:t}))})))}},95674:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(67294)),a=r(20274),l=r(41018),u=r(95120),c=r(82013),d=o(r(95756)),h=o(r(30720)),p=r(59532);t.default=function(e){var t=e.childComponents,r=e.columns,i=e.data,o=e.detailsRows,f=void 0===o?[]:o,m=e.dispatch,g=e.editableCells,_=e.format,v=e.groupedColumns,y=e.groups,b=void 0===y?[]:y,w=e.groupsExpanded,C=void 0===w?[]:w,S=e.onFirstRowRendered,E=e.treeGroupsExpanded,T=e.rowKeyField,A=e.rowReordering,D=e.selectedRows,M=e.validation,P=u.getGroupMark(),O=s.useRef(null);s.useEffect((function(){S(O)}),[O,S]);var R=O;return s.default.createElement(s.default.Fragment,null,i.map((function(i){if(i.groupMark===P){var o=i.key.length-1,y=b&&b[o],w=y&&v.find((function(e){return e.key===y.columnKey}));return s.default.createElement(h.default,{childComponents:t,column:w,contentColSpan:r.length-o+b.length,dispatch:m,groupIndex:o,groupKey:i.key,isExpanded:C.some((function(e){return JSON.stringify(e)===JSON.stringify(i.key)})),text:u.getGroupText(i.value,w,_),key:JSON.stringify(i.key)})}if(i.groupSummaryMark===u.groupSummaryMark)return s.default.createElement(p.GroupSummaryRow,n({},e,{groupData:i.groupData,key:i.key,groupIndex:i.groupIndex}))
;var S=i.treeGroupMark===c.treeGroupMark,O=i.treeDataMark===c.treeDataMark,F=S||O,k=F?i.rowData:i,x=a.getValueByField(k,T),V=S&&(!E||E.includes(x)),N=D.some((function(e){return e===x})),U=f.some((function(e){return e===x})),j=l.getRowEditableCells(x,g),I=s.default.createElement(d.default,{childComponents:e.childComponents,columns:e.columns,dispatch:m,editableCells:e.editableCells,editingMode:e.editingMode,isTreeGroup:S,isTreeExpanded:V,treeDeep:!0===F?i.treeDeep:void 0,format:_,groupColumnsCount:e.groupColumnsCount,isDetailsRowShown:U,isSelectedRow:N,key:x,rowData:k,rowEditableCells:j,rowKeyField:e.rowKeyField,rowKeyValue:x,rowReordering:A,selectedRows:e.selectedRows,trRef:R,validation:M});return R=void 0,I})))}},7884:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(67294)),a=o(r(34720)),l=r(93721);t.SummaryCell=function(e){var t,r=e.column.style,i=e.childComponents,o=l.getElementCustomization({className:a.default.css.summaryCell,style:r},e,null===(t=i)||void 0===t?void 0:t.summaryCell),u=o.elementAttributes,c=o.content;return s.createElement("td",n({},u),c)}},35226:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(67294)),a=o(r(34720)),l=r(93721),u=o(r(5549)),c=r(7884);t.SummaryRow=function(e){var t,r=e.childComponents,i=e.columns,o=e.groupColumnsCount,d=l.getElementCustomization({className:a.default.css.summaryRow},e,null===(t=r)||void 0===t?void 0:t.summaryRow),h=d.elementAttributes,p=d.content;return s.createElement("tr",n({},h),p||s.createElement(s.Fragment,null,s.createElement(u.default,{count:o}),i.map((function(t){return s.createElement(c.SummaryCell,n({key:t.key},e,{column:t}))}))))}},54634:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={}
;if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(67294)),a=r(91130),l=r(19929),u=r(93721),c=r(45046),d=o(r(44494)),h=r(55955),p=r(29048);t.Table=function(e){var t,r=e.childComponents,i=e.dispatch,o=e.height,f=e.loading,m=e.width,g=e.paging,_=e.singleAction,v=f&&f.enabled?"ka ka-loading-active":"ka",y=u.getElementCustomization({className:v},e,null===(t=r)||void 0===t?void 0:t.rootDiv),b=y.elementAttributes,w=y.content;return b.style=n({width:m,height:o},b.style),s.useEffect((function(){_&&(i(_),i(a.clearSingleAction()))})),s.createElement("div",n({},b),w||s.createElement(s.Fragment,null,c.isPagingShown(l.PagingPosition.Top,g)&&s.createElement(h.TablePaging,n({},e)),s.createElement(p.TableWrapper,n({},e)),c.isPagingShown(l.PagingPosition.Bottom,g)&&s.createElement(h.TablePaging,n({},e)),s.createElement(d.default,n({},f))))}},64395:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(67294)),a=o(r(34720)),l=r(93721),u=o(r(37883));t.default=function(e){var t=e.childComponents,r=l.getElementCustomization({className:a.default.css.tbody},e,t.tableBody),i=r.elementAttributes,o=r.content;return s.createElement("tbody",n({},i),o||s.createElement(u.default,n({},e)))}},37883:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(67294)),s=r(73993),a=i(r(21895)),l=i(r(75985)),u=i(r(58010));t.default=function(e){var t=e.childComponents,r=e.columns,i=e.data,c=e.dispatch,d=e.editableCells,h=e.format,p=e.groupColumnsCount,f=e.rowKeyField,m=e.validation,g=d&&d.filter((function(e){return e.rowKeyValue===s.newRowId}));return o.default.createElement(o.default.Fragment,null,g&&!!g.length&&o.default.createElement(a.default,{childComponents:t,columns:r,dispatch:c,editableCells:g,format:h,groupColumnsCount:p,rowKeyField:f,validation:m}),i.length?o.default.createElement(u.default,n({},e)):o.default.createElement(l.default,n({},e)))}},22717:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){
for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(67294)),a=o(r(34720)),l=r(93721),u=r(35226);t.TableFoot=function(e){var t,r=e.childComponents,i=l.getElementCustomization({className:a.default.css.tfoot},e,null===(t=r)||void 0===t?void 0:t.tableFoot),o=i.elementAttributes,c=i.content;return s.createElement("tfoot",n({},o),c||s.createElement(u.SummaryRow,n({},e)))}},5220:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(67294)),a=o(r(34720)),l=r(19929),u=r(93721),c=o(r(68278)),d=o(r(33932));t.TableHead=function(e){var t=e.areAllRowsSelected,r=e.childComponents,i=e.columnReordering,o=e.columnResizing,h=e.columns,p=e.dispatch,f=e.filteringMode,m=e.groupColumnsCount,g=e.sortingMode,_=u.getElementCustomization({className:a.default.css.thead},e,r.tableHead),v=_.elementAttributes,y=_.content;return s.createElement("thead",n({},v),y||s.createElement(s.Fragment,null,s.createElement(d.default,{areAllRowsSelected:t,childComponents:r,columnReordering:i,columnResizing:o,columns:h,dispatch:p,groupColumnsCount:m,sortingMode:g}),f===l.FilteringMode.FilterRow&&s.createElement(c.default,{childComponents:r,columns:h,dispatch:p,groupColumnsCount:m})))}},55955:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(67294)),a=r(1713),l=o(r(4818));t.TablePaging=function(e){var t=e.childComponents,r=void 0===t?{}:t,i=e.dispatch,o=e.paging;return s.createElement(l.default,n({},o,{dispatch:i,childComponents:r,pagesCount:a.getPagesCountByProps(e)}))}},29048:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){
for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(67294)),a=o(r(34720)),l=r(19929),u=r(93721),c=r(95120),d=r(1713),h=r(51075),p=o(r(64395)),f=r(22717),m=r(5220);t.TableWrapper=function(e){var t=e.childComponents,r=void 0===t?{}:t,i=e.columnReordering,o=e.columnResizing,g=e.data,_=void 0===g?[]:g,v=e.dispatch,y=e.editableCells,b=void 0===y?[]:y,w=e.editingMode,C=void 0===w?l.EditingMode.None:w,S=e.filteringMode,E=void 0===S?l.FilteringMode.None:S,T=e.groups,A=e.rowReordering,D=void 0!==A&&A,M=e.selectedRows,P=void 0===M?[]:M,O=e.sortingMode,R=void 0===O?l.SortingMode.None:O,F=e.virtualScrolling,k=e.groupsExpanded,x=d.prepareTableOptions(e);T&&!k&&(k=c.getExpandedGroups(x.groupedData));var V=_.length===P.length,N=u.getElementCustomization({className:a.default.css.tableWrapper,onScroll:h.isVirtualScrollingEnabled(F)?function(e){v({scrollTop:e.currentTarget.scrollTop,type:l.ActionType.ScrollTable})}:void 0},e,r.tableWrapper),U=u.getElementCustomization({className:a.default.css.table},e,r.table),j=U.elementAttributes,I=U.content;return s.createElement("div",n({},N.elementAttributes),I||N.content||s.createElement("table",n({},j),s.createElement(m.TableHead,{areAllRowsSelected:V,childComponents:r,columnReordering:i,columnResizing:o,columns:x.columns,dispatch:v,filteringMode:E,groupColumnsCount:x.groupColumnsCount,sortingMode:R}),s.createElement(p.default,n({},e,{childComponents:r,columns:x.columns,data:x.groupedData,editableCells:b,editingMode:C,groupColumnsCount:x.groupColumnsCount,groupedColumns:x.groupedColumns,groupsExpanded:k,rowReordering:D,selectedRows:P})),(r.tableFoot||r.summaryRow||r.summaryCell)&&s.createElement(f.TableFoot,n({},e,{data:_,columns:x.columns,groupColumnsCount:x.groupColumnsCount}))))}},58010:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(67294)),s=i(r(34720)),a=r(19929),l=r(51075),u=i(r(95674));t.default=function(e){var t,r=e.data,i=e.dispatch,c=e.virtualScrolling,d=r;return c&&(d=(t=l.getVirtualized(c,d)).virtualizedData),o.default.createElement(o.default.Fragment,null,t&&o.default.createElement("tr",{style:{height:t.beginHeight}},o.default.createElement("td",{style:{height:t.beginHeight}})),o.default.createElement(u.default,n({},e,{data:d,onFirstRowRendered:function(e){if(e&&e.current&&c&&(!c.itemHeight||!c.tbodyHeight)){
var t=e.current.offsetHeight||40,r=e.current.closest("."+s.default.css.root),o=r&&r.offsetHeight||600,l=n({itemHeight:t,tbodyHeight:o},c);i({type:a.ActionType.UpdateVirtualScrolling,virtualScrolling:l})}}})),t&&o.default.createElement("tr",{style:{height:t.endHeight}},o.default.createElement("td",{style:{height:t.endHeight}})))}},4803:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){this.root="ka",this.cell="ka-cell",this.treeCell="ka-tree-cell",this.treeCellEmptySpace="ka-tree-empty-space",this.cellEditor="ka-cell-editor",this.cellText="ka-cell-text",this.groupCell="ka-group-cell",this.groupSummaryRow="ka-group-summary-row",this.detailsRow="ka-tr ka-details-row",this.groupRow="ka-tr ka-group-row",this.groupSummaryCell="ka-cell ka-group-summary-cell",this.kaCellEditorValidationError="ka-cell-editor-validation-error",this.row="ka-tr ka-row",this.rowSelected="ka-row-selected",this.tableWrapper="ka-table-wrapper",this.table="ka-table",this.tbody="ka-tbody",this.tfoot="ka-tfoot",this.thead="ka-thead",this.theadBackground="ka-thead-background",this.theadCell="ka-thead-cell",this.summaryCell="ka-summary-cell",this.summaryRow="ka-summary-row",this.theadCellContent="ka-thead-cell-content",this.theadCellContentWrapper="ka-thead-cell-content-wrapper",this.theadCellResize="ka-thead-cell-resize",this.theadCellWrapper="ka-thead-cell-wrapper",this.theadRow="ka-tr ka-thead-row",this.draggedRow="ka-dragged-row",this.dragOverRow="ka-drag-over-row",this.draggedColumn="ka-dragged-column",this.dragOverColumn="ka-drag-over-column",this.paging="ka-paging",this.pagingPages="ka-paging-pages",this.pagingPageIndex="ka-paging-page-index",this.pagingSize="ka-paging-size",this.pagingSizes="ka-paging-sizes",this.iconClose="ka-icon ka-icon-close",this.iconGroupArrowCollapsed="ka-icon ka-icon-group-arrow ka-icon-group-arrow-collapsed",this.iconGroupArrowExpanded="ka-icon ka-icon-group-arrow ka-icon-group-arrow-expanded",this.iconTreeArrowCollapsed="ka-icon ka-icon-tree-arrow ka-icon-tree-arrow-collapsed",this.iconTreeArrowExpanded="ka-icon ka-icon-tree-arrow ka-icon-tree-arrow-expanded",this.iconSortArrowDown="ka-icon ka-icon-sort ka-icon-sort-arrow-down",this.iconSortArrowUp="ka-icon ka-icon-sort ka-icon-sort-arrow-up",this.checkbox="ka-input",this.dateInput="ka-input",this.numberInput="ka-input",this.textInput="ka-input"};t.CssClasses=r},12872:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n};Object.defineProperty(t,"__esModule",{value:!0});var o=r(73993),s=r(19929),a=r(15160),l=r(80891),u=r(84656),c=r(20274),d=r(41018),h=r(95120),p=r(84950),f=r(15272),m=r(1713),g=r(82013),_=function(e,t,r){
return e.filter((function(e){return!t.some((function(t){return c.getValueByField(t,r)===e}))}))},v=function(e,t,r){var i,o;if(!(null===(o=null===(i=e)||void 0===i?void 0:i.focused)||void 0===o?void 0:o.cell))return e;var s={cell:r(e.focused.cell,e,t.settings)};return n(n({},e),{focused:s})};t.kaReducer=function(e,t){var r=e.columns,y=e.data,b=void 0===y?[]:y,w=e.detailsRows,C=void 0===w?[]:w,S=e.editableCells,E=void 0===S?[]:S,T=e.groupsExpanded,A=e.loading,D=e.paging,M=e.treeGroupsExpanded,P=e.rowKeyField,O=e.selectedRows,R=void 0===O?[]:O,F=e.validation,k=e.sortingMode,x=void 0===k?s.SortingMode.None:k,V=e.virtualScrolling;switch(t.type){case s.ActionType.MoveFocusedRight:return v(e,t,f.getRightCell);case s.ActionType.MoveFocusedLeft:return v(e,t,f.getLeftCell);case s.ActionType.MoveFocusedUp:return v(e,t,f.getUpCell);case s.ActionType.MoveFocusedDown:return v(e,t,f.getDownCell);case s.ActionType.SetFocused:return n(n({},e),{focused:t.focused});case s.ActionType.ClearFocused:return n(n({},e),{focused:void 0});case s.ActionType.ClearSingleAction:return n(n({},e),{singleAction:void 0});case s.ActionType.SetSingleAction:return n(n({},e),{singleAction:t.singleAction});case s.ActionType.ShowColumn:var N=(K=i(r)).findIndex((function(e){return e.key===t.columnKey}));return K[N]=n(n({},K[N]),{visible:!0}),n(n({},e),{columns:K});case s.ActionType.HideColumn:N=(K=i(r)).findIndex((function(e){return e.key===t.columnKey}));return K[N]=n(n({},K[N]),{visible:!1}),n(n({},e),{columns:K});case s.ActionType.ReorderRows:var U=c.reorderData(b,(function(e){return c.getValueByField(e,P)}),t.rowKeyValue,t.targetRowKeyValue);return n(n({},e),{data:U});case s.ActionType.ReorderColumns:U=c.reorderData(r,(function(e){return e.key}),t.columnKey,t.targetColumnKey);return n(n({},e),{columns:U});case s.ActionType.ResizeColumn:var j=t.columnKey,I=t.width,L=r.find((function(e){return e.key===j})),B=n(n({},L),{style:n(n({},L.style),{width:I})}),K=l.getCopyOfArrayAndInsertOrReplaceItem(B,"key",r);return n(n({},e),{columns:K});case s.ActionType.UpdatePageIndex:return n(n({},e),{paging:n(n({},D),{pageIndex:t.pageIndex})});case s.ActionType.UpdatePageSize:return n(n({},e),{paging:n(n({},D),{pageSize:t.pageSize})});case s.ActionType.UpdatePagesCount:return n(n({},e),{paging:n(n({},D),{pagesCount:t.pagesCount})});case s.ActionType.HideLoading:return n(n({},e),{loading:n(n({},A),{enabled:!1})});case s.ActionType.ShowLoading:var z=n(n({},A),{enabled:!0});return void 0!==t.text&&(z.text=t.text),n(n({},e),{loading:z});case s.ActionType.ShowDetailsRow:return(H=i(C)).push(t.rowKeyValue),n(n({},e),{detailsRows:H});case s.ActionType.HideDetailsRow:var H=C.filter((function(e){return e!==t.rowKeyValue}));return n(n({},e),{detailsRows:H});case s.ActionType.OpenEditor:var W=u.addItemToEditableCells(t,E);return n(n({},e),{editableCells:W});case s.ActionType.CloseEditor:W=u.removeItemFromEditableCells(t,E);return n(n({},e),{editableCells:W});case s.ActionType.UpdateFilterRowValue:L=r.find((function(e){return e.key===t.columnKey})),B=n(n({},L),{
filterRowValue:t.filterRowValue}),K=l.getCopyOfArrayAndInsertOrReplaceItem(B,"key",r);return n(n({},e),{columns:K});case s.ActionType.UpdateFilterRowOperator:L=r.find((function(e){return e.key===t.columnKey})),B=n(n({},L),{filterRowOperator:t.filterRowOperator}),K=l.getCopyOfArrayAndInsertOrReplaceItem(B,"key",r);return n(n({},e),{columns:K});case s.ActionType.UpdateEditorValue:var G=(W=i(E)).findIndex((function(e){return e.columnKey===t.columnKey&&e.rowKeyValue===t.rowKeyValue})),q=n(n({},W[G]),{editorValue:t.value});return W[G]=q,n(n({},e),{editableCells:W});case s.ActionType.UpdateCellValue:var $=b.find((function(e){return c.getValueByField(e,P)===t.rowKeyValue})),X=(L=r.find((function(e){return e.key===t.columnKey})),c.replaceValue($,L,t.value));U=l.getCopyOfArrayAndInsertOrReplaceItem(X,P,b);return n(n({},e),{data:U});case s.ActionType.DeleteRow:U=b.filter((function(e){return c.getValueByField(e,P)!==t.rowKeyValue}));return n(n({},e),{data:U});case s.ActionType.SelectAllRows:var J=b.map((function(e){return c.getValueByField(e,P)}));return n(n({},e),{selectedRows:J});case s.ActionType.SelectAllFilteredRows:U=d.filterAndSearchData(e),J=_(R,U,P);return J=i(J,U.map((function(e){return c.getValueByField(e,P)}))),n(n({},e),{selectedRows:J});case s.ActionType.SelectAllVisibleRows:U=m.getData(e),J=_(R,U,P);return J=i(J,U.map((function(e){return c.getValueByField(e,P)}))),n(n({},e),{selectedRows:J});case s.ActionType.Search:return n(n({},e),{searchText:t.searchText});case s.ActionType.SelectSingleRow:J=[t.rowKeyValue];return n(n({},e),{selectedRows:J});case s.ActionType.DeselectAllRows:return n(n({},e),{selectedRows:[]});case s.ActionType.DeselectAllFilteredRows:U=d.filterAndSearchData(e),J=_(R,U,P);return n(n({},e),{selectedRows:J});case s.ActionType.DeselectAllVisibleRows:U=m.getData(e),J=_(R,U,P);return n(n({},e),{selectedRows:J});case s.ActionType.SelectRow:return n(n({},e),{selectedRows:i(R,[t.rowKeyValue])});case s.ActionType.SelectRowsRange:var Q=t.rowKeyValueTo;if(Q){var Z=a.kaPropsUtils.getData(e),Y=Z.findIndex((function(e){return c.getValueByField(e,P)===Q})),ee=Z.findIndex((function(e){return c.getValueByField(e,P)===t.rowKeyValueFrom}));if(null!=Y&&null!=ee){for(var te=Y>ee?[ee,Y]:[Y,ee],re=te[1],ne=[],ie=te[0];ie<=re;ie++){var oe=c.getValueByField(Z[ie],P);R.includes(oe)||ne.push(oe)}return n(n({},e),{selectedRows:i(R,ne)})}}return n(n({},e),{selectedRows:i(R,[t.rowKeyValueFrom])});case s.ActionType.DeselectRow:J=i(R).filter((function(e){return e!==t.rowKeyValue}));return n(n({},e),{selectedRows:J});case s.ActionType.UpdateSortDirection:var se=p.getUpdatedSortedColumns(r,t.columnKey,x);return n(n({},e),{columns:se});case s.ActionType.UpdateVirtualScrolling:return n(n({},e),{virtualScrolling:t.virtualScrolling});case s.ActionType.UpdateData:return n(n({},e),{data:t.data});case s.ActionType.ScrollTable:var ae=t.scrollTop;return n(n({},e),{virtualScrolling:n(n({},V),{scrollTop:ae})});case s.ActionType.UpdateGroupsExpanded:var le=T;if(!le){var ue=m.prepareTableOptions(e);le=h.getExpandedGroups(ue.groupedData)}
var ce=h.updateExpandedGroups(le,t.groupKey);return n(n({},e),{groupsExpanded:ce});case s.ActionType.ShowNewRow:case s.ActionType.OpenRowEditors:var de=t.type===s.ActionType.ShowNewRow?o.newRowId:t.rowKeyValue;W=function(e,t,r){var n=i(e);return t.forEach((function(e){!1===e.isEditable||n.some((function(t){return t.columnKey===e.key&&t.rowKeyValue===r}))||n.push({columnKey:e.key,rowKeyValue:r})})),n}(E,r,de);return n(n({},e),{editableCells:W});case s.ActionType.HideNewRow:case s.ActionType.CloseRowEditors:var he=t.type===s.ActionType.HideNewRow?o.newRowId:t.rowKeyValue;W=E.filter((function(e){return e.rowKeyValue!==he}));return n(n({},e),{editableCells:W});case s.ActionType.SaveRowEditors:case s.ActionType.SaveNewRow:var pe=t.type===s.ActionType.SaveNewRow,fe=pe?o.newRowId:t.rowKeyValue,me=b.find((function(e){return c.getValueByField(e,P)===fe})),ge=E.filter((function(e){return e.rowKeyValue===fe&&(pe||e.hasOwnProperty("editorValue"))}));if(t.validate){var _e=!0;if(ge.forEach((function(e){var t=r.find((function(t){return t.key===e.columnKey}));e.validationMessage=F&&F({column:t,value:e.editorValue,rowData:me}),_e=_e&&!e.validationMessage})),!_e)return n(n({},e),{editableCells:i(E)})}W=E.filter((function(e){return e.rowKeyValue!==fe}));ge.forEach((function(e){var t=r.find((function(t){return t.key===e.columnKey}));me=c.replaceValue(me,t,e.editorValue)}));U=void 0;return pe?(me[P]=t.rowKeyValue,U=i([me],b)):U=l.getCopyOfArrayAndInsertOrReplaceItem(me,P,b),n(n({},e),{data:U,editableCells:W});case s.ActionType.UpdateRow:U=l.getCopyOfArrayAndInsertOrReplaceItem(t.rowData,P,b);return n(n({},e),{data:U});case s.ActionType.UpdateTreeGroupsExpanded:var ve=t.rowKeyValue;if(oe=!!M&&!M.some((function(e){return e===ve})))return n(n({},e),{treeGroupsExpanded:i(M||[],[ve])});var ye=M;if(!ye){ue=m.prepareTableOptions(e);ye=g.getExpandedParents(ue.groupedData,P)}return n(n({},e),{treeGroupsExpanded:ye.filter((function(e){return e!==ve}))})}return e}},80891:function(e,t){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n};Object.defineProperty(t,"__esModule",{value:!0}),t.getCopyOfArrayAndAddItem=function(e,t){return void 0===t&&(t=[]),t.concat([e])},t.getCopyOfArrayAndDeleteItem=function(e,t,r){var n=e[t];return r.filter((function(e){return e[t]!==n}))},t.getCopyOfArrayAndInsertOrReplaceItem=function(e,t,n){var i=r(n),o=e[t],s=i.findIndex((function(e){return e[t]===o}));return s>=0?i.splice(s,1,e):i.push(e),i}},382:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeadCellResizeStateAction="HeadCellResizeStateAction",t.isCellResizeShown=function(e,t){return!(!1===e||!t&&!e)},t.getMouseMove=function(e,r,n,i){return function(o){var s=o.screenX-n;s!==e&&(s=t.getValidatedWidth(s,r),i({type:t.HeadCellResizeStateAction,width:s}))}},t.getValidatedWidth=function(e,t){return e<t?t:e},t.isNumberWidth=function(e){return e&&"number"==typeof e},
t.getMinWidth=function(e){var r=20,n=e&&e.minWidth;return t.isNumberWidth(n)&&(r=n),r},t.headCellDispatchWrapper=function(e,r){return function(n){n.type===t.HeadCellResizeStateAction?e(n.width):r(n)}}},84656:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(91130),i=r(19929),o=r(80891);t.isEditableCell=function(e,t,r){return void 0!==t.isEditable?t.isEditable:!!r.find((function(e){return e.columnKey===t.key}))},t.getEditableCell=function(e,t){if(!1!==e.isEditable)return t.find((function(t){return t.columnKey===e.key}))},t.addItemToEditableCells=function(e,t){return o.getCopyOfArrayAndAddItem(e,t)},t.getCellEditorDispatchHandler=function(e){return function(t){t.type===i.ActionType.UpdateEditorValue?e(n.updateCellValue(t.rowKeyValue,t.columnKey,t.value)):e(t)}},t.removeItemFromEditableCells=function(e,t){return t.filter((function(t){return t.columnKey!==e.columnKey||t.rowKeyValue!==e.rowKeyValue}))}},33562:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(34720));t.getField=function(e){return e.field||e.key},t.getLastField=function(e){return i.default.fieldDelimiter?e.split(i.default.fieldDelimiter).pop():e},t.getFieldParts=function(e){return i.default.fieldDelimiter?e.split(i.default.fieldDelimiter):[e]},t.getLastFieldParents=function(e){if(i.default.fieldDelimiter){var t=e.split(i.default.fieldDelimiter);return t.pop(),t}return[]}},61961:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=function(e){return null==e||0===e.length}},93721:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=r(1713);t.getElementCustomization=function(e,t,r){var n=i.extendProps(e,t,r);return{content:r&&r.content&&r.content(t),elementAttributes:n}},t.addElementAttributes=function(e,t,r){var i=n({},r),o=i.elementAttributes&&i.elementAttributes(t);return i.elementAttributes=function(){return n(n({},o),e)},i}},20274:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n};Object.defineProperty(t,"__esModule",{value:!0});var o=r(33562);t.getParentValue=function(e,t){var r=t.reduce((function(e,t){var r=e&&e[t];return void 0!==r?r:void 0}),e);return r?n({},r):void 0},t.createObjByFields=function(e,t,r){var i={};return e.length?e.reduce((function(n,i,o){var s={};return n[i]=s,o===e.length-1&&(s[t]=r),s
}),i):i[t]=r,n({},i)},t.getValueByColumn=function(e,r){return t.getValueByField(e,o.getField(r))},t.getValueByField=function(e,t){for(var r=n({},e),i=o.getFieldParts(t),s=0,a=i.length;s<a;++s){var l=i[s];if(!(l in r))return;r=r[l]}return r};var s=function(e,r,o,a){var l=n({},e);if(a&&a.length){var u=t.getParentValue(l,a)||{};u[r]=o;var c=i(a),d=c.pop();l=s(l,d,u,c)}else l[r]=o;return l};t.replaceValue=function(e,t,r){var n=o.getField(t);return s(e,o.getLastField(n),r,o.getLastFieldParents(n))},t.reorderData=function(e,t,r,n){var i=e.find((function(e){return t(e)===r})),o=e.filter((function(e){return t(e)!==r})),s=e.findIndex((function(e){return t(e)===n}));return o.splice(s,0,i),o}},81854:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDateInputValue=function(e){return new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().split("T")[0]}},73553:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateChildrenTop=function(e){if(e&&e.current&&e.current.previousSibling&&e.current.childNodes){var t=e.current.previousSibling.getBoundingClientRect();if(t){var r=t.height+"px";r!==e.current.style.top&&(e.current.childNodes.forEach((function(e){e.style.top=r})),e.current.style.top=r)}}}},88943:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(19929);t.addEscEnterKeyEffect=function(e,r){return t.getEventListenerEffect("keyup",(function(t){t.keyCode===n.KeyboardEnum.Esc&&e(),t.keyCode===n.KeyboardEnum.Enter&&r()}))},t.getEventListenerEffect=function(e,t){return window.addEventListener(e,t),function(){window.removeEventListener(e,t)}}},41018:function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(34720)),s=r(19929),a=r(61961),l=r(20274),u=r(68071);t.getRowEditableCells=function(e,t){return t.filter((function(t){return t.rowKeyValue===e}))},t.searchData=function(e,t,r,n){var i=e.reduce((function(e,i){return e.concat(t.filter((function(t){if(e.indexOf(t)>=0)return!1;var o=n&&n({column:i,searchText:r,rowData:t});if(null!=o)return o;var s=l.getValueByColumn(t,i);return null!=s&&s.toString().toLowerCase().includes(r.toLowerCase())})))}),[]);return t.filter((function(e){return i.indexOf(e)>=0}))},t.filterAndSearchData=function(e){var r=e.extendedFilter,i=e.searchText,o=e.columns,s=e.search,a=e.filter,l=e.data,c=void 0===l?[]:l;return c=n(c),c=r?r(c):c,c=i?t.searchData(o,c,i,s):c,c=u.convertToColumnTypes(c,o),c=t.filterData(c,o,a)};t.filterData=function(e,r,n){return r.reduce((function(e,r){var i;if(a.isEmpty(r.filterRowValue)&&r.filterRowOperator!==s.FilterOperatorName.IsEmpty&&r.filterRowOperator!==s.FilterOperatorName.IsNotEmpty)return e;var u=(null===(i=n)||void 0===i?void 0:i({column:r}))||function(e){
var r=e.filterRowOperator||t.getDefaultOperatorForType(e.dataType||o.default.columnDataType),n=t.predefinedFilterOperators.find((function(e){return r===e.name}));if(!n)throw new Error("'"+e.filterRowOperator+"' has not found in predefinedFilterOperators array, available operators: "+t.predefinedFilterOperators.map((function(e){return e.name})).join(", "));return n.compare}(r);return e.filter((function(e){var t=l.getValueByColumn(e,r),n=r.filterRowValue;return r.dataType===s.DataType.Date&&(t=null==t?t:new Date(t).setHours(0,0,0,0),n=null==n?n:new Date(n).setHours(0,0,0,0)),u(t,n)}))}),e)},t.getDefaultOperatorForType=function(e){var r=t.predefinedFilterOperators.find((function(t){return t.defaultForTypes&&t.defaultForTypes.includes(e)}));return r&&r.name||"="},t.predefinedFilterOperators=[{compare:function(e,t){return e===t},defaultForTypes:[s.DataType.Boolean,s.DataType.Number,s.DataType.Date],name:s.FilterOperatorName.Equal},{compare:function(e,t){return e>t},name:s.FilterOperatorName.MoreThan},{compare:function(e,t){return e<t},name:s.FilterOperatorName.LessThan},{compare:function(e,t){return e>=t},name:s.FilterOperatorName.MoreThanOrEqual},{compare:function(e,t){return e<=t},name:s.FilterOperatorName.LessThanOrEqual},{compare:function(e,t){return null!=e&&e.toString().toLowerCase().includes(t.toString().toLowerCase())},defaultForTypes:[s.DataType.String],name:s.FilterOperatorName.Contains},{compare:function(e){return a.isEmpty(e)},name:s.FilterOperatorName.IsEmpty},{compare:function(e){return!a.isEmpty(e)},name:s.FilterOperatorName.IsNotEmpty}]},95120:function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n};Object.defineProperty(t,"__esModule",{value:!0});var i=r(20274);t.groupMark={},t.groupSummaryMark={};var o=function(e,r,n){return{groupData:e,groupSummaryMark:t.groupSummaryMark,key:JSON.stringify([r,"--:+summary--"]),groupIndex:n}};t.updateExpandedGroups=function(e,t){var r=e.filter((function(e){return JSON.stringify(e)!==JSON.stringify(t)}));return r.length===e.length&&r.push(t),r},t.getExpandedGroups=function(e){return e.filter((function(e){return e.groupMark===t.groupMark})).map((function(e){return e.key}))},t.getGroupedData=function(e,r,n,i){var o=t.getGroupedStructure(e,r,n,0,i);return t.convertToFlat(o)},t.convertToFlat=function(e,r){void 0===r&&(r=[]);var i=[];return e.forEach((function(e,o){if(o===t.groupSummaryMark)i.push(e);else{var s=n(r);s.push(o),i.push({groupMark:t.groupMark,key:s,value:o}),i=n(i,Array.isArray(e)?e:t.convertToFlat(e,s))}})),i},t.getGroupedStructure=function(e,r,s,a,l,u){void 0===a&&(a=0),void 0===u&&(u=[]);var c=(r=n(r)).shift();if(c){var d=s&&s.find((function(e){return e.key===c.columnKey}));if(d){var h=t.groupBy(e,(function(e){return i.getValueByColumn(e,d)}));return h.forEach((function(e,i){var d=l&&l.filter((function(e){return e[a]===i}));if(!d||d.some((function(e){return e.length===a+1}))){
var p=n(u,[i]),f=t.getGroupedStructure(e,r,s,a+1,d&&d.filter((function(e){return e.length>a+1})),p);f?(c.enableSummary&&f.set(t.groupSummaryMark,o(e,p,a)),h.set(i,f)):c.enableSummary&&e.push(o(n(e),p,a))}else h.set(i,[])})),h}}},t.groupBy=function(e,t,r){void 0===r&&(r=!1);var n=new Map;return e.forEach((function(e){var i=t(e);if(r)n.set(i,[]);else{var o=n.get(i);o?o.push(e):n.set(i,[e])}})),n},t.getGroupMark=function(){return t.groupMark},t.getGroupText=function(e,t,r){return r?r({column:t,value:e}):(t&&t.title?t.title+": ":"")+e}},84950:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(34720)),s=r(19929),a=r(44519);t.getUpdatedSortedColumns=function(e,r,i){var s=e.map((function(e){return n({},e)})),l=s.find((function(e){return e.key===r}));if(l){var u=t.getNextSortDirection(l.sortDirection);if(a.isTripleStateSorting(i)&&l.sortDirection&&u===o.default.columnSortDirection&&(u=void 0),a.isMultipleSorting(i)||s.forEach((function(e){delete e.sortDirection,delete e.sortIndex})),u){if(l.sortDirection=u,a.isMultipleSorting(i)&&!l.sortIndex){var c=s.filter((function(e){return e.sortDirection}));l.sortIndex=c.length+1}}else delete l.sortDirection,delete l.sortIndex;if(a.isMultipleSorting(i))(c=a.sortColumns(s)).forEach((function(e,t){e.sortIndex=t+1}))}return s},t.getNextSortDirection=function(e){return e?e===s.SortDirection.Ascend?s.SortDirection.Descend:s.SortDirection.Ascend:o.default.columnSortDirection}},15272:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(20274),i=r(1713);t.getRightCell=function(e,t,r){var n,i,o;if(null===(n=r)||void 0===n?void 0:n.end)o=null===(i=t.columns[t.columns.length-1])||void 0===i?void 0:i.key;else{var s=t.columns.findIndex((function(t){return t.key===e.columnKey}));o=s<t.columns.length-1?t.columns[s+1].key:e.columnKey}return{columnKey:o,rowKeyValue:e.rowKeyValue}},t.getLeftCell=function(e,t,r){var n,i,o;if(null===(n=r)||void 0===n?void 0:n.end)o=null===(i=t.columns[0])||void 0===i?void 0:i.key;else{var s=t.columns.findIndex((function(t){return t.key===e.columnKey}));o=0<s?t.columns[s-1].key:e.columnKey}return{columnKey:o,rowKeyValue:e.rowKeyValue}},t.getUpCell=function(e,t,r){var o,s,a=e.rowKeyValue,l=i.getData(t);if(null===(o=r)||void 0===o?void 0:o.end){var u=l[0];a=n.getValueByField(u,t.rowKeyField)}else{var c=null===(s=l)||void 0===s?void 0:s.findIndex((function(r){return n.getValueByField(r,t.rowKeyField)===e.rowKeyValue}));if(c>0){u=l[c-1];a=n.getValueByField(u,t.rowKeyField)}}return{columnKey:e.columnKey,rowKeyValue:a}},t.getDownCell=function(e,t,r){var o,s,a=e.rowKeyValue,l=i.getData(t);if(null===(o=r)||void 0===o?void 0:o.end){var u=l[l.length-1];a=n.getValueByField(u,t.rowKeyField)}else{
var c=null===(s=l)||void 0===s?void 0:s.findIndex((function(r){return n.getValueByField(r,t.rowKeyField)===e.rowKeyValue}));if(c<l.length-1){u=l[c+1];a=n.getValueByField(u,t.rowKeyField)}}return{columnKey:e.columnKey,rowKeyValue:a}}},45046:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(19929);t.centerLength=5;t.getPagesCount=function(e,t){return t&&t.enabled?t.pagesCount?t.pagesCount:Math.ceil(e.length/(t&&t.pageSize||10)):1},t.getPageData=function(e,t){if(!t||!t.enabled||t.pagesCount)return e;var r=t.pageSize||10,n=r*(t.pageIndex||0);return e.slice(n,n+r)},t.getPagesForCenter=function(e,r,n,i){return r&&!n?e.filter((function(r){return r>=e.length-t.centerLength-1})):!r&&n?e.filter((function(e){return e<=t.centerLength})):r&&n?e.filter((function(e){return e>=i-Math.floor(t.centerLength/2)&&e<=i+Math.floor(t.centerLength/2)})):e},t.getPagesArrayBySize=function(e){return new Array(e).fill(void 0).map((function(e,t){return t}))},t.isPagingShown=function(e,t){var r;return!(!(null===(r=t)||void 0===r?void 0:r.enabled)||(t.position?e!==t.position&&t.position!==n.PagingPosition.TopAndBottom:e!==n.PagingPosition.Bottom))}},1713:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n};Object.defineProperty(t,"__esModule",{value:!0});var o=r(19929),s=r(20274),a=r(41018),l=r(95120),u=r(45046),c=r(44519),d=r(82013);t.extendProps=function(e,t,r){var n=e,i=r&&r.elementAttributes&&r.elementAttributes(t);return i&&(n=p(e,t,i,t.dispatch)),n};var h=function(){};function p(e,t,r,i){var o={},s=function(n){if(r.hasOwnProperty(n)){var s=n,a=r[s],l=e[s]||h;"function"==typeof a&&(o[n]=function(r){a(r,{baseFunc:l,childElementAttributes:e,childProps:t,dispatch:i})})}};for(var a in r)s(a);return n(n(n(n({},e),r),o),{className:(e.className||"")+" "+(r.className||""),style:n(n({},e.style),r.style)})}t.mergeProps=p,t.areAllFilteredRowsSelected=function(e){var t=e.selectedRows,r=void 0===t?[]:t,n=e.rowKeyField;return a.filterAndSearchData(e).every((function(e){return r.includes(s.getValueByField(e,n))}))},t.areAllVisibleRowsSelected=function(e){var r=e.selectedRows,n=void 0===r?[]:r,i=e.rowKeyField;return t.getData(e).every((function(e){return n.includes(s.getValueByField(e,i))}))},t.getData=function(e){var t=e.columns,r=e.groups,n=e.groupsExpanded,s=e.paging,h=e.treeGroupKeyField,p=e.treeGroupsExpanded,f=e.rowKeyField,m=e.sort,g=e.sortingMode,_=void 0===g?o.SortingMode.None:g,v=e.data,y=void 0===v?[]:v,b=i(y);b=a.filterAndSearchData(e),c.isRemoteSorting(_)||(b=c.sortData(t,b,m));var w=r?t.filter((function(e){return r.some((function(t){return t.columnKey===e.key}))})):[]
;return b=r?l.getGroupedData(b,r,w,n):b,b=h?d.getTreeData({data:b,rowKeyField:f,treeGroupKeyField:h,treeGroupsExpanded:p,originalData:y}):b,b=u.getPageData(b,s)},t.getSelectedData=function(e){var t=e.data,r=e.selectedRows,n=e.rowKeyField;return t?t.filter((function(e){var t,i=s.getValueByField(e,n);return null===(t=r)||void 0===t?void 0:t.some((function(e){return e===i}))})):[]},t.getSortedColumns=function(e){return c.sortColumns(e.columns)},t.getPagesCountByProps=function(e){var t=e.paging,r=1;if(t&&t.enabled){var n=a.filterAndSearchData(e),i=e.rowKeyField,o=e.treeGroupKeyField,s=e.treeGroupsExpanded;n=o?d.getTreeData({data:n,rowKeyField:i,treeGroupKeyField:o,treeGroupsExpanded:s,originalData:e.data||[]}):n,r=u.getPagesCount(n,t)}return r},t.prepareTableOptions=function(e){var r=e.groups,n=e.columns,i=t.getData(e),o=0,s=[];return r&&(o=r.length,s=n.filter((function(e){return r.some((function(t){return t.columnKey===e.key}))})),n=n.filter((function(e){return!r.some((function(t){return t.columnKey===e.key}))}))),{columns:n=n.filter((function(e){return!1!==e.visible})),groupColumnsCount:o,groupedColumns:s,groupedData:i}},t.getDraggableProps=function(e,t,r,n,i){var o=0;return{draggable:!0,onDragStart:function(t){o=0,t.dataTransfer.setData("ka-draggableKeyValue",JSON.stringify(e)),t.currentTarget.classList.add(n),t.dataTransfer.effectAllowed="move"},onDragEnd:function(e){e.currentTarget.classList.remove(n)},onDrop:function(n){n.currentTarget.classList.remove(i);var o=JSON.parse(n.dataTransfer.getData("ka-draggableKeyValue"));t(r(o,e))},onDragEnter:function(e){o++,e.currentTarget.classList.contains(i)||e.currentTarget.classList.add(i),e.preventDefault()},onDragLeave:function(e){0===--o&&e.currentTarget.classList.remove(i)},onDragOver:function(e){e.currentTarget.classList.contains(i)||e.currentTarget.classList.add(i),e.preventDefault()}}}},44519:function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n};Object.defineProperty(t,"__esModule",{value:!0});var i=r(19929),o=r(20274);t.sortColumns=function(e){return e.filter((function(e){return e.sortDirection})).sort((function(e,t){return e.sortIndex===t.sortIndex?0:e.sortIndex?t.sortIndex&&e.sortIndex<t.sortIndex?-1:1:-1}))},t.sortData=function(e,t,r){var l=e.find((function(e){return e.sortDirection}));if(!l)return t;var u=r&&r({column:l}),c=u&&function(e,t){return u(o.getValueByColumn(e,l),o.getValueByColumn(t,l))}||(l.sortDirection===i.SortDirection.Ascend?s(l):a(l));return n(t).sort(c)};var s=function(e){return function(t,r){var n=o.getValueByColumn(t,e),i=o.getValueByColumn(r,e);return n===i?0:null==n?-1:null==i?1:n<i?-1:1}},a=function(e){return function(t,r){var n=o.getValueByColumn(t,e),i=o.getValueByColumn(r,e);return n===i?0:null==n?1:null==i||n>i?-1:1}};t.isTripleStateSorting=function(e){
return e===i.SortingMode.MultipleTripleStateRemote||e===i.SortingMode.SingleTripleState||e===i.SortingMode.SingleTripleStateRemote},t.isMultipleSorting=function(e){return e===i.SortingMode.MultipleTripleStateRemote||e===i.SortingMode.MultipleRemote},t.isRemoteSorting=function(e){return e===i.SortingMode.SingleRemote||e===i.SortingMode.MultipleTripleStateRemote||e===i.SortingMode.SingleTripleStateRemote||e===i.SortingMode.MultipleRemote},t.isSortingEnabled=function(e){return e!==i.SortingMode.None}},82013:function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n};Object.defineProperty(t,"__esModule",{value:!0});var i=r(20274);t.treeGroupMark={},t.treeDataMark={},t.getExpandedParents=function(e,r){return e.filter((function(e){return e.treeGroupMark===t.treeGroupMark})).map((function(e){return i.getValueByField(e.rowData,r)}))};var o=function(e,r,n,s){void 0===s&&(s=0);var a=r[i.getValueByField(e,n)];if(!a)return[{treeDataMark:t.treeDataMark,rowData:e,treeDeep:s+1}];var l=[{treeGroupMark:t.treeGroupMark,rowData:e,treeDeep:s}];return a.forEach((function(e){var t=o(e,r,n,s+1);l.push.apply(l,t)})),l};t.getTreeGroupChain=function(e,r,o,s,a){void 0===a&&(a=[]);var l=r[e],u=a;s.includes(e)||(s.push(e),u=n(a,[l]));var c=i.getValueByField(l,o);return c?t.getTreeGroupChain(c,r,o,s,u):u},t.restoreFilteredData=function(e){var r=e.data,o=e.originalData,s=e.rowKeyField,a=e.treeGroupKeyField,l=(e.treeGroupsExpanded,[]),u=r.map((function(e){return i.getValueByField(e,s)})),c=o.reduce((function(e,t){return e[i.getValueByField(t,s)]=t,e}),{});return r.forEach((function(e){var r=i.getValueByField(e,a);if(u.includes(r)||!r)l.push(e);else{var o=t.getTreeGroupChain(r,c,a,u);l=n(l,o,[e])}})),l};t.getTreeData=function(e){var r=e.data,n=e.originalData,s=e.rowKeyField,a=e.treeGroupKeyField,l=e.treeGroupsExpanded;r.length!==n.length&&(r=t.restoreFilteredData({data:r,originalData:n,rowKeyField:s,treeGroupKeyField:a,treeGroupsExpanded:l}));var u=function(e){var t=e.data,r=e.treeGroupKeyField,n=e.treeGroupsExpanded,o={},s=[];return t.forEach((function(e){var t,a=null!=(t=i.getValueByField(e,r))?t:void 0;a?(o[a]||(o[a]=[]),n&&!n.includes(a)||o[a].push(e)):s.push(e)})),{dataHash:o,rootElements:s}}({data:r,treeGroupKeyField:a,treeGroupsExpanded:l}),c=u.dataHash,d=u.rootElements,h=[];return d.forEach((function(e){h.push.apply(h,o(e,c,s))})),h}},68071:function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n};Object.defineProperty(t,"__esModule",{value:!0});var i=r(19929),o=r(20274);t.convertToColumnTypes=function(e,r){var s=n(r),a=n(e);return s.forEach((function(e){if(e.dataType&&e.dataType!==i.DataType.Object)for(var r=0;r<a.length;r++){var n=o.getValueByColumn(a[r],e);if(null!=n){
switch(e.dataType){case i.DataType.String:if(n.constructor!==String){a[r]=o.replaceValue(a[r],e,n.toString());continue}break;case i.DataType.Number:if(n.constructor!==Number){a[r]=o.replaceValue(a[r],e,Number(n));continue}break;case i.DataType.Date:if(n.constructor!==Date){a[r]=o.replaceValue(a[r],e,new Date(n));continue}break;case i.DataType.Boolean:if(n.constructor!==Boolean){a[r]=o.replaceValue(a[r],e,t.toBoolean(n));continue}}break}}})),a},t.toBoolean=function(e){if("string"==typeof e)switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1}return Boolean(e)}},70320:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getValidationValue=function(e,t,r,n){if(n)return n({value:e,rowData:t,column:r})}},51075:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isVirtualScrollingEnabled=function(e){return e&&!1!==e.enabled},t.getVirtualized=function(e,t){var r=[],n=e.scrollTop,i=void 0===n?0:n,o=e.tbodyHeight,s=void 0===o?600:o,a=0,l=0;return t.reduce((function(t,n){var o=e.itemHeight?"number"==typeof e.itemHeight?e.itemHeight:e.itemHeight(n):40;return t>=i-o?s>=-5*o?(s-=o,r.push(n)):l+=o:a=t+o,t+o}),0),{beginHeight:a,endHeight:l,virtualizedData:r}}},91130:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(19929);t.updateFilterRowValue=function(e,t){return{columnKey:e,filterRowValue:t,type:n.ActionType.UpdateFilterRowValue}},t.updateFilterRowOperator=function(e,t){return{columnKey:e,filterRowOperator:t,type:n.ActionType.UpdateFilterRowOperator}},t.updateEditorValue=function(e,t,r){return{columnKey:t,rowKeyValue:e,type:n.ActionType.UpdateEditorValue,value:r}},t.updateCellValue=function(e,t,r){return{columnKey:t,rowKeyValue:e,type:n.ActionType.UpdateCellValue,value:r}},t.updateSortDirection=function(e){return{columnKey:e,type:n.ActionType.UpdateSortDirection}},t.closeEditor=function(e,t){return{columnKey:t,rowKeyValue:e,type:n.ActionType.CloseEditor}},t.deleteRow=function(e){return{rowKeyValue:e,type:n.ActionType.DeleteRow}},t.deselectAllRows=function(){return{type:n.ActionType.DeselectAllRows}},t.deselectAllFilteredRows=function(){return{type:n.ActionType.DeselectAllFilteredRows}},t.deselectAllVisibleRows=function(){return{type:n.ActionType.DeselectAllVisibleRows}},t.deselectRow=function(e){return{rowKeyValue:e,type:n.ActionType.DeselectRow}},t.openEditor=function(e,t){return{columnKey:t,rowKeyValue:e,type:n.ActionType.OpenEditor}},t.search=function(e){return{searchText:e,type:n.ActionType.Search}},t.selectAllRows=function(){return{type:n.ActionType.SelectAllRows}},t.selectAllFilteredRows=function(){return{type:n.ActionType.SelectAllFilteredRows}},t.selectAllVisibleRows=function(){return{type:n.ActionType.SelectAllVisibleRows}},t.selectSingleRow=function(e){return{rowKeyValue:e,type:n.ActionType.SelectSingleRow}},t.selectRow=function(e){return{rowKeyValue:e,type:n.ActionType.SelectRow}},t.selectRowsRange=function(e,t){return{rowKeyValueFrom:e,rowKeyValueTo:t,type:n.ActionType.SelectRowsRange}
},t.updateGroupsExpanded=function(e){return{groupKey:e,type:n.ActionType.UpdateGroupsExpanded}},t.updateData=function(e){return{data:e,type:n.ActionType.UpdateData}},t.showLoading=function(e){return{text:e,type:n.ActionType.ShowLoading}},t.hideLoading=function(){return{type:n.ActionType.HideLoading}},t.showNewRow=function(){return{type:n.ActionType.ShowNewRow}},t.hideNewRow=function(){return{type:n.ActionType.HideNewRow}},t.showDetailsRow=function(e){return{rowKeyValue:e,type:n.ActionType.ShowDetailsRow}},t.hideDetailsRow=function(e){return{rowKeyValue:e,type:n.ActionType.HideDetailsRow}},t.saveNewRow=function(e,t){return{rowKeyValue:e,validate:t&&t.validate,type:n.ActionType.SaveNewRow}},t.openRowEditors=function(e){return{rowKeyValue:e,type:n.ActionType.OpenRowEditors}},t.closeRowEditors=function(e){return{rowKeyValue:e,type:n.ActionType.CloseRowEditors}},t.saveRowEditors=function(e,t){return{rowKeyValue:e,validate:t&&t.validate,type:n.ActionType.SaveRowEditors}},t.updateRow=function(e){return{type:n.ActionType.UpdateRow,rowData:e}},t.updatePageIndex=function(e){return{pageIndex:e,type:n.ActionType.UpdatePageIndex}},t.updatePageSize=function(e){return{pageSize:e,type:n.ActionType.UpdatePageSize}},t.updatePagesCount=function(e){return{pagesCount:e,type:n.ActionType.UpdatePagesCount}},t.resizeColumn=function(e,t){return{type:n.ActionType.ResizeColumn,columnKey:e,width:t}},t.reorderRows=function(e,t){return{type:n.ActionType.ReorderRows,rowKeyValue:e,targetRowKeyValue:t}},t.reorderColumns=function(e,t){return{type:n.ActionType.ReorderColumns,columnKey:e,targetColumnKey:t}},t.showColumn=function(e){return{columnKey:e,type:n.ActionType.ShowColumn}},t.hideColumn=function(e){return{columnKey:e,type:n.ActionType.HideColumn}},t.loadData=function(){return{type:n.ActionType.LoadData}},t.clearSingleAction=function(){return{type:n.ActionType.ClearSingleAction}},t.setSingleAction=function(e){return{singleAction:e,type:n.ActionType.SetSingleAction}},t.clearFocused=function(){return{type:n.ActionType.ClearFocused}},t.setFocused=function(e){return{focused:e,type:n.ActionType.SetFocused}},t.moveFocusedRight=function(e){return{settings:e,type:n.ActionType.MoveFocusedRight}},t.moveFocusedLeft=function(e){return{settings:e,type:n.ActionType.MoveFocusedLeft}},t.moveFocusedUp=function(e){return{settings:e,type:n.ActionType.MoveFocusedUp}},t.moveFocusedDown=function(e){return{settings:e,type:n.ActionType.MoveFocusedDown}},t.updateTreeGroupsExpanded=function(e){return{rowKeyValue:e,type:n.ActionType.UpdateTreeGroupsExpanded}}},73993:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.newRowId={}},34720:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(19929),i=r(4803),o=new function(){this.columnDataType=n.DataType.String,this.columnSortDirection=n.SortDirection.Ascend,this.css=new i.CssClasses,this.fieldDelimiter="."};t.default=o},19929:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Bottom="bottom",e.Top="top",e.TopAndBottom="topAndBottom"
}(t.PagingPosition||(t.PagingPosition={})),function(e){e.Boolean="boolean",e.Date="date",e.Number="number",e.Object="object",e.String="string"}(t.DataType||(t.DataType={})),function(e){e.None="none",e.Cell="cell"}(t.EditingMode||(t.EditingMode={})),function(e){e.ClearFocused="ClearFocused",e.ClearSingleAction="ClearSingleAction",e.CloseEditor="CloseEditor",e.CloseRowEditors="CloseRowEditors",e.DeleteRow="DeleteRow",e.DeselectAllFilteredRows="DeselectAllFilteredRows",e.DeselectAllRows="DeselectAllRows",e.DeselectAllVisibleRows="DeselectAllVisibleRows",e.DeselectRow="DeselectRow",e.HideColumn="HideColumn",e.HideDetailsRow="HideDetailsRow",e.HideLoading="HideLoading",e.HideNewRow="HideNewRow",e.LoadData="LoadData",e.MoveFocusedDown="MoveFocusedDown",e.MoveFocusedLeft="MoveFocusedLeft",e.MoveFocusedRight="MoveFocusedRight",e.MoveFocusedUp="MoveFocusedUp",e.OpenEditor="OpenEditor",e.OpenRowEditors="OpenRowEditors",e.ReorderColumns="ReorderColumns",e.ReorderRows="ReorderRows",e.ResizeColumn="ResizeColumn",e.SaveNewRow="SaveNewRow",e.SaveRowEditors="SaveRowEditors",e.ScrollTable="ScrollTable",e.Search="Search",e.SelectAllFilteredRows="SelectAllFilteredRows",e.SelectAllRows="SelectAllRows",e.SelectAllVisibleRows="SelectAllVisibleRows",e.SelectRow="SelectRow",e.SelectRowsRange="SelectRowsRange",e.SelectSingleRow="SelectSingleRow",e.SetFocused="SetFocused",e.SetSingleAction="SetSingleAction",e.ShowColumn="ShowColumn",e.ShowDetailsRow="ShowDetailsRow",e.ShowLoading="ShowLoading",e.ShowNewRow="ShowNewRow",e.UpdateCellValue="UpdateCellValue",e.UpdateData="UpdateData",e.UpdateEditorValue="UpdateEditorValue",e.UpdateFilterRowOperator="UpdateFilterRowOperator",e.UpdateFilterRowValue="UpdateFilterRowValue",e.UpdateGroupsExpanded="UpdateGroupsExpanded",e.UpdatePageIndex="UpdatePageIndex",e.UpdatePageSize="UpdatePageSize",e.UpdatePagesCount="UpdatePagesCount",e.UpdateRow="UpdateRow",e.UpdateSortDirection="UpdateSortDirection",e.UpdateTreeGroupsExpanded="UpdateTreeGroupsExpanded ",e.UpdateVirtualScrolling="UpdateVirtualScrolling"}(t.ActionType||(t.ActionType={})),function(e){e[e.Esc=27]="Esc",e[e.Enter=13]="Enter"}(t.KeyboardEnum||(t.KeyboardEnum={})),function(e){e.Ascend="ascend",e.Descend="descend"}(t.SortDirection||(t.SortDirection={})),function(e){e.None="none",e.Single="single",e.SingleTripleState="singleTripleState",e.SingleRemote="singleRemote",e.SingleTripleStateRemote="singleTripleStateRemote",e.MultipleRemote="multipleRemote",e.MultipleTripleStateRemote="multipleTripleStateRemote"}(t.SortingMode||(t.SortingMode={})),function(e){e.None="none",e.FilterRow="filterRow"}(t.FilteringMode||(t.FilteringMode={})),function(e){e.Equal="=",e.MoreThan=">",e.LessThan="<",e.MoreThanOrEqual=">=",e.LessThanOrEqual="<=",e.Contains="contains",e.IsEmpty="IsEmpty",e.IsNotEmpty="IsNotEmpty"}(t.FilterOperatorName||(t.FilterOperatorName={}))},13630:(e,t,r)=>{"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(54634)),n(r(12872))},15160:function(e,t,r){"use strict"
;var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(33562));t.kaColumnUtils=i;var o=n(r(81854));t.kaDateUtils=o;var s=n(r(1713));t.kaPropsUtils=s;var a=n(r(68071));t.kaTypeUtils=a},16638:()=>{},58644:e=>{e.exports={wrapper:"wrapper-2eXD4rIf",input:"input-2eXD4rIf",box:"box-2eXD4rIf",icon:"icon-2eXD4rIf",noOutline:"noOutline-2eXD4rIf","intent-danger":"intent-danger-2eXD4rIf",check:"check-2eXD4rIf",dot:"dot-2eXD4rIf"}},28209:e=>{e.exports={checkbox:"checkbox-2jiVkfto",reverse:"reverse-2jiVkfto",label:"label-2jiVkfto",baseline:"baseline-2jiVkfto"}},8809:e=>{e.exports={title:"title-2VoDfDWK"}},11632:e=>{e.exports={title:"title-27KKKIX2",currency:"currency-27KKKIX2",activeCurrency:"activeCurrency-27KKKIX2",label:"label-27KKKIX2",labelWrapper:"labelWrapper-27KKKIX2",summary:"summary-27KKKIX2",dropdown:"dropdown-27KKKIX2",singleItemDropdown:"singleItemDropdown-27KKKIX2",content:"content-27KKKIX2"}},64379:e=>{e.exports={wrapper:"wrapper-r9AK9MV4"}},13018:e=>{e.exports={headerWrapper:"headerWrapper-3SyLEqYJ"}},79576:e=>{e.exports={itemWrapper:"itemWrapper-2wKPZc2G",value:"value-2wKPZc2G",title:"title-2wKPZc2G"}},92848:e=>{e.exports={wrapper:"wrapper-3d3ZUySj"}},33621:e=>{e.exports={accountManager:"accountManager-3ns5B1wo",topPanel:"topPanel-3ns5B1wo",secondaryPanel:"secondaryPanel-3ns5B1wo",content:"content-3ns5B1wo",page:"page-3ns5B1wo"}},30781:e=>{e.exports={pageContainer:"pageContainer-pIcM-trm"}},78985:e=>{e.exports={counter:"counter-GcFBFpBI",text:"text-GcFBFpBI",count:"count-GcFBFpBI",blue:"blue-GcFBFpBI",grey:"grey-GcFBFpBI",green:"green-GcFBFpBI",orange:"orange-GcFBFpBI",red:"red-GcFBFpBI"}},28515:e=>{e.exports={counter:"counter-3vc_3r3h",text:"text-3vc_3r3h",count:"count-3vc_3r3h"}},57294:e=>{e.exports={tableContainer:"tableContainer-3BThTanh",fitContent:"fitContent-3BThTanh",withScroll:"withScroll-3BThTanh",noScroll:"noScroll-3BThTanh"}},59694:e=>{e.exports={title:"title-12xdqeWl"}},93888:e=>{e.exports={container:"container-KUUVoNEO",sticky:"sticky-KUUVoNEO"}},80869:e=>{e.exports={menuButton:"menuButton-3_tTTu4O",icon:"icon-3_tTTu4O",label:"label-3_tTTu4O",checkBox:"checkBox-3_tTTu4O"}},16418:e=>{e.exports={wrapper:"wrapper-uHu5BtyP",icon:"icon-uHu5BtyP",message:"message-uHu5BtyP",warning:"warning-uHu5BtyP",information:"information-uHu5BtyP",error:"error-uHu5BtyP"}},83827:e=>{e.exports={wrapper:"wrapper-NYmM6GHy",info:"info-NYmM6GHy",title:"title-NYmM6GHy",description:"description-NYmM6GHy"}},75038:e=>{e.exports={text:"text-31K88GY5",noWrap:"noWrap-31K88GY5"}},41373:e=>{e.exports={gray:"gray-1RfjL4Ks",blue:"blue-1RfjL4Ks",red:"red-1RfjL4Ks",green:"green-1RfjL4Ks",orange:"orange-1RfjL4Ks"}},65760:e=>{e.exports={"mobile-row-padding":"4px","mobile-row-border-size":"1px","mobile-row-margin":"38px","content-font-size":"14px",table:"table-VzPHU7U0",tableBody:"tableBody-VzPHU7U0",tableHead:"tableHead-VzPHU7U0",headCell:"headCell-VzPHU7U0",
headCellContent:"headCellContent-VzPHU7U0",cell:"cell-VzPHU7U0",capitalize:"capitalize-VzPHU7U0",rightAlignedHeadCell:"rightAlignedHeadCell-VzPHU7U0",rightAlignedCell:"rightAlignedCell-VzPHU7U0",cellContent:"cellContent-VzPHU7U0",hideLabelOnMobile:"hideLabelOnMobile-VzPHU7U0",hideCellOnMobile:"hideCellOnMobile-VzPHU7U0",row:"row-VzPHU7U0",withMargin:"withMargin-VzPHU7U0",withVirtualization:"withVirtualization-VzPHU7U0",highlightedRow:"highlightedRow-VzPHU7U0",inactiveRow:"inactiveRow-VzPHU7U0",linkedRow:"linkedRow-VzPHU7U0",successRow:"successRow-VzPHU7U0",dangerRow:"dangerRow-VzPHU7U0",tableWrapper:"tableWrapper-VzPHU7U0",tableWrapperEmpty:"tableWrapperEmpty-VzPHU7U0"}},84628:e=>{e.exports={"mobile-row-padding":"4px","mobile-row-border-size":"1px","mobile-row-margin":"38px","content-font-size":"14px"}},74467:e=>{e.exports={wrapper:"wrapper-qHMUG0TO"}},58825:e=>{e.exports={mobile:"screen and (max-width: 567px)"}},50879:()=>{},75074:()=>{},94282:e=>{e.exports={checkbox:"checkbox-3XCXBX0E"}},37604:(e,t,r)=>{"use strict";r.d(t,{CheckboxInput:()=>u});var n=r(67294),i=r(94184),o=r(21659),s=r(7536),a=r(58644),l=r.n(a);function u(e){const t=i(l().box,l()["intent-"+e.intent],{[l().check]:!Boolean(e.indeterminate),[l().dot]:Boolean(e.indeterminate),[l().noOutline]:-1===e.tabIndex}),r=i(l().wrapper,e.className);return n.createElement("span",{className:r,title:e.title},n.createElement("input",{id:e.id,tabIndex:e.tabIndex,className:l().input,type:"checkbox",name:e.name,checked:e.checked,disabled:e.disabled,value:e.value,autoFocus:e.autoFocus,role:e.role,onChange:function(){e.onChange&&e.onChange(e.value)},ref:e.reference}),n.createElement("span",{className:t},n.createElement(o.Icon,{icon:s,className:l().icon})))}},18270:(e,t,r)=>{"use strict";r.d(t,{Checkbox:()=>u});var n=r(67294),i=r(94184),o=r(60624),s=r(37604),a=r(28209),l=r.n(a);class u extends n.PureComponent{render(){const{inputClassName:e,labelClassName:t,...r}=this.props,o=i(this.props.className,l().checkbox,{[l().reverse]:Boolean(this.props.labelPositionReverse),[l().baseline]:Boolean(this.props.labelAlignBaseline)}),a=i(l().label,t,{[l().disabled]:this.props.disabled});let u=null;return this.props.label&&(u=n.createElement("span",{className:a,title:this.props.title},this.props.label)),n.createElement("label",{className:o},n.createElement(s.CheckboxInput,{...r,className:e}),u)}}u.defaultProps={value:"on"};(0,o.makeSwitchGroupItem)(u)},21659:(e,t,r)=>{"use strict";r.d(t,{Icon:()=>i});var n=r(67294);const i=n.forwardRef((e,t)=>{const{icon:r="",...i}=e;return n.createElement("span",{...i,ref:t,dangerouslySetInnerHTML:{__html:r}})})},60624:(e,t,r)=>{"use strict";r.d(t,{SwitchGroup:()=>o,makeSwitchGroupItem:()=>s});var n=r(67294),i=r(45697);class o extends n.PureComponent{constructor(){super(...arguments),this._subscriptions=new Set,this._getName=()=>this.props.name,this._getValues=()=>this.props.values,this._getOnChange=()=>this.props.onChange,this._subscribe=e=>{this._subscriptions.add(e)},this._unsubscribe=e=>{this._subscriptions.delete(e)}}getChildContext(){return{
switchGroupContext:{getName:this._getName,getValues:this._getValues,getOnChange:this._getOnChange,subscribe:this._subscribe,unsubscribe:this._unsubscribe}}}render(){return this.props.children}componentDidUpdate(e){this._notify(this._getUpdates(this.props.values,e.values))}_notify(e){this._subscriptions.forEach(t=>t(e))}_getUpdates(e,t){return[...t,...e].filter(r=>t.includes(r)?!e.includes(r):e.includes(r))}}function s(e){var t;return(t=class extends n.PureComponent{constructor(){super(...arguments),this._onChange=e=>{this.context.switchGroupContext.getOnChange()(e)},this._onUpdate=e=>{e.includes(this.props.value)&&this.forceUpdate()}}componentDidMount(){this.context.switchGroupContext.subscribe(this._onUpdate)}render(){return n.createElement(e,{...this.props,name:this._getName(),onChange:this._onChange,checked:this._isChecked()})}componentWillUnmount(){this.context.switchGroupContext.unsubscribe(this._onUpdate)}_getName(){return this.context.switchGroupContext.getName()}_isChecked(){return this.context.switchGroupContext.getValues().includes(this.props.value)}}).contextTypes={switchGroupContext:i.any.isRequired},t}o.childContextTypes={switchGroupContext:i.any.isRequired}},76480:(e,t,r)=>{"use strict";function n(e){return o(e,s)}function i(e){return o(e,a)}function o(e,t){const r=Object.entries(e).filter(t),n={};for(const[e,t]of r)n[e]=t;return n}function s(e){const[t,r]=e;return 0===t.indexOf("data-")&&"string"==typeof r}function a(e){return 0===e[0].indexOf("aria-")}r.d(t,{filterDataProps:()=>n,filterAriaProps:()=>i,filterProps:()=>o,isDataAttribute:()=>s,isAriaAttribute:()=>a})},708:(e,t,r)=>{"use strict";r.d(t,{makeCancelable:()=>i,isCancelled:()=>o});class n{}function i(e){let t=!1;return{promise:new Promise((r,i)=>{e.then(e=>t?i(new n):r(e)),e.catch(e=>i(t?new n:e))}),cancel(){t=!0}}}function o(e){return e instanceof n}},92742:(e,t,r)=>{"use strict";r.d(t,{ToolWidgetMenuSummary:()=>s});var n=r(67294),i=r(94184),o=r(8809);function s(e){return n.createElement("div",{className:i(e.className,o.title)},e.children)}},21825:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AccountManagerHeaderDropdowns:()=>m});var n=r(67294),i=r(74245),o=r(94184),s=r.n(o),a=r(16282),l=r(85452),u=r(43915),c=r(46299),d=r(92742),h=r(11632);function p(e){const{currentAccount:t,accountsList:r,currentAccountUpdate:o}=e,[p,f]=(0,n.useState)(t);(0,n.useEffect)(()=>(o.subscribe(null,g),()=>{o.unsubscribe(null,g)}),[o,r]);const m=void 0!==p.currency?`${p.name} (${p.currency})`:p.name;return 1===r.length?n.createElement("div",{className:h.content},n.createElement("span",{className:h.singleItemDropdown},m)):n.createElement(u.ToolWidgetMenu,{isDrawer:l.CheckMobile.any(),content:n.createElement("span",{className:h.content},m),className:h.dropdown},n.createElement(d.ToolWidgetMenuSummary,{className:h.summary},(0,i.t)("Accounts")),r.map(e=>{const t=p.id===e.id;return n.createElement(c.PopupMenuItem,{labelClassName:h.labelWrapper,isActive:t,label:n.createElement("div",{className:h.label},n.createElement("div",{className:h.title
},e.name),void 0!==e.currency&&n.createElement("div",{className:s()(h.currency,t&&h.activeCurrency)},"(",e.currency,")")),onClick:()=>e.callBack(),key:e.id})}));function g(e){f((0,a.ensureDefined)(r.find(t=>t.id===e)))}}var f=r(64379);function m(e){const{brokerDropdownProps:t,accountDropdownProps:r}=e;return n.createElement("div",{className:f.wrapper},void 0!==t&&n.createElement(BrokerDropdown,{...t}),n.createElement(p,{...r}))}},23252:(e,t,r)=>{"use strict";r.d(t,{makeAccountManagerHeaderDropdownsProps:()=>o});var n=r(16282),i=r(87915);async function o(e){const t=e.brokersList().filter(e=>!e.configFlags.isSuspended),r=Promise.resolve(void 0),o=(0,n.ensureNotNull)(e.activeBroker()),s=await r,a=await o.accountsMetainfo(),l=o.accountManagerInfo();if(0===a.length)return;const u=a.map(e=>{var t;return{id:e.id,name:e.name,callBack:async()=>{e.id!==o.currentAccount()&&o.setCurrentAccount(e.id)},currency:""===e.currency?void 0:null!==(t=e.currency)&&void 0!==t?t:void 0}}),c=u.find(e=>e.id===o.currentAccount()),d=o.metainfo(),h=void 0!==s?(0,i.brokersListFromPlans)(t,s):void 0;return{brokerDropdownProps:void 0===h?void 0:{title:l.accountTitle,brokerName:d.title,logo:d.logoMiniUrl,logoBlack:d.logoMiniBlackUrl,actions:o.buttonDropdownActions(),trading:e,brokers:h},accountDropdownProps:{currentAccount:(0,n.ensureDefined)(c),accountsList:u,currentAccountUpdate:o.currentAccountUpdate}}}},40953:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AccountManager:()=>hr});var n,i=r(74245),o=r(67294),s=r(73935),a=r(1529),l=r(16282),u=r(79442),c=r(85452),d=r(7424),h=(r(16638),r(89505)),p=r(37441),f=r(19278),m=r(21526),g=r.n(m),_=r(72903),v=r(86559),y=r(69671),b=r(74605),w=r(34475);!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(n||(n={}));const C={saveTab:"",noSlider:!1,onTabClick:!1,loadedClass:"i-loaded",tabsContainerClass:"tv-tabs",tabClass:"tv-tabs__tab",tabDisabledClass:"disabled",activeTabClass:"i-active",activePageClass:"active",sliderClass:"tv-tabs__slider",scrollBoxClass:"tv-tabs__scroll-box",scrollWrapClass:"tv-tabs__scroll-wrap",lArrowClass:"tv-tabs__left-arrow",rArrowClass:"tv-tabs__right-arrow"},S=_,E=v;class T{constructor(e,t,r={}){this._animating=!1,this._prevWidth=-1,this._bindings=[],this._options=(0,f.deepExtend)({},C,r),this.tabChanged=new(g()),this._elTabs=e,this._elPages=t,this._elScrollWrap=D(this._options.scrollWrapClass||"",this._elTabs,"wrapInner"),this._elScrollBox=D(this._options.scrollBoxClass||"",this._elScrollWrap,"wrapInner"),this._options.noSlider||(this._elSlider=D(this._options.sliderClass||"",this._elScrollBox,"append")),h.mobiletouch||(this._elArrowLeft=D(this._options.lArrowClass||"",this._elTabs,"append",`<div class="${this._options.lArrowClass||""} i-slided">${S}</div>`),this._elArrowRight=D(this._options.rArrowClass||"",this._elTabs,"append",`<div class="${this._options.rArrowClass||""} i-slided">${E}</div>`),this._addClass(this._elArrowLeft,this._options.addLeftArrowsClass),this._addClass(this._elArrowRight,this._options.addRightArrowsClass)),
this._addClass(this._elScrollBox,this._options.addScrollBoxClass),this._addClass(this._elSlider,this._options.addSliderClass),this._addClass(this._elTabs,this._options.tabsContainerClass),this._addClass(this.getTabsArray(),this._options.tabClass),this._addClass(this._elTabs,this._options.loadedClass),this.checkScrollArrows(!0),this._initActivePage(),this._bindEvents()}getTabsArray(){const e=this._elScrollBox.children;if(!this._options.sliderClass)return Array.prototype.slice.call(e);const t=[];for(let r=0;r<e.length;r++){const n=e[r];O(n,this._options.sliderClass)||t.push(n)}return t}getPagesArray(){return this._elPages?Array.prototype.slice.call(this._elPages.children):[]}getElTabs(){return this._elTabs}getElPages(){return this._elPages}checkScrollArrows(e=!1){const t=Math.ceil(this._elScrollWrap.scrollLeft),r=A(this._elScrollWrap),i=this._elScrollWrap.scrollWidth-r-2;function o(e){P(e,"i-slided"),e.style.transition=""}function s(t,r){M(t,"i-slided"),e&&(t.style.transition="none")}this._elArrowLeft&&(t>=1?o(this._elArrowLeft):(t<=1||this._elScrollWrap.scrollWidth<=r)&&s(this._elArrowLeft,n.Left)),this._elArrowRight&&(i-t>1?o(this._elArrowRight):(t>=i||this._elScrollWrap.scrollWidth<=r)&&s(this._elArrowRight,n.Right))}index(){const e=this.getElActiveTab();return e?this.getTabsArray().indexOf(e):-1}getElActiveTab(){return this._getActiveElement(this.getTabsArray(),this._options.activeTabClass||"",this._options.inactiveTabClass)}getElActivePage(){return this._getActiveElement(this.getPagesArray(),this._options.activePageClass||"",this._options.inactivePageClass)}setActivePage(e,t,r){if(-1===e||e===this.index()&&!r)return;const n=this.index();function i(t,r,n){t.forEach((t,i)=>{const o=e===i;r&&R(t,r,o),n&&R(t,n,!o)})}i(this.getTabsArray(),this._options.activeTabClass,this._options.inactiveTabClass),i(this.getPagesArray(),this._options.activePageClass,this._options.inactivePageClass),this._options.noSlider||this.updateSlider(n,e,t),this._options.saveTab&&y.setValue(this._options.saveTab,e),this.tabChanged.fire(e)}updateSlider(e,t,r){if(this._options.noSlider)return;const n=this.getTabsArray()[t];if(0===n.clientWidth||0===n.clientHeight||"none"===window.getComputedStyle(n).getPropertyValue("display"))return;const i=window.getComputedStyle(n);let o=n.offsetLeft+parseInt(i.getPropertyValue("padding-left")),s=A(n);const a=n.querySelector(".js-tabs__slider-pos");if(a){const e=window.getComputedStyle(a);o+=parseInt(e.getPropertyValue("padding-left"))+a.offsetLeft,s-=s-A(a)}if(r=r||-1===e||document.all&&!window.atob)this._elSlider.style.left=o+"px",this._elSlider.style.width=s+"px";else{this._animating=!0;const e=parseInt(getComputedStyle(this._elSlider).left),t=parseInt(getComputedStyle(this._elSlider).width);(0,w.doAnimate)({from:e,to:o,duration:p.dur,onStep:(e,t)=>{this._elSlider.style.left=t+"px"}}),(0,w.doAnimate)({from:t,to:s,duration:p.dur,onStep:(e,t)=>{this._elSlider.style.width=t+"px"},onComplete:()=>{this._animating=!1}})}}onTabClick(e){const t=e.currentTarget||e.target,r=this.getTabsArray().indexOf(t)
;-1===r||this._isTabDisabled(t)||this.setActivePage(r),document.activeElement.blur(),e.preventDefault()}resizeSlider(){if(this._options.noSlider)return;const e=this._elTabs.offsetWidth;if(e===this._prevWidth)return;this._prevWidth=e;const t=this.index();this.updateSlider(t,t,!0)}count(){return this.getTabsArray().length}add(e,t){this._elScrollBox.appendChild(e),this._elPages&&t&&this._elPages.appendChild(t),this._bindTabEvents(e),this.checkScrollArrows(!0)}remove(e){function t(e){e.parentElement&&e.parentElement.removeChild(e)}const r=this.tabAt(e);r&&(this._unbindTabEvents(r),t(r));const n=this.pageAt(e);n&&t(n);const i=e-1>=0?e-1:0;this.setActivePage(i),this.checkScrollArrows(!0)}indexOfTab(e){return this.getTabsArray().indexOf(e)}indexOfPage(e){return this.getPagesArray().indexOf(e)}pageAt(e){return this.getPagesArray()[e]||null}tabAt(e){return this.getTabsArray()[e]||null}deselect(){const e=this.getElActiveTab();this._options.activeTabClass&&e&&P(e,this._options.activeTabClass);const t=this.getElActivePage();return this._options.activePageClass&&t&&P(t,this._options.activePageClass),this._elSlider&&(this._elSlider.style.left="",this._elSlider.style.width=""),this}stop(){this._unbindEvents({})}_addClass(e,t){"string"==typeof t&&(Array.isArray(e)||(e=[e]),e.forEach(e=>{M(e,t)}))}_initActivePage(){let e=0;this._options.saveTab&&(e=y.getInt(this._options.saveTab,0));const t=this.index();-1!==t&&(e=t),void 0!==this._options.activeTab&&(e=this._options.activeTab),this.setActivePage(e,!0,!0)}_bindEvents(){this.getTabsArray().forEach(this._bindTabEvents.bind(this)),this._bindOneEvent({eventName:"scroll",listener:this.checkScrollArrows.bind(this,!1),target:this._elScrollWrap}),this._elArrowLeft&&this._bindOneEvent({eventName:"click",listener:()=>{const e=this.getTabsArray();let t=0,r=!1;const n=this._elScrollWrap.scrollLeft;(0,b.isRtl)()&&e.reverse(),e.forEach(e=>{if(r)return;const i=e.offsetLeft+e.offsetWidth;i>n?r=!0:t=i}),(0,w.doAnimate)({from:this._elScrollWrap.scrollLeft,to:this._elScrollWrap.scrollLeft+Math.floor(t-n-A(this._elArrowLeft)),duration:p.dur/2,onStep:(e,t)=>{this._elScrollWrap.scrollLeft=t}})},target:this._elArrowLeft}),this._elArrowRight&&this._bindOneEvent({eventName:"click",listener:()=>{const e=this.getTabsArray();let t=0;const r=(0,b.isRtl)()?0:this._elScrollWrap.scrollLeft+A(this._elScrollWrap);(0,b.isRtl)()&&e.reverse(),e.forEach(e=>{if(0!==t)return;const n=e.offsetLeft+e.offsetWidth;n>r&&(t=n)}),(0,w.doAnimate)({from:this._elScrollWrap.scrollLeft,to:this._elScrollWrap.scrollLeft+Math.ceil(t-r+A((0,l.ensureDefined)(this._elArrowRight))),duration:p.dur/2,onStep:(e,t)=>{this._elScrollWrap.scrollLeft=t}})},target:this._elArrowRight});const e=Array.prototype.slice.call(this._elTabs.querySelectorAll(".js-tabs__slider-hover")||[]);e.length&&e.forEach(e=>this._bindOneEvent({eventName:"mouseenter",listener:e=>{if(this._animating)return;const t=e.currentTarget;t&&this._options.activeTabClass&&O(t,this._options.activeTabClass)&&this._hoverSlider(t)},target:e}));let t=null;const r=()=>{t=null,
this.checkScrollArrows(!0),this._options.noSlider||this.resizeSlider()};this._bindOneEvent({eventName:"resize",listener:()=>{null===t&&(t=window.requestAnimationFrame(r))},target:window})}_bindTabEvents(e){this._bindOneEvent({eventName:"click",listener:e=>{"function"==typeof this._options.onTabClick?this._options.onTabClick(e):this.onTabClick(e)},target:e})}_unbindTabEvents(e){this._unbindEvents({target:e})}_bindOneEvent(e){e.target.addEventListener(e.eventName,e.listener),this._bindings.push(e)}_unbindEvents(e){const t=t=>!(void 0!==t.eventName&&t.eventName!==e.eventName||void 0!==t.target&&t.target!==e.target||void 0!==t.listener&&t.listener!==e.listener);this._bindings.filter(t).forEach(e=>e.target.removeEventListener(e.eventName,e.listener)),this._bindings=this._bindings.filter(e=>!t(e))}_getActiveElement(e,t,r){return e.filter(e=>t?O(e,t):!!r&&!O(e,r))[0]||null}_isTabDisabled(e){return O(e,"i-disabled")||this._options.tabDisabledClass&&O(e,this._options.tabDisabledClass)||e.hasAttribute("disabled")}_hoverSlider(e){const t=A(e),r=window.getComputedStyle(e),n=e.offsetLeft+parseInt(r.getPropertyValue("padding-left"))+parseInt(r.getPropertyValue("margin-left"));(0,w.doAnimate)({from:parseInt(getComputedStyle(this._elSlider).left),to:n,duration:p.dur/4,onStep:(e,t)=>{this._elSlider.style.left=t+"px"}}),(0,w.doAnimate)({from:parseInt(getComputedStyle(this._elSlider).width),to:t,duration:p.dur/4,onStep:(e,t)=>{this._elSlider.style.width=t+"px"}});const i=()=>{this.getElActiveTab()===e&&this._unhoverSlider(e),e.removeEventListener("mousleave",i)};e.addEventListener("mouseleave",i)}_unhoverSlider(e){const t=window.getComputedStyle(e),r=e.querySelector(".js-tabs__slider-pos"),n=window.getComputedStyle(r),i=e.offsetLeft+parseInt(t.getPropertyValue("padding-left"))+parseInt(t.getPropertyValue("margin-left"))+parseInt(n.getPropertyValue("padding-left"))+r.offsetLeft,o=A(e),s=o-(o-A(r));(0,w.doAnimate)({from:parseInt(getComputedStyle(this._elSlider).left),to:i,duration:p.dur/2,onStep:(e,t)=>{this._elSlider.style.left=t+"px"}}),(0,w.doAnimate)({from:parseInt(getComputedStyle(this._elSlider).width),to:s,duration:p.dur/2,onStep:(e,t)=>{this._elSlider.style.width=t+"px"}})}}function A(e){if(0===e.offsetWidth)return 0;{const t=window.getComputedStyle(e);return e.offsetWidth-parseFloat(t.getPropertyValue("padding-left"))-parseFloat(t.getPropertyValue("padding-right"))-parseFloat(t.getPropertyValue("border-left-width"))-parseFloat(t.getPropertyValue("border-right-width"))}}function D(e,t,r,n){let i=t.querySelector("."+e);if(!i){const o=document.createElement("div");if(o.innerHTML=n||`<div class="${e}"></div>`,i=o.firstElementChild,"append"===r)t.appendChild(i);else{if("wrapInner"!==r)throw new Error("Unknown insertMethod");{const e=Array.prototype.slice.call(t.childNodes);for(let t=0;t<e.length;t++)i.appendChild(e[t]);t.appendChild(i)}}}return i}function M(e,t){e.classList.add(...F(t))}function P(e,t){e.classList.remove(...F(t))}function O(e,t){return F(t).every(t=>e.classList.contains(t))}function R(e,t,r){
F(t).forEach(t=>e.classList.toggle(t,r))}function F(e){return e.split(/\s+/)}var k=r(87915),x=r(97391);class V{constructor(e){this._delegates=e}subscribe(e,t,r){this._delegates.forEach(n=>n.subscribe(e,t,r))}unsubscribe(e,t){this._delegates.forEach(r=>r.unsubscribe(e,t))}unsubscribeAll(e){this._delegates.forEach(t=>t.unsubscribeAll(e))}}var N=r(76774),U=r(64879),j=r(37229);function I(e){return 0!==e.qty||0!==e.longQty&&void 0!==e.longQty||0!==e.shortQty&&void 0!==e.shortQty}var L=r(71701);const B=[{label:(0,i.t)("Time"),property:"time",formatter:"localDate"},{label:(0,i.t)("Title"),property:"title"},{label:(0,i.t)("Text"),property:"text"}];var K;!function(e){e.Success="success",e.Danger="danger"}(K||(K={}));var z=r(708);class H{constructor(e,t,r,n,i,o){this._active=!1,this._created=!1,this._started=!1,this._fullUpdateDelegate=null,this._partialUpdateDelegate=null,this._deleteUpdateDelegate=null,this._noMoreEntries=!1,this._isLoadingMore=!1,this._fullUpdateCancel=null,this._viewVisibilityHandler=e=>{this._model.setActive(e)},this._sortingChangeHandler=e=>{this._updateModelSortingState(e)},this._sizeChangeHandler=()=>{this._updateModelSortingState({column:this._view.sortingColumn(),mode:this._view.sortingMode()})},this._idProperty=e,this._model=t,this._view=r,this._source=n,this._subscriptions=i,this._supportPagination=Boolean(o)}start(){this._started||(this._updateModelSortingState({column:this._view.sortingColumn(),mode:this._view.sortingMode()}),this._subscribeUpdates(),this._subscribeView(),this._started=!0)}stop(){this._started&&(this._unsubscribeUpdates(),this._unsubscribeView(),this.reset(),this._started=!1)}isStarted(){return this._started}setActive(e){(0,l.assert)(!e||this._started,"Should be started first"),this._active!==e&&(this._active=e,this._active&&!this._created&&this._fullUpdate(),this._model.setActive(e))}isActive(){return this._active}reset(){this._active?this._fullUpdate():(this._deleteRows(),this._created=!1)}destroy(){this._unsubscribeUpdates(),this._unsubscribeView()}setHeight(e){this._view.setHeight(e)}highlightRowById(e){this._view.highlightRowById(e)}setRowInactiveById(e,t){this._view.setRowInactiveById(e,t)}setRowInactiveByFilter(e){this._view.setRowInactiveByFilter(e)}addFormatter(e,t){this._view.addFormatter(e,t)}addFormatters(e){for(const t of e)this.addFormatter(t.name,t.format)}isRowInViewport(e){return this._view.isRowInViewport(e)}setColumnAvailable(e,t){this._view.setColumnAvailable(e,t)}setRowLinkedByFilter(e){this._view.setRowLinkedByFilter(e)}setRowLinkedById(e,t){this._view.setRowLinkedById(e,t)}rowIdAtEvent(e){return this._view.rowIdAtEvent(e)}rowAtEvent(e){const t=this._view.rowIdAtEvent(e);if(void 0!==t)return this.rowById(t)}rowById(e){return this._model.data().get(e)}_update(e){return!!this._created&&(this._model.addRow(e),!0)}_deleteRow(e){this._created&&this._model.deleteRow(e)}_deleteRows(){this._model.deleteRows(),this._created=!1}_fullUpdate(){if(this._deleteRows(),this._noMoreEntries=!1,!this._active)return Promise.resolve()
;this._fullUpdateCancel&&this._fullUpdateCancel();const e=(0,z.makeCancelable)(this._source());return this._fullUpdateCancel=e.cancel,e.promise.then(e=>{this._fullUpdateCancel=null,this._model.addRows(e),this._created=!0,this._onCreated()}).catch(e=>{if(!(0,z.isCancelled)(e))throw e})}_onCreated(){}_loadMoreIfBottomVisible(e){if(this._isLoadingMore||!e||this._noMoreEntries)return;const t=this._model.rows().length-1;if(-1===t)return;const r=this._model.rows()[t][this._idProperty];this._isLoadingMore=!0,this._source(r).then(e=>{0!==e.length?(this._model.addRows(e),this._isLoadingMore=!1):this._noMoreEntries=!0}).catch(()=>{this._isLoadingMore=!1})}_subscribeView(){this._view.onSizeChange.subscribe(this,this._sizeChangeHandler),this._view.onTableVisibilityChange.subscribe(this,this._viewVisibilityHandler),this._view.onSortingChange.subscribe(this,this._sortingChangeHandler),this._supportPagination&&this._view.onBottomVisibilityChange.subscribe(this,this._loadMoreIfBottomVisible)}_unsubscribeView(){this._view.onSizeChange.unsubscribe(this,this._sizeChangeHandler),this._view.onTableVisibilityChange.unsubscribe(this,this._viewVisibilityHandler),this._view.onSortingChange.unsubscribe(this,this._sortingChangeHandler),this._view.onBottomVisibilityChange.unsubscribe(this,this._loadMoreIfBottomVisible)}_updateModelSortingState({column:e,mode:t}){this._model.setSortingState({column:e,mode:0!==this._view.size()||this._supportPagination?t:null})}_subscribeUpdates(){if(this._fullUpdateDelegate)throw new Error("should unsubscribe first");this._fullUpdateDelegate=this._subscriptions.fullUpdateDelegate,this._fullUpdateDelegate.subscribe(this,this._fullUpdate),this._partialUpdateDelegate=this._subscriptions.rowUpdateDelegate,this._partialUpdateDelegate.subscribe(this,this._update),this._subscriptions.rowDeleteDelegate&&(this._deleteUpdateDelegate=this._subscriptions.rowDeleteDelegate,this._deleteUpdateDelegate.subscribe(this,this._deleteRow))}_unsubscribeUpdates(){this._fullUpdateDelegate&&(this._fullUpdateDelegate.unsubscribe(this,this._fullUpdate),delete this._fullUpdateDelegate),this._partialUpdateDelegate&&(this._partialUpdateDelegate.unsubscribe(this,this._update),delete this._partialUpdateDelegate),this._deleteUpdateDelegate&&(this._deleteUpdateDelegate.unsubscribe(this,this._deleteRow),delete this._deleteUpdateDelegate)}}var W=r(28515);class G extends class{constructor(e,t){this._active=!1,this._content=e,this._id=t.id,this._name=t.name,this._header=function(e){if(!e.headerCounter){const t=document.createElement("span");return t.textContent=e.name,t}const t=document.createElement("div");t.className=W.counter;const r=document.createElement("div");r.className=W.text,r.textContent=e.name;const n=document.createElement("div");return n.className=W.count+" js-header-count",n.textContent="0",t.appendChild(r),t.appendChild(n),t}(t),this._countElement=this._header.querySelector(".js-header-count")}setActive(e){this._active!==e&&(this._active=e,this._onActiveChanged(e))}isActive(){return this._active}reset(){}destroy(){}header(){
return this._header}content(){return this._content}name(){return this._name}id(){return this._id||this._name}contextItems(e){return[]}topline(){return null}_setCount(e){null!==this._countElement&&(this._countElement.innerHTML=String(e))}_onActiveChanged(e){}}{constructor(e,t,r){super(e,t),this._tableControllers=r}reset(){this._tableControllers.forEach(e=>e.reset()),super.reset()}destroy(){this._tableControllers.forEach(e=>e.destroy()),super.destroy()}setHeight(e){this._tableControllers.forEach(t=>t.setHeight(e))}contextRow(e){}_onActiveChanged(e){this._tableControllers.forEach(t=>t.setActive(e))}}var q=r(75496),$=r(40160),X=r(6867),J=r(83775),Q=r(64665),Z=r(8);var Y=r(90592),ee=r(53147),te=(r(2522),r(19814),r(94184)),re=r.n(te);r(50879);r(7318);var ne=r(46403);r(69496),r(51379);new Map;function ie(e){return""===e||null==e}var oe=r(83827);new Map;function se(e){const{symbol:t,brokerSymbol:r}=e;return o.createElement("div",{className:oe.title,onClick:function(){ie(t)||u.linking.symbol.setValue(t)}},r)}function ae(e){return o.createElement(ne.MatchMedia,{rule:L.TradingLayoutBreakpoint.Mobile},t=>t?o.createElement(le,{...e}):o.createElement(se,{...e}))}function le(e){const{symbol:t,brokerSymbol:r}=e;return o.createElement("span",{onClick:function(){ie(t)||window.matchMedia(L.TradingLayoutBreakpoint.Mobile).matches||u.linking.symbol.setValue(t)}},r)}var ue=r(41373);function ce(e){return 1===e?ue.blue:ue.red}function de(e){const{side:t}=e;return o.createElement("span",{className:ce(t)},(0,$.sideToText)(t))}function he(e){const{side:t}=e;return o.createElement("span",{className:ce(t)},(0,$.positionSideToText)(t))}var pe=r(75038);function fe(e){const{value:t,noWrap:r}=e;return o.createElement("span",{className:re()(pe.text,r&&pe.noWrap)},t)}function me(e){const{priceFormatter:t,price:r,prevPrice:n,lastCharSup:i}=e,s=(0,X.splitThousands)(t.format(r)," ");if(void 0===n)return ge(s,i);const a=(0,X.splitThousands)(t.format(n)," "),l=s.split("").findIndex((e,t)=>e!==a[t]);if(-1===l)return ge(s,i);const u=s.substring(0,l),c=s.substring(l);return o.createElement("span",null,u,o.createElement("span",{className:r>n?ue.green:ue.red},i?_e(c):c))}function ge(e,t){return o.createElement("span",null,t?_e(e):(0,b.forceLTRStr)(e))}function _e(e){const t=/^([^]*)(\S)(\s*)$/.exec(e);return"0"===e||null===t?o.createElement(o.Fragment,null,(0,b.forceLTRStr)(e)):o.createElement(o.Fragment,null,t[1],o.createElement("sup",null,t[2]),void 0!==t[3]&&""!==t[3]&&o.createElement("sup",null,t[3]))}const ve={3:ue.gray,6:ue.blue,5:ue.red,2:ue.green,1:ue.orange,4:void 0};function ye(e){const{status:t}=e;return o.createElement("span",{className:ve[t],style:{textTransform:"capitalize"}},(0,k.orderStatusToText)(t))}function be(e){const{profit:t,currency:r}=e;if(!(0,Y.isNumber)(t))return o.createElement("span",null);const n=(0,q.fixComputationError)(t),i=n>0?"+":"",s=void 0!==r?" "+r:"";return o.createElement("span",{className:re()(n<0&&ue.red,n>0&&ue.green)},(0,b.forceLTRStr)(i+(0,X.splitThousands)((n||0).toFixed(2)," ")+s))}
const we=new J.DateTimeFormatter,Ce=new class{constructor(){this._dateFormatter=new Z.DateFormatter,this._timeFormatter=new Q.TimeFormatter}format(e){const t=new Date(e.dateOrDateTime);let r=this._dateFormatter.format(t);return e.hasTime&&(r+=" "+this._timeFormatter.format(t)),r}formatLocal(e){const t=new Date(e.dateOrDateTime);let r=this._dateFormatter.formatLocal(t);return e.hasTime&&(r+=" "+this._timeFormatter.formatLocal(t)),r}},Se=new ee.PercentageFormatter,Ee={name:"default",format:({value:e})=>String(null!=e?e:"")},Te=[{name:"symbol",format:({value:e,row:t})=>o.createElement(ae,{brokerSymbol:e,symbol:t.symbol})},{name:"symbolLink",format:({value:e,row:t})=>o.createElement(le,{brokerSymbol:e,symbol:t.symbol})},{name:"side",format:({value:e})=>o.createElement(de,{side:e})},{name:"positionSide",format:({value:e})=>o.createElement(he,{side:e})},{name:"text",format:({value:e})=>o.createElement(fe,{value:e})},{name:"textNoWrap",format:({value:e})=>o.createElement(fe,{value:e,noWrap:!0})},{name:"type",format:({value:e})=>(0,$.orderTypeToText)(e)},{name:"formatPrice",format:({value:e,priceFormatter:t,prevValue:r})=>(0,k.isDefined)(e)?o.createElement(me,{priceFormatter:t,price:e,prevPrice:r}):void 0},{name:"formatPriceForexSup",format:({value:e,priceFormatter:t,prevValue:r})=>(0,k.isDefined)(e)?o.createElement(me,{priceFormatter:t,price:e,prevPrice:r,lastCharSup:t.hasForexAdditionalPrecision()}):void 0},{name:"status",format:({value:e})=>o.createElement(ye,{status:e})},{name:"date",format:({value:e})=>(0,k.isDefined)(e)&&Ae(e)?we.format(new Date(e)):void 0},{name:"localDate",format:({value:e})=>(0,k.isDefined)(e)&&Ae(e)?we.formatLocal(new Date(e)):void 0},{name:"dateOrDateTime",format:({value:e})=>(0,k.isDefined)(e)&&Ae(e.dateOrDateTime)?Ce.format(e):void 0},{name:"localDateOrDateTime",format:({value:e})=>(0,k.isDefined)(e)&&Ae(e.dateOrDateTime)?Ce.formatLocal(e):void 0},{name:"fixed",format:({value:e})=>{if((0,k.isDefined)(e)&&!isNaN(e))return(0,b.forceLTRStr)(Math.abs(e||0)<.001?"0.00":(0,X.splitThousands)((e||0).toFixed(2)," "))}},{name:"variablePrecision",format:({value:e})=>{if((0,k.isDefined)(e)&&!isNaN(e))return(0,b.forceLTRStr)(String((0,q.fixComputationError)(e)))}},{name:"pips",format:({value:e})=>(0,Y.isNumber)(e)?(0,b.forceLTRStr)(Math.abs(e)<.01?"0.0":(0,X.splitThousands)(e.toFixed(1)," ")):void 0},{name:"integerSeparated",format:({value:e})=>(0,Y.isNumber)(e)?(0,b.forceLTRStr)((0,X.splitThousands)(e.toFixed(0)," ")):void 0},{name:"formatQuantity",format:({value:e})=>(0,Y.isNumber)(e)?(0,b.forceLTRStr)((0,X.splitThousands)(e," ")):void 0},{name:"profit",format:({value:e})=>(0,k.isDefined)(e)?o.createElement(be,{profit:e}):void 0},{name:"profitInInstrumentCurrency",format:({value:e,row:{currency:t}})=>(0,k.isDefined)(e)?o.createElement(be,{profit:e,currency:t}):void 0},{name:"percentage",format:({value:e})=>(0,Y.isNumber)(e)?(0,b.forceLTRStr)(Se.format(e)):void 0},{name:"marginPercent",format:({value:e})=>{if((0,k.isDefined)(e))return isFinite(e)?e<.01?e+"%":Se.format(e):"> 200%"}}];function Ae(e){
return"number"==typeof e?e>0:""!==e}class De extends G{constructor(e,t,r){super(e,t,r),r.forEach(e=>e.addFormatters(t.formatters.concat(Te)))}}var Me=r(57294);function Pe(e={}){const{withScroll:t=!1,fitContent:r=!1}=e,n=document.createElement("div");return n.classList.add(Me.tableContainer),n.classList.toggle(Me.withScroll,t),n.classList.toggle(Me.noScroll,!t),n.classList.toggle(Me.fitContent,r),n}var Oe=r(84628);const Re={mobileRowPadding:Fe(Oe["mobile-row-padding"]),mobileRowBorderSize:Fe(Oe["mobile-row-border-size"]),mobileRowMargin:Fe(Oe["mobile-row-margin"]),contentFontSize:Oe["content-font-size"],maxCellWidth:200,minCellWidth:80};function Fe(e){return Number(e.replace("px",""))}const ke=2*Re.mobileRowPadding+Re.mobileRowBorderSize;function xe(e,t){let r=ke;for(const[n,i]of t.entries()){ie(e[n])||(r+=22)}return r}function Ve(e,t){let r=ke;for(const n of t.keys()){ie(e[n])||(r+=22)}return r}var Ne=r(99479),Ue=r(58848),je=r(34720),Ie=r(67791),Le=r(13630),Be=r(19929),Ke=r(80068),ze=r(98658),He=r(19160),We=r.n(He),Ge=r(65954),qe=r(57812),$e=r(43915),Xe=r(86607),Je=r(38120),Qe=r(66189),Ze=r(80869),Ye=r(61655);const et=new(We())(null).readonly();function tt(e){const{items:t,onCheck:r,overlapManagerWV:n}=e,s=(0,Ge.useWatchedValueReadonly)({watchedValue:null!=n?n:et}),a=(0,o.useMemo)(()=>t.filter(e=>e.visible),[t]);return o.createElement(Qe.SlotContext.Provider,{value:s},o.createElement($e.ToolWidgetMenu,{horizontalDropDirection:Xe.HorizontalDropDirection.FromRightToLeft,horizontalAttachEdge:Xe.HorizontalAttachEdge.Right,className:Ze.menuButton,arrow:!1,isDrawer:c.CheckMobile.any(),content:o.createElement(qe.ToolWidgetButton,{className:Ze.icon,title:(0,i.t)("Column setup"),icon:Ye})},t.map(e=>o.createElement(Je.PopupMenuItemToggle,{key:e.id,label:e.title,isChecked:e.visible,labelClassName:Ze.label,className:Ze.checkBox,onClick:()=>{return t=e.id,void r(t);var t},isDisabled:1===a.length&&a[0].id===e.id}))))}var rt=r(93888);function nt(e){const{isSticky:t,...r}=e;return o.createElement("div",{className:re()(rt.container,t&&rt.sticky)},o.createElement(tt,{...r}))}var it=r(20961),ot=r.n(it);function st(e){const{visibilityHandler:t,...r}=e;return(0,o.useLayoutEffect)(()=>(t(r.rowKeyValue,!0),()=>t(r.rowKeyValue,!1)),[]),o.createElement(ot(),{...r})}var at=r(74467);function lt(e){const{children:t,onWidthChange:r,widthMeasurer:n,maxWidth:i}=e,[s,a]=(0,o.useState)(),[l,u]=(0,o.useState)(!1),c=(0,o.useRef)(null);return(0,o.useEffect)(()=>{if(null===c.current)return;const e=c.current.innerText;if(e===s)return;a(e);const t=n(e);r(t),u(t>i)},[t]),o.createElement("span",{ref:c,className:re()(at.wrapper,l&&"apply-common-tooltip"),"data-tooltip":s},t)}var ut=r(65760);const ct={0:Be.SortDirection.Ascend,1:Be.SortDirection.Descend},dt={[K.Danger]:ut.dangerRow,[K.Success]:ut.successRow};class ht{constructor(e=0){this._mode=e}value(){return this._mode}next(){switch(this._mode){case 0:this._mode=1;break;case 1:this._mode=null;break;case null:this._mode=0}return this._mode}reset(){this._mode=0}}function pt({value:e}){let t=""
;return void 0!==e&&(t=String(e).replace(/&nbsp;/g," ")),t}const ft=new ze.PriceFormatter,mt=(0,l.ensureNotNull)(document.createElement("canvas").getContext("2d"));mt.font=`${Re.contentFontSize} ${getComputedStyle(document.body).fontFamily}`;function gt(e){return Math.ceil(mt.measureText(e).width)+10}je.default.fieldDelimiter="";class _t{constructor(e){var t,r;this.onTableVisibilityChange=new(g()),this.onBottomVisibilityChange=new(g()),this.onSizeChange=new(g()),this.onSortingChange=new(g()),this._isVisible=!1,this._tableWrapperKey=(0,Ke.randomHashN)(5),this._rowHeightCache=new Map,this._rowsElements=new Map,this._rowsDisplayOptions=new Map,this._columnsWidth=new Map,this._columnWidthChangeHandlers=new Map,this._highlightTimeoutIds=new Map,this._formatters=new Map,this._visibleColumnsWithFormatters=new Map,this._hiddenFilterColumns=new Set,this._visibleRows=new Set,this._invalidateRowCache=e=>{this._rowHeightCache.delete(e)},this._makeHeadCellAttributes=({column:{key:e,title:t}})=>{const r={className:ut.headCell};return this._isMobile||(r.width=this._fixedColumns?"50%":this._columnsWidth.get(e),""===t&&(r.width=68)),r},this._setColumnWidth=(e,t)=>{const r=this._columnsWidth.get(e);void 0!==r&&t<=r||(this._columnsWidth.set(e,t),this._render())},this._updateTableProps=e=>{if(e.type===Be.ActionType.UpdateSortDirection){const t=this._columnsMetainfo.get(e.columnKey);if(void 0===t||t.notSortable)return;this._handleSortingUpdate(e.columnKey)}this._tableProps=(0,Le.kaReducer)(this._tableProps,e),this._render()},this._handleEmptyRows=()=>{0===this._model.rows().length&&this._resetTableVirtualScrollPosition()},this._calculateRowHeight=e=>{var t,r;const n=null===(r=null===(t=this._virtualization)||void 0===t?void 0:t.rowHeightParams)||void 0===r?void 0:r[this._isMobile?"mobile":"desktop"];if(void 0===n)return 48;if("number"==typeof n)return n;const i=e[this._idProperty],o=this._isMobile&&this._isFirstRow(i)?Re.mobileRowMargin:0,s=this._rowHeightCache.get(i);if(void 0!==s)return s+o;const a=n(e,this._visibleColumnsWithFormatters);return this._rowHeightCache.set(i,a),a+o},this._makeHeadCellContent=e=>{const{column:t}=e;if(""===t.title){const e=this._getAvailableColumnsFilterItems();if(0!==e.length)return o.createElement(nt,{...this._columnsFilterProps,items:e})}const r=this._columnsMetainfo.get(t.key);return void 0!==(null==r?void 0:r.help)?o.createElement("span",{className:"apply-common-tooltip",title:r.help},t.title):t.title},this._makeCellContent=e=>{var t,r,n;const{value:i,rowData:s,field:a}=e,l=this._columnsMetainfo.get(a);if(void 0===l)return;if(!1===l.showZeroValues&&0===i)return o.createElement(o.Fragment,null);const u=void 0!==l.formatter&&null!==(t=this._formatters.get(l.formatter))&&void 0!==t?t:pt,c=null===(r=s.prevValue)||void 0===r?void 0:r[a],d=u({value:i,prevValue:l.highlightDiff?c:void 0,priceFormatter:null!==(n=s.priceFormatter)&&void 0!==n?n:ft,row:s});if(this._isMobile||this._fixedColumns)return o.createElement(o.Fragment,null,d);let h=this._columnWidthChangeHandlers.get(a)
;return void 0===h&&(h=e=>this._setColumnWidth(a,e),this._columnWidthChangeHandlers.set(a,h)),o.createElement(lt,{onWidthChange:h,widthMeasurer:gt,maxWidth:Re.maxCellWidth},d)},this._makeRowContent=e=>o.createElement(st,{...e,visibilityHandler:this._handleRowVisibilityChange}),this._handleRowVisibilityChange=(e,t)=>{t?this._visibleRows.add(e):this._visibleRows.delete(e)},this._makeRowAttributes=({rowKeyValue:e,rowData:t})=>{var r;const n=this._rowsDisplayOptions.get(e),i=null===(r=this._rowBadgeTypeInferrer)||void 0===r?void 0:r.call(this,t);return{className:re()(ut.row,(null==n?void 0:n.isInactive)&&ut.inactiveRow,(null==n?void 0:n.isLinked)&&ut.linkedRow,void 0!==i&&dt[i],this._isFirstRow(e)&&ut.withMargin),"data-row-id":e,ref:t=>this._setRowElement(e,t)}},this._setRowElement=(e,t)=>{this._rowsElements.set(e,t)},this._makeHeadCellContentAttributes=({column:e})=>{const{title:t,key:r}=e,n=this._columnsMetainfo.get(r);return{className:re()(ut.headCellContent,("right"===(null==n?void 0:n.alignment)||""===t)&&ut.rightAlignedHeadCell)}},this._makeCellAttributes=({column:e,value:t})=>{const{title:r,key:n}=e,i=this._columnsMetainfo.get(n),o=!1===(null==i?void 0:i.showOnMobile)||!1===(null==i?void 0:i.showZeroValues)&&0===t||null==t;return{className:re()(ut.cell,("right"===(null==i?void 0:i.alignment)||""===r)&&ut.rightAlignedCell,!1===(null==i?void 0:i.showLabelOnMobile)&&!1,o&&ut.hideCellOnMobile),"data-label":r}},this._makeCellContentAttributes=({column:e,rowData:t})=>{var r;const{key:n}=e,i=this._columnsMetainfo.get(n),o=void 0!==(null==i?void 0:i.tooltipProperty)?null===(r=t[i.tooltipProperty])||void 0===r?void 0:r[i.property]:void 0;return{className:re()(ut.cellContent,void 0!==o&&"apply-common-tooltip common-tooltip-html",!1!==(null==i?void 0:i.isCapitalize)&&ut.capitalize),title:o}},this._makeTableWrapperAttributes=()=>{var e;return{className:re()(ut.tableWrapper,(null===(e=this._virtualization)||void 0===e?void 0:e.enabled)&&ut.tableWrapperEmpty),onScroll:this._onTableScroll,key:this._tableWrapperKey}},this._onTableScroll=(e,{baseFunc:t})=>{this._update.cancel(),t(e),this._checkBottomIsVisible(e.currentTarget)},this._resizeHandler=({matches:e})=>{this._isMobile=e,this._visibleColumnsWithFormatters.clear(),this._columnsVisibilityInfo=this._makeColumnsVisibilityInfo(),this._columnsFilterProps=this._makeColumnsFilterProps(),this._tableProps.columns=this._makeColumns(),this._rowHeightCache.clear(),this.onSizeChange.fire()};const{id:n,model:i,className:s,container:a,columns:l,virtualization:u,stickyMobileColumnsFilter:c,idProperty:d,overlapManager:h,initialSorting:p,rowBadgeTypeInferrer:f,fixedColumns:m}=e;this._id=n,this._model=i,this._fixedColumns=m,this._sortingColumnKey=this._id+".sort.column",this._sortingModeKey=this._id+".sort.mode",this._container=a,this._idProperty=d,this._virtualization=u,this._overlapManager=h,this._isStickyMobileColumnsFilter=c,this._columnsMetainfo=new Map(l.map(e=>[e.property,e])),this._rowBadgeTypeInferrer=f,this._checkBottomIsVisible=(0,Ne.default)(this._checkBottomIsVisible,100),
this._update=(0,Ue.default)(this._render,1e3);const _=null!==(t=this._getSavedSortingParameters())&&void 0!==t?t:p;this._sortingColumn=null==_?void 0:_.columnId;const v=!1===(null==_?void 0:_.asc)?1:0;let y;this._sortingModeSwitcher=new ht(void 0===_?null:v),(null==u?void 0:u.enabled)&&(y={itemHeight:this._calculateRowHeight}),this._mobileMediaQuery=window.matchMedia(L.TradingLayoutBreakpoint.Mobile),this._isMobile=this._mobileMediaQuery.matches,(0,Ie.mediaQueryAddEventListener)(this._mobileMediaQuery,this._resizeHandler);const b="IntersectionObserver"in window;b||(this._isVisible=!0),this._containerVisibilityObserver=b?new IntersectionObserver(e=>{e.forEach(({intersectionRatio:e})=>{this._isVisible=0!==e,this._isVisible?this._render():this._resetTableVirtualScrollPosition(),this.onTableVisibilityChange.fire(this._isVisible)})}):null,null===(r=this._containerVisibilityObserver)||void 0===r||r.observe(this._container),this._columnsVisibilityInfo=this._makeColumnsVisibilityInfo(),this._columnsFilterProps=this._makeColumnsFilterProps(),this._tableProps={columns:this._makeColumns(),dispatch:this._updateTableProps,rowKeyField:this._idProperty,virtualScrolling:y,sortingMode:Be.SortingMode.SingleTripleStateRemote,childComponents:{table:{elementAttributes:()=>({className:re()(ut.table,s,void 0!==y&&ut.withVirtualization),"data-selector":"table"})},tableBody:{elementAttributes:()=>({className:ut.tableBody})},tableHead:{elementAttributes:()=>({className:ut.tableHead})},headRow:{elementAttributes:()=>({className:ut.headRow})},headCell:{elementAttributes:this._makeHeadCellAttributes},cell:{elementAttributes:this._makeCellAttributes},tableWrapper:{elementAttributes:this._makeTableWrapperAttributes},dataRow:{content:this._makeRowContent,elementAttributes:this._makeRowAttributes},cellText:{content:this._makeCellContent,elementAttributes:this._makeCellContentAttributes},headCellContent:{elementAttributes:this._makeHeadCellContentAttributes,content:this._makeHeadCellContent}}},this._render(),this._subscribeModel()}rowIdAtEvent(e){return function(e){if(void 0!==e.dataset.rowId)return e.dataset.rowId;let t=e.parentElement;for(;null!==t;){if(void 0!==t.dataset.rowId)return t.dataset.rowId;t=t.parentElement}}(e.target)}isRowInViewport(e){return this._visibleRows.has(e)}sortingColumn(){return this._sortingColumn}sortingMode(){return this._sortingModeSwitcher.value()}size(){return this._isMobile?0:1}highlightRowById(e){const t=this._rowElementById(e);void 0!==t&&(clearTimeout(this._highlightTimeoutIds.get(e)),t.classList.remove(ut.highlightedRow),t.classList.add(ut.highlightedRow),this._highlightTimeoutIds.set(e,setTimeout(()=>{t.classList.remove(ut.highlightedRow)},700)))}addFormatter(e,t){this._formatters.set(e,t)}setColumnAvailable(e,t){if(this._setColumnAvailableInFilter(e,t),t){const t=this._isMobile?".invisibleMobileColumns":".invisibleColumns";if(y.getJSON(`${this._id}${t}`,[]).includes(e))return}this._setColumnVisibility(e,t)}setHeight(e){void 0!==this._tableProps.virtualScrolling&&(this._tableProps.virtualScrolling={
...this._tableProps.virtualScrolling,tbodyHeight:e}),this._tableProps.childComponents={...this._tableProps.childComponents,tableWrapper:{elementAttributes:()=>({...this._makeTableWrapperAttributes(),style:{height:e}})}},this._render()}setRowInactiveById(e,t){var r;(null===(r=this._rowsDisplayOptions.get(e))||void 0===r?void 0:r.isInactive)!==t&&(this._setRowInactiveById(e,t),this._render())}setRowInactiveByFilter(e){this._model.data().forEach((t,r)=>this._setRowInactiveById(r,e(t))),this._render()}setRowLinkedById(e,t){var r;(null===(r=this._rowsDisplayOptions.get(e))||void 0===r?void 0:r.isLinked)!==t&&(this._setRowLinkedById(e,t),this._render())}setRowLinkedByFilter(e){this._model.data().forEach((t,r)=>this._setRowLinkedById(r,e(t))),this._render()}destroy(){var e;(0,Ie.mediaQueryRemoveEventListener)(this._mobileMediaQuery,this._resizeHandler),this._unsubscribeModel(),null===(e=this._containerVisibilityObserver)||void 0===e||e.disconnect(),s.unmountComponentAtNode(this._container)}_setRowInactiveById(e,t){this._updateRowDisplayOptions(e,{isInactive:t})}_setRowLinkedById(e,t){this._updateRowDisplayOptions(e,{isLinked:t})}_rowElementById(e){var t;return null!==(t=this._rowsElements.get(e))&&void 0!==t?t:void 0}_makeColumns(){const e=[];for(const[t,r]of this._columnsMetainfo){const{isVisible:n,isVisibleOnMobile:i,forceInvisible:o}=(0,l.ensureDefined)(this._columnsVisibilityInfo.get(t));this._isMobile||this._fixedColumns||void 0!==this._columnsWidth.get(t)||this._columnsWidth.set(t,gt(r.label));const s={key:t,title:r.label,visible:(this._isMobile?i:n)&&!o,style:{minWidth:this._isMobile?void 0:Re.minCellWidth,maxWidth:this._isMobile?void 0:Re.maxCellWidth}},a=this._sortingModeSwitcher.value();t===this._sortingColumn&&null!==a&&(s.sortDirection=ct[a]),e.push(s)}return""!==e[e.length-1].title&&e.push({key:"settings",title:"",visible:!0}),e}_resetTableVirtualScrollPosition(){void 0!==this._tableProps.virtualScrolling&&(this._tableProps.virtualScrolling={...this._tableProps.virtualScrolling,scrollTop:0},this._tableWrapperKey=(0,Ke.randomHashN)(5),this._render(!0))}_render(e=!1){if(!e&&!this._isVisible)return;const t=this._model.rows();let r=[];this._isMobile&&0!==t.length&&(r=this._getAvailableColumnsFilterItems()),s.render(o.createElement(o.Fragment,null,0!==r.length&&o.createElement(nt,{...this._columnsFilterProps,items:r}),o.createElement(Le.Table,{...this._tableProps,dispatch:this._updateTableProps,data:t})),this._container)}_updateRowDisplayOptions(e,t){const r=this._rowsDisplayOptions.get(e);this._rowsDisplayOptions.set(e,{...r,...t})}_handleSortingUpdate(e){e===this._sortingColumn?this._sortingModeSwitcher.next():(this._sortingColumn=e,this._sortingModeSwitcher.reset()),this._updateSortingColumnSettings(),this.onSortingChange.fire({column:e,mode:this._sortingModeSwitcher.value()})}_updateSortingColumnSettings(){const e=this._sortingModeSwitcher.value();if(null===e)return y.remove(this._sortingColumnKey),void y.remove(this._sortingModeKey);y.setValue(this._sortingColumnKey,this._sortingColumn),
y.setValue(this._sortingModeKey,e)}_getSavedSortingParameters(){const e=y.getValue(this._sortingColumnKey);if(void 0===e)return;return{columnId:e,asc:0===y.getInt(this._sortingModeKey)}}_setColumnAvailableInFilter(e,t){t?this._hiddenFilterColumns.delete(e):this._hiddenFilterColumns.add(e)}_makeColumnsVisibilityInfo(){const e=new Map,t=[...this._columnsMetainfo.values()].filter(e=>e.hideByDefault).map(e=>e.property),r=y.getJSON(this._id+".invisibleColumns",t),n=y.getJSON(this._id+".invisibleMobileColumns",t);return this._columnsMetainfo.forEach(t=>{var i;const o=r.includes(t.property),s=n.includes(t.property);(this._isMobile?s:o)?this._visibleColumnsWithFormatters.delete(t.property):this._visibleColumnsWithFormatters.set(t.property,null!==(i=t.formatter)&&void 0!==i?i:"text"),e.set(t.property,{isVisible:!o,isVisibleOnMobile:!s,isAlwaysVisible:!0===t.notHideable,property:t.property,label:t.label})}),e}_isFirstRow(e){var t;return e===(null===(t=this._model.rows()[0])||void 0===t?void 0:t[this._idProperty])}_checkBottomIsVisible(e){const t=e.querySelector('[data-selector="table"]');if(null===t)return;const{bottom:r}=t.getBoundingClientRect(),n=window.innerHeight-r>=-100;this.onBottomVisibilityChange.fire(n)}_makeColumnsFilterProps(){return{items:[...this._columnsVisibilityInfo.values()].filter(e=>""!==e.label&&!e.isAlwaysVisible).map(e=>({id:e.property,title:e.label,visible:(this._isMobile?e.isVisibleOnMobile:e.isVisible)&&!e.forceInvisible})),onCheck:e=>this._toggleColumnVisibility(e),overlapManagerWV:this._overlapManager,isSticky:this._isStickyMobileColumnsFilter}}_toggleColumnVisibility(e){const t=!this._visibleColumnsWithFormatters.has(e);this._setColumnVisibility(e,t);const r=`${this._id}${this._isMobile?".invisibleMobileColumns":".invisibleColumns"}`,n=new Set(y.getJSON(r,[]));t?n.delete(e):n.add(e),y.setJSON(r,[...n])}_setColumnVisibility(e,t){var r,n;t?this._visibleColumnsWithFormatters.set(e,null!==(n=null===(r=this._columnsMetainfo.get(e))||void 0===r?void 0:r.formatter)&&void 0!==n?n:"text"):this._visibleColumnsWithFormatters.delete(e);const i=this._columnsVisibilityInfo.get(e);void 0!==i&&(this._isMobile?this._columnsVisibilityInfo.set(e,{...i,isVisibleOnMobile:t&&!i.forceInvisible}):this._columnsVisibilityInfo.set(e,{...i,isVisible:t&&!i.forceInvisible}),this._columnsFilterProps=this._makeColumnsFilterProps()),void 0!==this._tableProps.virtualScrolling&&this._rowHeightCache.clear(),this._updateTableProps({type:t?Be.ActionType.ShowColumn:Be.ActionType.HideColumn,columnKey:e})}_getAvailableColumnsFilterItems(){return this._columnsFilterProps.items.filter(e=>!this._hiddenFilterColumns.has(e.id))}_subscribeModel(){this._model.onRowChanged.subscribe(this,this._invalidateRowCache),this._model.onRowsChanged.subscribe(this,this._handleEmptyRows),this._model.onRowsChanged.subscribe(this,this._update)}_unsubscribeModel(){this._model.onRowChanged.unsubscribe(this,this._invalidateRowCache),this._model.onRowsChanged.unsubscribe(this,this._handleEmptyRows),this._model.onRowsChanged.unsubscribe(this,this._update)}}
function vt(e,t){return void 0===e&&void 0!==t?1:void 0!==e&&void 0===t?-1:void 0===e||void 0===t?0:e<t?1:e>t?-1:0}class yt{constructor(e){this.onRowsChanged=new(g()),this.onRowChanged=new(g()),this._rowsData=new Map,this._priceFormatters=new Map,this._rows=[],this._isActive=!1,this._sortingPostponed=!1,this._sortingMode=null;const{columns:t,options:r,priceFormatterGetter:n,reverse:i=!0}=e;this._idProperty=r.idProperty,this._reverse=i,this._group=r.group,this._priceFormatterGetter=n,this._sortAndGroupRowsThrottled=(0,Ue.default)(()=>{this._sortAndGroupRows(),this._update()},1e3),this._columns=new Map(t.map(e=>[e.property,e]))}setActive(e){this._isActive=e,this._onTableStateChanged(e)}addRow(e){const t=e[this._idProperty];this._rowsData.has(t)?this._updateRow(t,e):(this._addRowData(e),this._sortAndGroupRowsThrottled.cancel(),this._sortAndGroupRows(),this._update())}addRows(e){for(const t of e){const e=t[this._idProperty];this._rowsData.has(e)?this._updateRowData(e,t):this._addRowData(t)}this._sortAndGroupRows(),this._update()}rows(){return this._rows}data(){return this._rowsData}deleteRow(e){const t=this._rowsData.get(e);void 0!==t&&(this._rowsData.delete(e),this._rows.splice(this._rows.indexOf(t),1),this._update())}deleteRows(){this._deleteRows(),this._update()}destroy(){this._sortAndGroupRowsThrottled.cancel(),this._deleteRows()}setSortingState(e){this._sortingColumn=e.column,this._sortingMode=e.mode,this._onSortingChange()}_deleteRows(){this._rowsData.clear(),this._rows=[]}_sortAndGroupRows(){var e,t;if(!this._isActive)return void(this._sortingPostponed=!0);const r=void 0!==this._sortingColumn?this._columns.get(this._sortingColumn):void 0,n=null!==(t=null!==(e=null==r?void 0:r.sortProp)&&void 0!==e?e:null==r?void 0:r.property)&&void 0!==t?t:this._sortingColumn;this._rows.sort((e,t)=>function(e){const{aRow:t,bRow:r,sortingMode:n,sortingColumn:i,groupDefiner:o}=e;let s=0;return void 0!==o&&(s=vt(o(t),o(r))),0===s&&(s=t.isTotalRow?1:r.isTotalRow?-1:0),null===n||0!==s||void 0===i?s:(s=vt(t[i],r[i]),0===n?-s:s)}({aRow:e,bRow:t,sortingColumn:n,sortingMode:this._sortingMode,groupDefiner:this._group}))}_onSortingChange(){this._sortAndGroupRowsThrottled.cancel(),null===this._sortingMode&&this._resetRowsOrder(),this._sortAndGroupRows(),this._update()}_resetRowsOrder(){this._rows=[...this._rowsData.values()],this._reverse&&this._rows.reverse()}_onTableStateChanged(e){if(!e)return this._sortAndGroupRowsThrottled.cancel(),void(this._sortingPostponed=!0);this._update()}_update(){this._isActive&&(this._sortingPostponed&&(this._sortingPostponed=!1,this._sortAndGroupRows()),this.onRowsChanged.fire())}_updateRowData(e,t){var r,n;const i=(0,l.ensureDefined)(this._rowsData.get(e)),{prevValue:o,priceFormatter:s,...a}=i;for(const e of Object.keys(i))delete i[e];Object.assign(i,t,{priceFormatter:s,prevValue:a}),this.onRowChanged.fire(e);const u=(null===(r=this._group)||void 0===r?void 0:r.call(this,i))!==(null===(n=this._group)||void 0===n?void 0:n.call(this,a))
;(void 0!==this._sortingColumn&&t[this._sortingColumn]!==a[this._sortingColumn]||u)&&this._sortAndGroupRowsThrottled()}_updateRow(e,t){this._updateRowData(e,t),this._update()}_addRowData({...e}){this._rowsData.set(e[this._idProperty],e),this._reverse?this._rows.unshift(e):this._rows.push(e),this._resolvePriceFormatter(e[this._idProperty])}async _resolvePriceFormatter(e){if(void 0!==this._priceFormatterGetter)try{const t=this._rowsData.get(e);if(void 0===t||void 0!==t.priceFormatter)return;t.priceFormatter=null;const r=this._priceFormatters.get(e);if(void 0!==r)return t.priceFormatter=r,void this._update();const n=await this._priceFormatterGetter(t);this._priceFormatters.set(e,n),t.priceFormatter=n,this._update()}catch(e){}}}class bt extends De{constructor(e){const t=Pe(),r=new yt({options:{idProperty:"id"},priceFormatterGetter:e.priceFormatterFn,columns:e.columns}),n=new _t({id:e.id,model:r,container:t,columns:e.columns,idProperty:"id",virtualization:{enabled:!0,rowHeightParams:{mobile:Ve}},overlapManager:e.overlapManager,initialSorting:e.initialSorting,rowBadgeTypeInferrer:e.rowBadgeTypeInferrer}),i=new H("id",r,n,e.source,e.subscriptions);super(t,{id:e.id,name:e.title,headerCounter:!1,formatters:e.formatters},[i]),this._tableViewModel=r,this._tableView=n,i.start()}destroy(){this._tableViewModel.destroy(),this._tableView.destroy(),super.destroy()}}var wt=r(59694);class Ct extends G{constructor(e){const t=Pe({withScroll:!0}),r=[],n=[],i=[];e.tables.forEach(o=>{var s,a,l;const u=Pe({withScroll:!0,fitContent:1!==e.tables.length}),c=document.createElement("div"),d=new yt({options:o.options,priceFormatterGetter:o.priceFormatterFn,reverse:null===(s=o.flags)||void 0===s?void 0:s.reverse,columns:o.columns}),h=new _t({id:o.id,model:d,container:c,columns:o.columns,idProperty:o.options.idProperty,className:o.options.className,stickyMobileColumnsFilter:!0,overlapManager:e.overlapManager,initialSorting:o.initialSorting,fixedColumns:null===(a=o.flags)||void 0===a?void 0:a.fixedColumns});if(o.title){const e=function(e){const t=document.createElement("h3");return t.className=wt.title,t.textContent=e,t}(o.title);u.appendChild(e)}u.appendChild(c),t.appendChild(u);const p=new H(o.options.idProperty,d,h,o.source,o.subscriptions,null===(l=o.flags)||void 0===l?void 0:l.supportPagination);n.push(d),i.push(h),r.push(p),p.addFormatters(o.formatters.concat(Te)),p.start()});const o={id:e.id,name:e.title,headerCounter:!1};super(t,o,r),this._tableViewModels=n,this._tableViews=i,this._contentPage=t}setHeight(e){var t,r;if(1===this._tableControllers.length){const n=null!==(r=null===(t=this._contentPage.getElementsByTagName("h3")[0])||void 0===t?void 0:t.offsetHeight)&&void 0!==r?r:0;this._tableControllers[0].setHeight(e-n)}}destroy(){this._tableViewModels.forEach(e=>e.destroy()),this._tableViews.forEach(e=>e.destroy()),super.destroy()}}class St{constructor(e,t,r,n){this.filterFullUpdateDelegate=new(g()),this.filterObjectUpdateDelegate=new(g()),this.filterObjectDeleteDelegate=new(g()),this._filteredObjects=[],this._requestsCount=0,
this._started=!1,this._objectsRequest=null,this._source=e,this._objectUpdateDelegate=t,this._objectDeleteDelegate=r,this._fullUpdateDelegate=n}start(){this._requestsCount++;const e=this._source,t=this._objectsRequest||Promise.resolve([]);this._objectsRequest=t.then(()=>e()).then(e=>{const t=e.filter(e=>this._satisfy(e));return this._requestsCount--,this._requestsCount||(this.stop(),this._filteredObjects=t,this._objectsRequest=null,this._objectUpdateDelegate.subscribe(this,this._onObjectUpdated),this._objectDeleteDelegate&&this._objectDeleteDelegate.subscribe(this,this._onObjectDeleted),this._fullUpdateDelegate.subscribe(this,this._onFullUpdate),this._started=!0),t.slice(0)})}stop(){this._objectUpdateDelegate.unsubscribe(this,this._onObjectUpdated),this._fullUpdateDelegate.unsubscribe(this,this._onFullUpdate),this._objectDeleteDelegate&&this._objectDeleteDelegate.unsubscribe(this,this._onObjectDeleted),this._filteredObjects=[],this._started=!1}isStarted(){return this._started}filterSource(){return this._objectsRequest?this._objectsRequest:Promise.resolve(this._filteredObjects.slice(0))}_satisfy(e){throw new Error("should be implemented")}_onFullUpdate(){this.stop(),this.start(),this.filterFullUpdateDelegate.fire()}_onObjectDeleted(e){const t=this._filteredObjects.find(t=>t.id===e);t&&this.filterObjectDeleteDelegate.fire(t.id)}_onObjectUpdated(e){const t=this._filteredObjects.find(t=>t.id===e.id),r=t?this._filteredObjects.indexOf(t):-1;this._satisfy(e)?(t?this._filteredObjects[r]=e:this._filteredObjects.push(e),this.filterObjectUpdateDelegate.fire(e)):t&&(this.filterObjectDeleteDelegate.fire(t.id),this._filteredObjects.splice(r,1))}}class Et extends H{constructor(e,t,r,n,i){super(e,t,r,n,i),this._onLinkingBound=this._onLinking.bind(this),u.linking.proSymbol.subscribe(this._onLinkingBound)}destroy(){u.linking.proSymbol.unsubscribe(this._onLinkingBound),super.destroy()}_update(e){if(!super._update(e))return!1;const t=u.linking.proSymbol.value();return this.setRowLinkedById(e.id,t===e.symbol),!0}_onCreated(){this.setRowLinkedByFilter(e=>e.symbol===u.linking.proSymbol.value())}_onLinking(e){this.setRowLinkedByFilter(t=>t.symbol===e)}}var Tt=r(78985);function At(e,t){const r=document.createElement("div");r.className="tv-tabs tv-tabs--no-border tv-tabs--secondary-active tv-tabs--no-margin tv-tabs--semi-compact";for(const n of e){const e=document.createElement("div");e.className="tv-tabs__tab "+n.id;const i=document.createElement("div");i.className="tv-tabs__wrap";const o=document.createElement("div");o.className=Tt.counter;const s=document.createElement("div");s.className=Tt.text,s.textContent=n.name;const a=document.createElement("div");a.className=`${Tt.count} js-counter-category-${n.id} js-counter-count`;const l=null==t?void 0:t[n.id];void 0!==l&&a.classList.add(l),a.textContent="0",o.appendChild(s),o.appendChild(a),i.appendChild(o),e.appendChild(i),r.appendChild(e)}return r}var Dt=r(21659),Mt=r(37560),Pt=r(16418),Ot=r(98028),Rt=r(52536),Ft=r(42540);function kt(e){const{closeFn:t,closeTitle:r,isDisabled:n}=e
;return o.createElement(qe.ToolWidgetButton,{className:Pt.icon,title:null!=r?r:(0,i.t)("Close",{context:"position"}),icon:Rt,onClick:t,isDisabled:n})}function xt(e){const{editFn:t,editTitle:r,isDisabled:n}=e;return o.createElement(qe.ToolWidgetButton,{className:Pt.icon,title:null!=r?r:(0,i.t)("Edit"),icon:Ot,onClick:t,isDisabled:n})}const Vt={[Mt.OrderOrPositionMessageType.Information]:Pt.information,[Mt.OrderOrPositionMessageType.Warning]:Pt.warning,[Mt.OrderOrPositionMessageType.Error]:Pt.error};function Nt(e){const{type:t,text:r}=e;return o.createElement(Dt.Icon,{className:re()("apply-common-tooltip",Pt.message,Vt[t]),title:r,icon:Ft})}function Ut(e){const[t,r]=(0,o.useState)(!1),{closeFn:n,closeTitle:i,editFn:s,editTitle:a,message:l}=e;return o.createElement("span",{className:Pt.wrapper},void 0!==l&&o.createElement(Nt,{...l}),void 0!==s&&o.createElement(xt,{editFn:s,editTitle:a,isDisabled:t}),void 0!==n&&o.createElement(kt,{closeFn:async function(){r(!0);!1===await(null==n?void 0:n())&&r(!1)},closeTitle:i,isDisabled:t}))}class jt{constructor(e,t,r,n){this._source=e,this._totalCount=0,this._activeCount=0,this._orderUpdateDelegate=t,this._fullUpdateDelegate=r,this._possibleStatuses=n,this._statusCount=this._emptyStatuses(),this.countChanged=new(g()),this._recalcCountsDelayed=(0,Ne.default)(this._recalcCounts.bind(this),100)}start(){this._orderUpdateDelegate.subscribe(this,this._recalcCountsDelayed),this._fullUpdateDelegate.subscribe(this,this._recalcCountsDelayed),this._recalcCounts()}stop(){this._statusCount=this._emptyStatuses(),this._orderUpdateDelegate.unsubscribe(this,this._recalcCountsDelayed),this._fullUpdateDelegate.unsubscribe(this,this._recalcCountsDelayed)}_emptyStatuses(){const e={};return this._possibleStatuses.forEach(t=>{e[t]=0}),e}_recalcCounts(){const e=this._emptyStatuses();this._source().then(t=>{let r=0;t.forEach(t=>{const n=e[t.status];void 0!==n&&(e[t.status]=n+1,6!==t.status&&3!==t.status||r++)}),this._possibleStatuses.forEach(t=>{e[t]!==this._statusCount[t]&&(this._statusCount[t]=e[t],this.countChanged.fire(t,(0,l.ensureDefined)(this._statusCount[t])))}),this._totalCount!==t.length&&(this._totalCount=t.length,this.countChanged.fire(0,this._totalCount)),this._activeCount!==r&&(this._activeCount=r,this.countChanged.fire(-1,this._activeCount))})}}class It extends St{constructor(e,t,r,n){super(e,t,r,n),this._filterStatus=null}setFilterStatus(e){this._filterStatus=e,this.isStarted()&&(this.stop(),this.start())}filterStatus(){return this._filterStatus}_satisfy(e){return!this._filterStatus||e.status===this._filterStatus}}class Lt extends St{constructor(e,t,r,n,i){super(e,t,r,n),this._functor=i}_satisfy(e){return this._functor(e)}}class Bt{constructor(e,t,r){this._orders=[],this._source=e,this._rowUpdateDelegate=t,this._fullUpdateDelegate=r,this._orders=[],this.newStatusDelegate=new(g())}start(){this._source().then(e=>{this._orders=e.slice(0),this._rowUpdateDelegate.subscribe(this,this._onRowUpdated),this._fullUpdateDelegate.subscribe(this,this._onFullUpdate)})}stop(){
this._fullUpdateDelegate.unsubscribe(this,this._onFullUpdate),this._rowUpdateDelegate.unsubscribe(this,this._onRowUpdated),this._orders=[]}_onFullUpdate(){this.stop(),this.start()}_onRowUpdated(e){const t=this._orders.find(t=>t.id===e.id);t&&t.status===e.status||(this.newStatusDelegate.fire(e),t?t.status=e.status:this._orders.push(Object.assign({},e)))}}class Kt extends Et{constructor(e,t,r,n,i,o,s){super(e,t,r,n,i),this._filterStatusGetter=o,this._isAlwaysActive=s}fullUpdate(){return this._fullUpdate()}_update(e){return!!super._update(e)&&(this.setRowInactiveById(e.id,!this._filterByStatus(e.status)),!0)}_onCreated(){super._onCreated(),this.setRowInactiveByFilter(e=>!this._filterByStatus(e.status))}_filterByStatus(e){return this._isAlwaysActive||null!==this._filterStatusGetter()||(0,k.isOrderActive)(e)}}const zt={"orderstatus-working":Tt.blue,"orderstatus-inactive":Tt.grey,"orderstatus-filled":Tt.green,"orderstatus-cancelled":Tt.orange,"orderstatus-rejected":Tt.red},Ht=["formatPrice","formatPriceForexSup"];class Wt extends G{constructor(e){const t=e.formatters||[],r=new Lt(e.source,e.subscriptions.rowUpdateDelegate,null,e.subscriptions.fullUpdateDelegate,e.filter),n=new jt(r.filterSource.bind(r),r.filterObjectUpdateDelegate,r.filterFullUpdateDelegate,e.possibleOrderStatuses),s=new It(r.filterSource.bind(r),r.filterObjectUpdateDelegate,r.filterObjectDeleteDelegate,r.filterFullUpdateDelegate),a=e.subscriptions.fullUpdateDelegate;e.source=s.filterSource.bind(s),e.subscriptions.rowUpdateDelegate=s.filterObjectUpdateDelegate,e.subscriptions.rowDeleteDelegate=s.filterObjectDeleteDelegate,e.subscriptions.fullUpdateDelegate=s.filterFullUpdateDelegate;const u=Pe(),c={group:e=>+(0,k.isOrderActive)(e.status),idProperty:"id"},d=e.columns.map(e=>Ht.includes(e.formatter)?{...e,showZeroValues:!1}:e),h=[...d,{label:"",property:"setting",formatter:"orderSettings",notSortable:!0,showOnMobile:!1}],p=new yt({columns:h,priceFormatterGetter:e.priceFormatterFn,options:c}),f=new _t({id:e.tableId,model:p,className:"orders",container:u,columns:h,idProperty:"id",virtualization:{enabled:!0,rowHeightParams:{mobile:xe}},overlapManager:e.overlapManager,initialSorting:e.initialSorting}),m={id:e.id,name:e.title,headerCounter:e.headerCounter},g=new Kt("id",p,f,e.source,e.subscriptions,()=>this._ordersFilter.filterStatus(),e.isAlwaysActive);super(u,m,[g]),this._tableViewModel=p,this._tableView=f,this._tableController=g,this._globalFullUpdateDelegate=a,this._statusWatcher=new Bt(r.filterSource.bind(r),r.filterObjectUpdateDelegate,r.filterFullUpdateDelegate),this._orderPreFilter=r,this._ordersFilter=s,this._statusesCount=n,this._activeCount=0,this._highlightChanges=e.highlightChanges,this._possibleOrderStatuses=e.possibleOrderStatuses,this._columns=d,this._pendingNewOrdersByStatuses={},this._configFlags=e.configFlags,this._closeFn=t=>((0,l.ensureNotNull)((0,N.tradingService)()).trackEvent("Orders Page","Cancel Order"),e.cancelFn(t)),this._editFn=(t,r,n,i)=>((0,l.ensureNotNull)((0,N.tradingService)()).trackEvent("Orders Page","Edit Order"),
e.modifyFn(t,r,n,i));const _={name:"orderSettings",format:({row:e})=>{const t=e,r=""===t.symbol||!(0,k.isOrderActive)(t.status),n=r?void 0:()=>this._closeFn(t.id),s=r||!(0,k.isModifyOrderSupported)(t,this._configFlags)?void 0:()=>this._editFn(t);return o.createElement(Ut,{closeFn:n,closeTitle:(0,i.t)("Cancel"),editFn:s,editTitle:(0,j.appendEllipsis)((0,i.t)("Modify Order")),message:t.message})}};g.addFormatters([...Te,_,...t]);const v=this._possibleOrderStatuses.map(this._translateStatus);this._filter=At([{id:"status-all",name:(0,i.t)("All")}].concat(v),zt),this._filterTabs=new T(this._filter,void 0,{noSlider:!0}),this._subscribeUpdates()}destroy(){this._unsubscribeUpdates(),this._tableViewModel.destroy(),this._tableView.destroy(),super.destroy()}contextItems(e){const t=this._tableController.rowIdAtEvent(e);if(void 0===t)return[];const r=this._tableController.rowById(t);if(void 0===r||""===r.symbol)return[];const n=[];return(0,k.isModifyOrderSupported)(r,this._configFlags)&&n.push({text:(0,j.appendEllipsis)((0,i.t)("Modify Order")),enabled:(0,k.isOrderActive)(r.status),action:()=>this._editFn(r)}),n.push({text:(0,i.t)("Cancel Order"),enabled:(0,k.isOrderActive)(r.status),action:()=>this._closeFn(t)}),n}contextRow(e){return this._tableController.rowAtEvent(e)}topline(){return this._filter}get filter(){return this._filter}_subscribeUpdates(){this._tableController.start(),this._orderPreFilter.start(),this._ordersFilter.start(),this._statusesCount.start(),this._statusWatcher.start(),this._statusWatcher.newStatusDelegate.subscribe(this,this._onNewStatus),this._filterTabs.tabChanged.subscribe(this,this._onFilterChanged),this._statusesCount.countChanged.subscribe(this,this._onCountChanged),this._globalFullUpdateDelegate.subscribe(this,this._onGlobalFullUpdate)}_unsubscribeUpdates(){this._statusWatcher.newStatusDelegate.unsubscribe(this,this._onNewStatus),this._statusWatcher.stop(),this._ordersFilter.stop(),this._statusesCount.stop(),this._tableController.stop(),this._filterTabs.tabChanged.unsubscribe(this,this._onFilterChanged),this._statusesCount.countChanged.unsubscribe(this,this._onCountChanged),this._globalFullUpdateDelegate.unsubscribe(this,this._onGlobalFullUpdate)}_onGlobalFullUpdate(){this._pendingNewOrdersByStatuses={},this._updateFiltersActiveState()}_count(){this._setCount(this._activeCount)}_translateStatus(e){const t=(0,k.orderStatusToText)(e),r=t[0].toUpperCase()+t.slice(1);return{id:Gt(e),name:r}}_onFilterChanged(e){const t=0===e?null:this._possibleOrderStatuses[e-1];(0,l.ensureNotNull)((0,N.tradingService)()).trackEvent("Orders Page","Order status filter",null!==t?(0,k.orderStatusToText)(t):void 0),this._ordersFilter.setFilterStatus(t),this._columns.filter(e=>e.hasOwnProperty("supportedStatusFilters")).forEach(e=>{var r;void 0!==e.supportedStatusFilters&&this._tableController.setColumnAvailable(e.property,e.supportedStatusFilters.includes(null!==(r=t)&&void 0!==r?r:0))}),this._tableController.fullUpdate().then(()=>{if(t){const e=this._pendingNewOrdersByStatuses[t]
;void 0!==e&&e.forEach(e=>this._tableController.highlightRowById(e))}this._removeActiveState()})}_onCountChanged(e,t){const r=this._filter.querySelectorAll(".js-counter-count");if(0===e)return void(r[0].textContent=String(t));if(-1===e&&this._activeCount!==t)return this._activeCount=t,void this._count();const n=this._possibleOrderStatuses.indexOf(e);-1!==n&&(r[n+1].textContent=String(t))}_onNewStatus(e){var t;4!==e.status&&(this._possibleOrderStatuses.forEach(t=>{const r=this._pendingNewOrdersByStatuses[t];if(void 0!==r){const t=r.indexOf(e.id);-1!==t&&r.splice(t,1)}}),this._pendingNewOrdersByStatuses[e.status]||(this._pendingNewOrdersByStatuses[e.status]=[]),null===(t=this._pendingNewOrdersByStatuses[e.status])||void 0===t||t.push(e.id),setTimeout(()=>{var t;const r=this._ordersFilter.filterStatus();let n=!1;r&&r!==e.status||this._tableController.isRowInViewport(e.id)&&(this._tableController.highlightRowById(e.id),n=!0),n||this._pendingNewOrdersByStatuses[e.status]&&-1!==(null===(t=this._pendingNewOrdersByStatuses[e.status])||void 0===t?void 0:t.indexOf(e.id))&&this._updateFiltersActiveState(),this._scheduleRemoveActiveState()},0))}_scheduleRemoveActiveState(){this._activeStateRemovalScheduled||(this._activeStateRemovalScheduled=!0,setTimeout(()=>this._removeActiveState(),1e3))}_removeActiveState(){this._activeStateRemovalScheduled=!1;const e=this._ordersFilter.filterStatus();e?this._pendingNewOrdersByStatuses[e]=[]:this._pendingNewOrdersByStatuses={},this._updateFiltersActiveState()}_updateFiltersActiveState(){this._highlightChanges&&this._possibleOrderStatuses.forEach(e=>{var t,r;const n=this._pendingNewOrdersByStatuses[e]&&(null===(t=this._pendingNewOrdersByStatuses[e])||void 0===t?void 0:t.length);null===(r=this._filter.querySelector(".js-counter-category-"+Gt(e)))||void 0===r||r.classList.toggle("i-active",!!n)})}}function Gt(e){switch(e){case 2:return"orderstatus-filled";case 1:return"orderstatus-cancelled";case 6:return"orderstatus-working";case 3:return"orderstatus-inactive";case 4:return"orderstatus-placing";case 5:return"orderstatus-rejected";default:return"orderstatus-unknown"}}var qt=r(30781);class $t{constructor(e,t,r){this._totalCount=0,this._recalcCountsDelayed=(0,Ne.default)(this._recalcCounts.bind(this),100),this._source=e,this._rowUpdateDelegate=t,this._fullUpdateDelegate=r,this.countChanged=new(g())}start(){this._rowUpdateDelegate.subscribe(this,this._recalcCountsDelayed),this._fullUpdateDelegate.subscribe(this,this._recalcCountsDelayed),this._recalcCounts()}stop(){this._rowUpdateDelegate.unsubscribe(this,this._recalcCountsDelayed),this._fullUpdateDelegate.unsubscribe(this,this._recalcCountsDelayed)}_recalcCounts(){this._source().then(e=>{const t=e.filter(e=>I(e));this._totalCount!==t.length&&(this._totalCount=t.length,this.countChanged.fire(this._totalCount))})}}function Xt(e){const{id:t,content:r,source:n,subscriptions:i,columns:o,priceFormatterFn:s,overlapManager:a}=e,l=new yt({priceFormatterGetter:s,columns:o,options:{idProperty:"id"}}),u=new _t({id:t,model:l,className:"positions",container:r,
columns:o,idProperty:"id",virtualization:{enabled:!0,rowHeightParams:{mobile:xe}},overlapManager:a});return{model:l,view:u,controller:new Jt("id",l,u,n,i)}}class Jt extends Et{_update(e){return I(e)?super._update(e):(this._deleteRow(e.id),!0)}}const Qt=["formatPrice","formatPriceForexSup"];class Zt extends G{constructor(e){const t=function(){const e=document.createElement("div");return e.classList.add(qt.pageContainer),e}(),r={id:"positions",name:(0,i.t)("Positions"),headerCounter:!0},n=Pe(),s=e.positions.columns.map(e=>Qt.includes(e.formatter)?{...e,showZeroValues:!1}:e);s.push({label:"",property:"settings",formatter:"posSettings",notSortable:!0,showOnMobile:!1});const a=Xt({id:e.brokerId+".positions",content:n,source:e.positions.source,subscriptions:Object.assign({},e.positions.subscriptions,{fullUpdateDelegate:e.fullUpdateDelegate}),columns:s,priceFormatterFn:e.priceFormatterFn,overlapManager:e.overlapManager});t.appendChild(n);const u=[a.controller];let c,d=null;if(e.trades){const r=e.trades.columns.map(e=>Qt.includes(e.formatter)?{...e,showZeroValues:!1}:e);r.push({label:"",property:"settings",formatter:"tradeSettings",notSortable:!0,showOnMobile:!1}),d=Pe(),c=Xt({id:e.brokerId+".trades",content:d,source:e.trades.source,subscriptions:Object.assign({},e.trades.subscriptions,{fullUpdateDelegate:e.fullUpdateDelegate}),columns:r,priceFormatterFn:e.priceFormatterFn,overlapManager:e.overlapManager}),t.appendChild(d),u.push(c.controller)}super(t,r,u),this._positionsTableContainer=n,this._tradesTableContainer=d,this._positionsTableController=a.controller,this._positionsTableViewModel=a.model,this._positionsTableView=a.view,this._tradesTableController=null==c?void 0:c.controller,this._tradesTableViewModel=null==c?void 0:c.model,this._tradesTableView=null==c?void 0:c.view;const h=e.formatters||[];this._fullUpdateDelegate=e.fullUpdateDelegate,this._posSubscriptions=e.positions.subscriptions,this._checkSupportTrades=e.checkSupportTrades,this._storeFunctions(e);const p={name:"posSettings",format:({row:{id:e,message:t,symbol:r}})=>{const n=""===r,s=n||null===this._closePositionFn?void 0:this._closePositionFn.bind(null,e),a=n||null===this._editPositionFn?void 0:this._editPositionFn.bind(null,e);return o.createElement(Ut,{closeFn:s,closeTitle:(0,i.t)("Close",{context:"position"}),editFn:a,editTitle:(0,j.appendEllipsis)((0,i.t)("Protect Position")),message:t})}};if(this._positionsTableController.addFormatters([p,...Te,...h]),e.trades){const t={name:"tradeSettings",format:({row:{id:e,message:t,canBeClosed:r,symbol:n}})=>{const s=""===n,a=s||null===this._closeTradeFn||!r?void 0:this._closeTradeFn.bind(null,e),l=s||null===this._editTradeFn?void 0:this._editTradeFn.bind(null,e);return o.createElement(Ut,{closeFn:a,closeTitle:(0,i.t)("Close",{context:"position"}),editFn:l,editTitle:(0,j.appendEllipsis)((0,i.t)("Protect Position")),message:t})}};(0,l.ensure)(this._tradesTableController).addFormatters([t,...Te,...h]),this._tradesCounter=new $t(e.trades.source,e.trades.subscriptions.countUpdateDelegate,this._fullUpdateDelegate)
}else this._tradesCounter=null;this._positionsCounter=new $t(e.positions.source,this._posSubscriptions.countUpdateDelegate,this._fullUpdateDelegate),this._constructFilter(),this._subscribeUpdates();const f=y.getInt("Trading.PositionsTable.Filter",0),m=this._checkSupportTrades()?f:1;this._filterTabs.setActivePage(m),this._selectPage(m)}contextItems(e){const t=this._activeTableController(),r=t.rowIdAtEvent(e);if(void 0===r)return[];const n=(0,l.ensureDefined)(t.rowById(r));if(""===n.symbol)return[];const o=[];return 0===this._filterTabs.index()?(this._editTradeFn&&o.push({text:(0,j.appendEllipsis)((0,i.t)("Protect Position")),action:this._editTradeFn.bind(null,r)}),this._closeTradeFn&&n.canBeClosed&&o.push({text:(0,i.t)("Close Position"),action:this._closeTradeFn.bind(null,r)}),o):(this._editPositionFn&&o.push({text:(0,j.appendEllipsis)((0,i.t)("Protect Position")),action:this._editPositionFn.bind(null,r)}),this._closePositionFn&&o.push({text:(0,i.t)("Close Position"),action:this._closePositionFn.bind(null,r)}),this._reversePositionFn&&o.push({text:(0,i.t)("Reverse Position"),action:this._reversePositionFn.bind(null,r)}),o)}contextRow(e){return this._activeTableController().rowAtEvent(e)}topline(){return this._checkSupportTrades()?this._filter:null}destroy(){var e,t;this._unsubscribeUpdates(),this._positionsTableViewModel.destroy(),this._positionsTableView.destroy(),null===(e=this._tradesTableViewModel)||void 0===e||e.destroy(),null===(t=this._tradesTableView)||void 0===t||t.destroy(),super.destroy()}_onActiveChanged(e){e?this._activeTableController().setActive(!0):(this._positionsTableController.setActive(!1),this._tradesTableController&&this._tradesTableController.setActive(!1))}_onPositionsCountChanged(e){this._setCount(e),this._setTabCount(1,e)}_onTradesCountChanged(e){this._setTabCount(0,e)}_setTabCount(e,t){this._filter.querySelectorAll(".js-counter-count")[e].innerHTML=String(t)}_activeTableController(){return this._checkSupportTrades()&&0===this._filterTabs.index()?(0,l.ensure)(this._tradesTableController):this._positionsTableController}_subscribeUpdates(){this._positionsCounter.start(),this._positionsCounter.countChanged.subscribe(this,this._onPositionsCountChanged),this._tradesCounter&&(this._tradesCounter.start(),this._tradesCounter.countChanged.subscribe(this,this._onTradesCountChanged)),this._filterTabs.tabChanged.subscribe(this,this._selectPage),this._fullUpdateDelegate.subscribe(this,this._showFilterIfNeeded)}_unsubscribeUpdates(){this._positionsCounter.stop(),this._positionsCounter.countChanged.unsubscribe(this,this._onPositionsCountChanged),this._tradesCounter&&(this._tradesCounter.stop(),this._tradesCounter.countChanged.unsubscribe(this,this._onTradesCountChanged)),this._filterTabs.tabChanged.unsubscribe(this,this._selectPage),this._fullUpdateDelegate.unsubscribe(this,this._showFilterIfNeeded)}_constructFilter(){this._filter=At([{id:"type-individual",name:(0,i.t)("Individual Positions")},{id:"type-net",name:(0,i.t)("Net Positions")}]),this._filterTabs=new T(this._filter,void 0,{noSlider:!0})}
_showFilterIfNeeded(){this.isActive()&&this._checkSupportTrades()?this._filter.classList.remove("js-hidden"):(this._filter.classList.add("js-hidden"),this._tradesTableController&&this._tradesTableController.stop())}_selectPage(e){const t=1===e;t?this._positionsTableController.start():this._tradesTableController&&this._tradesTableController.start(),this._positionsTableContainer.classList.toggle("js-hidden",!t),this._tradesTableContainer&&this._tradesTableContainer.classList.toggle("js-hidden",t),this._positionsTableController.setActive(t),this._tradesTableController&&this._tradesTableController.setActive(!t),y.setValue("Trading.PositionsTable.Filter",e)}_storeFunctions(e){const t=(0,l.ensure)((0,N.tradingService)()),r="Positions Page",n=e.positions.closeFn;this._closePositionFn=n?e=>(t.trackEvent(r,"Close Position"),n(e)):null;const i=e.positions.editFn;this._editPositionFn=i?e=>(t.trackEvent(r,"Edit Position"),i(e)):null;const o=e.positions.reverseFn;this._reversePositionFn=o?e=>(t.trackEvent(r,"Reverse Position"),o(e)):null;const s=e.trades;if(s){const e=s.closeFn;this._closeTradeFn=e?n=>(t.trackEvent(r,"Close Trade"),e(n)):null;const n=s.editFn;this._editTradeFn=n?e=>(t.trackEvent(r,"Edit Trade"),n(e)):null}}}var Yt=r(79576);function er(e){const{wValue:t,formatter:r,text:n}=e,i=(0,Ge.useWatchedValueReadonly)({watchedValue:t}),s=(0,o.useMemo)(()=>function(e,t=Ee){for(const t of Te)if(t.name===e)return t;return t}(null!=r?r:"fixed"),[r]),a=(0,o.useMemo)(()=>function(e,t){const r=e.format({value:t,row:{}});return"string"!=typeof r?r:r.replace(/&nbsp;/g," ")}(s,i),[s,i]);return void 0===a?o.createElement(o.Fragment,null):o.createElement("div",{className:Yt.itemWrapper},o.createElement("div",{className:Yt.value},a),o.createElement("div",{className:Yt.title},n))}var tr=r(92848);function rr(e){const{summaryFields:t}=e;return o.createElement("div",{className:tr.wrapper},t.map(e=>o.createElement(er,{...e,key:e.text})))}var nr=r(21825),ir=r(13018);function or(e){const{brokerDropdownProps:t,accountDropdownProps:r,summaryFields:n}=e;return o.createElement("div",{className:ir.headerWrapper},void 0!==r&&o.createElement(nr.AccountManagerHeaderDropdowns,{brokerDropdownProps:t,accountDropdownProps:r}),o.createElement(rr,{summaryFields:n}))}var sr=r(23252),ar=r(51122),lr=r(84851),ur=r(33621);const cr=[6,3,2,1,5],dr=[2,1,5];class hr{constructor(e,t,r,n){this._showContextMenu=async e=>{e.preventDefault();let t=await this._contextItems(e);d.enabled("property_pages")||(t=t.slice(0,-1)),x.ContextMenuManager.showMenu((0,k.convertActionDescriptionsToActions)(t),function(e){const t=e instanceof MouseEvent?e:e.touches[0];return{clientX:t.clientX,clientY:t.clientY}}(e),void 0,{menuName:"AccountManagerContextMenu"})},this._adapter=(0,l.ensureNotNull)(e),this._bridge=t,this._container=t.container,this._mode=r,this._overlapManager=n,this._pages=[],this._topLines={},this._trading=(0,l.ensureNotNull)((0,N.tradingService)()),this._info=this._adapter.accountManagerInfo(),this._dispatch=this.bindContextMenu(),
this._contentResizeObserver=new a.default(e=>{this._contentHeight=e[0].contentRect.height,this._pages[this._tabs.index()].setHeight(this._contentHeight)}),this._create(),this._tabs=this._initializeTabs(),this._hideSecondaryPanelIfEmpty(),this._subscribe(),this._fullUpdate()}async priceFormatter(e){return e.symbol?this._trading.formatter(e.symbol):null}remove(){for(this._unmountComponentBySelector(".js-account-manager-header"),this._unsubscribe(),this._pages.forEach(e=>e.destroy()),this.unbindContextMenu();this._container.firstChild;)this._container.removeChild(this._container.firstChild)}bindContextMenu(){return window.matchMedia(L.TradingLayoutBreakpoint.Mobile).matches&&c.CheckMobile.any()?this._bindTapMenu():c.CheckMobile.iOS()?this._bindLongPressMenu():this._bindContextMenu()}unbindContextMenu(){null!==this._dispatch&&(this._dispatch(),this._dispatch=null)}_bindContextMenu(){return this._container.addEventListener("contextmenu",this._showContextMenu),()=>this._container.removeEventListener("contextmenu",this._showContextMenu)}_bindLongPressMenu(){let e;const t=t=>{clearTimeout(e),e=setTimeout(()=>this._showContextMenu(t),400)},r=()=>clearTimeout(e);return this._container.addEventListener("touchstart",t),this._container.addEventListener("touchend",r),this._container.addEventListener("touchmove",r),()=>{clearTimeout(e),this._container.removeEventListener("touchstart",t),this._container.removeEventListener("touchend",r),this._container.removeEventListener("touchmove",r)}}_bindTapMenu(){const e=e=>{void 0!==this._currentPage().contextRow(e)&&this._showContextMenu(e)},t=e=>{e.preventDefault()};return this._container.addEventListener("click",e),this._container.addEventListener("contextmenu",t),()=>{this._container.removeEventListener("click",e),this._container.removeEventListener("contextmenu",t)}}_unmountComponentBySelector(e){const t=this._container.querySelector(e);null!==t&&s.unmountComponentAtNode(t)}_initializeTabs(){const e=(0,l.ensureNotNull)(this._container.querySelector(".js-content")),t=new T((0,l.ensureNotNull)(this._container.querySelector(".js-top-panel-tabs")),e);return t.tabChanged.subscribe(this,this._onPageChanged),t}_getPages(){const e=this._adapter.metainfo().id,t=this._adapter.accountManagerInfo(),r=this._adapter.metainfo().configFlags,n=(0,l.ensureNotNull)(this._trading.brokerCommandsUI()),o={};r.supportPositions&&(o.positionPage={ctor:Zt,ctorArguments:{brokerId:e,formatters:t.customFormatters||[],priceFormatterFn:this.priceFormatter.bind(this),checkSupportTrades:()=>!0===r.supportTrades,positions:{source:()=>this._adapter.positions().then(e=>e.filter(e=>I(e))),closeFn:n.closePosition.bind(n),editFn:r.supportPositionBrackets?n.editPositionBrackets.bind(n):null,reverseFn:r.supportReversePosition?n.reversePosition.bind(n):null,columns:(0,l.ensureDefined)(t.positionColumns),subscriptions:{rowUpdateDelegate:new V([this._adapter.positionPartialUpdate,this._adapter.positionUpdate]),countUpdateDelegate:this._adapter.positionUpdate,plSubscription:this._adapter.subscribePL.bind(this._adapter)}},
trades:r.supportTrades?{source:()=>this._adapter.trades().then(e=>e.filter(e=>0!==e.qty)),closeFn:r.supportCloseTrade?n.closeTrade.bind(n):null,editFn:r.supportTradeBrackets?(0,l.ensureDefined)(n.editTradeBrackets).bind(n):null,reverseFn:null,columns:(0,l.ensureDefined)(t.tradeColumns||t.positionColumns),subscriptions:{rowUpdateDelegate:new V([this._adapter.tradePartialUpdate,this._adapter.tradeUpdate]),countUpdateDelegate:this._adapter.tradeUpdate,plSubscription:this._adapter.subscribePL.bind(this._adapter)}}:null,fullUpdateDelegate:this._adapter.currentAccountUpdate,overlapManager:this._overlapManager}});const s=this._adapter.orders.bind(this._adapter);o.orderPage={ctor:Wt,ctorArguments:{id:"Orders",title:(0,i.t)("Orders"),source:s,cancelFn:n.cancelOrder.bind(n),modifyFn:n.modifyOrder.bind(n),columns:t.orderColumns,headerCounter:!0,tableId:e+".orders",formatters:t.customFormatters||[],priceFormatterFn:this.priceFormatter.bind(this),subscriptions:{fullUpdateDelegate:this._adapter.currentAccountUpdate,rowUpdateDelegate:new V([this._adapter.orderPartialUpdate,this._adapter.orderUpdate]),orderUpdateDelegate:this._adapter.orderUpdate},possibleOrderStatuses:cr.filter(e=>!t.possibleOrderStatuses||-1!==t.possibleOrderStatuses.indexOf(e)),filter:()=>!0,highlightChanges:!0,initialSorting:t.orderColumnsSorting,configFlags:r,overlapManager:this._overlapManager}};const a=this._adapter.ordersHistory.bind(this._adapter);return r.supportOrdersHistory&&(o.historyPage={ctor:Wt,ctorArguments:{id:"History",title:(0,i.t)("History"),source:()=>Promise.all([s(),a()]).then(e=>[].concat(...e)),cancelFn:n.cancelOrder.bind(n),modifyFn:n.modifyOrder.bind(n),columns:(0,l.ensureDefined)(t.historyColumns),headerCounter:!1,tableId:e+".history",formatters:t.customFormatters||[],priceFormatterFn:this.priceFormatter.bind(this),subscriptions:{fullUpdateDelegate:this._adapter.currentAccountUpdate,rowUpdateDelegate:new V([this._adapter.orderPartialUpdate,this._adapter.orderUpdate]),orderUpdateDelegate:this._adapter.orderUpdate},possibleOrderStatuses:dr.filter(e=>!t.possibleOrderStatuses||-1!==t.possibleOrderStatuses.indexOf(e)),filter:e=>![3,4,6].includes(e.status),highlightChanges:!1,initialSorting:t.historyColumnsSorting,isAlwaysActive:!0,configFlags:r,overlapManager:this._overlapManager}}),t.pages&&(o.customPages=[],t.pages.forEach(r=>{var n;const i=r.tables.map(n=>({id:`${e}.${r.id}.${n.id}`,title:n.title||"",columns:n.columns,source:n.getData,options:{className:"balances",idProperty:"id"},initialSorting:n.initialSorting,formatters:t.customFormatters||[],priceFormatterFn:this.priceFormatter.bind(this),subscriptions:{fullUpdateDelegate:this._adapter.currentAccountUpdate,rowUpdateDelegate:n.changeDelegate},flags:n.flags}));null===(n=o.customPages)||void 0===n||n.push({ctor:Ct,ctorArguments:{id:r.id,title:r.title,tables:i,overlapManager:this._overlapManager}})})),d.enabled("show_trading_notifications_history")&&r.showNotificationsLog&&(o.notificationsPage={ctor:bt,ctorArguments:{id:"notifications_log",title:(0,i.t)("Notifications log"),
source:()=>Promise.resolve(this._trading.getNotifications()),columns:B,formatters:[],priceFormatterFn:this.priceFormatter.bind(this),subscriptions:{fullUpdateDelegate:this._trading.onNotificationsChanged,rowUpdateDelegate:this._trading.onNewNotification},overlapManager:this._overlapManager,initialSorting:{columnId:"time",asc:!1},rowBadgeTypeInferrer:pr}}),o}_create(){const e=this._getPages();for(const t of Object.values(e))if(Array.isArray(t)){const e=t.map(e=>new e.ctor(e.ctorArguments));this._pages.push(...e)}else this._pages.push(new t.ctor(t.ctorArguments));const t=this._pages.length,r=(0,l.ensureNotNull)((0,U.parseHtmlElement)(((e=0)=>`\n<div class="${ur.accountManager}">\n\t<div class="js-account-manager-header"></div>\n\t<div class="${ur.topPanel} js-top-panel">\n\t\t<div class="tv-tabs tv-tabs--semi-compact tv-tabs--no-margin tv-tabs--no-border js-top-panel-tabs">\n\t\t\t${'<div class="tv-tabs__tab js-tab"></div>'.repeat(e)}\n\t\t</div>\n\t</div>\n\t<div class="${ur.secondaryPanel} js-secondary-panel">\n\t\t<div class="js-secondary-tabs"></div>\n\t</div>\n\t<div class="${ur.content} js-content">\n\t\t${`<div class="${ur.page} js-page"></div>`.repeat(e)}\n\t</div>\n</div>`)(t)));this._container.appendChild(r);const n=(0,l.ensureNotNull)(this._container.querySelector(".js-content"));this._contentResizeObserver.observe(n),this._render();const i=this._container.querySelectorAll(".js-page"),o=this._container.querySelectorAll(".js-tab");this._pages.forEach((e,t)=>{i[t].innerHTML="",i[t].appendChild(e.content()),o[t].innerHTML="",o[t].appendChild(e.header())})}async _render(){let e;1===this._mode&&(e=await(0,sr.makeAccountManagerHeaderDropdownsProps)(this._trading)),s.render(o.createElement(or,{...e,summaryFields:this._info.summary}),this._container.querySelector(".js-account-manager-header"))}_subscribe(){const e=e=>{e?this._updatePagesActiveStatuses():this._pages.forEach(e=>e.setActive(!1))};this._bridge.visible.subscribe(e,{callWithLast:!0}),this._dispatchVisibilityHandler=()=>this._bridge.visible.unsubscribe(e),this._attachFilter()}_onPageChanged(e){this._attachFilter(),this._hideSecondaryPanelIfEmpty(),this._trading.trackEvent("Bottom Panel",`Select ${this._pages[e].id()} page`),this._updatePagesActiveStatuses()}_hideSecondaryPanelIfEmpty(){(0,l.ensureNotNull)(this._container.querySelector(".js-secondary-panel")).classList.toggle("js-hidden",null===this._currentPage().topline())}_updatePagesActiveStatuses(){const e=1===this._adapter.connectionStatus(),t=this._tabs.index();void 0!==this._contentHeight&&this._pages[t].setHeight(this._contentHeight);for(let r=0;r<this._pages.length;r++)this._pages[r].setActive(t===r&&e)}_detachFilter(){const e=(0,l.ensureNotNull)(this._container.querySelector(".js-secondary-tabs")).children;for(const t of Array.from(e))t.classList.add("js-hidden")}_attachFilter(){if(this._detachFilter(),this._topLines[this._currentPageIndex()])this._topLines[this._currentPageIndex()].classList.remove("js-hidden");else if(this._currentPage().topline()){const e=(0,
l.ensureNotNull)(this._currentPage().topline());(0,l.ensureNotNull)(this._container.querySelector(".js-secondary-tabs")).appendChild(e),this._topLines[this._currentPageIndex()]=e}}_fullUpdate(){this._pages.forEach(e=>e.reset())}_unsubscribe(){this._tabs&&(this._tabs.tabChanged.unsubscribe(this,this._onPageChanged),this._tabs.stop()),this._contentResizeObserver.disconnect(),this._dispatchVisibilityHandler&&(this._dispatchVisibilityHandler(),delete this._dispatchVisibilityHandler);const e=this._container.querySelector(".js-secondary-tabs");if(null!==e)for(;e.firstChild;)e.removeChild(e.firstChild);this._topLines={}}_currentPageIndex(){return this._tabs.index()}_currentPage(){return this._pages[this._currentPageIndex()]}async _contextItems(e){const t="Bottom Panel Context Menu",r=this._currentPage().contextItems(e);if(this._info&&this._info.contextMenuActions)return this._info.contextMenuActions(e,r);const n={separator:!0},o=1===this._mode,s=[];if(o){0!==r.length&&r.push(n);const e=u.linking.proSymbol.value(),i=await this._trading.makeNewOrderContextMenuAction(e,t);s.push(i)}else{const o=this._currentPage().contextRow(e);void 0!==o&&"symbol"in o&&(0!==r.length&&r.push(n),s.push({text:(0,i.t)("Open chart with {symbol}").replace("{symbol}",o.symbol),icon:ar,action:()=>{this._trading.trackEvent(t,"Open chart"),u.linking.symbol.setValue(o.symbol),this._trading.tradingPanelPopup.hide()}}))}return d.enabled("buy_sell_buttons")&&o&&s.push(n,{text:(0,i.t)("Show Buy/Sell Buttons"),checkable:!0,checked:this._trading.showSellBuyButtons.value(),action:()=>{const e=!this._trading.showSellBuyButtons.value();this._trading.trackEvent(t,"Show Sell/Buy Buttons",e?"Check":"Uncheck"),this._trading.showSellBuyButtons.setValue(e)}}),d.enabled("property_pages")&&(r.length>0&&s.push(n),s.push({text:(0,j.appendEllipsis)((0,i.t)("Trading Settings")),icon:lr,action:()=>{this._trading.trackEvent(t,"Trading Properties"),this._trading.showTradingProperties()}})),r.concat(s)}}function pr(e){return"danger"===e.type?K.Danger:"success"===e.type?K.Success:void 0}},71701:(e,t,r)=>{"use strict";r.d(t,{TradingLayoutBreakpoint:()=>i});var n=r(58825);const i={Mobile:n.mobile}},19814:(e,t,r)=>{"use strict";function n(e){let t=null;return(r,...n)=>(null==t||t.abort(),t=new AbortController,null==r||r.addEventListener("error",()=>null==t?void 0:t.abort(),{once:!0}),e(t.signal,...n))}function i(e){if(!l(e))throw e}function o(e){if(l(e))throw e}function s(e){return(null==e?void 0:e.aborted)?Promise.reject(a()):new Promise((t,r)=>{null==e||e.addEventListener("abort",()=>r(a()),{once:!0})})}function a(){return new DOMException("Aborted","AbortError")}function l(e){return e instanceof Error&&"AbortError"===e.name}function u(e,t){return Promise.race([s(e),t])}async function c(e,t){let r;try{await u(e,new Promise(e=>{r=setTimeout(e,t)}))}finally{clearTimeout(r)}}r.d(t,{respectLatest:()=>n,skipAbortError:()=>i,rethrowAbortError:()=>o,isAbortError:()=>l,respectAbort:()=>u,delay:()=>c})},67791:(e,t,r)=>{"use strict";r.d(t,{mediaQueryAddEventListener:()=>n,
mediaQueryRemoveEventListener:()=>i});const n=(e,t)=>{(null==e?void 0:e.addEventListener)?e.addEventListener("change",t):e.addListener(t)},i=(e,t)=>{(null==e?void 0:e.removeEventListener)?e.removeEventListener("change",t):e.removeListener(t)}},28675:(e,t,r)=>{"use strict";function n(e,t,r,n,i){function o(i){if(e>i.timeStamp)return;const o=i.target;void 0!==r&&null!==t&&null!==o&&o.ownerDocument===n&&(t.contains(o)||r(i))}return i.click&&n.addEventListener("click",o,!1),i.mouseDown&&n.addEventListener("mousedown",o,!1),i.touchEnd&&n.addEventListener("touchend",o,!1),i.touchStart&&n.addEventListener("touchstart",o,!1),()=>{n.removeEventListener("click",o,!1),n.removeEventListener("mousedown",o,!1),n.removeEventListener("touchend",o,!1),n.removeEventListener("touchstart",o,!1)}}r.d(t,{addOutsideEventListener:()=>n})},2522:(e,t,r)=>{"use strict";r.d(t,{LogoSize:()=>s,getLogoUrlResolver:()=>u});var n=r(16282);(0,r(14071).getLogger)("Common.InitData");const i=window.initData||{};function o(){return i}var s;!function(e){e[e.Medium=0]="Medium",e[e.Large=1]="Large"}(s||(s={}));class a{constructor(e){(0,n.assert)(""!==e,"S3 base url must be a non-empty string"),this._baseUrl=e}getSymbolLogoUrl(e,t){switch((0,n.assert)(""!==e,"logo id must be a non-empty string"),t){case s.Medium:return this._baseUrl+(e+".svg");case s.Large:return this._baseUrl+(e+"--big.svg")}}getCountryFlagUrl(e,t){return this.getSymbolLogoUrl("country/"+e,t)}getCryptoLogoUrl(e,t){return this.getSymbolLogoUrl("crypto/"+e,t)}getProviderLogoUrl(e,t){return this.getSymbolLogoUrl("provider/"+e,t)}}let l;function u(){if(!l){const e=o(),t=e.settings?e.settings.S3_LOGO_SERVICE_BASE_URL:"";l=new a(t)}return l}},11140:(e,t,r)=>{"use strict";r.d(t,{setFixedBodyState:()=>l});var n=r(76861);const i=()=>!window.matchMedia("screen and (min-width: 768px)").matches,o=()=>!window.matchMedia("screen and (min-width: 1280px)").matches;let s=0,a=!1;function l(e){const{body:t}=document,r=t.querySelector(".widgetbar-wrap");if(e&&1==++s){const e=(0,n.getCSSProperty)(t,"overflow"),i=(0,n.getCSSPropertyNumericValue)(t,"padding-right");"hidden"!==e.toLowerCase()&&t.scrollHeight>t.offsetHeight&&((0,n.setStyle)(r,"right",(0,n.getScrollbarWidth)()+"px"),t.style.paddingRight=i+(0,n.getScrollbarWidth)()+"px",a=!0),t.classList.add("i-no-scroll")}else if(!e&&s>0&&0==--s&&(t.classList.remove("i-no-scroll"),a)){(0,n.setStyle)(r,"right","0px");let e=0;e=r?(l=(0,n.getContentWidth)(r),i()?0:o()?46:Math.min(Math.max(l,46),450)):0,t.scrollHeight<=t.clientHeight&&(e-=(0,n.getScrollbarWidth)()),t.style.paddingRight=(e<0?0:e)+"px",a=!1}var l}},7318:(e,t,r)=>{"use strict";r.d(t,{CircleLogo:()=>o});var n=r(67294),i=r(94184);r(75074);function o(e){var t,r;const o=(s=e.size,a=e.className,i("tv-circle-logo","tv-circle-logo--"+s,a));var s,a;const l=null!==(r=null!==(t=e.alt)&&void 0!==t?t:e.title)&&void 0!==r?r:"";return function(e){return"logoUrl"in e&&void 0!==e.logoUrl&&0!==e.logoUrl.length}(e)?n.createElement("img",{className:o,src:e.logoUrl,alt:l,title:e.title,loading:e.loading
}):n.createElement("span",{className:o,title:e.title},e.placeholderLetter)}},18351:(e,t,r)=>{"use strict";r.d(t,{useOutsideEvent:()=>o});var n=r(67294),i=r(28675);function o(e){const{click:t,mouseDown:r,touchEnd:o,touchStart:s,handler:a,reference:l,ownerDocument:u=document}=e,c=(0,n.useRef)(null),d=(0,n.useRef)(new CustomEvent("timestamp").timeStamp);return(0,n.useLayoutEffect)(()=>{const e={click:t,mouseDown:r,touchEnd:o,touchStart:s},n=l?l.current:c.current;return(0,i.addOutsideEventListener)(d.current,n,a,u,e)},[t,r,o,s,a]),l||c}},65954:(e,t,r)=>{"use strict";r.d(t,{useWatchedValueReadonly:()=>i});var n=r(67294);const i=(e,t=!1)=>{const r="watchedValue"in e?e.watchedValue:void 0,i="defaultValue"in e?e.defaultValue:e.watchedValue.value(),[o,s]=(0,n.useState)(r?r.value():i);return(t?n.useLayoutEffect:n.useEffect)(()=>{if(r){s(r.value());const e=e=>s(e);return r.subscribe(e),()=>r.unsubscribe(e)}return()=>{}},[r]),o}},46403:(e,t,r)=>{"use strict";r.d(t,{MatchMedia:()=>i});var n=r(67294);class i extends n.PureComponent{constructor(e){super(e),this._handleChange=()=>{this.forceUpdate()},this.state={query:window.matchMedia(this.props.rule)}}componentDidMount(){this._subscribe(this.state.query)}componentDidUpdate(e,t){this.state.query!==t.query&&(this._unsubscribe(t.query),this._subscribe(this.state.query))}componentWillUnmount(){this._unsubscribe(this.state.query)}render(){return this.props.children(this.state.query.matches)}static getDerivedStateFromProps(e,t){return e.rule!==t.query.media?{query:window.matchMedia(e.rule)}:null}_subscribe(e){e.addListener(this._handleChange)}_unsubscribe(e){e.removeListener(this._handleChange)}}},28595:(e,t,r)=>{"use strict";r.d(t,{OverlapManager:()=>o,getRootOverlapManager:()=>a});var n=r(16282);class i{constructor(){this._storage=[]}add(e){this._storage.push(e)}remove(e){this._storage=this._storage.filter(t=>e!==t)}has(e){return this._storage.includes(e)}getItems(){return this._storage}}class o{constructor(e=document){this._storage=new i,this._windows=new Map,this._index=0,this._document=e,this._container=e.createDocumentFragment()}setContainer(e){const t=this._container,r=null===e?this._document.createDocumentFragment():e;!function(e,t){Array.from(e.childNodes).forEach(e=>{e.nodeType===Node.ELEMENT_NODE&&t.appendChild(e)})}(t,r),this._container=r}registerWindow(e){this._storage.has(e)||this._storage.add(e)}ensureWindow(e,t={position:"fixed",direction:"normal"}){const r=this._windows.get(e);if(void 0!==r)return r;this.registerWindow(e);const n=this._document.createElement("div");if(n.style.position=t.position,n.style.zIndex=this._index.toString(),n.dataset.id=e,void 0!==t.index){const e=this._container.childNodes.length;if(t.index>=e)this._container.appendChild(n);else if(t.index<=0)this._container.insertBefore(n,this._container.firstChild);else{const e=this._container.childNodes[t.index];this._container.insertBefore(n,e)}}else"reverse"===t.direction?this._container.insertBefore(n,this._container.firstChild):this._container.appendChild(n);return this._windows.set(e,n),++this._index,n
}unregisterWindow(e){this._storage.remove(e);const t=this._windows.get(e);void 0!==t&&(null!==t.parentElement&&t.parentElement.removeChild(t),this._windows.delete(e))}getZindex(e){const t=this.ensureWindow(e);return parseInt(t.style.zIndex||"0")}moveToTop(e){if(this.getZindex(e)!==this._index){this.ensureWindow(e).style.zIndex=(++this._index).toString()}}removeWindow(e){this.unregisterWindow(e)}}const s=new WeakMap;function a(e=document){const t=e.getElementById("overlap-manager-root");if(null!==t)return(0,n.ensureDefined)(s.get(t));{const t=new o(e),r=function(e){const t=e.createElement("div");return t.style.position="absolute",t.style.zIndex=150..toString(),t.style.top="0px",t.style.left="0px",t.id="overlap-manager-root",t}(e);return s.set(r,t),t.setContainer(r),e.body.appendChild(r),t}}},38120:(e,t,r)=>{"use strict";r.d(t,{PopupMenuItemToggle:()=>l});var n=r(67294),i=r(94184),o=r(46299),s=r(18270),a=r(94282);function l(e){const{isDisabled:t,hint:r,label:l,isChecked:u,checkboxClassName:c,labelClassName:d,indeterminate:h,...p}=e;return n.createElement(o.PopupMenuItem,{...p,isDisabled:t,shortcut:r,dontClosePopup:!0,labelRowClassName:d,label:n.createElement(s.Checkbox,{disabled:t,label:l,checked:u,indeterminate:h,className:i(a.checkbox,c)})})}},22165:(e,t,r)=>{"use strict";r.d(t,{Portal:()=>l,PortalContext:()=>u});var n=r(67294),i=r(73935),o=r(80068),s=r(28595),a=r(66189);class l extends n.PureComponent{constructor(){super(...arguments),this._uuid=(0,o.guid)()}componentWillUnmount(){this._manager().removeWindow(this._uuid)}render(){const e=this._manager().ensureWindow(this._uuid,this.props.layerOptions);return e.style.top=this.props.top||"",e.style.bottom=this.props.bottom||"",e.style.left=this.props.left||"",e.style.right=this.props.right||"",e.style.pointerEvents=this.props.pointerEvents||"",i.createPortal(n.createElement(u.Provider,{value:this},this.props.children),e)}moveToTop(){this._manager().moveToTop(this._uuid)}_manager(){return null===this.context?(0,s.getRootOverlapManager)():this.context}}l.contextType=a.SlotContext;const u=n.createContext(null)},66189:(e,t,r)=>{"use strict";r.d(t,{Slot:()=>i,SlotContext:()=>o});var n=r(67294);class i extends n.Component{shouldComponentUpdate(){return!1}render(){return n.createElement("div",{style:{position:"fixed",zIndex:150,left:0,top:0},ref:this.props.reference})}}const o=n.createContext(null)},52536:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M13.35 5.35a.5.5 0 0 0-.7-.7L9 8.29 5.35 4.65a.5.5 0 1 0-.7.7L8.29 9l-3.64 3.65a.5.5 0 0 0 .7.7L9 9.71l3.65 3.64a.5.5 0 0 0 .7-.7L9.71 9l3.64-3.65z"/></svg>'},98028:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M13.5 7l1.65-1.65a.5.5 0 0 0 0-.7l-1.8-1.8a.5.5 0 0 0-.7 0L11 4.5M13.5 7L11 4.5M13.5 7l-8.35 8.35a.5.5 0 0 1-.36.15H2.5v-2.3a.5.5 0 0 1 .15-.35L11 4.5"/></svg>'},51122:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" fill-rule="evenodd" d="M8 5.5h12A2.5 2.5 0 0 1 22.5 8v12a2.5 2.5 0 0 1-2.5 2.5H8A2.5 2.5 0 0 1 5.5 20V8A2.5 2.5 0 0 1 8 5.5zM4 8a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4H8a4 4 0 0 1-4-4V8zm15.49 5.07a.75.75 0 1 0-.98-1.14l-2.97 2.55-2.51-2.51a.75.75 0 0 0-1.02-.04l-3.5 3a.75.75 0 1 0 .98 1.14l2.97-2.55 2.51 2.51c.28.28.72.3 1.02.04l3.5-3z"/></svg>'},7536:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 9" width="11" height="9" fill="none"><path stroke-width="2" d="M0.999878 4L3.99988 7L9.99988 1"/></svg>'},42540:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 9" width="9" height="9"><path fill="currentColor" d="M9 4.5A4.5 4.5 0 0 1 4.5 9 4.5 4.5 0 0 1 0 4.5 4.5 4.5 0 0 1 4.5 0 4.5 4.5 0 0 1 9 4.5z"/><path fill="#fff" d="M4.768 1.527c.131 0 .243.047.334.141a.444.444 0 0 1 .141.33.461.461 0 0 1-.14.339.455.455 0 0 1-.335.137.468.468 0 0 1-.471-.475c0-.132.045-.244.137-.335a.455.455 0 0 1 .334-.137zm-.42 5.946v-3.67h-.591V3.16h1.357v4.314z"/></svg>'},72903:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.5 1.5L3.5 7l5 5.5"/></svg>'},86559:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14 14" width="14" height="14"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.5 1.5l5 5.5-5 5.5"/></svg>'},61655:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 6 26" width="3" height="13" fill="currentColor"><circle cx="3" cy="3" r="3"/><circle cx="3" cy="13" r="3"/><circle cx="3" cy="23" r="3"/></svg>'}}]);