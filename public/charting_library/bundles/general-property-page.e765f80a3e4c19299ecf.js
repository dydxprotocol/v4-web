(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[3596],{48278:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ChartPropertyDefinitionsViewModel:()=>mi});var n=i(650151),o=i(509806),r=i(484727),l=i(927079),s=i(140641),a=i(210596),c=i.n(a),d=i(998001),u=i(82348),p=i(29161),h=i(633177),v=i(618851),y=i(17358),g=i(857192),P=i(440097),f=i(632054),b=i(896778),m=i(296055),w=i(96401);const S=new P.TranslatedString("change symbol description visibility",o.t(null,void 0,i(26717))),D=new P.TranslatedString("change symbol legend format",o.t(null,void 0,i(795071))),T=new P.TranslatedString("change open market status visibility",o.t(null,void 0,i(118644))),_=new P.TranslatedString("change OHLC values visibility",o.t(null,void 0,i(457889))),k=new P.TranslatedString("change bar change visibility",o.t(null,void 0,i(845110))),C=new P.TranslatedString("change indicator arguments visibility",o.t(null,void 0,i(96162))),V=new P.TranslatedString("change indicator titles visibility",o.t(null,void 0,i(231325))),L=new P.TranslatedString("change indicator values visibility",o.t(null,void 0,i(399774))),O=new P.TranslatedString("change legend background visibility",o.t(null,void 0,i(761061))),x=new P.TranslatedString("change legend background transparency",o.t(null,void 0,i(597956))),G=new P.TranslatedString("change volume values visibility",o.t(null,void 0,i(709455))),M=new P.TranslatedString("change symbol field visibility",o.t(null,void 0,i(606091))),R=o.t(null,void 0,i(767369)),W=o.t(null,void 0,i(199487)),A=o.t(null,void 0,i(22519)),F=o.t(null,void 0,i(101111)),z=o.t(null,void 0,i(331326)),E=o.t(null,void 0,i(768791)),N=o.t(null,void 0,i(391322)),H=o.t(null,void 0,i(527331)),j=o.t(null,void 0,i(775991)),B=o.t(null,void 0,i(224248)),I=r.enabled("symbol_info_price_source");var U=i(865721),q=i(341537),J=i(473331),K=i(831809),Q=i(588535);const X=r.enabled("show_average_close_price_line_and_label"),Y=new P.TranslatedString("change symbol labels visibility",o.t(null,void 0,i(109402))),Z=new P.TranslatedString("change symbol last value visibility",o.t(null,void 0,i(253150))),$=new P.TranslatedString("change symbol last value mode",o.t(null,void 0,i(728741))),ee=new P.TranslatedString("change symbol previous close value visibility",o.t(null,void 0,i(112707))),te=new P.TranslatedString("change bid and ask labels visibility",o.t(null,void 0,i(805100))),ie=(new P.TranslatedString("change pre/post market price label visibility",o.t(null,void 0,i(549889))),new P.TranslatedString("change high and low price labels visibility",o.t(null,void 0,i(466805)))),ne=new P.TranslatedString("change average close price label visibility",o.t(null,void 0,i(739402))),oe=(new P.TranslatedString("change indicators and financials name labels visibility",o.t(null,void 0,i(559820))),new P.TranslatedString("change indicators name labels visibility",o.t(null,void 0,i(387027)))),re=(new P.TranslatedString("change indicators and financials value labels visibility",o.t(null,void 0,i(90512))),
new P.TranslatedString("change indicators value labels visibility",o.t(null,void 0,i(114922)))),le=new P.TranslatedString("change no overlapping labels",o.t(null,void 0,i(783935))),se=new P.TranslatedString("change countdown to bar close visibility",o.t(null,void 0,i(58108))),ae=new P.TranslatedString("change currency label visibility",o.t(null,void 0,i(284060))),ce=new P.TranslatedString("change unit label visibility",o.t(null,void 0,i(607011))),de=new P.TranslatedString("change currency and unit labels visibility",o.t(null,void 0,i(688161))),ue=new P.TranslatedString("change plus button visibility",o.t(null,void 0,i(450190))),pe=new P.TranslatedString("toggle lock scale",o.t(null,void 0,i(121203))),he=new P.TranslatedString("change price to bar ratio",o.t(null,void 0,i(569510))),ve=new P.TranslatedString("change date format",o.t(null,void 0,i(50457))),ye=new P.TranslatedString("change time hours format",o.t(null,void 0,i(876991))),ge=(new P.TranslatedString("change day of week on labels",o.t(null,void 0,i(607104))),o.t(null,void 0,i(435383))),Pe=o.t(null,void 0,i(327767)),fe=o.t(null,void 0,i(540847)),be=(o.t(null,void 0,i(25084)),o.t(null,void 0,i(409654))),me=(o.t(null,void 0,i(829687)),o.t(null,void 0,i(234905))),we=o.t(null,void 0,i(947586)),Se=(o.t(null,void 0,i(674823)),o.t(null,void 0,i(695036))),De=o.t(null,void 0,i(760971)),Te=o.t(null,void 0,i(242502)),_e=o.t(null,void 0,i(194420)),ke=o.t(null,void 0,i(894370)),Ce=o.t(null,void 0,i(50985)),Ve=o.t(null,void 0,i(677534)),Le=o.t(null,void 0,i(217319)),Oe=o.t(null,void 0,i(897378)),xe=o.t(null,void 0,i(753224)),Ge=o.t(null,void 0,i(518219)),Me=o.t(null,void 0,i(164859)),Re=o.t(null,void 0,i(625209)),We=o.t(null,void 0,i(997316)),Ae=o.t(null,void 0,i(743637)),Fe=(o.t(null,void 0,i(555090)),[{value:q.PriceAxisLastValueMode.LastPriceAndPercentageValue,title:o.t(null,void 0,i(676523))},{value:q.PriceAxisLastValueMode.LastValueAccordingToScale,title:o.t(null,void 0,i(680170))}]);const ze=new P.TranslatedString("change chart background color",o.t(null,void 0,i(899011))),Ee=new P.TranslatedString("change chart background type",o.t(null,void 0,i(972458))),Ne=new P.TranslatedString("change vert grid lines color",o.t(null,void 0,i(722722))),He=(new P.TranslatedString("change vert grid lines style",o.t(null,void 0,i(622867))),new P.TranslatedString("change horz grid lines color",o.t(null,void 0,i(988096)))),je=(new P.TranslatedString("change horz grid lines style",o.t(null,void 0,i(302523))),
new P.TranslatedString("change sessions breaks visibility",o.t(null,void 0,i(871589)))),Be=new P.TranslatedString("change sessions breaks color",o.t(null,void 0,i(501579))),Ie=new P.TranslatedString("change sessions breaks width",o.t(null,void 0,i(515035))),Ue=new P.TranslatedString("change sessions breaks style",o.t(null,void 0,i(121460))),qe=new P.TranslatedString("change scales text color",o.t(null,void 0,i(635065))),Je=new P.TranslatedString("change scales font size",o.t(null,void 0,i(484382))),Ke=new P.TranslatedString("change scales lines color",o.t(null,void 0,i(512468))),Qe=new P.TranslatedString("change pane separators color",o.t(null,void 0,i(989032))),Xe=new P.TranslatedString("change crosshair color",o.t(null,void 0,i(529951))),Ye=new P.TranslatedString("change crosshair width",o.t(null,void 0,i(37034))),Ze=new P.TranslatedString("change crosshair style",o.t(null,void 0,i(792027))),$e=new P.TranslatedString("change symbol watermark visibility",o.t(null,void 0,i(687159))),et=new P.TranslatedString("change symbol watermark color",o.t(null,void 0,i(225616))),tt=new P.TranslatedString("change navigation buttons visibility",o.t(null,void 0,i(935646))),it=new P.TranslatedString("change pane buttons visibility",o.t(null,void 0,i(537730))),nt=new P.TranslatedString("change top margin",o.t(null,void 0,i(598905))),ot=new P.TranslatedString("change bottom margin",o.t(null,void 0,i(210349))),rt=new P.TranslatedString("change right margin",o.t(null,void 0,i(135636))),lt=new P.TranslatedString("change right margin percentage",o.t(null,void 0,i(966601))),st=o.t(null,void 0,i(527331)),at=o.t(null,void 0,i(970353)),ct=o.t(null,void 0,i(795338)),dt=o.t(null,void 0,i(259827)),ut=o.t(null,void 0,i(37229)),pt=o.t(null,void 0,i(583182)),ht=o.t(null,void 0,i(373908)),vt=o.t(null,void 0,i(46720)),yt=o.t(null,void 0,i(577705)),gt=o.t(null,void 0,i(874343)),Pt=o.t(null,void 0,i(750446)),ft=o.t(null,void 0,i(865994)),bt=o.t(null,void 0,i(691757)),mt=o.t(null,void 0,i(221141)),wt=o.t(null,void 0,i(936014)),St=o.t(null,void 0,i(16812)),Dt=o.t(null,{context:"unit"},i(650831));var Tt=i(54266),_t=i(599015),kt=i(943624),Ct=i(997753);const Vt=new P.TranslatedString("change buy/sell buttons visibility",o.t(null,void 0,i(477223))),Lt=o.t(null,void 0,i(217329));new P.TranslatedString("change brackets PL visibility",o.t(null,void 0,i(151175))),new P.TranslatedString("change brackets PL display mode",o.t(null,void 0,i(154119)))
;const Ot=new P.TranslatedString("change positions PL visibility",o.t(null,void 0,i(792476))),xt=new P.TranslatedString("change positions PL display mode",o.t(null,void 0,i(485749))),Gt=new P.TranslatedString("change reverse button visibility",o.t(null,void 0,i(569520))),Mt=new P.TranslatedString("change order confirmation state",o.t(null,void 0,i(177827))),Rt=new P.TranslatedString("change play sound on order execution",o.t(null,void 0,i(641636))),Wt=new P.TranslatedString("change notifications state",o.t(null,void 0,i(352164))),At=new P.TranslatedString("change positions visibility",o.t(null,void 0,i(21181))),Ft=new P.TranslatedString("change orders visibility",o.t(null,void 0,i(469714))),zt=new P.TranslatedString("change executions visibility",o.t(null,void 0,i(255496))),Et=new P.TranslatedString("change executions labels visibility",o.t(null,void 0,i(995765))),Nt=new P.TranslatedString("change extend lines left",o.t(null,void 0,i(683269))),Ht=new P.TranslatedString("change position trading objects on chart",o.t(null,void 0,i(72970))),jt=o.t(null,void 0,i(948313)),Bt=o.t(null,void 0,i(186921)),It=o.t(null,void 0,i(293104)),Ut=(o.t(null,void 0,i(790906)),o.t(null,void 0,i(41950))),qt=o.t(null,void 0,i(178106)),Jt=o.t(null,void 0,i(464848)),Kt=o.t(null,void 0,i(344104)),Qt=o.t(null,void 0,i(902877)),Xt=o.t(null,void 0,i(507248)),Yt=o.t(null,void 0,i(150609)),Zt=o.t(null,void 0,i(517538)),$t=o.t(null,void 0,i(619286)),ei=o.t(null,void 0,i(72171)),ti=o.t(null,void 0,i(221141)),ii=o.t(null,void 0,i(8892)),ni=o.t(null,void 0,i(670919)),oi=[{value:l.TradedGroupHorizontalAlignment.Left,title:$t},{value:l.TradedGroupHorizontalAlignment.Center,title:ei},{value:l.TradedGroupHorizontalAlignment.Right,title:ti}];function ri(e,t,i,n){const o=t.positionPL.childs(),l=(0,d.createOptionsPropertyDefinition)({checked:(0,d.convertToDefinitionProperty)(e,o.visibility,Ot),option:(0,d.convertToDefinitionProperty)(e,o.display,xt)},{id:"positionPLDisplay",title:Yt,options:n}),s=(0,d.createCheckablePropertyDefinition)({checked:(0,d.convertToDefinitionProperty)(e,t.showReverse,Gt)},{id:"reverseButton",title:Bt}),a=[],u=function(e,t){if(null===t||!r.enabled("buy_sell_buttons"))return null;const i=e.mainSeries().dataEvents(),n=(0,b.createWVFromGetterAndSubscriptions)((()=>{var t;return e.model().isInReplay()||"economic"===(null===(t=e.mainSeries().symbolInfo())||void 0===t?void 0:t.type)}),[i.symbolResolved(),i.symbolError(),e.model().onInReplayStateChanged()]);return(0,d.createCheckablePropertyDefinition)({disabled:(0,d.convertFromReadonlyWVToDefinitionProperty)(n),checked:(0,d.convertFromWVToDefinitionProperty)(e,t.showSellBuyButtons,Vt)},{id:"tradingSellBuyPanel",title:Lt})}(e,i),p=(0,d.createCheckablePropertyDefinition)({checked:(0,d.convertFromWVToDefinitionProperty)(e,i.noConfirmEnabled,Mt)},{id:"tradingConfirmEnabled",title:Kt});let h;h=(0,d.createCheckablePropertyDefinition)({checked:(0,d.convertFromWVToDefinitionProperty)(e,i.orderExecutedSoundParams.enabled,Rt)},{id:"tradingSoundEnabled",title:Xt});const v=(0,
d.createCheckablePropertyDefinition)({checked:(0,d.convertFromWVToDefinitionProperty)(e,i.showOnlyRejectionNotifications,Wt)},{id:"tradingRejectionNotifications",title:Qt});null!==u&&a.push(u),a.push(p,h,v);const y=(0,d.createPropertyDefinitionsGeneralGroup)(a,"generalVisibilityGroup",ii),g=[],P=(0,d.createCheckableSetPropertyDefinition)({checked:(0,d.convertToDefinitionProperty)(e,t.showPositions,At)},{id:"tradingPositions",title:jt},[l,s]);g.push(P);const f=(0,d.createCheckablePropertyDefinition)({checked:(0,d.convertToDefinitionProperty)(e,t.showOrders,Ft)},{id:"tradingOrders",title:It});g.push(f);(0,d.createCheckablePropertyDefinition)({checked:(0,d.convertToDefinitionProperty)(e,t.showExecutionsLabels,Et)},{id:"tradingExecutionsLables",title:Jt});const m=(0,d.createCheckableSetPropertyDefinition)({checked:(0,d.convertToDefinitionProperty)(e,t.showExecutions,zt)},{id:"tradingExecutions",title:qt},[]);g.push(m),g.push((0,d.createCheckablePropertyDefinition)({checked:(0,d.convertToDefinitionProperty)(e,t.extendLeft,Nt)},{id:"extendLeftTradingLine",title:Ut}),(0,d.createOptionsPropertyDefinition)({option:(0,d.convertToDefinitionProperty)(e,t.horizontalAlignment,Ht)},{id:"positionPLDisplay",title:Zt,options:new(c())(oi)}));return{definitions:[y,(0,d.createPropertyDefinitionsGeneralGroup)(g,"appearanceVisibilityGroup",ni)]}}var li=i(122621),si=i(968381);const ai={symbol:i(877822),legend:i(935885),scales:i(723068),appearance:i(37424),events:i(313168),trading:i(273837)},ci=o.t(null,void 0,i(589053)),di=o.t(null,void 0,i(779194)),ui=o.t(null,void 0,i(643115)),pi=o.t(null,void 0,i(419481)),hi=(o.t(null,void 0,i(226897)),o.t(null,void 0,i(890801))),vi=o.t(null,void 0,i(470500)),yi=o.t(null,void 0,i(778621)),gi=o.t(null,void 0,i(130973)),Pi=r.enabled("chart_property_page_trading");let fi=null;Pi&&(fi=(0,s.tradingService)());const bi=[{id:"symbol-text-source-description",value:"description",title:o.t(null,void 0,i(629601))},{id:"symbol-text-source-ticker",value:"ticker",title:o.t(null,void 0,i(423097))},{id:"symbol-text-source-ticker-and-description",value:"ticker-and-description",title:o.t(null,void 0,i(182168))}];r.enabled("symbol_info_long_description")&&bi.push({id:"symbol-text-source-long-description",value:"long-description",title:o.t(null,void 0,i(996073))});class mi{constructor(e,t,i){this._propertyPages=null,this._maxRightOffsetPropertyObject=null,this._defaultRightOffsetPercentageWatchedValue=null,this._useRightOffsetPercentageWatchedValue=null,this._profitLossOptions=null,this._isDestroyed=!1,this._availableDateFormatValues=null,this._undoModel=e,this._model=this._undoModel.model(),this._series=this._model.mainSeries(),this._chartWidgetProperties=t,this._options=i,this._seriesPropertyDefinitionViewModel=this._createSeriesViewModel(),this._legendPropertyPage=this._createLegendPropertyPage(),this._scalesPropertyPage=this._createScalesPropertyPage(),this._appearancePropertyPage=this._createAppearancePropertyPage(),this._tradingPropertyPage=this._createTradingPropertyPage(),
this._eventsPropertyPage=this._createEventsPropertyPage(),this._series.onStyleChanged().subscribe(this,this._updateDefinitions),this._series.priceScaleChanged().subscribe(this,this._updateDefinitions)}destroy(){var e,t;null!==this._propertyPages&&this._propertyPages.filter(((e,t)=>0!==t)).forEach((e=>{(0,d.destroyDefinitions)(e.definitions.value())})),this._seriesPropertyDefinitionViewModel.destroy(),null===(e=this._pipValueTypeSubscription)||void 0===e||e.unsubscribe(),null===(t=this._availableDateFormatValues)||void 0===t||t.destroy(),this._series.onStyleChanged().unsubscribe(this,this._updateDefinitions),this._series.priceScaleChanged().unsubscribe(this,this._updateDefinitions);(0,n.ensureNotNull)(this._model.timeScale()).maxRightOffsetChanged().unsubscribeAll(this),this._isDestroyed=!0}propertyPages(){return null===this._propertyPages?this._seriesPropertyDefinitionViewModel.propertyPages().then((e=>{if(this._isDestroyed)throw new Error("ChartPropertyDefinitionsViewModel already destroyed");return null===this._propertyPages&&(this._propertyPages=[...e],this._propertyPages.push(this._legendPropertyPage,this._scalesPropertyPage,this._appearancePropertyPage),null!==this._tradingPropertyPage&&this._propertyPages.push(this._tradingPropertyPage),null!==this._eventsPropertyPage&&this._propertyPages.push(this._eventsPropertyPage)),this._propertyPages})):Promise.resolve(this._propertyPages)}_updatePlDisplayOptions(e){(0,n.ensureNotNull)(this._profitLossOptions).setValue(function(e){return Pi?[{value:l.PlDisplay.Money,title:vi},{value:l.PlDisplay.Pips,title:e===li.PipValueType.Pips?yi:gi},{value:l.PlDisplay.Percentage,title:"%"}]:[]}(e))}_updateDefinitions(){(0,d.destroyDefinitions)(this._scalesPropertyPage.definitions.value());const e=this._createScalesDefinitions();this._scalesPropertyPage.definitions.setValue(e.definitions)}_createSeriesViewModel(){const e={property:this._model.properties().childs().timezone,values:si.availableTimezones.map((e=>({value:e.id,title:e.title})))};return new y.SeriesPropertyDefinitionsViewModel(this._series,this._undoModel,"symbol",ci,ai.symbol,e)}_createLegendPropertyPage(){const e=this._chartWidgetProperties.childs().paneProperties.childs().legendProperties.childs(),t={property:this._series.properties().childs().statusViewStyle.childs().symbolTextSource,values:bi},n=function(e,t,n,r,l){const s=[],a=[],u=(0,d.createOptionsPropertyDefinition)({checked:(0,d.convertToDefinitionProperty)(e,t.showSeriesTitle,S),option:(0,d.convertToDefinitionProperty)(e,n.property,D)},{id:"symbolTextSource",title:R,options:new(c())(n.values)});if(a.push(u),null!==r){const t=(0,w.combineWithFilteredUpdate)(((t,i)=>"market"===t&&!(0,f.isEconomicSymbol)(e.mainSeries().symbolInfo())),((e,t)=>null!==e),e.mainSeries().marketStatusModel().status(),e.mainSeries().symbolResolvingActive()),i=(0,d.createCheckablePropertyDefinition)({checked:(0,d.convertToDefinitionProperty)(e,r,T),visible:(0,d.convertFromReadonlyWVToDefinitionProperty)(t)},{id:"showOpenMarketStatus",title:j});a.push(i)}const p=(0,
d.createCheckablePropertyDefinition)({checked:(0,d.convertToDefinitionProperty)(e,t.showSeriesOHLC,_)},{id:"ohlcTitle",title:W});a.push(p);const h=(0,d.createCheckablePropertyDefinition)({checked:(0,d.convertToDefinitionProperty)(e,t.showBarChange,k)},{id:"barChange",title:A});if(a.push(h),a.push((0,d.createCheckablePropertyDefinition)({checked:(0,d.convertToDefinitionProperty)(e,t.showVolume,G)},{id:"barVolume",title:F})),I){const i=(0,w.combineWithFilteredUpdate)((()=>e.model().symbolSources().some((e=>{var t;return void 0!==(null===(t=e.symbolInfo())||void 0===t?void 0:t.price_source_id)}))),(e=>!e),e.model().symbolSourceResolvingActive(),(0,b.createWVFromGetterAndSubscription)((()=>e.model().symbolSources().length),e.model().symbolSourceCollectionChanged()));a.push((0,d.createCheckablePropertyDefinition)({disabled:(0,d.convertFromReadonlyWVToDefinitionProperty)(e.model().symbolSourceResolvingActive()),checked:(0,d.convertToDefinitionProperty)(e,t.showPriceSource,M),visible:(0,d.convertFromReadonlyWVToDefinitionProperty)(i)},{id:"priceSource",title:B}))}s.push((0,d.createPropertyDefinitionsGeneralGroup)(a,"seriesLegendVisibilityGroup",o.t(null,void 0,i(589053))));const v=[],y=(0,d.createCheckablePropertyDefinition)({checked:(0,d.convertToDefinitionProperty)(e,t.showStudyArguments,C)},{id:"studyArguments",title:E}),g=(0,d.createCheckableSetPropertyDefinition)({checked:(0,d.convertToDefinitionProperty)(e,t.showStudyTitles,V)},{id:"studyTitles",title:z},[y]),P=(0,d.createCheckablePropertyDefinition)({checked:(0,d.convertToDefinitionProperty)(e,t.showStudyValues,L)},{id:"studyValues",title:N}),U=(0,b.createWVFromGetterAndSubscription)((()=>e.model().priceDataSources().some((e=>!(0,m.isActingAsSymbolSource)(e)&&e.showInObjectTree()))),e.model().dataSourceCollectionChanged());v.push(g,P),s.push((0,d.createPropertyDefinitionsGeneralGroup)(v,"studiesLegendVisibilityGroup",o.t(null,void 0,i(561142)),U));const q=[],J=(0,d.createTransparencyPropertyDefinition)({checked:(0,d.convertToDefinitionProperty)(e,t.showBackground,O),transparency:(0,d.convertToDefinitionProperty)(e,t.backgroundTransparency,x)},{id:"legendBgTransparency",title:H});return q.push(J),s.push((0,d.createPropertyDefinitionsGeneralGroup)(q,"generalLegendGroup")),{definitions:s}}(this._undoModel,e,t,this._options.marketStatusWidgetEnabled?g.showMarketOpenStatusProperty:null);return(0,u.createPropertyPage)(n,"legend",di,ai.legend)}_createScalesPropertyPage(){const e=this._createScalesDefinitions();return(0,u.createPropertyPage)(e,"scales",ui,ai.scales)}_createScalesDefinitions(){const e=this._chartWidgetProperties.childs().scalesProperties.childs(),t={property:this._model.properties().childs().priceScaleSelectionStrategyName,values:(0,v.allPriceScaleSelectionStrategyInfo)().map((e=>({value:e.name,title:e.title})))};null===this._availableDateFormatValues&&(this._availableDateFormatValues=new(c())(function(e=!1){const t=new Date(Date.UTC(1997,8,29));return Tt.availableDateFormats.map((i=>({value:i,title:new kt.DateFormatter(i,e).format(t)})))}()).spawn())
;const n={property:_t.dateFormatProperty,values:this._availableDateFormatValues},l={property:Ct.timeHoursFormatProperty,values:[{value:"24-hours",title:o.t(null,void 0,i(855838))},{value:"12-hours",title:o.t(null,void 0,i(919648))}]},s=this._model.mainSeriesScaleRatioProperty();return function(e,t,i,n){const o=n.seriesPriceScale.properties().childs(),l=[],s=[],a=[],u=[];if(n.seriesHasClosePrice){const t=(0,d.createCheckablePropertyDefinition)({checked:(0,d.convertToDefinitionProperty)(e,i.showSymbolLabels,Y)},{id:"symbolNameLabel",title:ge}),n=(0,d.createOptionsPropertyDefinition)({checked:(0,d.convertToDefinitionProperty)(e,i.showSeriesLastValue,Z),option:(0,d.convertToDefinitionProperty)(e,i.seriesLastValueMode,$)},{id:"symbolLastValueLabel",title:Pe,options:new(c())(Fe)});s.push(t,n);{const t=(0,b.combineProperty)((e=>!e),e.mainSeries().isDWMProperty()),n=(0,d.createCheckablePropertyDefinition)({checked:(0,d.convertToDefinitionProperty)(e,i.showSeriesPrevCloseValue,ee),visible:(0,U.makeProxyDefinitionPropertyDestroyable)(t)},{id:"symbolPrevCloseValue",title:fe});s.push(n)}}if(e.model().hasCustomSource("bidask")){const t=(0,d.createCheckablePropertyDefinition)({checked:(0,d.convertToDefinitionProperty)(e,i.showBidAskLabels,te)},{id:"bidAskLabels",title:we});s.push(t)}const p=t.highLowAvgPrice.childs(),h=(0,d.createCheckablePropertyDefinition)({checked:(0,d.convertToDefinitionProperty)(e,p.highLowPriceLabelsVisible,ie)},{id:"highLowPriceLabels",title:De});if(s.push(h),X){const t=(0,d.createCheckablePropertyDefinition)({checked:(0,d.convertToDefinitionProperty)(e,p.averageClosePriceLabelVisible,ne)},{id:"averageClosePriceLabel",title:Se});s.push(t)}const v=(0,b.createWVFromGetterAndSubscription)((()=>e.model().priceDataSources().some((e=>!(0,m.isActingAsSymbolSource)(e)&&e.showInObjectTree()))),e.model().dataSourceCollectionChanged());{const t=(0,d.createCheckablePropertyDefinition)({visible:(0,d.convertFromReadonlyWVToDefinitionProperty)(v),checked:(0,d.convertToDefinitionProperty)(e,i.showStudyPlotLabels,oe)},{id:"studyNameLabel",title:be});s.push(t)}const y=(0,b.createWVFromGetterAndSubscription)((()=>e.model().priceDataSources().some((e=>!(0,m.isActingAsSymbolSource)(e)&&e.showInObjectTree()))),e.model().dataSourceCollectionChanged());{const t=(0,d.createCheckablePropertyDefinition)({visible:(0,d.convertFromReadonlyWVToDefinitionProperty)(y),checked:(0,d.convertToDefinitionProperty)(e,i.showStudyLastValue,re)},{id:"studyLastValueLabel",title:me});s.push(t)}const g=(0,d.createCheckablePropertyDefinition)({checked:(0,d.convertToDefinitionProperty)(e,o.alignLabels,le)},{id:"noOverlappingLabels",title:Te});if(s.push(g),l.push((0,d.createPropertyDefinitionsGeneralGroup)(s,"scalesLabelsGroup",_e)),n.countdownEnabled){const i=(0,d.createCheckablePropertyDefinition)({checked:(0,d.convertToDefinitionProperty)(e,t.showCountdown,se)},{id:"countdown",title:ke});a.push(i)}if(e.crossHairSource().isMenuEnabled()){const t=(0,d.createCheckablePropertyDefinition)({checked:(0,
d.convertToDefinitionProperty)(e,K.addPlusButtonProperty,ue)},{id:"addPlusButton",title:Oe});a.push(t)}if(n.currencyConversionEnabled||n.unitConversionEnabled){const t=n.currencyConversionEnabled&&n.unitConversionEnabled?Le:n.currencyConversionEnabled?Ce:Ve,i=n.currencyConversionEnabled&&n.unitConversionEnabled?de:n.currencyConversionEnabled?ae:ce,o=(0,d.createOptionsPropertyDefinition)({option:(0,d.convertToDefinitionProperty)(e,(0,Q.currencyUnitVisibilityProperty)(),i)},{id:"scalesCurrencyUnit",title:t,options:new(c())((0,Q.currencyUnitVisibilityOptions)())});a.push(o)}const P=(0,d.createNumberPropertyDefinition)({checked:(0,d.getLockPriceScaleDefinitionProperty)(e,o.lockScale,n.seriesPriceScale,pe),value:(0,d.getScaleRatioDefinitionProperty)(e,n.mainSeriesScaleRatioProperty,he,[(0,J.limitedPrecision)(7),e=>e])},{id:"lockScale",title:Ge,min:new(c())(n.mainSeriesScaleRatioProperty.getMinValue()),max:new(c())(n.mainSeriesScaleRatioProperty.getMaxValue()),step:new(c())(n.mainSeriesScaleRatioProperty.getStepChangeValue())}),f=(0,d.createOptionsPropertyDefinition)({option:(0,d.getPriceScaleSelectionStrategyDefinitionProperty)(e,n.scalesPlacementPropertyObj.property)},{id:"scalesPlacement",title:xe,options:new(c())(n.scalesPlacementPropertyObj.values)});if(a.push(P,f),l.push((0,d.createPropertyDefinitionsGeneralGroup)(a,"scalesPriceScaleGroup",Me)),r.enabled("scales_date_format")){const t=(0,d.createOptionsPropertyDefinition)({option:(0,d.convertToDefinitionProperty)(e,n.dateFormatPropertyObj.property,ve)},{id:"dateFormat",title:Re,options:n.dateFormatPropertyObj.values});u.push(t)}if(r.enabled("scales_time_hours_format")){const t=(0,d.createOptionsPropertyDefinition)({option:(0,d.convertToDefinitionProperty)(e,n.timeHoursFormatPropertyObj.property,ye)},{id:"timeHoursFormat",title:We,options:new(c())(n.timeHoursFormatPropertyObj.values)});u.push(t)}return u.length>0&&l.push((0,d.createPropertyDefinitionsGeneralGroup)(u,"scalesTimeScaleGroup",Ae)),{definitions:l}}(this._undoModel,this._series.properties().childs(),e,{disableSeriesPrevCloseValueProperty:this._series.isDWMProperty(),seriesHasClosePrice:this._series.hasClosePrice(),seriesPriceScale:this._series.priceScale(),mainSeriesScaleRatioProperty:s,scalesPlacementPropertyObj:t,dateFormatPropertyObj:n,timeHoursFormatPropertyObj:l,currencyConversionEnabled:this._options.currencyConversionEnabled,unitConversionEnabled:this._options.unitConversionEnabled,countdownEnabled:this._options.countdownEnabled,withWeekdayProperty:void 0})}_createMaxOffsetPropertyObject(){const e=(0,n.ensureNotNull)(this._model.timeScale()),t=new(c())(Math.floor(e.maxRightOffset()));e.maxRightOffsetChanged().subscribe(this,(e=>{t.setValue(Math.floor(e))})),this._maxRightOffsetPropertyObject={value:e.defaultRightOffset(),min:new(c())(0),max:t}}_createDefaultRightOffsetPercentageWatchedValue(){const e=(0,n.ensureNotNull)(this._model.timeScale());this._defaultRightOffsetPercentageWatchedValue=e.defaultRightOffsetPercentage()}_createUseRightOffsetPercentageWatchedValue(){const e=(0,
n.ensureNotNull)(this._model.timeScale());this._useRightOffsetPercentageWatchedValue=e.usePercentageRightOffset()}_createAppearancePropertyPage(){const e=this._chartWidgetProperties.childs(),t=e.paneProperties.childs(),l=e.scalesProperties.childs(),s=this._model.watermarkSource();let a=null;null!==s&&(a=s.properties().childs());const v={property:p.property(),values:p.availableValues()},y={property:h.property(),values:h.availableValues()},g=this._model.sessions().properties().childs().graphics.childs().vertlines.childs().sessBreaks.childs();null===this._maxRightOffsetPropertyObject&&this._createMaxOffsetPropertyObject(),null===this._defaultRightOffsetPercentageWatchedValue&&this._createDefaultRightOffsetPercentageWatchedValue(),null===this._useRightOffsetPercentageWatchedValue&&this._createUseRightOffsetPercentageWatchedValue();const P=(0,n.ensureNotNull)(this._maxRightOffsetPropertyObject),f=(0,n.ensureNotNull)(this._defaultRightOffsetPercentageWatchedValue),m=(0,n.ensureNotNull)(this._useRightOffsetPercentageWatchedValue),w=function(e,t,n,l,s,a,u,p,h,v,y){const g=[],P=[],f=[],m=[],w=[],S=(0,d.createColorPropertyDefinition)({color:(0,d.getColorDefinitionProperty)(e,t.background,null,ze),gradientColor1:(0,d.getColorDefinitionProperty)(e,t.backgroundGradientStartColor,null,ze),gradientColor2:(0,d.getColorDefinitionProperty)(e,t.backgroundGradientEndColor,null,ze),type:(0,d.convertToDefinitionProperty)(e,t.backgroundType,Ee)},{id:"chartBackground",title:st,noAlpha:!0}),D=t.vertGridProperties.childs(),T=(0,d.createLinePropertyDefinition)({color:(0,d.getColorDefinitionProperty)(e,D.color,null,Ne),style:void 0},{id:"vertGridLine",title:at}),_=t.horzGridProperties.childs(),k=(0,d.createLinePropertyDefinition)({color:(0,d.getColorDefinitionProperty)(e,_.color,null,He),style:void 0},{id:"horizGridLine",title:ct}),C=(0,b.combineProperty)((e=>!e),e.mainSeries().isDWMProperty()),V=(0,d.createLinePropertyDefinition)({visible:(0,U.makeProxyDefinitionPropertyDestroyable)(C),checked:(0,d.convertToDefinitionProperty)(e,s.visible,je),color:(0,d.getColorDefinitionProperty)(e,s.color,null,Be),width:(0,d.convertToDefinitionProperty)(e,s.width,Ie),style:(0,d.convertToDefinitionProperty)(e,s.style,Ue)},{id:"sessionBeaks",title:dt}),L=(0,b.createWVFromGetterAndSubscription)((()=>1!==e.model().panes().length),e.model().panesCollectionChanged()),O=(0,d.createLinePropertyDefinition)({visible:(0,d.convertFromReadonlyWVToDefinitionProperty)(L),color:(0,d.getColorDefinitionProperty)(e,t.separatorColor,null,Qe)},{id:"paneSeparators",title:ht}),x=t.crossHairProperties.childs(),G=(0,d.createLinePropertyDefinition)({color:(0,d.getColorDefinitionProperty)(e,x.color,x.transparency,Xe),width:(0,d.convertToDefinitionProperty)(e,x.width,Ye),style:(0,d.convertToDefinitionProperty)(e,x.style,Ze)},{id:"crossHair",title:vt});if(g.push(S,T,k,V,O,G),null!==n){const t=(0,d.createColorPropertyDefinition)({checked:(0,d.convertToDefinitionProperty)(e,n.visibility,$e),color:(0,d.getColorDefinitionProperty)(e,n.color,null,et)},{id:"watermark",title:yt});g.push(t)}
const M=(0,d.createTextPropertyDefinition)({color:(0,d.getColorDefinitionProperty)(e,l.textColor,null,qe),size:(0,d.convertToDefinitionProperty)(e,l.fontSize,Je)},{id:"scalesText",title:ut}),R=(0,d.createLinePropertyDefinition)({color:(0,d.getColorDefinitionProperty)(e,l.lineColor,null,Ke)},{id:"scalesLine",title:pt});P.push(M,R);const W=(0,d.createOptionsPropertyDefinition)({option:(0,d.convertToDefinitionProperty)(e,p.property,tt)},{id:"navButtons",title:gt,options:new(c())(p.values)}),A=(0,d.createOptionsPropertyDefinition)({option:(0,d.convertToDefinitionProperty)(e,h.property,it)},{id:"paneButtons",title:Pt,options:new(c())(h.values)});f.push(W,A);const F=(0,d.createNumberPropertyDefinition)({value:(0,d.convertToDefinitionProperty)(e,t.topMargin,nt,[J.floor])},{type:0,id:"paneTopMargin",title:ft,min:new(c())(0),max:new(c())(25),step:new(c())(1),unit:new(c())("%")}),z=(0,d.createNumberPropertyDefinition)({value:(0,d.convertToDefinitionProperty)(e,t.bottomMargin,ot,[J.floor])},{type:0,id:"paneBottomMargin",title:bt,min:new(c())(0),max:new(c())(25),step:new(c())(1),unit:new(c())("%")});if(m.push(F,z),r.enabled("chart_property_page_right_margin_editor")){const t={value:(0,d.convertFromWVToDefinitionProperty)(e,u.value,rt,[J.floor])},i={type:0,id:"paneRightMargin",title:mt,min:u.min,max:u.max,step:new(c())(1),unit:new(c())(Dt)};if(r.enabled("show_percent_option_for_right_margin")){const n=(0,d.createNumberPropertyDefinition)({...t,checked:(0,d.convertFromWVToDefinitionProperty)(e,y.opposite(),lt)},{...i,title:St}),o=(0,d.createNumberPropertyDefinition)({checked:(0,d.convertFromWVToDefinitionProperty)(e,y,lt),value:(0,d.convertFromWVToDefinitionProperty)(e,v,lt,[J.floor])},{type:0,id:"paneRightMarginPercentage",title:wt,min:new(c())(0),max:new(c())(99),step:new(c())(1),unit:new(c())("%")});w.push(n),w.push(o)}else{const e=(0,d.createNumberPropertyDefinition)(t,i);m.push(e)}}const E=[(0,d.createPropertyDefinitionsGeneralGroup)(g,"chartBasicStylesAppearanceGroup",o.t(null,void 0,i(288364))),(0,d.createPropertyDefinitionsGeneralGroup)(P,"scalesAppearanceGroup",o.t(null,void 0,i(643115))),(0,d.createPropertyDefinitionsGeneralGroup)(f,"buttonsAppearanceGroup",o.t(null,void 0,i(187845))),(0,d.createPropertyDefinitionsGeneralGroup)(m,"marginsAppearanceGroup",o.t(null,void 0,i(766653)))];return w.length>0&&E.push((0,d.createPropertyDefinitionsGeneralGroup)(w,"rightMarginsAppearanceGroup",o.t(null,void 0,i(340187)))),{definitions:E}}(this._undoModel,t,a,l,g,this._series.isDWMProperty(),P,v,y,f,m);return(0,u.createPropertyPage)(w,"appearance",pi,ai.appearance)}_createTradingPropertyPage(){if(!Pi)return null;if(null===fi)return null;this._profitLossOptions=new(c()),this._pipValueTypeSubscription=fi.pipValueType().subscribe(this._updatePlDisplayOptions.bind(this));const e=this._model.properties().childs().tradingProperties.childs(),t=ri(this._undoModel,e,fi,this._profitLossOptions);return(0,u.createPropertyPage)(t,"trading",hi,ai.trading)}_createEventsPropertyPage(){return null}}},37424:e=>{
e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M7.5 16.5l-1 1v4h4l1-1m-4-4l2 2m-2-2l9-9m-5 13l-2-2m2 2l9-9m-11 7l9-9m0 0l-2-2m2 2l2 2m-4-4l.94-.94a1.5 1.5 0 0 1 2.12 0l1.88 1.88a1.5 1.5 0 0 1 0 2.12l-.94.94"/></svg>'},313168:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M10 4h1v2h6V4h1v2h2.5A2.5 2.5 0 0 1 23 8.5v11a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 5 19.5v-11A2.5 2.5 0 0 1 7.5 6H10V4zm8 3H7.5A1.5 1.5 0 0 0 6 8.5v11A1.5 1.5 0 0 0 7.5 21h13a1.5 1.5 0 0 0 1.5-1.5v-11A1.5 1.5 0 0 0 20.5 7H18zm-3 2h-2v2h2V9zm-7 4h2v2H8v-2zm12-4h-2v2h2V9zm-7 4h2v2h-2v-2zm-3 4H8v2h2v-2zm3 0h2v2h-2v-2zm7-4h-2v2h2v-2z"/></svg>'},723068:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path stroke="currentColor" d="M10.5 20.5a2 2 0 1 1-2-2m2 2a2 2 0 0 0-2-2m2 2h14m-16-2v-14m16 16L21 17m3.5 3.5L21 24M8.5 4.5L12 8M8.5 4.5L5 8"/></svg>'},935885:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path fill="currentColor" d="M6 13h12v1H6zM6 17h12v1H6zM6 21h12v1H6z"/><rect width="17" height="3" stroke="currentColor" rx="1.5" x="5.5" y="6.5"/></svg>'},877822:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M9 7H7v14h2v3h1v-3h2V7h-2V4H9v3zM8 8v12h3V8H8zm9 1h-2v10h2v3h1v-3h2V9h-2V6h-1v3zm-1 1v8h3v-8h-3z"/></svg>'},273837:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="none"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M24.068 9a.569.569 0 0 1 .73.872L19 14.842l-5.798-4.97a.569.569 0 0 1 .73-.872l4.751 3.887.317.26.317-.26L24.068 9zm1.47-.67a1.569 1.569 0 0 0-2.103-.104L19 11.854l-4.435-3.628a1.569 1.569 0 0 0-2.014 2.405l6.124 5.249.325.279.325-.28 6.124-5.248a1.569 1.569 0 0 0 .088-2.3zm-11.484 9.728a.57.57 0 0 0 .688-.91L9 12.636l-5.742 4.512a.57.57 0 0 0 .688.91l4.76-3.462.294-.214.294.214 4.76 3.462zm1.446.649a1.57 1.57 0 0 1-2.034.16L9 15.618l-4.466 3.249a1.57 1.57 0 0 1-1.894-2.505l6.051-4.755.309-.243.309.243 6.051 4.755c.74.581.806 1.68.14 2.345z"/></svg>'}}]);