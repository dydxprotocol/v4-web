(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[8354],{678370:e=>{e.exports={"icon-wrapper":"icon-wrapper-EZuD3gZZ","no-active-state":"no-active-state-EZuD3gZZ","with-tooltip":"with-tooltip-EZuD3gZZ","intent-default":"intent-default-EZuD3gZZ","intent-danger":"intent-danger-EZuD3gZZ","intent-warning":"intent-warning-EZuD3gZZ","intent-success":"intent-success-EZuD3gZZ",icon:"icon-EZuD3gZZ"}},882112:e=>{e.exports={}},645300:e=>{e.exports={}},573606:e=>{e.exports={"square-tab-button":"square-tab-button-huvpscfz",selected:"selected-huvpscfz","disable-active-state-styles":"disable-active-state-styles-huvpscfz","disable-focus-outline":"disable-focus-outline-huvpscfz","size-medium":"size-medium-huvpscfz","size-small":"size-small-huvpscfz","size-xsmall":"size-xsmall-huvpscfz",fake:"fake-huvpscfz"}},77819:e=>{e.exports={"arrow-icon":"arrow-icon-nV6fm1zO",dropped:"dropped-nV6fm1zO"}},744012:e=>{e.exports={"css-value-square-tabs-xsmall-gap":"4px","css-value-square-tabs-small-gap":"8px","css-value-square-tabs-medium-gap":"12px"}},792331:e=>{e.exports={"css-value-square-tabs-xsmall-gap":"4px","css-value-square-tabs-small-gap":"8px","css-value-square-tabs-medium-gap":"12px","scroll-wrap":"scroll-wrap-mf1FlhVw","enable-scroll":"enable-scroll-mf1FlhVw","square-tabs":"square-tabs-mf1FlhVw",content:"content-mf1FlhVw","size-xsmall":"size-xsmall-mf1FlhVw","square-tab-button":"square-tab-button-mf1FlhVw","end-icon-wrap":"end-icon-wrap-mf1FlhVw","size-small":"size-small-mf1FlhVw","size-medium":"size-medium-mf1FlhVw"}},409245:(e,t,i)=>{"use strict";function s(e){const{reference:t,...i}=e;return{...i,ref:t}}i.d(t,{renameRef:()=>s})},234539:(e,t,i)=>{"use strict";i.d(t,{CustomBehaviourContext:()=>s});const s=(0,i(50959).createContext)({enableActiveStateStyles:!0});s.displayName="CustomBehaviourContext"},865968:(e,t,i)=>{"use strict";i.d(t,{useComposedKeyboardActionHandlers:()=>a,useKeyboardActionHandler:()=>r,useKeyboardClose:()=>c,useKeyboardEventHandler:()=>l,useKeyboardOpen:()=>u,useKeyboardToggle:()=>d});var s=i(50959),o=i(930202);const n=()=>!0;function r(e,t,i=n){return(0,s.useCallback)((s=>{const o=e.map((e=>"function"==typeof e?e():e));return!(!i(s)||!o.includes(s))&&(t(s),!0)}),[...e,t,i])}function a(...e){return(0,s.useCallback)((t=>{for(const i of e)if(i(t))return!0;return!1}),[...e])}function l(e,t=!0){const i=a(...e);return(0,s.useCallback)((e=>{i((0,o.hashFromEvent)(e))&&t&&e.preventDefault()}),[i])}function d(e,t=!0){return r([13,32],e,(function(e){if(13===e)return t;return!0}))}function c(e,t){return r([9,(0,s.useCallback)((()=>o.Modifiers.Shift+9),[]),27],t,(0,s.useCallback)((()=>e),[e]))}function u(e,t){return r([40,38],t,(0,s.useCallback)((()=>!e),[e]))}},772069:(e,t,i)=>{"use strict";i.d(t,{useDisclosure:()=>d});var s=i(50959),o=i(650151),n=i(954343),r=i(383836),a=i(269842),l=i(414823);function d(e){const{id:t,listboxId:i,disabled:d,buttonTabIndex:c=0,onFocus:u,onBlur:h,onClick:p}=e,[m,_]=(0,s.useState)(!1),[g,b]=(0,r.useFocus)(),v=g||m,f=(null!=i?i:void 0!==t)?(0,
l.createDomId)(t,"listbox"):void 0,w=(0,s.useRef)(null),C=(0,s.useCallback)((e=>{var t;return null===(t=w.current)||void 0===t?void 0:t.focus(e)}),[w]),y=(0,s.useRef)(null),T=(0,s.useCallback)((()=>(0,o.ensureNotNull)(y.current).focus()),[y]),S=(0,s.useCallback)((()=>_(!0)),[_]),E=(0,s.useCallback)(((e=!1,t=!1)=>{_(!1);const{activeElement:i}=document;i&&(0,n.isTextEditingField)(i)||t||C({preventScroll:e})}),[_,C]),k=(0,s.useCallback)((()=>{m?E():S()}),[m,E,S]),M=d?[]:[u,b.onFocus],F=d?[]:[h,b.onBlur],P=d?[]:[p,k],x=(0,a.createSafeMulticastEventHandler)(...M),D=(0,a.createSafeMulticastEventHandler)(...F),I=(0,a.createSafeMulticastEventHandler)(...P);return{listboxId:f,isOpened:m,isFocused:v,buttonTabIndex:d?-1:c,listboxTabIndex:-1,open:S,close:E,toggle:k,onOpen:T,buttonFocusBindings:{onFocus:x,onBlur:D},onButtonClick:I,buttonRef:w,listboxRef:y,buttonAria:{"aria-controls":m?f:void 0,"aria-expanded":m,"aria-disabled":d}}}},383836:(e,t,i)=>{"use strict";i.d(t,{useFocus:()=>o});var s=i(50959);function o(e,t){const[i,o]=(0,s.useState)(!1);(0,s.useEffect)((()=>{t&&i&&o(!1)}),[t,i]);const n={onFocus:(0,s.useCallback)((function(t){void 0!==e&&e.current!==t.target||o(!0)}),[e]),onBlur:(0,s.useCallback)((function(t){void 0!==e&&e.current!==t.target||o(!1)}),[e])};return[i,n]}},718736:(e,t,i)=>{"use strict";i.d(t,{useFunctionalRefObject:()=>n});var s=i(50959),o=i(855393);function n(e){const t=(0,s.useMemo)((()=>function(e){const t=i=>{e(i),t.current=i};return t.current=null,t}((e=>{a.current(e)}))),[]),i=(0,s.useRef)(null),n=t=>{if(null===t)return r(i.current,t),void(i.current=null);i.current!==e&&(i.current=e,r(i.current,t))},a=(0,s.useRef)(n);return a.current=n,(0,o.useIsomorphicLayoutEffect)((()=>{if(null!==t.current)return a.current(t.current),()=>a.current(null)}),[e]),t}function r(e,t){null!==e&&("function"==typeof e?e(t):e.current=t)}},252130:(e,t,i)=>{"use strict";i.d(t,{useIsMounted:()=>o});var s=i(50959);const o=()=>{const e=(0,s.useRef)(!1);return(0,s.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}},855393:(e,t,i)=>{"use strict";i.d(t,{useIsomorphicLayoutEffect:()=>o});var s=i(50959);function o(e,t){("undefined"==typeof window?s.useEffect:s.useLayoutEffect)(e,t)}},648621:(e,t,i)=>{"use strict";i.d(t,{useItemsKeyboardNavigation:()=>r});var s=i(50959),o=i(865968);function n(e,t){return e>=0?e%t:(t-Math.abs(e)%t)%t}function r(e,t,i,r,a,l={},d){const c=(0,s.useCallback)((e=>{const s=t.findIndex(i);if(s===t.length-1&&!a)return void((null==d?void 0:d.onFailNext)&&d.onFailNext(e));const o=n(s+1,t.length);r&&r(t[o],"next")}),[t,i,r,a]),u=(0,s.useCallback)((e=>{const s=t.findIndex(i);if(0===s&&!a)return void((null==d?void 0:d.onFailPrev)&&d.onFailPrev(e));const o=n(s-1,t.length);r&&r(t[o],"previous")}),[t,i,r,a]),h=(0,s.useCallback)((()=>{r&&r(t[0],"first")}),[r,t]),p=(0,s.useCallback)((()=>{r&&r(t[t.length-1],"last")}),[r,t]),m=(0,s.useMemo)((()=>(e=>({next:[40,()=>e()?37:39],previous:[38,()=>e()?39:37],first:[33,()=>e()?35:36],last:[34,()=>e()?36:35]
}))(e)),[e]),{next:_=m.next,previous:g=m.previous,first:b=m.first,last:v=m.last}=l;return(0,o.useComposedKeyboardActionHandlers)((0,o.useKeyboardActionHandler)(_,c),(0,o.useKeyboardActionHandler)(g,u),(0,o.useKeyboardActionHandler)(b,h),(0,o.useKeyboardActionHandler)(v,p))}},930617:(e,t,i)=>{"use strict";i.d(t,{useKeepActiveItemIntoView:()=>u});var s=i(50959),o=i(650151),n=i(549423);const r={duration:200,additionalScroll:0},a={vertical:{scrollSize:"scrollHeight",clientSize:"clientHeight",start:"top",end:"bottom",size:"height"},horizontal:{scrollSize:"scrollWidth",clientSize:"clientWidth",start:"left",end:"right",size:"width"}};function l(e,t){const i=a[e];return t[i.scrollSize]>t[i.clientSize]}function d(e,t,i,s,o,r){const l=function(e,t,i,s=0){const o=a[e];return{start:-1*s,middle:-1*(Math.floor(i[o.size]/2)-Math.floor(t[o.size]/2)),end:-1*(i[o.size]-t[o.size])+s}}(e,s,o,r.additionalScroll);let d=0;if(function(e,t,i){const s=a[e];return t[s.start]<i[s.start]-i[s.size]/2||t[s.end]>i[s.end]+i[s.size]/2}(e,s,o))d=l.middle;else{const t=function(e,t,i,s=0){const o=a[e],n=t[o.start]+Math.floor(t[o.size]/2),r=i[o.start]+Math.floor(i[o.size]/2);return{start:t[o.start]-i[o.start]-s,middle:n-r,end:t[o.end]-i[o.end]+s}}(e,s,o,r.additionalScroll),i=function(e){const{start:t,middle:i,end:s}=e,o=new Map([[Math.abs(t),{key:"start",value:Math.sign(t)}],[Math.abs(i),{key:"middle",value:Math.sign(i)}],[Math.abs(s),{key:"end",value:Math.sign(s)}]]),n=Math.min(...o.keys());return o.get(n)}(t);d=void 0!==i?l[i.key]:0}return function(e){const{additionalScroll:t=0,duration:i=n.dur,func:s=n.easingFunc.easeInOutCubic,onScrollEnd:o,target:r,wrap:a,direction:l="vertical"}=e;let{targetRect:d,wrapRect:c}=e;d=null!=d?d:r.getBoundingClientRect(),c=null!=c?c:a.getBoundingClientRect();const u=("vertical"===l?d.top-c.top:d.left-c.left)+t,h="vertical"===l?"scrollTop":"scrollLeft",p=a?a[h]:0;let m,_=0;return _=window.requestAnimationFrame((function e(t){let n;if(m?n=t-m:(n=0,m=t),n>=i)return a[h]=p+u,void(o&&o());const r=p+u*s(n/i);a[h]=Math.floor(r),_=window.requestAnimationFrame(e)})),function(){window.cancelAnimationFrame(_),o&&o()}}({...r,target:t,targetRect:s,wrap:i,wrapRect:o,additionalScroll:d,direction:e})}class c{constructor(e=null){this._container=null,this._lastScrolledElement=null,this._stopVerticalScroll=null,this._stopHorizontalScroll=null,this._container=e}scrollTo(e,t=r){if(null!==this._container&&null!==e&&!function(e,t){const i=e.getBoundingClientRect(),s=t.getBoundingClientRect();return i.top>=s.top&&i.bottom<=s.bottom&&i.left>=s.left&&i.right<=s.right}(e,this._container)){const i=e.getBoundingClientRect(),s=this._container.getBoundingClientRect();this.stopScroll(),l("vertical",this._container)&&(this._stopVerticalScroll=d("vertical",e,this._container,i,s,this._modifyOptions("vertical",t))),l("horizontal",this._container)&&(this._stopHorizontalScroll=d("horizontal",e,this._container,i,s,this._modifyOptions("horizontal",t)))}this._lastScrolledElement=e}scrollToLastElement(e){this.scrollTo(this._lastScrolledElement,e)}stopScroll(){
null!==this._stopVerticalScroll&&this._stopVerticalScroll(),null!==this._stopHorizontalScroll&&this._stopHorizontalScroll()}getContainer(){return this._container}setContainer(e){var t;this._container=e,(null===(t=this._container)||void 0===t?void 0:t.contains(this._lastScrolledElement))||(this._lastScrolledElement=null)}destroy(){this.stopScroll(),this._container=null,this._lastScrolledElement=null}_handleScrollEnd(e){"vertical"===e?this._stopVerticalScroll=null:this._stopHorizontalScroll=null}_modifyOptions(e,t){return Object.assign({},t,{onScrollEnd:()=>{this._handleScrollEnd(e),void 0!==t.onScrollEnd&&t.onScrollEnd()}})}}function u(e={}){const{activeItem:t,getKey:i,...n}=e,r=(0,s.useRef)(null),a=(0,s.useRef)(new Map),l=function(e){const t=(0,s.useRef)(null);return(0,s.useEffect)((()=>(t.current=new c(e),()=>(0,o.ensureNotNull)(t.current).destroy())),[]),t}(r.current),d=(0,s.useCallback)((()=>{null!==l.current&&null!==r.current&&l.current.getContainer()!==r.current&&l.current.setContainer(r.current)}),[l,r]),u=(0,s.useCallback)((e=>{r.current=e}),[r]),h=(0,s.useCallback)(((e,t)=>{const s=i?i(e):e;t?a.current.set(s,t):a.current.delete(s)}),[a,i]),p=(0,s.useCallback)(((e,t)=>{if(!e)return;const s=i?i(e):e,n=a.current.get(s);n&&(d(),(0,o.ensureNotNull)(l.current).scrollTo(n,t))}),[a,l,i]);return(0,s.useEffect)((()=>p(t,n)),[p,t]),[u,h,p]}},525388:(e,t,i)=>{"use strict";i.d(t,{useMergedRefs:()=>n});var s=i(50959),o=i(273388);function n(e){return(0,s.useCallback)((0,o.mergeRefs)(e),e)}},457927:(e,t,i)=>{"use strict";i.d(t,{useRefsMap:()=>o});var s=i(50959);function o(){const e=(0,s.useRef)(new Map),t=(0,s.useCallback)((t=>i=>{null!==i?e.current.set(t,i):e.current.delete(t)}),[e]);return[e,t]}},664332:(e,t,i)=>{"use strict";i.d(t,{useResizeObserver:()=>a});var s=i(50959),o=i(159255),n=i(855393),r=i(718736);function a(e,t=[]){const{callback:i,ref:a=null}=function(e){return"function"==typeof e?{callback:e}:e}(e),l=(0,s.useRef)(null),d=(0,s.useRef)(i);d.current=i;const c=(0,r.useFunctionalRefObject)(a),u=(0,s.useCallback)((e=>{c(e),null!==l.current&&(l.current.disconnect(),null!==e&&l.current.observe(e))}),[c,l]);return(0,n.useIsomorphicLayoutEffect)((()=>(l.current=new o.default(((e,t)=>{d.current(e,t)})),c.current&&u(c.current),()=>{var e;null===(e=l.current)||void 0===e||e.disconnect()})),[c,...t]),u}},441380:(e,t,i)=>{"use strict";i.d(t,{IconQuestionInformation:()=>f});var s=i(50959),o=i(497754),n=i(800417),r=i(72571),a=i(804395);function l(){const[e,t]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{t(a.mobiletouch)}),[]),e}var d=i(409245),c=i(525388),u=i(482353),h=i(527941),p=i(499084),m=i(530162),_=i(678370),g=i.n(_);const b={info:h,question:u,check:p,exclamation:m};function v(e){return s.createElement("span",{...(0,d.renameRef)(e),className:o(e.className,g()["no-active-state"])})}function f(e){
const{icon:t,intent:i="default",ariaLabel:a,tooltip:d,className:u,reference:h,showTooltipOnTouch:p=!0,renderComponent:m=v,showTooltip:_,hideTooltip:f,onFocus:w,onBlur:C,onClick:y,tabIndex:T}=e,S=l()?p:Boolean(d),E=s.useRef(null),k=(0,c.useMergedRefs)([h,E]),M=function(e){const{tabIndex:t=0,showTooltip:i,hideTooltip:o,onFocus:n,onBlur:r,onClick:a,ref:d}=e,c=l();return{onBlur:(0,s.useCallback)((e=>{o&&o(),r&&r(e)}),[o,r]),onFocus:(0,s.useCallback)((e=>{i&&i(e.currentTarget,{tooltipDelay:200}),n&&n(e)}),[i,n]),onClick:(0,s.useCallback)((e=>{var t;c&&(null===(t=d.current)||void 0===t||t.focus()),a&&a(e)}),[a]),tabIndex:t}}({showTooltip:_,hideTooltip:f,onFocus:w,onBlur:C,onClick:y,ref:E,tabIndex:T}),F=s.useMemo((()=>function(e,t){return t?b[t]:"success"===e?b.check:b.exclamation}(i,t)),[t,i]);return s.createElement(m,{className:o(u,g()["icon-wrapper"],g()[`intent-${i}`],S&&d&&g()["with-tooltip"],S&&d&&"apply-common-tooltip"),title:S?d:void 0,"aria-label":a,reference:k,...(0,n.filterDataProps)(e),...M},s.createElement(r.Icon,{"aria-hidden":!0,icon:F,className:g().icon}))}},414823:(e,t,i)=>{"use strict";i.d(t,{createDomId:()=>l,joinDomIds:()=>d});const s=/\s/g;function o(e){return"string"==typeof e}function n(e){switch(typeof e){case"string":return e;case"number":case"bigint":return e.toString(10);case"boolean":case"symbol":return e.toString();default:return null}}function r(e){return e.trim().length>0}function a(e){return e.replace(s,"-")}function l(...e){const t=e.map(n).filter(o).filter(r).map(a);return(t.length>0&&t[0].startsWith("id_")?t:["id",...t]).join("_")}function d(...e){return e.map(n).filter(o).filter(r).join(" ")}},269842:(e,t,i)=>{"use strict";function s(...e){return t=>{for(const i of e)void 0!==i&&i(t)}}i.d(t,{createSafeMulticastEventHandler:()=>s})},247465:(e,t,i)=>{"use strict";i.d(t,{isCancelled:()=>n,makeCancelable:()=>o});class s{}function o(e){let t=!1;return{promise:new Promise(((i,o)=>{e.then((e=>t?o(new s):i(e))),e.catch((e=>o(t?new s:e)))})),cancel(){t=!0}}}function n(e){return e instanceof s}},868333:(e,t,i)=>{"use strict";var s;i.d(t,{LogoSize:()=>s,getLogoUrlResolver:()=>r}),function(e){e[e.Medium=0]="Medium",e[e.Large=1]="Large"}(s||(s={}));class o{getSymbolLogoUrl(e){return e}getCountryFlagUrl(){return""}getCryptoLogoUrl(e){return e}getProviderLogoUrl(e){return e}}let n;function r(){return n||(n=new o),n}},449943:(e,t,i)=>{"use strict";i.d(t,{CircleLogoPair:()=>n});var s=i(50959),o=i(41192);i(882112);function n(e){const{primaryLogoUrl:t,secondaryLogoUrl:i,size:n,className:a}=e;return s.createElement("span",{className:(0,o.getBlockStyleClasses)(n,a),title:e.title},s.createElement(r,{logoUrl:i,size:n}),s.createElement(r,{logoUrl:t,size:n}))}function r(e){const{logoUrl:t,size:i}=e,n=(0,o.getLogoStyleClasses)(i);return void 0===t?s.createElement("span",{className:n}):s.createElement("img",{className:n,src:t,alt:""})}},41192:(e,t,i)=>{"use strict";i.d(t,{getBlockStyleClasses:()=>o,getLogoStyleClasses:()=>n});var s=i(497754);function o(e,t){
return s("tv-circle-logo-pair",`tv-circle-logo-pair--${e}`,t)}function n(e,t){return s("tv-circle-logo-pair__logo",`tv-circle-logo-pair__logo--${e}`,!t&&"tv-circle-logo-pair__logo-empty")}},636080:(e,t,i)=>{"use strict";i.d(t,{CircleLogo:()=>n});var s=i(50959),o=i(439067);i(645300);function n(e){var t,i;const n=(0,o.getStyleClasses)(e.size,e.className),r=null!==(i=null!==(t=e.alt)&&void 0!==t?t:e.title)&&void 0!==i?i:"";return(0,o.isCircleLogoWithUrlProps)(e)?s.createElement("img",{className:n,src:e.logoUrl,alt:r,title:e.title,loading:e.loading}):s.createElement("span",{className:n,title:e.title},e.placeholderLetter)}},439067:(e,t,i)=>{"use strict";i.d(t,{getStyleClasses:()=>o,isCircleLogoWithUrlProps:()=>n});var s=i(497754);function o(e,t){return s("tv-circle-logo",`tv-circle-logo--${e}`,t)}function n(e){return"logoUrl"in e&&void 0!==e.logoUrl&&0!==e.logoUrl.length}},904925:(e,t,i)=>{"use strict";i.d(t,{PopupMenuDisclosureView:()=>c});var s=i(50959),o=i(624216),n=i(650151);const r={x:0,y:0};function a(e,t,i){return(0,s.useCallback)((()=>function(e,t,{x:i=r.x,y:s=r.y}=r){const o=(0,n.ensureNotNull)(e).getBoundingClientRect(),a={x:o.left+i,y:o.top+o.height+s,indentFromWindow:{top:4,bottom:4,left:4,right:4}};return t&&(a.overrideWidth=o.width),a}(e.current,t,i)),[e,t])}var l=i(586240);const d=parseInt(l["size-header-height"]);function c(e){const{button:t,popupChildren:i,buttonRef:n,listboxId:r,listboxClassName:l,listboxTabIndex:c,matchButtonAndListboxWidths:u,isOpened:h,scrollWrapReference:p,listboxReference:m,onClose:_,onOpen:g,onListboxFocus:b,onListboxBlur:v,onListboxKeyDown:f,listboxAria:w,repositionOnScroll:C=!0,closeOnHeaderOverlap:y=!1,popupPositionCorrection:T={x:0,y:0},popupPosition:S}=e,E=a(n,u,T),k=y?d:0;return s.createElement(s.Fragment,null,t,s.createElement(o.PopupMenu,{...w,id:r,className:l,tabIndex:c,isOpened:h,position:S||E,repositionOnScroll:C,onClose:_,onOpen:g,doNotCloseOn:n.current,reference:m,scrollWrapReference:p,onFocus:b,onBlur:v,onKeyDown:f,closeOnScrollOutsideOffset:k},i))}},953517:(e,t,i)=>{"use strict";i.d(t,{useKeyboardActionHandler:()=>s.useKeyboardActionHandler,useKeyboardClose:()=>s.useKeyboardClose,useKeyboardEventHandler:()=>s.useKeyboardEventHandler,useKeyboardOpen:()=>s.useKeyboardOpen,useKeyboardToggle:()=>s.useKeyboardToggle});var s=i(865968)},703011:(e,t,i)=>{"use strict";i.d(t,{useForceUpdate:()=>o});var s=i(50959);const o=()=>{const[,e]=(0,s.useReducer)((e=>e+1),0);return e}},102478:(e,t,i)=>{"use strict";i.d(t,{useResizeObserver:()=>s.useResizeObserver});var s=i(664332)},683614:(e,t,i)=>{"use strict";i.d(t,{useVisibility:()=>o});var s=i(50959);function o(e,t,i){(0,s.useEffect)((()=>{const s=new IntersectionObserver((e=>{e[e.length-1].intersectionRatio<.25?i():t()}),{threshold:[0,.25,.5,.75,1],root:null,rootMargin:"0px"});return e.current&&s.observe(e.current),()=>s.disconnect()}),[])}},297265:(e,t,i)=>{"use strict";i.d(t,{useWatchedValueReadonly:()=>o});var s=i(50959);const o=(e,t=!1)=>{
const i="watchedValue"in e?e.watchedValue:void 0,o="defaultValue"in e?e.defaultValue:e.watchedValue.value(),[n,r]=(0,s.useState)(i?i.value():o);return(t?s.useLayoutEffect:s.useEffect)((()=>{if(i){r(i.value());const e=e=>r(e);return i.subscribe(e),()=>i.unsubscribe(e)}return()=>{}}),[i]),n}},493173:(e,t,i)=>{"use strict";function s(e,t,i={}){return Object.assign({},e,function(e,t,i={}){const s=Object.assign({},t);for(const o of Object.keys(t)){const n=i[o]||o;n in e&&(s[o]=[e[n],t[o]].join(" "))}return s}(e,t,i))}i.d(t,{mergeThemes:()=>s})},144242:e=>{e.exports={title:"title-u3QJgF_p"}},807372:e=>{e.exports={title:"title-q2xHBwCG",currency:"currency-q2xHBwCG",activeCurrency:"activeCurrency-q2xHBwCG",label:"label-q2xHBwCG",labelWrapper:"labelWrapper-q2xHBwCG",summary:"summary-q2xHBwCG",dropdown:"dropdown-q2xHBwCG",popup:"popup-q2xHBwCG",removeMargins:"removeMargins-q2xHBwCG",singleItemDropdown:"singleItemDropdown-q2xHBwCG",content:"content-q2xHBwCG"}},635944:e=>{e.exports={wrapper:"wrapper-sS0Eevbl",popup:"popup-sS0Eevbl",brokerDropdownMobileWrapper:"brokerDropdownMobileWrapper-sS0Eevbl",betaBadgeWrapper:"betaBadgeWrapper-sS0Eevbl"}},353249:e=>{e.exports={headerWrapper:"headerWrapper-gktKXRGi",withButtons:"withButtons-gktKXRGi",brokerBlock:"brokerBlock-gktKXRGi",betaBadge:"betaBadge-gktKXRGi"}},790170:e=>{e.exports={itemWrapper:"itemWrapper-jRGFBLDP",value:"value-jRGFBLDP",title:"title-jRGFBLDP"}},634762:e=>{e.exports={wrapper:"wrapper-p0GW1i2G"}},949922:e=>{e.exports={count:"count-jY_kTdIW",tabs:"tabs-jY_kTdIW"}},118087:e=>{e.exports={accountManager:"accountManager-RYOkdllU",topPanel:"topPanel-RYOkdllU",secondaryPanel:"secondaryPanel-RYOkdllU",content:"content-RYOkdllU",page:"page-RYOkdllU",active:"active-RYOkdllU"}},126775:e=>{e.exports={pageContainer:"pageContainer-NWiOUge8"}},11124:e=>{e.exports={tableContainer:"tableContainer-jequK3xK",fitContent:"fitContent-jequK3xK",withScroll:"withScroll-jequK3xK",noScroll:"noScroll-jequK3xK"}},964492:e=>{e.exports={title:"title-qCE0lhBm"}},722789:e=>{e.exports={container:"container-UePCJPvY",sticky:"sticky-UePCJPvY"}},860227:e=>{e.exports={menuButton:"menuButton-mNpEpVYL",icon:"icon-mNpEpVYL",label:"label-mNpEpVYL",checkBox:"checkBox-mNpEpVYL"}},982101:e=>{e.exports={wrapper:"wrapper-oHlQhto0",icon:"icon-oHlQhto0",message:"message-oHlQhto0",iconQuestionInformation:"iconQuestionInformation-oHlQhto0"}},975259:e=>{e.exports={wrapper:"wrapper-oJq5M1Sl",info:"info-oJq5M1Sl",title:"title-oJq5M1Sl",description:"description-oJq5M1Sl"}},410337:e=>{e.exports={text:"text-8tRPX9tj"}},477317:e=>{e.exports={gray:"gray-Qz5vw9Wh",blue:"blue-Qz5vw9Wh",red:"red-Qz5vw9Wh",green:"green-Qz5vw9Wh",orange:"orange-Qz5vw9Wh"}},586816:e=>{e.exports={"desktop-cell-padding":"6px 16px 2px",wrapper:"wrapper-HXba0ecm",rightAligned:"rightAligned-HXba0ecm"}},410504:e=>{e.exports={wrapper:"wrapper-ukE5gIkU",gap:"gap-ukE5gIkU"}},823092:e=>{e.exports={"mobile-row-padding":"4px","mobile-row-border-size":"1px","mobile-row-margin":"38px","content-font-size":"14px","desktop-cell-padding":"6px 16px 2px",
root:"root-Tu141ut0",table:"table-Tu141ut0",tableBody:"tableBody-Tu141ut0",tableHead:"tableHead-Tu141ut0",headCell:"headCell-Tu141ut0",headCellContent:"headCellContent-Tu141ut0",cell:"cell-Tu141ut0",capitalize:"capitalize-Tu141ut0",rightAlignedCell:"rightAlignedCell-Tu141ut0",cellContent:"cellContent-Tu141ut0",hideLabelOnMobile:"hideLabelOnMobile-Tu141ut0",hideCellOnMobile:"hideCellOnMobile-Tu141ut0",row:"row-Tu141ut0",withMargin:"withMargin-Tu141ut0",lastRow:"lastRow-Tu141ut0",withVirtualization:"withVirtualization-Tu141ut0",highlightedRow:"highlightedRow-Tu141ut0",inactiveRow:"inactiveRow-Tu141ut0",linkedRow:"linkedRow-Tu141ut0",successRow:"successRow-Tu141ut0",dangerRow:"dangerRow-Tu141ut0",tableWrapper:"tableWrapper-Tu141ut0",tableWrapperEmpty:"tableWrapperEmpty-Tu141ut0",fixedCell:"fixedCell-Tu141ut0"}},646506:e=>{e.exports={"mobile-row-padding":"4px","mobile-row-border-size":"1px","mobile-row-margin":"38px","content-font-size":"14px","cell-lateral-padding":"32px","desktop-cell-padding":"6px 16px 2px"}},777124:e=>{e.exports={tooltip:"tooltip-k5VmR0WY"}},262547:e=>{e.exports={wrapper:"wrapper-ryBkVVNs"}},312282:e=>{e.exports={mobile:"screen and (max-width: 567px)"}},163915:(e,t,i)=>{"use strict";i.d(t,{ToolWidgetMenuSummary:()=>r});var s=i(50959),o=i(497754),n=i(144242);function r(e){return s.createElement("div",{className:o(e.className,n.title)},e.children)}},605899:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AccountManagerHeaderDropdowns:()=>g});var s=i(50959),o=i(497754),n=i.n(o),r=i(601227),a=i(783806),l=i(509806),d=i(650151),c=i(518799),u=i(192063),h=i(163915),p=i(807372);function m(e){const{currentAccount:t,accountsList:o,currentAccountUpdate:a,removeMargins:m,mode:_}=e,[g,b]=(0,s.useState)(t);(0,s.useEffect)((()=>(a.subscribe(null,w),()=>{a.unsubscribe(null,w)})),[a,o]);const v=void 0!==g.currency?`${g.name} (${g.currency})`:g.name,f=0===_;return 1===o.length?s.createElement("div",{className:n()(p.content,f&&p.popup)},s.createElement("span",{className:n()(p.singleItemDropdown,m&&p.removeMargins,f&&p.popup)},v)):s.createElement(c.ToolWidgetMenu,{isDrawer:r.CheckMobile.any(),content:s.createElement("span",{className:n()(p.content,f&&p.popup)},v),className:n()(p.dropdown,m&&p.removeMargins,f&&p.popup)},s.createElement(h.ToolWidgetMenuSummary,{className:p.summary},l.t(null,void 0,i(728534))),o.map((e=>{const t=g.id===e.id;return s.createElement(u.PopupMenuItem,{labelClassName:p.labelWrapper,isActive:t,label:s.createElement("div",{className:p.label},s.createElement("div",{className:p.title},e.name),void 0!==e.currency&&s.createElement("div",{className:n()(p.currency,t&&p.activeCurrency)},"(",e.currency,")")),onClick:()=>e.callBack(),key:e.id})})));function w(e){b((0,d.ensureDefined)(o.find((t=>t.id===e))))}}var _=i(635944);function g(e){const{brokerDropdownProps:t,accountDropdownProps:i,commonDropdownProps:o}=e,l=(r.CheckMobile.any()&&(null==t||t.isBeta),0===i.mode);return s.createElement("div",{className:n()(_.wrapper,l&&_.popup)
},l?s.createElement("span",null,"Account Manager"):s.createElement(s.Fragment,null),s.createElement(m,{...i}),!l&&s.createElement(a.TerminalDropdown,{...o}))}},825012:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AccountManager:()=>Ss});var s=i(509806),o=i(50959),n=i(500962),r=i(159255),a=i(650151),l=i(688401),d=i(601227),c=i(156963),u=i(481330),h=i(462056);class p{constructor(e){this._delegates=e}subscribe(e,t,i){this._delegates.forEach((s=>s.subscribe(e,t,i)))}unsubscribe(e,t){this._delegates.forEach((i=>i.unsubscribe(e,t)))}unsubscribeAll(e){this._delegates.forEach((t=>t.unsubscribeAll(e)))}}var m=i(382280),_=i(98454),g=i(350299);function b(e){return 0!==e.qty||0!==e.longQty&&void 0!==e.longQty||0!==e.shortQty&&void 0!==e.shortQty}var v,f=i(75577);!function(e){e.Success="success",e.Danger="danger"}(v||(v={}));var w=i(247465);class C{constructor(e){this._active=!1,this._created=!1,this._started=!1,this._fullUpdateDelegate=null,this._partialUpdateDelegate=null,this._deleteUpdateDelegate=null,this._noMoreEntries=!1,this._isLoadingMore=!1,this._fullUpdateCancel=null,this._exportData=async()=>{const e=this._active;e||(this.start(),await this.setActive(!0));const t=await this._view.exportData();return e||await this.setActive(!1),t},this._viewVisibilityHandler=e=>{this._model.setActive(e)},this._sortingChangeHandler=e=>{this._updateModelSortingState(e)},this._sizeChangeHandler=()=>{this._updateModelSortingState({column:this._view.sortingColumn(),mode:this._view.sortingMode()})};const{idProperty:t,name:i,model:s,view:o,source:n,subscriptions:r,supportPagination:a}=e;this._idProperty=t,this._model=s,this._view=o,this._name=i,this._source=n,this._subscriptions=r,this._supportPagination=Boolean(a)}start(){this._started||(this._updateModelSortingState({column:this._view.sortingColumn(),mode:this._view.sortingMode()}),this._subscribeUpdates(),this._subscribeView(),this._started=!0)}stop(){this._started&&(this._unsubscribeUpdates(),this._unsubscribeView(),this.reset(),this._started=!1)}isStarted(){return this._started}async setActive(e){(0,a.assert)(!e||this._started,"Should be started first"),this._active!==e&&(this._active=e,this._active&&!this._created&&await this._fullUpdate(),this._model.setActive(e))}isActive(){return this._active}reset(){this._active?this._fullUpdate():(this._deleteRows(),this._created=!1)}destroy(){this._unsubscribeUpdates(),this._unsubscribeView()}getDataExporter(){return{name:this._name,exportData:this._exportData}}setHeight(e){this._view.setHeight(e)}highlightRowById(e){this._view.highlightRowById(e)}setRowInactiveById(e,t){this._view.setRowInactiveById(e,t)}setRowInactiveByFilter(e){this._view.setRowInactiveByFilter(e)}addFormatter(e){this._view.addFormatter(e)}addFormatters(e){for(const t of e)this.addFormatter(t)}isRowInViewport(e){return this._view.isRowInViewport(e)}setColumnAvailable(e,t){this._view.setColumnAvailable(e,t)}setRowLinkedByFilter(e){this._view.setRowLinkedByFilter(e)}setRowLinkedById(e,t){this._view.setRowLinkedById(e,t)}rowIdAtEvent(e){return this._view.rowIdAtEvent(e)}rowAtEvent(e){
const t=this._view.rowIdAtEvent(e);if(void 0!==t)return this.rowById(t)}rowById(e){return this._model.data().get(e)}_update(e){return!!this._created&&(this._model.addRow(e),!0)}_deleteRow(e){this._created&&this._model.deleteRow(e)}_deleteRows(){this._model.deleteRows(),this._created=!1}_fullUpdate(){if(this._deleteRows(),this._noMoreEntries=!1,!this._active)return Promise.resolve();this._fullUpdateCancel&&this._fullUpdateCancel();const e=(0,w.makeCancelable)(this._source());return this._fullUpdateCancel=e.cancel,e.promise.then((e=>{this._fullUpdateCancel=null,this._model.addRows(e),this._created=!0,this._onCreated()})).catch((e=>{if(!(0,w.isCancelled)(e))throw e}))}_onCreated(){}_loadMoreIfBottomVisible(e){if(this._isLoadingMore||!e||this._noMoreEntries)return;const t=this._model.rows().length-1;if(-1===t)return;const i=this._model.rows()[t][this._idProperty];this._isLoadingMore=!0,this._source(i).then((e=>{0!==e.length?(this._model.addRows(e),this._isLoadingMore=!1):this._noMoreEntries=!0})).catch((()=>{this._isLoadingMore=!1}))}_subscribeView(){this._view.onSizeChange.subscribe(this,this._sizeChangeHandler),this._view.onTableVisibilityChange.subscribe(this,this._viewVisibilityHandler),this._view.onSortingChange.subscribe(this,this._sortingChangeHandler),this._supportPagination&&this._view.onBottomVisibilityChange.subscribe(this,this._loadMoreIfBottomVisible)}_unsubscribeView(){this._view.onSizeChange.unsubscribe(this,this._sizeChangeHandler),this._view.onTableVisibilityChange.unsubscribe(this,this._viewVisibilityHandler),this._view.onSortingChange.unsubscribe(this,this._sortingChangeHandler),this._view.onBottomVisibilityChange.unsubscribe(this,this._loadMoreIfBottomVisible)}_updateModelSortingState(e){const t=0!==this._view.size()||this._supportPagination?e.mode:null;this._model.setSortingState({column:null===t?void 0:e.column,mode:t})}_subscribeUpdates(){if(this._fullUpdateDelegate)throw new Error("should unsubscribe first");this._fullUpdateDelegate=this._subscriptions.fullUpdateDelegate,this._fullUpdateDelegate.subscribe(this,this._fullUpdate),this._partialUpdateDelegate=this._subscriptions.rowUpdateDelegate,this._partialUpdateDelegate.subscribe(this,this._update),this._subscriptions.rowDeleteDelegate&&(this._deleteUpdateDelegate=this._subscriptions.rowDeleteDelegate,this._deleteUpdateDelegate.subscribe(this,this._deleteRow))}_unsubscribeUpdates(){this._fullUpdateDelegate&&(this._fullUpdateDelegate.unsubscribe(this,this._fullUpdate),delete this._fullUpdateDelegate),this._partialUpdateDelegate&&(this._partialUpdateDelegate.unsubscribe(this,this._update),delete this._partialUpdateDelegate),this._deleteUpdateDelegate&&(this._deleteUpdateDelegate.unsubscribe(this,this._deleteRow),delete this._deleteUpdateDelegate)}}var y=i(91679);class T extends class{constructor(e,t){this._filterTabs=[],this._active=!1,this._count=new y.WatchedValue,this._content=e,this._id=t.id,this._name=t.name}setActive(e){this._active!==e&&(this._active=e,this._onActiveChanged(e))}isActive(){return this._active}reset(){}destroy(){}content(){
return this._content}name(){return this._name}id(){return this._id||this._name}contextItems(e){return[]}topline(){return null}activeFilterTabId(){return this._activeFilterTabId}filterTabs(){return this._filterTabs}count(){return this._count.readonly()}activateFilterTab(e){this._activeFilterTabId=e}_setCount(e){this._count.setValue(e)}_onActiveChanged(e){}}{constructor(e,t,i){super(e,t),this._tableControllers=i}reset(){this._tableControllers.forEach((e=>e.reset())),super.reset()}destroy(){this._tableControllers.forEach((e=>e.destroy())),super.destroy()}setHeight(e){this._tableControllers.forEach((t=>t.setHeight(e)))}getExporters(){const e=this._tableControllers.map((e=>e.getDataExporter()));return{title:this.name(),exporters:e}}contextRow(e){}_onActiveChanged(e){this._tableControllers.forEach((t=>t.setActive(e)))}}var S=i(150335),E=i(793361),k=i(47680),M=i(981011),F=i(906355);var P=i(372605),x=i(637927),D=i(815628),I=i(710263),R=i(761248),O=i(637401),A=(i(868333),i(148442)),z=(i(449943),i(636080),i(930052));i(839391),i(382563);new Map;var B=i(975259);new Map;function U(e){const{brokerSymbol:t}=e;return o.createElement("div",{className:B.title},t)}function L(e){return o.createElement(z.MatchMedia,{rule:f.TradingLayoutBreakpoint.Mobile},(t=>t?o.createElement("span",null,e.brokerSymbol):o.createElement(U,{...e})))}var N=i(477317);function V(e){return 1===e?N.blue:N.red}function H(e){const{side:t}=e;return o.createElement("span",{className:V(t)},(0,O.sideToText)(t))}function j(e){const{side:t}=e;return o.createElement("span",{className:V(t)},(0,O.positionSideToText)(t))}var W=i(497754),K=i.n(W),q=i(410337);function Z(e){const{value:t,noWrap:i}=e;return o.createElement("span",{className:K()(q.text,i&&q.noWrap)},t)}const G=" ";function Y(e){const{priceFormatter:t,price:i,prevPrice:s}=e,o=(0,E.splitThousands)(t.format(i),G);if(void 0===s)return{same:o};const n=(0,E.splitThousands)(t.format(s),G),r=o.split("").findIndex(((e,t)=>e!==n[t]));if(-1===r)return{same:o};return{same:o.substring(0,r),differs:o.substring(r)}}function $(e){const{price:t,prevPrice:i,lastCharSup:s}=e,{same:n,differs:r}=Y(e);return void 0===r||void 0===i?function(e,t){return o.createElement("span",null,t?Q(e):(0,I.forceLTRStr)(e))}(n,s):o.createElement("span",null,n,o.createElement("span",{className:t>i?N.green:N.red},s?Q(r):r))}function Q(e){const t=/^([^]*)(\S)(\s*)$/.exec(e);return"0"===e||null===t?o.createElement(o.Fragment,null,(0,I.forceLTRStr)(e)):o.createElement(o.Fragment,null,t[1],o.createElement("sup",null,t[2]),void 0!==t[3]&&""!==t[3]&&o.createElement("sup",null,t[3]))}const J={3:N.gray,6:N.blue,5:N.red,2:N.green,1:N.orange,4:void 0};function X(e){const{status:t}=e;return o.createElement("span",{className:J[t],style:{textTransform:"capitalize"}},(0,u.orderStatusToText)(t))}function ee(e){const{profit:t,currency:i}=e;if(!(0,P.isNumber)(t))return"";const s=(0,S.fixComputationError)(t),o=s>0?"+":"",n=void 0!==i?` ${i}`:"";return(0,I.forceLTRStr)(o+(0,E.splitThousands)((s||0).toFixed(2),G)+n)}function te(e){const t=ee(e)
;return""===t?o.createElement("span",null):o.createElement("span",{className:K()(e.profit<0&&N.red,e.profit>0&&N.green)},t)}const ie=new k.DateTimeFormatter,se=new class{constructor(){this._dateFormatter=new F.DateFormatter,this._timeFormatter=new M.TimeFormatter}format(e){const t=new Date(e.dateOrDateTime);let i=this._dateFormatter.format(t);return e.hasTime&&(i+=" "+this._timeFormatter.format(t)),i}formatLocal(e){const t=new Date(e.dateOrDateTime);let i=this._dateFormatter.formatLocal(t);return e.hasTime&&(i+=" "+this._timeFormatter.formatLocal(t)),i}},oe=new x.PercentageFormatter;function ne({values:e}){return e.join(G)}function re(e){const{values:[t],prevValues:[i]=[void 0],priceFormatter:s}=e;return(0,u.isDefined)(t)?function(e){const{same:t,differs:i}=Y(e);return(0,I.forceLTRStr)(`${t}${i||""}`)}({price:t,prevPrice:null!=i?i:void 0,priceFormatter:s}):""}const ae=[{name:"symbol",formatElement:({values:[e,t]})=>o.createElement(L,{brokerSymbol:e,symbol:t}),formatText:({values:[e]})=>e},{name:"side",formatElement:({values:[e]})=>o.createElement(H,{side:e}),formatText:({values:[e]})=>(0,O.sideToText)(e)},{name:"positionSide",formatElement:({values:[e]})=>o.createElement(j,{side:e}),formatText:({values:[e]})=>(0,O.positionSideToText)(e)},{name:"text",formatElement:e=>o.createElement(Z,{value:ne(e)}),formatText:ne},{name:"type",formatText:({values:[e,t,i]})=>(0,O.orderTypeToText)({orderType:e,parentId:t,stopType:i})},{name:"formatPrice",formatElement:({values:[e],priceFormatter:t,prevValues:[i]=[void 0]})=>(0,u.isDefined)(e)&&(0,u.isDefined)(t)?o.createElement($,{priceFormatter:t,price:e,prevPrice:null!=i?i:void 0}):void 0,formatText:re,isPriceFormatterNeeded:!0},{name:"formatPriceForexSup",formatElement:({values:[e],priceFormatter:t,prevValues:[i]=[void 0]})=>(0,u.isDefined)(e)?o.createElement($,{priceFormatter:t,price:e,prevPrice:null!=i?i:void 0,lastCharSup:t instanceof D.PriceFormatter&&t.hasForexAdditionalPrecision()}):void 0,formatText:re,isPriceFormatterNeeded:!0},{name:"status",formatElement:({values:[e]})=>(0,u.isDefined)(e)?o.createElement(X,{status:e}):void 0,formatText:({values:[e]})=>(0,u.isDefined)(e)?(0,R.capitalizeFirstLetter)((0,O.orderStatusToText)(e)):""},{name:"date",formatText:({values:[e]})=>(0,u.isDefined)(e)&&de(e)?ie.format(new Date(e)):""},{name:"localDate",formatText:({values:[e]})=>(0,u.isDefined)(e)&&de(e)?ie.formatLocal(new Date(e)):""},{name:"dateOrDateTime",formatText:({values:[e]})=>(0,u.isDefined)(e)&&de(e.dateOrDateTime)?se.format(e):""},{name:"localDateOrDateTime",formatText:({values:[e]})=>(0,u.isDefined)(e)&&de(e.dateOrDateTime)?se.formatLocal(e):""},{name:"fixed",formatText:({values:[e]})=>!(0,u.isDefined)(e)||isNaN(e)?"":(0,I.forceLTRStr)(Math.abs(e||0)<.001?"0.00":(0,E.splitThousands)((e||0).toFixed(2),G))},{name:"variablePrecision",formatText:({values:[e]})=>!(0,u.isDefined)(e)||isNaN(e)?"":(0,I.forceLTRStr)(String((0,S.fixComputationError)(e)))},{name:"pips",formatText:({values:[e]})=>(0,P.isNumber)(e)?(0,I.forceLTRStr)(Math.abs(e)<.01?"0.0":(0,
E.splitThousands)(e.toFixed(1),G)):""},{name:"integerSeparated",formatText:({values:[e]})=>(0,P.isNumber)(e)?(0,I.forceLTRStr)((0,E.splitThousands)(e.toFixed(0),G)):""},{name:"formatQuantity",formatText:({values:[e]})=>(0,P.isNumber)(e)?(0,I.forceLTRStr)((0,E.splitThousands)(e,G)):""},{name:"profit",formatElement:({values:[e]})=>(0,u.isDefined)(e)?o.createElement(te,{profit:e}):void 0,formatText:({values:[e]})=>(0,u.isDefined)(e)?ee({profit:e}):""},{name:"profitInInstrumentCurrency",formatElement:({values:[e,t]})=>(0,u.isDefined)(e)?o.createElement(te,{profit:e,currency:t}):void 0,formatText:({values:[e,t]})=>(0,u.isDefined)(e)?ee({profit:e,currency:t}):""},{name:"percentage",formatText:({values:[e]})=>(0,P.isNumber)(e)?(0,I.forceLTRStr)(oe.format(e)):""},{name:"marginPercent",formatText:({values:[e]})=>(0,u.isDefined)(e)?isFinite(e)?e<.01?e+"%":oe.format(e):"> 200%":""},{name:"empty",formatText:()=>""}],le={name:"default",formatText:ne};function de(e){return"number"==typeof e?e>0:""!==e}var ce=i(11124);function ue(e={}){const{withScroll:t=!1,fitContent:i=!1}=e,s=document.createElement("div");return s.classList.add(ce.tableContainer),s.classList.toggle(ce.withScroll,t),s.classList.toggle(ce.noScroll,!t),s.classList.toggle(ce.fitContent,i),s}var he=i(343370),pe=i(466052),me=i.n(pe);function _e(e){return void 0!==e.sortProp&&""!==e.sortProp?e.sortProp:e.dataFields.length>0?e.dataFields[0]:void 0}function ge(e,t){return void 0===e&&void 0!==t?1:void 0!==e&&void 0===t?-1:void 0===e||void 0===t?0:e<t?1:e>t?-1:0}class be{constructor(e){this.onRowsChanged=new(me()),this.onRowChanged=new(me()),this._rowsData=new Map,this._priceFormatters=new Map,this._rows=[],this._isActive=!1,this._sortingPostponed=!1,this._sortingMode=null;const{columns:t,options:i,priceFormatterGetter:s,reverse:o=!0}=e,{idProperty:n,defaultSortingParameters:r,group:a}=i;this._idProperty=n,this._reverse=o,this._defaultSortingInfo=void 0!==r?{sortingProperty:r.property,sortingMode:!1===r.asc?1:0}:void 0,this._group=a,this._priceFormatterGetter=s,this._sortAndGroupRowsThrottled=(0,he.default)((()=>{this._sortAndGroupRows(),this._update()}),1e3),this._columns=new Map(t.map((e=>[e.id,e])))}setActive(e){this._isActive=e,this._onTableStateChanged(e)}addRow(e){const t=e[this._idProperty];this._rowsData.has(t)?this._updateRow(t,e):(this._addRowData(e),this._sortAndGroupRowsThrottled.cancel(),this._sortAndGroupRows(),this._update())}addRows(e){for(const t of e){const e=t[this._idProperty];this._rowsData.has(e)?this._updateRowData(e,t):this._addRowData(t)}this._sortAndGroupRows(),this._update()}rows(){return this._rows}data(){return this._rowsData}deleteRow(e){const t=this._rowsData.get(e);void 0!==t&&(this._rowsData.delete(e),this._rows.splice(this._rows.indexOf(t),1),this._update())}deleteRows(){this._deleteRows(),this._update()}destroy(){this._sortAndGroupRowsThrottled.cancel(),this._deleteRows()}setSortingState(e){this._sortingColumn=e.column,this._sortingMode=e.mode,this._onSortingChange()}async resolvePriceFormatter(e){
if(void 0!==this._priceFormatterGetter)try{const t=this._rowsData.get(e);if(void 0===t||void 0!==t.priceFormatter)return;t.priceFormatter=null;const i=this._priceFormatters.get(e);if(void 0!==i)return t.priceFormatter=i,void this._update();const s=await this._priceFormatterGetter(t);this._priceFormatters.set(e,s),t.priceFormatter=s,this._update()}catch(e){}}_deleteRows(){this._rowsData.clear(),this._rows=[]}_sortAndGroupRows(){this._isActive?this._rows.sort(((e,t)=>function(e){var t;const{aRow:i,bRow:s,sortingMode:o,sortingProperty:n,groupDefiner:r}=e;let a=0;if(void 0!==r&&(a=ge(r(i),r(s))),0===a&&(a=i.isTotalRow?1:s.isTotalRow?-1:0),null===o||0!==a||void 0===n)return a;let l=i[n],d=s[n];return void 0!==(null==l?void 0:l.dateOrDateTime)&&(l=l.dateOrDateTime,d=null!==(t=null==d?void 0:d.dateOrDateTime)&&void 0!==t?t:1/0),a=ge(l,d),0===o?-a:a}({aRow:e,bRow:t,groupDefiner:this._group,...this._getSortingInfo()}))):this._sortingPostponed=!0}_getSortingInfo(){var e,t,i;const s=void 0!==this._sortingColumn?this._columns.get(this._sortingColumn):void 0,o=void 0!==s?_e(s):void 0;return void 0!==o?{sortingProperty:o,sortingMode:this._sortingMode}:{sortingProperty:null===(e=this._defaultSortingInfo)||void 0===e?void 0:e.sortingProperty,sortingMode:null!==(i=null===(t=this._defaultSortingInfo)||void 0===t?void 0:t.sortingMode)&&void 0!==i?i:null}}_onSortingChange(){this._sortAndGroupRowsThrottled.cancel(),null===this._sortingMode&&this._resetRowsOrder(),this._sortAndGroupRows(),this._update()}_resetRowsOrder(){this._rows=[...this._rowsData.values()],this._reverse&&this._rows.reverse()}_onTableStateChanged(e){if(!e)return this._sortAndGroupRowsThrottled.cancel(),void(this._sortingPostponed=!0);this._update()}_update(){this._isActive&&(this._sortingPostponed&&(this._sortingPostponed=!1,this._sortAndGroupRows()),this.onRowsChanged.fire())}_updateRowData(e,t){var i,s;const o=(0,a.ensureDefined)(this._rowsData.get(e)),{prevValue:n,priceFormatter:r,...l}=o;for(const e of Object.keys(o))delete o[e];Object.assign(o,t,{priceFormatter:r,prevValue:l}),this.onRowChanged.fire(e);const d=(null===(i=this._group)||void 0===i?void 0:i.call(this,o))!==(null===(s=this._group)||void 0===s?void 0:s.call(this,l)),{sortingProperty:c}=this._getSortingInfo();(void 0!==c&&t[c]!==l[c]||d)&&this._sortAndGroupRowsThrottled()}_updateRow(e,t){this._updateRowData(e,t),this._update()}_addRowData({...e}){this._rowsData.set(e[this._idProperty],e),this._reverse?this._rows.unshift(e):this._rows.push(e)}}var ve=i(23642),fe=i(10170),we=i(870122),Ce=i(12481),ye=i(6461),Te=i(692831),Se=i(788872),Ee=(i(936902),i(189904)),ke=i(588517),Me=i.n(ke),Fe=i(297265),Pe=i(747633),xe=i(518799),De=i(476853),Ie=i(379266),Re=i(753327),Oe=i(860227),Ae=i(407499);const ze=new(Me())(null).readonly();function Be(e){const{items:t,onCheck:n,overlapManagerWV:r}=e,a=(0,Fe.useWatchedValueReadonly)({watchedValue:null!=r?r:ze}),l=(0,o.useMemo)((()=>t.filter((e=>e.visible))),[t]);return o.createElement(Re.SlotContext.Provider,{value:a},o.createElement(xe.ToolWidgetMenu,{
horizontalDropDirection:De.HorizontalDropDirection.FromRightToLeft,horizontalAttachEdge:De.HorizontalAttachEdge.Right,className:Oe.menuButton,arrow:!1,isDrawer:d.CheckMobile.any(),content:o.createElement(Pe.ToolWidgetButton,{className:Oe.icon,title:s.t(null,void 0,i(398065)),icon:Ae})},t.map((e=>o.createElement(Ie.PopupMenuItemToggle,{key:e.id,label:e.title,isChecked:e.visible,labelClassName:Oe.label,className:Oe.checkBox,onClick:()=>{return t=e.id,void n(t);var t},isDisabled:1===l.length&&l[0].id===e.id})))))}var Ue=i(722789);function Le(e){const{isSticky:t,...i}=e;return o.createElement("div",{className:K()(Ue.container,t&&Ue.sticky)},o.createElement(Be,{...i}))}var Ne=i(298314),Ve=i(42357),He=i(240933),je=i(147791),We=i.n(je);function Ke(e){let t=0;return e.querySelectorAll("*").forEach((e=>{t=Math.max(e.scrollWidth,t)})),t}var qe=i(586816);const Ze="HeadCell";function Ge(e){const{column:t,alignment:i,dispatch:s,onColumnsReordered:n,onWidthChange:r,columnsReorderingEnabled:a}=e,l=(0,o.useRef)(null),[{isDragging:d},c,u]=(0,Ve.useDrag)((()=>({type:Ze,item:{id:t.key},canDrag:()=>a,collect:e=>({isDragging:e.isDragging()})}))),[,h]=(0,He.useDrop)((()=>({accept:Ze,hover:(e,i)=>{var o;if(e.id===t.key)return;const n=null===(o=l.current)||void 0===o?void 0:o.getBoundingClientRect(),r=i.getClientOffset(),a=i.getDifferenceFromInitialOffset();void 0!==n&&null!==r&&null!==a&&function(e,t,i,s){const o=t-i,n=.4*(s-i);return e>0?o>n:o<n}(a.x,r.x,n.left,n.right)&&s({type:Se.ActionType.ReorderColumns,columnKey:e.id,targetColumnKey:t.key})},drop:()=>{n()}}))),p=(0,o.useRef)(!1);return(0,o.useEffect)((()=>{""!==t.title&&c(h(l)),u((0,Ne.getEmptyImage)(),{captureDraggingState:!0})}),[t]),(0,o.useEffect)((()=>{if(null===l.current||p.current)return;const e=Ke(l.current);0!==e&&(r(e),p.current=!0)})),o.createElement("div",{ref:l,className:K()(qe.wrapper,"right"===i&&qe.rightAligned),style:{opacity:d?.4:1}},o.createElement(We(),{...e}))}var Ye=i(403309),$e=i.n(Ye);function Qe(e){const{visibilityHandler:t,...i}=e;return(0,o.useLayoutEffect)((()=>(t(i.rowKeyValue,!0),()=>t(i.rowKeyValue,!1))),[]),o.createElement($e(),{...i})}var Je=i(646506);const Xe={mobileRowPadding:et(Je["mobile-row-padding"]),mobileRowBorderSize:et(Je["mobile-row-border-size"]),mobileRowMargin:et(Je["mobile-row-margin"]),contentFontSize:Je["content-font-size"],maxCellWidth:200,minCellWidth:80,cellLateralPadding:et(Je["cell-lateral-padding"])+2};function et(e){return Number(e.replace("px",""))}var tt=i(102478),it=i(262547);function st(e){const{children:t,onWidthChange:i}=e,[s,n]=(0,o.useState)(),[r,a]=(0,o.useState)(!1),l=(0,tt.useResizeObserver)((e=>{const[{target:t}]=e;if(!(t instanceof HTMLElement))return;n(t.innerText);const s=Math.max(t.scrollWidth,Ke(t));0!==s&&i(s),a(s>t.offsetWidth)}));return o.createElement("div",{ref:l,className:K()(it.wrapper,r&&"apply-common-tooltip"),"data-tooltip":s},t)}function ot(e,t){if(0===e.length)return[[t],[t.prevValue]];const[i,s]=e.reduce(((e,i)=>{var s;return e[0].push(t[i]),
e[1].push(null===(s=t.prevValue)||void 0===s?void 0:s[i]),e}),[[],[]]);return[i,s]}function nt(e,t){if(!1===e.showOnMobile)return!0;const[i]=ot(e.dataFields,t),s=!1===e.showZeroValues;return i.every((e=>s&&0===e||""===e||null==e))}const rt={mobile:22,desktop:22},at={symbol:{mobile:rt.mobile,desktop:rt.desktop}};function lt(e){var t;return void 0===e?{...rt}:null!==(t=at[e])&&void 0!==t?t:{...rt}}var dt=i(441380),ct=i(252130),ut=i(972535),ht=i(683614),pt=i(703011),mt=i(744471),_t=i(777124);function gt(e){const t=(0,o.useRef)(null),i=(0,o.useRef)(void 0),s=(0,pt.useForceUpdate)(),n=(0,ct.useIsMounted)(),r=(0,o.useCallback)((()=>{if(!n.current)return;if(null===t.current||t.current.offsetWidth>=t.current.scrollWidth)return i.current=void 0,void s();const e=t.current.textContent;null!==e&&e!==i.current&&(i.current=e,s())}),e);return(0,o.useEffect)((()=>r()),[r]),(0,ht.useVisibility)(t,(()=>r()),(()=>{})),[t,void 0!==i.current?o.createElement("div",{className:_t.tooltip},o.createElement(dt.IconQuestionInformation,{icon:"info",ariaLabel:i.current,tooltip:i.current,onClick:bt,hideTooltip:mt.hide})):null]}function bt(e){e.stopPropagation(),ut.mobiletouch&&((0,mt.tooltipClickHandler)(e),document.addEventListener("touchend",(e=>e.preventDefault()),{once:!0}))}var vt=i(410504);function ft(e){const{children:t}=e,[i,s]=gt([t]);return o.createElement(o.Fragment,null,o.createElement("div",{className:K()(vt.wrapper,null===s&&vt.gap),ref:i},t),s)}var wt=i(823092);const Ct={0:Se.SortDirection.Ascend,1:Se.SortDirection.Descend},yt={[v.Danger]:wt.dangerRow,[v.Success]:wt.successRow};class Tt{constructor(e=0){this._mode=e}value(){return this._mode}next(){switch(this._mode){case 0:this._mode=1;break;case 1:this._mode=null;break;case null:this._mode=0}return this._mode}reset(){this._mode=0}}function St({values:e}){return e.map((e=>null!=e?String(e):"")).join(G).replace(/&nbsp;/g,G)}const Et=new D.PriceFormatter;function kt(e){return`Column ${e} metainfo`}function Mt(e,t){return!1===e.showZeroValues&&t.every((e=>0===e))}ye.default.fieldDelimiter="";class Ft{constructor(e){var t;this.onTableVisibilityChange=new(me()),this.onBottomVisibilityChange=new(me()),this.onSizeChange=new(me()),this.onSortingChange=new(me()),this._animationFrameId=0,this._isVisible=!1,this._tableWrapperKey=(0,Ee.randomHashN)(5),this._rowHeightCache=new Map,this._rowsElements=new Map,this._rowsDisplayOptions=new Map,this._columnsWidth=new Map,this._columnWidthChangeHandlers=new Map,this._highlightTimeoutIds=new Map,this._formatters=new Map,this._visibleColumns=new Set,this._cellContentCaches=new WeakMap,this._hiddenFilterColumns=new Set,this._visibleRows=new Set,this._invalidateRowCache=e=>{this._rowHeightCache.delete(e)},this._makeHeadCellAttributes=({column:{key:e}})=>{const t="settings"===e,i={className:K()(wt.headCell,t&&!this._isMobile&&wt.fixedCell)};return this._isMobile||(i.width=this._fixedColumns?"50%":this._columnsWidth.get(e),t&&(i.width=68)),i},this._setColumnWidth=(e,t)=>{const i=t+Xe.cellLateralPadding,s=this._columnsWidth.get(e)
;void 0!==s&&i<=s||(this._columnsWidth.set(e,i),this._render())},this._updateTableProps=e=>{if(e.type===Se.ActionType.UpdateSortDirection){const t=this._columnsMetainfo.get(e.columnKey);if(void 0===t||t.notSortable||void 0===_e(t))return;this._handleSortingUpdate(e.columnKey)}this._tableProps=(0,Te.kaReducer)(this._tableProps,e),this._render()},this._handleEmptyRows=()=>{0===this._model.rows().length&&this._resetTableVirtualScrollPosition()},this._calculateRowHeight=e=>{var t,i;const s=null===(i=null===(t=this._virtualization)||void 0===t?void 0:t.rowHeightParams)||void 0===i?void 0:i[this._isMobile?"mobile":"desktop"];if(void 0===s)return this._isMobile?22:48;if("number"==typeof s)return s;const o=e[this._idProperty],n=this._isMobile&&this._isFirstRow(o)?Xe.mobileRowMargin:0,r=this._rowHeightCache.get(o);if(void 0!==r)return r+n;const a=s(e,this._visibleColumns,this._columnsMetainfo);return this._rowHeightCache.set(o,a),a+n},this._makeHeadCellContent=e=>{const{column:t}=e;if("settings"===t.key){const e=this._getAvailableColumnsFilterItems();if(0!==e.length)return o.createElement(Le,{...this._columnsFilterProps,items:e})}const i=this._columnsMetainfo.get(t.key);return void 0!==(null==i?void 0:i.help)?o.createElement("span",{className:"apply-common-tooltip",title:i.help},t.title):t.title},this._makeTextContent=async e=>{var t,i,s;const{row:o,columnId:n}=e,r=this._columnsMetainfo.get(n);if(void 0===r)return"";const[a,l]=ot(r.dataFields,o);if(Mt(r,a))return"";const d=void 0!==r.formatter&&null!==(i=null===(t=this._formatters.get(r.formatter))||void 0===t?void 0:t.formatText)&&void 0!==i?i:St;return await this._model.resolvePriceFormatter(o[this._idProperty]),d({values:a,prevValues:r.highlightDiff?l:void 0,priceFormatter:null!==(s=o.priceFormatter)&&void 0!==s?s:Et})},this._makeCellContent=e=>{var t,i,s;const{row:n,columnId:r}=e,a=this._columnsMetainfo.get(r);if(void 0===a)return;const[l,d]=ot(a.dataFields,n);if(Mt(a,l))return o.createElement(o.Fragment,null);let c=St,u=!1;if(void 0!==a.formatter){const e=this._formatters.get(a.formatter);c=null!==(i=null!==(t=null==e?void 0:e.formatElement)&&void 0!==t?t:null==e?void 0:e.formatText)&&void 0!==i?i:c,u=Boolean(null==e?void 0:e.isPriceFormatterNeeded)}const h=this._getCellContentCaches(n),p=h.get(a.id),m=null!==(s=n.priceFormatter)&&void 0!==s?s:Et;if(0!==a.dataFields.length&&void 0!==p&&p.priceFormatter===m&&this._isMobile===p.isMobile&&(0,P.deepEquals)(l,p.values)[0])return p.content;u&&this._model.resolvePriceFormatter(n[this._idProperty]);const _=c({values:l,prevValues:a.highlightDiff?d:void 0,priceFormatter:m});let g;return g=this._isMobile?void 0!==_?o.createElement(ft,null,_):o.createElement(o.Fragment,null):this._fixedColumns?o.createElement(o.Fragment,null,_):o.createElement(st,{onWidthChange:this._getColumnWidthChangeHandler(a.id)},_),h.set(a.id,{values:l,content:g,priceFormatter:m,isMobile:this._isMobile}),g},this._makeRowContent=e=>o.createElement(Qe,{...e,visibilityHandler:this._handleRowVisibilityChange}),this._handleRowVisibilityChange=(e,t)=>{
t?this._visibleRows.add(e):this._visibleRows.delete(e)},this._makeRowAttributes=({rowKeyValue:e,rowData:t})=>{var i;const s=this._rowsDisplayOptions.get(e),o=null===(i=this._rowBadgeTypeInferrer)||void 0===i?void 0:i.call(this,t);return{className:K()(wt.row,(null==s?void 0:s.isInactive)&&wt.inactiveRow,(null==s?void 0:s.isLinked)&&wt.linkedRow,void 0!==o&&yt[o],this._isFirstRow(e)&&wt.withMargin,this._isLastRow(e)&&wt.lastRow),"data-row-id":e,ref:t=>this._setRowElement(e,t),onClick:(e,t)=>{var i,s;null===(s=null===(i=this._rowEventsHandlers)||void 0===i?void 0:i.onClick)||void 0===s||s.call(i,t.childProps.rowData,this._isMobile)},onMouseEnter:(e,t)=>{var i,s;null===(s=null===(i=this._rowEventsHandlers)||void 0===i?void 0:i.onMouseEnter)||void 0===s||s.call(i,t.childProps.rowData,this._isMobile)},onMouseLeave:(e,t)=>{var i,s;null===(s=null===(i=this._rowEventsHandlers)||void 0===i?void 0:i.onMouseLeave)||void 0===s||s.call(i,t.childProps.rowData,this._isMobile)}}},this._setRowElement=(e,t)=>{this._rowsElements.set(e,t)},this._makeCellAttributes=({column:e,rowData:t})=>{const{title:i,key:s}=e,o=(0,a.ensureDefined)(this._columnsMetainfo.get(s),kt(s)),n=nt(o,t);return{className:K()(wt.cell,("right"===(null==o?void 0:o.alignment)||"settings"===s)&&wt.rightAlignedCell,!1===(null==o?void 0:o.showLabelOnMobile)&&!1,n&&wt.hideCellOnMobile,"settings"===s&&!this._isMobile&&wt.fixedCell),"data-label":i}},this._makeCellContentAttributes=({column:e,rowData:t})=>{var i;const{key:s}=e,o=(0,a.ensureDefined)(this._columnsMetainfo.get(s),kt(s)),n=void 0!==(null==o?void 0:o.tooltipProperty)?null===(i=t[o.tooltipProperty])||void 0===i?void 0:i[o.id]:void 0,r=lt(o.formatter);return{style:{height:this._isMobile?r.mobile:r.desktop},className:K()(wt.cellContent,void 0!==n&&"apply-common-tooltip common-tooltip-html",!1!==(null==o?void 0:o.isCapitalize)&&wt.capitalize),title:n}},this._makeTableWrapperAttributes=()=>{var e;return{className:K()(wt.tableWrapper,(null===(e=this._virtualization)||void 0===e?void 0:e.enabled)&&wt.tableWrapperEmpty),onScroll:this._onTableScroll,key:this._tableWrapperKey}},this._onTableScroll=(e,{baseFunc:t})=>{this._update.cancel(),t(e),this._checkBottomIsVisible(e.currentTarget)},this._resizeHandler=()=>{cancelAnimationFrame(this._animationFrameId),this._animationFrameId=requestAnimationFrame((()=>{const e=this._checkIsMobile();e!==this._isMobile&&(this._isMobile=e,this._visibleColumns.clear(),this._columnsVisibilityInfo=this._makeColumnsVisibilityInfo(),this._columnsFilterProps=this._makeColumnsFilterProps(),this._tableProps.columns=this._makeColumns(),this._rowHeightCache.clear(),this.onSizeChange.fire())}))},this._saveColumnsOrder=()=>{var e;this._trackEvent(this._id,"Reorder columns");const t=this._tableProps.columns.map((e=>e.key));null===(e=this._getSettingsStorage())||void 0===e||e.setTableColumnsOrder(this._id,t)}
;const{id:i,model:s,className:n,container:r,columns:l,virtualization:d,stickyMobileColumnsFilter:c,idProperty:u,overlapManager:h,rowBadgeTypeInferrer:p,fixedColumns:m,getSettingsStorage:_,rowEventsHandlers:g,trackEvent:b}=e;this._id=i,this._model=s,this._fixedColumns=m,this._sortingColumnKey=`${this._id}.sort.column`,this._sortingModeKey=`${this._id}.sort.mode`,this._container=r,this._idProperty=u,this._virtualization=d,this._overlapManager=h,this._isStickyMobileColumnsFilter=c,this._columnsMetainfo=new Map(l.map((e=>[e.id,e]))),this._rowBadgeTypeInferrer=p,this._getSettingsStorage=_,this._trackEvent=b,this._rowEventsHandlers=g,this._checkBottomIsVisible=(0,Ce.default)(this._checkBottomIsVisible,100),this._update=(0,he.default)(this._render,1e3);const v=this._getSavedSortingParameters();let f;this._sortingColumn=null==v?void 0:v.columnId,this._sortingModeSwitcher=new Tt(void 0===v?null:v.mode),(null==d?void 0:d.enabled)&&(f={itemHeight:this._calculateRowHeight}),this._isMobile=this._checkIsMobile(),window.addEventListener("resize",this._resizeHandler);const w="IntersectionObserver"in window;w||(this._isVisible=!0),this._containerVisibilityObserver=w?new IntersectionObserver((e=>{e.forEach((({intersectionRatio:e})=>{this._isVisible=0!==e,this._isVisible?this._render():this._resetTableVirtualScrollPosition(),this.onTableVisibilityChange.fire(this._isVisible)}))})):null,null===(t=this._containerVisibilityObserver)||void 0===t||t.observe(this._container),this._columnsVisibilityInfo=this._makeColumnsVisibilityInfo(),this._columnsFilterProps=this._makeColumnsFilterProps(),this._tableProps={columns:this._makeColumns(),dispatch:this._updateTableProps,rowKeyField:this._idProperty,virtualScrolling:f,sortingMode:Se.SortingMode.SingleTripleStateRemote,childComponents:{rootDiv:{elementAttributes:()=>({className:wt.root})},table:{elementAttributes:()=>({className:K()(wt.table,n,void 0!==f&&wt.withVirtualization),"data-selector":"table",style:{borderCollapse:"separate"}})},tableBody:{elementAttributes:()=>({className:wt.tableBody})},tableHead:{elementAttributes:()=>({className:wt.tableHead})},headRow:{elementAttributes:()=>({className:wt.headRow})},headCell:{elementAttributes:this._makeHeadCellAttributes,content:e=>{var t,i;return o.createElement(Ge,{...e,alignment:null!==(i=null===(t=this._columnsMetainfo.get(e.column.key))||void 0===t?void 0:t.alignment)&&void 0!==i?i:"left",dispatch:(0,Ce.default)(this._updateTableProps,15),onColumnsReordered:this._saveColumnsOrder,onWidthChange:this._getColumnWidthChangeHandler(e.column.key),columnsReorderingEnabled:!this._isMobile})}},cell:{elementAttributes:this._makeCellAttributes},tableWrapper:{elementAttributes:this._makeTableWrapperAttributes},dataRow:{content:this._makeRowContent,elementAttributes:this._makeRowAttributes},cellText:{content:({column:e,rowData:t})=>this._makeCellContent({columnId:e.key,row:t}),elementAttributes:this._makeCellContentAttributes},headCellContent:{elementAttributes:()=>({className:wt.headCellContent}),content:this._makeHeadCellContent}}},this._render(),
this._subscribeModel()}rowIdAtEvent(e){return function(e){if(void 0!==e.dataset.rowId)return e.dataset.rowId;let t=e.parentElement;for(;null!==t;){if(void 0!==t.dataset.rowId)return t.dataset.rowId;t=t.parentElement}}(e.target)}isRowInViewport(e){return this._visibleRows.has(e)}sortingColumn(){return this._sortingColumn}sortingMode(){return this._sortingModeSwitcher.value()}size(){return this._isMobile?0:1}highlightRowById(e){const t=this._rowElementById(e);void 0!==t&&(clearTimeout(this._highlightTimeoutIds.get(e)),t.classList.remove(wt.highlightedRow),t.classList.add(wt.highlightedRow),this._highlightTimeoutIds.set(e,setTimeout((()=>{t.classList.remove(wt.highlightedRow)}),700)))}addFormatter(e){this._formatters.set(e.name,e)}setColumnAvailable(e,t){if(this._setColumnAvailableInFilter(e,t),t){const t=this._isMobile?".invisibleMobileColumns":".invisibleColumns";if(we.getJSON(`${this._id}${t}`,[]).includes(e))return}this._setColumnVisibility(e,t)}setHeight(e){void 0!==this._tableProps.virtualScrolling&&(this._tableProps.virtualScrolling={...this._tableProps.virtualScrolling,tbodyHeight:e}),this._tableProps.childComponents={...this._tableProps.childComponents,tableWrapper:{elementAttributes:()=>({...this._makeTableWrapperAttributes(),style:{height:e}})}},this._render()}setRowInactiveById(e,t){var i;(null===(i=this._rowsDisplayOptions.get(e))||void 0===i?void 0:i.isInactive)!==t&&(this._setRowInactiveById(e,t),this._render())}setRowInactiveByFilter(e){this._model.data().forEach(((t,i)=>this._setRowInactiveById(i,e(t)))),this._render()}setRowLinkedById(e,t){var i;(null===(i=this._rowsDisplayOptions.get(e))||void 0===i?void 0:i.isLinked)!==t&&(this._setRowLinkedById(e,t),this._render())}setRowLinkedByFilter(e){this._model.data().forEach(((t,i)=>this._setRowLinkedById(i,e(t)))),this._render()}destroy(){var e;window.removeEventListener("resize",this._resizeHandler),cancelAnimationFrame(this._animationFrameId),this._unsubscribeModel(),null===(e=this._containerVisibilityObserver)||void 0===e||e.disconnect(),n.unmountComponentAtNode(this._container)}async exportData(){const e=[...this._columnsVisibilityInfo.values()];return Promise.all(this._model.rows().map((async t=>{const i={};for(const{isVisible:s,label:o,id:n}of e){if(!s||"settings"===n)continue;const e=await this._makeTextContent({columnId:n,row:t});i[o]=e||""}return i})))}isMobile(){return this._isMobile}_setRowInactiveById(e,t){this._updateRowDisplayOptions(e,{isInactive:t})}_setRowLinkedById(e,t){this._updateRowDisplayOptions(e,{isLinked:t})}_rowElementById(e){var t;return null!==(t=this._rowsElements.get(e))&&void 0!==t?t:void 0}_makeColumns(){const e=new Map;for(const[t,i]of this._columnsMetainfo){const{isVisible:s,isVisibleOnMobile:o,forceInvisible:n}=(0,a.ensureDefined)(this._columnsVisibilityInfo.get(t),kt(t)),r={key:t,title:i.label,visible:(this._isMobile?o:s)&&!n,style:{minWidth:this._isMobile?void 0:Xe.minCellWidth,maxWidth:this._isMobile?void 0:Xe.maxCellWidth}},l=this._sortingModeSwitcher.value();t===this._sortingColumn&&null!==l&&(r.sortDirection=Ct[l]),
e.set(r.key,r)}const t=this._getSavedColumnsOrder();return this._columnsMetainfo.has("settings")||(e.set("settings",{key:"settings",title:"",visible:!0}),this._columnsMetainfo.set("settings",{label:"",id:"settings",alignment:"right",dataFields:[],formatter:"empty",notSortable:!0,showOnMobile:!1})),this._isMobile||void 0===t?[...e.values()]:this._reorderColumns(t,e)}_resetTableVirtualScrollPosition(){void 0!==this._tableProps.virtualScrolling&&(this._tableProps.virtualScrolling={...this._tableProps.virtualScrolling,scrollTop:0},this._tableWrapperKey=(0,Ee.randomHashN)(5),this._render(!0))}_render(e=!1){if(!e&&!this._isVisible)return;const t=this._model.rows();let i=[];this._isMobile&&0!==t.length&&(i=this._getAvailableColumnsFilterItems()),n.render(o.createElement(o.Fragment,null,0!==i.length&&o.createElement(Le,{...this._columnsFilterProps,items:i}),o.createElement(ve.DndProvider,{backend:fe.HTML5Backend},o.createElement(Te.Table,{...this._tableProps,dispatch:this._updateTableProps,data:t}))),this._container)}_updateRowDisplayOptions(e,t){const i=this._rowsDisplayOptions.get(e);this._rowsDisplayOptions.set(e,{...i,...t})}_handleSortingUpdate(e){e===this._sortingColumn?this._sortingModeSwitcher.next():(this._sortingColumn=e,this._sortingModeSwitcher.reset()),this._updateSortingColumnSettings(),this.onSortingChange.fire({column:e,mode:this._sortingModeSwitcher.value()})}_updateSortingColumnSettings(){const e=this._sortingModeSwitcher.value();if(null===e)return we.remove(this._sortingColumnKey),void we.remove(this._sortingModeKey);we.setValue(this._sortingColumnKey,this._sortingColumn),we.setValue(this._sortingModeKey,e)}_getSavedSortingParameters(){const e=we.getValue(this._sortingColumnKey);if(void 0===e)return;const t=we.getInt(this._sortingModeKey);return{columnId:e,mode:null!=t?t:1}}_setColumnAvailableInFilter(e,t){t?this._hiddenFilterColumns.delete(e):this._hiddenFilterColumns.add(e)}_getCellContentCaches(e){let t=this._cellContentCaches.get(e);return void 0===t&&(t=new Map,this._cellContentCaches.set(e,t)),t}_getColumnWidthChangeHandler(e){let t=this._columnWidthChangeHandlers.get(e);return void 0===t&&(t=t=>this._setColumnWidth(e,t),this._columnWidthChangeHandlers.set(e,t)),t}_makeColumnsVisibilityInfo(){const e=new Map,t=[...this._columnsMetainfo.values()].filter((e=>e.hideByDefault)).map((e=>e.id)),i=we.getJSON(`${this._id}.invisibleColumns`,t),s=we.getJSON(`${this._id}.invisibleMobileColumns`,t);return this._columnsMetainfo.forEach((t=>{const o=i.includes(t.id),n=s.includes(t.id);(this._isMobile?n:o)?this._visibleColumns.delete(t.id):this._visibleColumns.add(t.id),e.set(t.id,{isVisible:!o,isVisibleOnMobile:!n,isAlwaysVisible:!0===t.notHideable,id:t.id,label:t.label})})),e}_isFirstRow(e){var t;return e===(null===(t=this._model.rows()[0])||void 0===t?void 0:t[this._idProperty])}_isLastRow(e){var t;const i=this._model.rows();return e===(null===(t=i[i.length-1])||void 0===t?void 0:t[this._idProperty])}_checkBottomIsVisible(e){const t=e.querySelector('[data-selector="table"]');if(null===t)return
;const{bottom:i}=t.getBoundingClientRect(),s=window.innerHeight-i>=-100;this.onBottomVisibilityChange.fire(s)}_makeColumnsFilterProps(){return{items:[...this._columnsVisibilityInfo.values()].filter((e=>"settings"!==e.id&&!e.isAlwaysVisible)).map((e=>({id:e.id,title:e.label,visible:(this._isMobile?e.isVisibleOnMobile:e.isVisible)&&!e.forceInvisible}))),onCheck:e=>this._toggleColumnVisibility(e),overlapManagerWV:this._overlapManager,isSticky:this._isStickyMobileColumnsFilter}}_toggleColumnVisibility(e){const t=!this._visibleColumns.has(e);this._setColumnVisibility(e,t);const i=`${this._id}${this._isMobile?".invisibleMobileColumns":".invisibleColumns"}`,s=new Set(we.getJSON(i,[]));t?s.delete(e):s.add(e),we.setJSON(i,[...s])}_setColumnVisibility(e,t){t?this._visibleColumns.add(e):this._visibleColumns.delete(e);const i=this._columnsVisibilityInfo.get(e);void 0!==i&&(this._isMobile?this._columnsVisibilityInfo.set(e,{...i,isVisibleOnMobile:t&&!i.forceInvisible}):this._columnsVisibilityInfo.set(e,{...i,isVisible:t&&!i.forceInvisible}),this._columnsFilterProps=this._makeColumnsFilterProps()),void 0!==this._tableProps.virtualScrolling&&this._rowHeightCache.clear(),this._updateTableProps({type:t?Se.ActionType.ShowColumn:Se.ActionType.HideColumn,columnKey:e})}_getAvailableColumnsFilterItems(){return this._columnsFilterProps.items.filter((e=>!this._hiddenFilterColumns.has(e.id)))}_checkIsMobile(){return window.matchMedia(f.TradingLayoutBreakpoint.Mobile).matches}_subscribeModel(){this._model.onRowChanged.subscribe(this,this._invalidateRowCache),this._model.onRowsChanged.subscribe(this,this._handleEmptyRows),this._model.onRowsChanged.subscribe(this,this._update)}_unsubscribeModel(){this._model.onRowChanged.unsubscribe(this,this._invalidateRowCache),this._model.onRowsChanged.unsubscribe(this,this._handleEmptyRows),this._model.onRowsChanged.unsubscribe(this,this._update)}_reorderColumns(e,t){const i=new Map(t),s=i.get("settings");i.delete("settings");const o=[];for(const t of e){const e=i.get(t);void 0!==e&&(o.push(e),i.delete(t))}return o.push(...i.values()),void 0!==s&&o.push(s),o}_getSavedColumnsOrder(){var e;return null===(e=this._getSettingsStorage())||void 0===e?void 0:e.tableColumnsOrder(this._id)}}var Pt=i(964492);class xt extends T{constructor(e){const t=ue({withScroll:!0}),i=[],s=[],o=[];e.tables.forEach((n=>{var r,a,l;const d=ue({withScroll:!0,fitContent:1!==e.tables.length}),c=document.createElement("div"),u=new be({options:n.options,priceFormatterGetter:n.priceFormatterFn,reverse:null===(r=n.flags)||void 0===r?void 0:r.reverse,columns:n.columns}),h=new Ft({id:n.id,model:u,container:c,columns:n.columns,idProperty:n.options.idProperty,className:n.options.className,stickyMobileColumnsFilter:!0,overlapManager:e.overlapManager,fixedColumns:null===(a=n.flags)||void 0===a?void 0:a.fixedColumns,getSettingsStorage:e.getTableSettingsStorage,rowEventsHandlers:n.rowEventsHandlers,trackEvent:e.trackEvent});if(n.title){const e=function(e){const t=document.createElement("h3");return t.className=Pt.title,t.textContent=e,t}(n.title)
;d.appendChild(e)}d.appendChild(c),t.appendChild(d);const p=new C({idProperty:n.options.idProperty,name:n.title||void 0,model:u,view:h,source:n.source,subscriptions:n.subscriptions,supportPagination:null===(l=n.flags)||void 0===l?void 0:l.supportPagination});s.push(u),o.push(h),i.push(p),p.addFormatters(n.formatters.concat(ae)),p.start()}));const n={id:e.id,name:e.title};super(t,n,i),this._tableViewModels=s,this._tableViews=o,this._contentPage=t}setHeight(e){var t,i;if(1!==this._tableControllers.length)return;const s=this._tableViews[0].isMobile()?e:e-(null!==(i=null===(t=this._contentPage.getElementsByTagName("h3")[0])||void 0===t?void 0:t.offsetHeight)&&void 0!==i?i:0);this._tableControllers[0].setHeight(s)}destroy(){this._tableViewModels.forEach((e=>e.destroy())),this._tableViews.forEach((e=>e.destroy())),super.destroy()}}const Dt=[{label:s.t(null,void 0,i(631976)),id:"time",dataFields:["time"],formatter:"localDate"},{label:s.t(null,void 0,i(767369)),id:"title",dataFields:["title"]},{label:s.t(null,void 0,i(37229)),id:"text",dataFields:["text"]}];class It extends T{constructor(e,t,i){super(e,t,i),i.forEach((e=>e.addFormatters(t.formatters.concat(ae))))}}const Rt=2*Xe.mobileRowPadding+Xe.mobileRowBorderSize;function Ot(e,t,i){let s=Rt;for(const o of t){const t=(0,a.ensureDefined)(i.get(o),"Column metainfo");nt(t,e)||(s+=lt(t.formatter).mobile)}return s}class At extends It{constructor(e){var t;const i=ue(),s="id",o=new be({options:{idProperty:s,defaultSortingParameters:e.initialSorting},priceFormatterGetter:e.priceFormatterFn,columns:e.columns}),n=new Ft({id:e.id,model:o,container:i,columns:e.columns,idProperty:s,virtualization:{enabled:!0,rowHeightParams:{mobile:Ot}},overlapManager:e.overlapManager,rowBadgeTypeInferrer:e.rowBadgeTypeInferrer,getSettingsStorage:e.getTableSettingsStorage,rowEventsHandlers:e.tableRowEventsHandlers,trackEvent:e.trackEvent}),r=new(null!==(t=e.tableController)&&void 0!==t?t:C)({idProperty:s,model:o,view:n,source:e.source,subscriptions:e.subscriptions});super(i,{id:e.id,name:e.title,formatters:e.formatters},[r]),this._tableViewModel=o,this._tableView=n,r.start()}destroy(){this._tableViewModel.destroy(),this._tableView.destroy(),super.destroy()}}var zt=i(656846),Bt=i(982101),Ut=i(610600),Lt=i(333765);function Nt(e){const{closeFn:t,closeTitle:n,isDisabled:r}=e;return o.createElement(Pe.ToolWidgetButton,{className:Bt.icon,title:null!=n?n:s.t(null,{context:"position"},i(987323)),icon:Lt,onClick:e=>{e.stopPropagation(),t()},isDisabled:r})}function Vt(e){const{editFn:t,editTitle:n,isDisabled:r}=e;return o.createElement(Pe.ToolWidgetButton,{className:Bt.icon,title:null!=n?n:s.t(null,void 0,i(116744)),icon:Ut,onClick:e=>{e.stopPropagation(),t()},isDisabled:r})}const Ht={[zt.OrderOrPositionMessageType.Information]:"default",[zt.OrderOrPositionMessageType.Warning]:"warning",[zt.OrderOrPositionMessageType.Error]:"danger"};function jt(e){e.stopPropagation(),ut.mobiletouch&&((0,mt.tooltipClickHandler)(e),document.addEventListener("touchend",(e=>e.preventDefault()),{once:!0}))}function Wt(e){
const{type:t,text:i}=e;return o.createElement("div",{className:Bt.message},o.createElement(dt.IconQuestionInformation,{className:Bt.iconQuestionInformation,icon:"info",intent:Ht[t],ariaLabel:i,tooltip:i,onClick:jt,hideTooltip:mt.hide}))}function Kt(e){const[t,i]=(0,o.useState)(!1),s=(0,ct.useIsMounted)(),{closeFn:n,closeTitle:r,editFn:a,editTitle:l,message:d}=e;return o.createElement("span",{className:Bt.wrapper},void 0!==d&&o.createElement(Wt,{...d}),void 0!==a&&o.createElement(Vt,{editFn:a,editTitle:l,isDisabled:t}),void 0!==n&&o.createElement(Nt,{closeFn:async function(){try{i(!0),await(null==n?void 0:n())}finally{s.current&&i(!1)}},closeTitle:r,isDisabled:t}))}var qt=i(164530);const Zt=s.t(null,void 0,i(120294));function Gt(e){return{text:void 0!==(null==e?void 0:e.text)&&""!==e.text?`${Zt}\n\n${e.text}`:Zt,type:(null==e?void 0:e.type)===qt.OrderOrPositionMessageType.Error?qt.OrderOrPositionMessageType.Error:qt.OrderOrPositionMessageType.Warning}}const Yt={2:"orderstatus-filled",1:"orderstatus-cancelled",6:"orderstatus-working",3:"orderstatus-inactive",4:"orderstatus-placing",5:"orderstatus-rejected"};function $t(e){return Yt[e]}class Qt{constructor(e,t,i,s){this._calculateCounts=async e=>{const t=await this._source();if(null==e?void 0:e.aborted)return;const i=new Set,s={};for(const{id:e}of this._ordersFilterTabs)s[e]=0;for(const e of t){if(i.has(e.id))continue;i.add(e.id),s["orderstatustatus-all"]=(0,a.ensureDefined)(s["orderstatustatus-all"])+1;const t=$t(e.status);void 0!==s[t]&&(s[t]=(0,a.ensureDefined)(s[t])+1)}this._countChanged.fire(s);for(const{id:e,count:t}of this._ordersFilterTabs)t.setValue(s[e])},this._source=e,this._orderUpdateDelegate=t,this._fullUpdateDelegate=i,this._ordersFilterTabs=s,this._abortController=new AbortController,this._countChanged=new(me()),this._calculateCounts=(0,A.respectLatest)(this._calculateCounts),this._calculateCountsDebounced=(0,Ce.default)((()=>this._calculateCounts(this._abortController.signal)),100)}countChanged(){return this._countChanged}start(){this._abortController=new AbortController,this._orderUpdateDelegate.subscribe(this,this._calculateCountsDebounced),this._fullUpdateDelegate.subscribe(this,this._calculateCountsDebounced),this._calculateCounts(this._abortController.signal)}stop(){this._abortController.abort(),this._ordersFilterTabs.forEach((({count:e})=>e.setValue(0))),this._orderUpdateDelegate.unsubscribe(this,this._calculateCountsDebounced),this._fullUpdateDelegate.unsubscribe(this,this._calculateCountsDebounced)}}class Jt{constructor(e,t,i,s){this.filterFullUpdateDelegate=new(me()),this.filterObjectUpdateDelegate=new(me()),this.filterObjectDeleteDelegate=new(me()),this._filteredObjects=[],this._requestsCount=0,this._started=!1,this._objectsRequest=null,this._source=e,this._objectUpdateDelegate=t,this._objectDeleteDelegate=i,this._fullUpdateDelegate=s}start(){this._requestsCount++;const e=this._source,t=this._objectsRequest||Promise.resolve([]);this._objectsRequest=t.then((()=>e())).then((e=>{const t=e.filter((e=>this._satisfy(e)))
;return this._requestsCount--,this._requestsCount||(this.stop(),this._filteredObjects=t,this._objectsRequest=null,this._objectUpdateDelegate.subscribe(this,this._onObjectUpdated),this._objectDeleteDelegate&&this._objectDeleteDelegate.subscribe(this,this._onObjectDeleted),this._fullUpdateDelegate.subscribe(this,this._onFullUpdate),this._started=!0),t.slice(0)}))}stop(){this._objectUpdateDelegate.unsubscribe(this,this._onObjectUpdated),this._fullUpdateDelegate.unsubscribe(this,this._onFullUpdate),this._objectDeleteDelegate&&this._objectDeleteDelegate.unsubscribe(this,this._onObjectDeleted),this._filteredObjects=[],this._started=!1}isStarted(){return this._started}filterSource(){return this._objectsRequest?this._objectsRequest:Promise.resolve(this._filteredObjects.slice(0))}_satisfy(e){throw new Error("should be implemented")}_onFullUpdate(){this.stop(),this.start(),this.filterFullUpdateDelegate.fire()}_onObjectDeleted(e){const t=this._filteredObjects.find((t=>t.id===e));t&&this.filterObjectDeleteDelegate.fire(t.id)}_onObjectUpdated(e){const t=this._filteredObjects.find((t=>t.id===e.id)),i=t?this._filteredObjects.indexOf(t):-1;this._satisfy(e)?(t?this._filteredObjects[i]=e:this._filteredObjects.push(e),this.filterObjectUpdateDelegate.fire(e)):t&&(this.filterObjectDeleteDelegate.fire(t.id),this._filteredObjects.splice(i,1))}}class Xt extends Jt{constructor(e,t,i,s){super(e,t,i,s),this._filterStatus=null}setFilterStatus(e){this._filterStatus=e,this.isStarted()&&(this.stop(),this.start())}filterStatus(){return this._filterStatus}_satisfy(e){return!this._filterStatus||e.status===this._filterStatus}}class ei extends Jt{constructor(e,t,i,s,o){super(e,t,i,s),this._filter=o}_satisfy(e){return this._filter(e)}}class ti{constructor(e,t,i){this._orders=[],this._source=e,this._rowUpdateDelegate=t,this._fullUpdateDelegate=i,this._orders=[],this._statusChanged=new(me())}statusChanged(){return this._statusChanged}start(){this._source().then((e=>{this._orders=e.map((e=>Object.assign({},e))),this._rowUpdateDelegate.subscribe(this,this._onRowUpdated),this._fullUpdateDelegate.subscribe(this,this._onFullUpdate)}))}stop(){this._fullUpdateDelegate.unsubscribe(this,this._onFullUpdate),this._rowUpdateDelegate.unsubscribe(this,this._onRowUpdated),this._orders=[]}_onFullUpdate(){this.stop(),this.start()}_onRowUpdated(e){const t=this._orders.find((({id:t})=>t===e.id));(null==t?void 0:t.status)!==e.status&&(void 0!==t?t.status=e.status:this._orders.push(Object.assign({},e)),this._statusChanged.fire(e))}}class ii extends C{constructor(e){super(e),this._onLinkingBound=this._onLinking.bind(this),l.linking.proSymbol.subscribe(this._onLinkingBound)}destroy(){l.linking.proSymbol.unsubscribe(this._onLinkingBound),super.destroy()}_update(e){if(!super._update(e))return!1;const t=l.linking.proSymbol.value();return this.setRowLinkedById(e.id,t===e.symbol),!0}_onCreated(){this.setRowLinkedByFilter((e=>e.symbol===l.linking.proSymbol.value()))}_onLinking(e){this.setRowLinkedByFilter((t=>t.symbol===e))}}class si extends ii{constructor(e){super(e),
this._title=e.title,this._getFilterStatus=e.filterStatusGetter,this._isAlwaysActive=e.isAlwaysActive}fullUpdate(){return this._fullUpdate()}getDataExporter(){const e=super.getDataExporter(),t=this._getFilterStatus(),o=null!==t?(0,u.orderStatusToText)(t):s.t(null,void 0,i(695271));return e.name=`${this._title} ${o}`,e}_update(e){return!!super._update(e)&&(this.setRowInactiveById(e.id,!this._filterByStatus(e.status)),!0)}_onCreated(){super._onCreated(),this.setRowInactiveByFilter((e=>!this._filterByStatus(e.status)))}_filterByStatus(e){return this._isAlwaysActive||null!==this._getFilterStatus()||(0,u.isOrderActive)(e)}}const oi=["formatPrice","formatPriceForexSup"],ni="orderSettings",ri="Orders Page";function ai(e,t){return{id:e,label:t,count:new y.WatchedValue(0)}}class li extends T{constructor(e){const t=e.formatters||[],n=new ei(e.source,e.subscriptions.rowUpdateDelegate,null,e.subscriptions.fullUpdateDelegate,e.filter),r=function(e){const t=[ai("orderstatustatus-all",s.t(null,void 0,i(695271)))],o=e.map((e=>ai($t(e),(0,R.capitalizeFirstLetter)((0,u.orderStatusToText)(e)))));return t.concat(o)}(e.possibleOrderStatuses),a=new Qt(n.filterSource.bind(n),n.filterObjectUpdateDelegate,n.filterFullUpdateDelegate,r),l=new Xt(n.filterSource.bind(n),n.filterObjectUpdateDelegate,n.filterObjectDeleteDelegate,n.filterFullUpdateDelegate),d=e.subscriptions.fullUpdateDelegate;e.source=l.filterSource.bind(l),e.subscriptions.rowUpdateDelegate=l.filterObjectUpdateDelegate,e.subscriptions.rowDeleteDelegate=l.filterObjectDeleteDelegate,e.subscriptions.fullUpdateDelegate=l.filterFullUpdateDelegate;const c=ue(),h="id",p={group:e=>+(0,u.isOrderActive)(e.status),idProperty:h,defaultSortingParameters:e.initialSorting},m=e.columns.map((e=>oi.includes(e.formatter)?{...e,showZeroValues:!1}:e)),_=[...m,{label:"",id:"settings",alignment:"right",dataFields:[],formatter:ni,notSortable:!0,showOnMobile:!1}],b=new be({columns:_,priceFormatterGetter:e.priceFormatterFn,options:p}),v=new Ft({id:e.tableId,model:b,className:"orders",container:c,columns:_,idProperty:h,virtualization:{enabled:!0,rowHeightParams:{mobile:Ot}},overlapManager:e.overlapManager,getSettingsStorage:e.getTableSettingsStorage,rowEventsHandlers:e.tableRowEventsHandlers,trackEvent:e.trackEvent}),f={id:e.id,name:e.title},w=new si({idProperty:h,title:e.title,model:b,view:v,source:e.source,subscriptions:e.subscriptions,filterStatusGetter:()=>this._ordersFilter.filterStatus(),isAlwaysActive:e.isAlwaysActive});super(c,f,[w]),this._tableViewModel=b,this._tableView=v,this._tableController=w,this._globalFullUpdateDelegate=d,this._statusWatcher=new ti(n.filterSource.bind(n),n.filterObjectUpdateDelegate,n.filterFullUpdateDelegate),this._orderPreFilter=n,this._ordersFilter=l,this._ordersFilterCountsUpdater=a,this._possibleOrderStatuses=e.possibleOrderStatuses,this._columns=m,this._pendingOrdersByStatuses={},this._configFlags=e.configFlags,this._trackEvent=e.trackEvent,this._closeFn=t=>(e.trackEvent(ri,"Cancel Order"),e.cancelFn(t)),this._editFn=(t,i,s,o)=>(e.trackEvent(ri,"Edit Order"),
e.modifyFn(t,i,s,o));const C={name:ni,formatElement:({values:[e]})=>{const t=""!==e.symbol,n=!t||!(0,u.isOrderActive)(e.status),r=n&&this._isPlacingOrderCancellingDisabled(e.status)?void 0:()=>this._closeFn(e.id),a=n||!(0,u.isModifyOrderSupported)(e,this._configFlags)?void 0:()=>this._editFn(e),l=t?e.message:Gt(e.message);return o.createElement(Kt,{closeFn:r,closeTitle:s.t(null,void 0,i(620036)),editFn:a,editTitle:(0,g.appendEllipsis)(s.t(null,void 0,i(433241))),message:l})},formatText:()=>""};w.addFormatters([...ae,C,...t]),this._filterTabs=r,this._subscribeUpdates()}destroy(){this._unsubscribeUpdates(),this._tableViewModel.destroy(),this._tableView.destroy(),super.destroy()}contextItems(e){const t=this._tableController.rowIdAtEvent(e);if(void 0===t)return[];const o=this._tableController.rowById(t);if(void 0===o||""===o.symbol)return[];const n=[];return(0,u.isModifyOrderSupported)(o,this._configFlags)&&n.push({text:(0,g.appendEllipsis)(s.t(null,void 0,i(433241))),enabled:(0,u.isOrderActive)(o.status),action:()=>this._editFn(o)}),n.push({text:s.t(null,void 0,i(316075)),enabled:(0,u.isOrderActive)(o.status)||!this._isPlacingOrderCancellingDisabled(o.status),action:()=>this._closeFn(t)}),n}contextRow(e){return this._tableController.rowAtEvent(e)}activateFilterTab(e){if(this._activeFilterTabId===e)return;const t=void 0===this._activeFilterTabId;super.activateFilterTab(e);const i=function(e){return di[e]}(e);this._ordersFilter.setFilterStatus(i),this._columns.forEach((e=>{var t;void 0!==e.supportedStatusFilters&&this._tableController.setColumnAvailable(e.id,e.supportedStatusFilters.includes(null!==(t=i)&&void 0!==t?t:0))})),t||(this._trackEvent(ri,"Order status filter",null!==i?(0,u.orderStatusToText)(i):void 0),this._tableController.fullUpdate().then((()=>{if(null===i)return void(this._pendingOrdersByStatuses={});const e=this._pendingOrdersByStatuses[i];void 0!==e&&(e.forEach((e=>this._tableController.highlightRowById(e))),e.clear())})))}_subscribeUpdates(){this._tableController.start(),this._orderPreFilter.start(),this._ordersFilter.start(),this._statusWatcher.start(),this._statusWatcher.statusChanged().subscribe(this,this._onStatusChange),this._ordersFilterCountsUpdater.start(),this._ordersFilterCountsUpdater.countChanged().subscribe(this,this._onCountChanged),this._globalFullUpdateDelegate.subscribe(this,this._onGlobalFullUpdate)}_unsubscribeUpdates(){this._tableController.stop(),this._orderPreFilter.stop(),this._ordersFilter.stop(),this._statusWatcher.stop(),this._statusWatcher.statusChanged().unsubscribe(this,this._onStatusChange),this._ordersFilterCountsUpdater.stop(),this._ordersFilterCountsUpdater.countChanged().unsubscribe(this,this._onCountChanged),this._globalFullUpdateDelegate.unsubscribe(this,this._onGlobalFullUpdate)}_onGlobalFullUpdate(){this._pendingOrdersByStatuses={}}_onCountChanged(e){var t,i;const s=(null!==(t=e[$t(6)])&&void 0!==t?t:0)+(null!==(i=e[$t(3)])&&void 0!==i?i:0);this._setCount(s)}_onStatusChange(e){var t
;null!==this._ordersFilter.filterStatus()&&4!==e.status&&(this._possibleOrderStatuses.forEach((t=>{var i;null===(i=this._pendingOrdersByStatuses[t])||void 0===i||i.delete(e.id)})),this._pendingOrdersByStatuses[e.status]||(this._pendingOrdersByStatuses[e.status]=new Set),null===(t=this._pendingOrdersByStatuses[e.status])||void 0===t||t.add(e.id),setTimeout((()=>{this._ordersFilter.filterStatus()===e.status&&this._tableController.isRowInViewport(e.id)&&this._tableController.highlightRowById(e.id)}),0))}_isPlacingOrderCancellingDisabled(e){return!this._configFlags.supportPlacingOrderCancelling||4!==e}}const di={"orderstatus-filled":2,"orderstatus-cancelled":1,"orderstatus-working":6,"orderstatus-inactive":3,"orderstatus-placing":4,"orderstatus-rejected":5,"orderstatustatus-all":null};var ci=i(126775);class ui{constructor(e,t,i){this._calculateCounts=async e=>{const t=await this._source();if(null==e?void 0:e.aborted)return;const i=t.filter(b).length;i!==this._count&&(this._count=i,this._countChanged.fire(i))},this._source=e,this._rowUpdateDelegate=t,this._fullUpdateDelegate=i,this._countChanged=new(me()),this._abortController=new AbortController,this._calculateCounts=(0,A.respectLatest)(this._calculateCounts),this._calculateCountsDebounced=(0,Ce.default)((()=>this._calculateCounts(this._abortController.signal)),100)}countChanged(){return this._countChanged}start(){this._abortController=new AbortController,this._rowUpdateDelegate.subscribe(this,this._calculateCountsDebounced),this._fullUpdateDelegate.subscribe(this,this._calculateCountsDebounced),this._calculateCounts(this._abortController.signal)}stop(){this._abortController.abort(),this._count=void 0,this._rowUpdateDelegate.unsubscribe(this,this._calculateCountsDebounced),this._fullUpdateDelegate.unsubscribe(this,this._calculateCountsDebounced)}}const hi="Trading.PositionsTable.Filter",pi=["formatPrice","formatPriceForexSup"],mi=s.t(null,void 0,i(948313)),_i=s.t(null,void 0,i(518617)),gi=s.t(null,void 0,i(42168)),bi="positionSettings",vi="tradeSettings",fi={1:"net-positions",0:"individual-positions"};function wi(e){const{id:t,name:i,content:s,source:o,subscriptions:n,columns:r,priceFormatterFn:a,rowEventsHandlers:l,overlapManager:d,getTableSettingsStorage:c,trackEvent:u}=e,h="id",p=new be({priceFormatterGetter:a,columns:r,options:{idProperty:h}}),m=new Ft({id:t,model:p,className:"positions",container:s,columns:r,idProperty:h,virtualization:{enabled:!0,rowHeightParams:{mobile:Ot}},getSettingsStorage:c,overlapManager:d,rowEventsHandlers:l,trackEvent:u});return{model:p,view:m,controller:new Ci({idProperty:h,name:i,model:p,view:m,source:o,subscriptions:n})}}class Ci extends ii{_update(e){return b(e)?super._update(e):(this._deleteRow(e.id),!0)}}class yi extends T{constructor(e){const t=function(){const e=document.createElement("div");return e.classList.add(ci.pageContainer),e}(),n={id:"positions",name:mi},r=ue(),l=e.positions.columns.map((e=>pi.includes(e.formatter)?{...e,showZeroValues:!1}:e));l.push({label:"",id:"settings",alignment:"right",
dataFields:["id","message","symbol"],formatter:bi,notSortable:!0,showOnMobile:!1});const d=wi({id:e.brokerId+".positions",name:e.trades?_i:mi,content:r,source:e.positions.source,subscriptions:Object.assign({},e.positions.subscriptions,{fullUpdateDelegate:e.fullUpdateDelegate}),columns:l,priceFormatterFn:e.priceFormatterFn,overlapManager:e.overlapManager,getTableSettingsStorage:e.getTableSettingsStorage,rowEventsHandlers:e.tableRowEventsHandlers,trackEvent:e.trackEvent});t.appendChild(r);const c=[d.controller];let u,h=null;if(e.trades){const i=e.trades.columns.map((e=>pi.includes(e.formatter)?{...e,showZeroValues:!1}:e));i.push({label:"",id:"settings",alignment:"right",dataFields:["id","message","canBeClosed","symbol"],formatter:vi,notSortable:!0,showOnMobile:!1}),h=ue(),u=wi({id:e.brokerId+".trades",name:gi,content:h,source:e.trades.source,subscriptions:Object.assign({},e.trades.subscriptions,{fullUpdateDelegate:e.fullUpdateDelegate}),columns:i,priceFormatterFn:e.priceFormatterFn,overlapManager:e.overlapManager,getTableSettingsStorage:e.getTableSettingsStorage,rowEventsHandlers:e.tableRowEventsHandlers,trackEvent:e.trackEvent}),t.appendChild(h),c.push(u.controller)}super(t,n,c),this._positionsTableContainer=r,this._tradesTableContainer=h,this._positionsTableController=d.controller,this._positionsTableViewModel=d.model,this._positionsTableView=d.view,this._tradesTableController=null==u?void 0:u.controller,this._tradesTableViewModel=null==u?void 0:u.model,this._tradesTableView=null==u?void 0:u.view,null!==e.trades&&(this._filterTabs=[],this._filterTabs[0]={id:"individual-positions",label:gi,count:new y.WatchedValue(0)},this._filterTabs[1]={id:"net-positions",label:_i,count:new y.WatchedValue(0)});const p=e.formatters||[];this._fullUpdateDelegate=e.fullUpdateDelegate,this._posSubscriptions=e.positions.subscriptions,this._checkSupportTrades=e.checkSupportTrades,this._trackEvent=e.trackEvent,this._storeFunctions(e);const m={name:bi,formatElement:({values:[e,t,n]})=>{const r=""===n,a=r||null===this._closePositionFn?void 0:this._closePositionFn.bind(null,e),l=r||null===this._editPositionFn?void 0:this._editPositionFn.bind(null,e),d=r?Gt(t):t;return o.createElement(Kt,{closeFn:a,closeTitle:s.t(null,{context:"position"},i(987323)),editFn:l,editTitle:(0,g.appendEllipsis)(s.t(null,void 0,i(911810))),message:d})},formatText:()=>""};if(this._positionsTableController.addFormatters([m,...ae,...p]),e.trades){const t={name:vi,formatElement:({values:[e,t,n,r]})=>{const a=""===r,l=a||null===this._closeTradeFn||!n?void 0:this._closeTradeFn.bind(null,e),d=a||null===this._editTradeFn?void 0:this._editTradeFn.bind(null,e);return o.createElement(Kt,{closeFn:l,closeTitle:s.t(null,{context:"position"},i(987323)),editFn:d,editTitle:(0,g.appendEllipsis)(s.t(null,void 0,i(911810))),message:t})},formatText:()=>""};(0,a.ensure)(this._tradesTableController).addFormatters([t,...ae,...p]),this._tradesFilterCounter=new ui(e.trades.source,e.trades.subscriptions.countUpdateDelegate,this._fullUpdateDelegate)}else this._tradesFilterCounter=null
;this._positionsFilterCounter=new ui(e.positions.source,this._posSubscriptions.countUpdateDelegate,this._fullUpdateDelegate),this._subscribeUpdates();const _=we.getInt(hi,0);this._activeFilterTabId=this._checkSupportTrades()?fi[_]:"net-positions",this._selectPage(this._activeFilterTabId)}contextItems(e){const t=this._activeTableController(),o=t.rowIdAtEvent(e);if(void 0===o)return[];const n=(0,a.ensureDefined)(t.rowById(o));if(""===n.symbol)return[];const r=[];return"individual-positions"===this._activeFilterTabId?(this._editTradeFn&&r.push({text:(0,g.appendEllipsis)(s.t(null,void 0,i(911810))),action:this._editTradeFn.bind(null,o)}),this._closeTradeFn&&n.canBeClosed&&r.push({text:s.t(null,void 0,i(437431)),action:this._closeTradeFn.bind(null,o)}),r):(this._editPositionFn&&r.push({text:(0,g.appendEllipsis)(s.t(null,void 0,i(911810))),action:this._editPositionFn.bind(null,o)}),this._closePositionFn&&r.push({text:s.t(null,void 0,i(437431)),action:this._closePositionFn.bind(null,o)}),this._reversePositionFn&&r.push({text:s.t(null,void 0,i(419780)),action:this._reversePositionFn.bind(null,o)}),r)}contextRow(e){return this._activeTableController().rowAtEvent(e)}destroy(){var e,t;this._unsubscribeUpdates(),this._positionsTableViewModel.destroy(),this._positionsTableView.destroy(),null===(e=this._tradesTableViewModel)||void 0===e||e.destroy(),null===(t=this._tradesTableView)||void 0===t||t.destroy(),super.destroy()}activateFilterTab(e){super.activateFilterTab(e),this._selectPage(e)}_onActiveChanged(e){e?this._activeTableController().setActive(!0):(this._positionsTableController.setActive(!1),this._tradesTableController&&this._tradesTableController.setActive(!1))}_onPositionsCountChanged(e){var t;this._setCount(e),null===(t=this._filterTabs[1])||void 0===t||t.count.setValue(e)}_onTradesCountChanged(e){var t;null===(t=this._filterTabs[0])||void 0===t||t.count.setValue(e)}_activeTableController(){return this._checkSupportTrades()&&"individual-positions"===this._activeFilterTabId?(0,a.ensure)(this._tradesTableController):this._positionsTableController}_subscribeUpdates(){this._positionsFilterCounter.start(),this._positionsFilterCounter.countChanged().subscribe(this,this._onPositionsCountChanged),this._tradesFilterCounter&&(this._tradesFilterCounter.start(),this._tradesFilterCounter.countChanged().subscribe(this,this._onTradesCountChanged)),this._fullUpdateDelegate.subscribe(this,this._stopTradesControllerIfNeeded)}_unsubscribeUpdates(){this._positionsFilterCounter.stop(),this._positionsFilterCounter.countChanged().unsubscribe(this,this._onPositionsCountChanged),this._tradesFilterCounter&&(this._tradesFilterCounter.stop(),this._tradesFilterCounter.countChanged().unsubscribe(this,this._onTradesCountChanged)),this._fullUpdateDelegate.unsubscribe(this,this._stopTradesControllerIfNeeded)}_stopTradesControllerIfNeeded(){var e;this.isActive()&&this._checkSupportTrades()||null===(e=this._tradesTableController)||void 0===e||e.stop()}_selectPage(e){var t,i,s;const o="net-positions"===e
;o?this._positionsTableController.start():null===(t=this._tradesTableController)||void 0===t||t.start(),this._positionsTableContainer.classList.toggle("js-hidden",!o),null===(i=this._tradesTableContainer)||void 0===i||i.classList.toggle("js-hidden",o),this._positionsTableController.setActive(o),null===(s=this._tradesTableController)||void 0===s||s.setActive(!o),we.setValue(hi,o?1:0)}_storeFunctions(e){const t="Positions Page",i=e.positions.closeFn;this._closePositionFn=i?e=>(this._trackEvent(t,"Close Position"),i(e)):null;const s=e.positions.editFn;this._editPositionFn=s?e=>(this._trackEvent(t,"Edit Position"),s(e)):null;const o=e.positions.reverseFn;this._reversePositionFn=o?e=>(this._trackEvent(t,"Reverse Position"),o(e)):null;const n=e.trades;if(n){const e=n.closeFn;this._closeTradeFn=e?i=>(this._trackEvent(t,"Close Trade"),e(i)):null;const i=n.editFn;this._editTradeFn=i?e=>(this._trackEvent(t,"Edit Trade"),i(e)):null}}}var Ti=i(661851),Si=i(737402),Ei=i(790170);function ki(e){const{wValue:t,formatter:i,text:s}=e,n=(0,Fe.useWatchedValueReadonly)({watchedValue:t}),r=(0,o.useMemo)((()=>{const e=(t=null!=i?i:"fixed",null!==(s=ae.find((e=>e.name===t)))&&void 0!==s?s:le);var t,s;return e.isPriceFormatterNeeded?le:e}),[i]),a=(0,o.useMemo)((()=>function(e,t){var i;const s=(null!==(i=e.formatElement)&&void 0!==i?i:e.formatText)({values:[t]});return"string"!=typeof s?s:s.replace(/&nbsp;/g," ")}(r,n)),[r,n]);return void 0===a?o.createElement(o.Fragment,null):o.createElement("div",{className:Ei.itemWrapper},o.createElement("div",{className:Ei.value},a),o.createElement("div",{className:Ei.title},s))}var Mi=i(634762);function Fi(e){const{summaryFields:t,summaryFieldsVisibilityInfo:i}=e;return o.createElement("div",{className:Mi.wrapper},t.map((e=>{var t;return(null===(t=i.get(e.text))||void 0===t?void 0:t.visible)?o.createElement(ki,{...e,key:e.text}):null})))}var Pi=i(605899),xi=i(353249);function Di(e){const{brokerDropdownProps:t,accountDropdownProps:i,commonDropdownProps:s,summaryFieldsVisibilityManager:n,summaryFields:r,tradingPanel:a,setOrderPanelVisibility:l,setDOMPanelVisibility:d,isBetaBroker:c}=e,u=(0,Ti.useObservable)(n.fieldsVisibilityInfo$,n.fieldsVisibilityInfo()),h=((0,Fe.useWatchedValueReadonly)({watchedValue:a.isOpeningAvailable}),(0,Si.useMatchMedia)(f.TradingLayoutBreakpoint.Mobile),void 0!==i&&void 0!==s),p=0!==r.length,m=false;return h||p?o.createElement("div",{className:W(xi.headerWrapper,m)},h&&o.createElement("div",{className:xi.brokerBlock},o.createElement(Pi.AccountManagerHeaderDropdowns,{brokerDropdownProps:t,accountDropdownProps:i,commonDropdownProps:s}),!1),p&&o.createElement(Fi,{summaryFields:r,summaryFieldsVisibilityInfo:u}),m):o.createElement(o.Fragment,null)}var Ii=i(407999),Ri=i(27938);function Oi(e){const{element:t}=e;return o.createElement("div",{ref:e=>{null!==e&&(e.contains(t)||(null!==e.firstChild&&e.removeChild(e.firstChild),e.append(t)))}})}var Ai=i(414823),zi=i(949781),Bi=i(949922);const Ui=Bi.tabs;function Li(e){const{id:t,label:i,count:s,isActive:n}=e,r=(0,
Fe.useWatchedValueReadonly)({watchedValue:s}),a=0!==r&&void 0!==r?` ${r}`:"";return o.createElement("span",{"data-account-manager-tab-id":t},i,o.createElement("span",{className:K()(!n&&Bi.count)},a))}function Ni(e){const{pages:t,onActivate:i,defaultActiveTabId:s}=e,[n,r]=(0,o.useState)(s);return(0,o.useEffect)((()=>{i({id:n})}),[n,i]),o.createElement(zi.UnderlineButtonTabs,{id:(0,Ai.createDomId)("account-manager-tabs"),className:Ui,overflowBehaviour:"scroll",size:"xsmall",isActive:({id:e})=>e===n,items:t.map((e=>function(e,t){const i=e.id();return{id:i,label:o.createElement(Li,{id:i,label:e.name(),count:e.count(),isActive:i===t})}}(e,n))),onActivate:({id:e})=>r(e)})}var Vi=i(897107),Hi=i(269842),ji=i(118965),Wi=i(586240),Ki=i(671129);var qi=i(419359),Zi=i(984164),Gi=i(772069),Yi=i(525388),$i=i(865968);function Qi(e,t,i){const{id:s,items:n,activationType:r,orientation:a,disabled:l,onActivate:d,isActive:c,overflowBehaviour:u,enableActiveStateStyles:h,tablistLabelId:p,tablistLabel:m}=t,_=(0,ji.useMobileTouchState)(),g=function(e){const t=(0,Ki.useSafeMatchMedia)(Wi["media-mf-phone-landscape"],!0),i=(0,ji.useMobileTouchState)();return null!=e?e:i||!t?"scroll":"collapse"}(u),b=(0,o.useRef)(!1),v=(0,o.useCallback)((e=>e.id),[]),f=null!=h?h:!_,{visibleItems:w,hiddenItems:C,containerRefCallback:y,innerContainerRefCallback:T,moreButtonRef:S,setItemRef:E}=(0,qi.useCollapsible)(n,v,c),k="collapse"===g?w:n,M=(0,o.useMemo)((()=>"collapse"===g?C:[]),[g,C]),F=(0,o.useCallback)((e=>M.includes(e)),[M]),{tabsBindings:P,tablistBinding:x,scrollWrapBinding:D,onActivate:I,onHighlight:R,isHighlighted:O}=(0,Zi.useTabs)({id:s,items:[...k,...M],activationType:r,orientation:a,disabled:l,tablistLabelId:p,tablistLabel:m,scrollIntoViewOptions:i.scrollIntoViewOptions,onActivate:d,isActive:c,isCollapsed:F,isRtl:i.isRtl}),A=M.find(O),z=(0,o.useCallback)((()=>{const e=n.find(c);e&&R(e)}),[R,c,n]),B=(0,o.useCallback)((e=>P.find((t=>t.id===e.id))),[P]),{isOpened:U,open:L,close:N,onButtonClick:V}=(0,Gi.useDisclosure)({id:s,disabled:l}),H=(0,o.useCallback)((()=>{N(),z(),b.current=!0}),[N,z]),j=(0,o.useCallback)((()=>{A&&(I(A),R(A,250))}),[I,R,A]);D.ref=(0,Yi.useMergedRefs)([D.ref,y]),x.ref=(0,Yi.useMergedRefs)([x.ref,T]),x.onKeyDown=(0,Hi.createSafeMulticastEventHandler)((0,$i.useKeyboardEventHandler)([(0,$i.useKeyboardClose)(U,H),(0,$i.useKeyboardActionHandler)([13,32],j,(0,o.useCallback)((()=>Boolean(A)),[A]))]),x.onKeyDown);const W=(0,o.useCallback)((e=>{b.current=!0,V(e)}),[b,V]),K=(0,o.useCallback)((e=>{e&&I(e)}),[I]);return(0,o.useEffect)((()=>{b.current?b.current=!1:(A&&!U&&L(),!A&&U&&N())}),[A,U,L,N]),{enableActiveStateStyles:f,moreButtonRef:S,setItemRef:E,getBindings:B,handleMoreButtonClick:W,handleCollapsedItemClick:K,scrollWrapBinding:D,overflowBehaviour:g,tablistBinding:x,visibleTabs:k,hiddenTabs:M,handleActivate:I,isMobileTouch:_,getItemId:v,isDisclosureOpened:U,isHighlighted:O,closeDisclosure:N}}var Ji=i(273388),Xi=i(234539);const es=(0,o.createContext)("small");var ts=i(72571),is=i(792331);function ss({endIcon:e,children:t}){
return o.createElement(o.Fragment,null,t&&o.createElement("span",{className:is.content},t),e&&o.createElement(ts.Icon,{className:is["end-icon-wrap"],icon:e,"aria-hidden":!0}))}var os=i(573606);const ns=(0,o.forwardRef)(((e,t)=>{const i=o.useContext(es),s=(0,o.useContext)(Xi.CustomBehaviourContext),{id:n,active:r,fake:a,theme:l=os,enableActiveStateStyles:d=s.enableActiveStateStyles,hideFocusOutline:c=!1,endIcon:u,children:h,...p}=e;return o.createElement("button",{...p,id:n,ref:t,className:W(l["square-tab-button"],r&&l.selected,l[`size-${i}`],a&&l.fake,!d&&l["disable-active-state-styles"],c&&l["disable-focus-outline"])},o.createElement(ss,{endIcon:u},h))}));ns.displayName="SquareTabButton";const rs=(0,o.forwardRef)(((e,t)=>{const{item:i,highlighted:s,handleItemRef:n,onClick:r,...a}=e,l=(0,o.useCallback)((()=>{r&&r(i)}),[r,i]),d=(0,o.useCallback)((e=>{n&&n(i,e),(0,Ji.isomorphicRef)(t)(e)}),[i,n,t]);return o.createElement(ns,{...a,id:i.id,onClick:l,ref:d,endIcon:i.endIcon},i.label)}));rs.displayName="SquareTab";var as=i(904925),ls=i(192063),ds=i(602948),cs=i(77819);function us(e){const{isDropped:t=!1}=e;return o.createElement(ts.Icon,{icon:ds,className:W(cs["arrow-icon"],t&&cs.dropped)})}function hs(e){const{disabled:t,isOpened:i,hideFocusOutline:s,fake:n,items:r,buttonContent:a,buttonRef:l,buttonTheme:d,isHighlighted:c,onButtonClick:u,onItemClick:h,onClose:p}=e,m=(0,o.useRef)(null),_=(0,Yi.useMergedRefs)([l,m]);return o.createElement(as.PopupMenuDisclosureView,{buttonRef:m,listboxTabIndex:-1,isOpened:i,onClose:p,listboxAria:{"aria-hidden":!0},button:o.createElement(ns,{"aria-hidden":!0,disabled:t,active:i,onClick:u,ref:_,tabIndex:-1,theme:d,hideFocusOutline:s,fake:n},a,o.createElement(us,{isDropped:i})),popupChildren:r.map((e=>o.createElement(ls.PopupMenuItem,{key:e.id,onClick:h,onClickArg:e,isActive:c(e),label:e.label,isDisabled:e.disabled,dontClosePopup:!0})))})}const ps=(0,i(493173).mergeThemes)(os,is);var ms=i(744012);function _s(e){const{disabled:t,moreButtonContent:n=s.t(null,void 0,i(141610)),size:r="small",theme:a=ps,className:l,style:d,"data-name":c="square-tabs-buttons"}=e,{enableActiveStateStyles:u,moreButtonRef:h,setItemRef:p,getBindings:m,handleMoreButtonClick:_,handleCollapsedItemClick:g,scrollWrapBinding:b,overflowBehaviour:v,tablistBinding:f,visibleTabs:w,hiddenTabs:C,handleActivate:y,isMobileTouch:T,getItemId:S,isDisclosureOpened:E,isHighlighted:k,closeDisclosure:M}=Qi(Vi.TabNames.SquareButtonTabs,e,{isRtl:I.isRtl,scrollIntoViewOptions:{additionalScroll:parseInt(ms[`css-value-square-tabs-${r}-gap`])}});return o.createElement(es.Provider,{value:r},o.createElement("div",{...b,className:W(a["scroll-wrap"],"scroll"===v&&a["enable-scroll"],l),style:d,"data-name":c},o.createElement("div",{...f,className:W(a["square-tabs"],a[`size-${r}`])},w.map((e=>{var t;const{"aria-disabled":i,...s}=null!==(t=m(e))&&void 0!==t?t:{};return o.createElement(rs,{...s,key:e.id,item:e,onClick:()=>y(e),theme:a,enableActiveStateStyles:u,hideFocusOutline:T,ref:p(S(e)),...e.dataId&&{"data-id":e.dataId}})})),C.map((e=>{var t
;const{"aria-disabled":i,...s}=null!==(t=m(e))&&void 0!==t?t:{};return o.createElement(rs,{...s,key:e.id,item:e,theme:a,enableActiveStateStyles:u,fake:!0})})),o.createElement(hs,{disabled:t,isOpened:E,items:C,buttonContent:n,buttonRef:h,buttonTheme:a,isHighlighted:k,onButtonClick:_,onItemClick:g,onClose:M,hideFocusOutline:T,fake:0===C.length}))))}function gs(e){var t;const{id:i,items:s,onActivate:n,defaultActiveFilterTabId:r}=e,[l,d]=(0,o.useState)(null!=r?r:(0,a.ensureDefined)(null===(t=s[0])||void 0===t?void 0:t.id,"AccountManagerPageFilterTabs item"));return(0,o.useEffect)((()=>{n({id:l})}),[l,n]),o.createElement(_s,{id:(0,Ai.createDomId)("account-manager-page-filter-tabs",i),className:Ui,onActivate:e=>d(e.id),isActive:e=>e.id===l,size:"xsmall",overflowBehaviour:"scroll",items:s.map((e=>({id:e.id,label:o.createElement(Li,{...e,isActive:e.id===l})})))})}var bs=i(685014),vs=i(951983),fs=i(118087);const ws=[6,3,2,1,5],Cs=[2,1,5],ys="data-account-manager-page-id";function Ts(e){return`[data-account-manager-page-id="${e}"]`}class Ss{constructor(e){this._showContextMenu=async e=>{e.preventDefault();let t=await this._contextItems(e);void 0!==t&&(c.enabled("property_pages")||(t=t.slice(0,-1)),h.ContextMenuManager.showMenu((0,u.convertActionDescriptionsToActions)(t),function(e){const t=e instanceof MouseEvent?e:e.touches[0];return{clientX:t.clientX,clientY:t.clientY}}(e),void 0,{menuName:"AccountManagerContextMenu"}))},this._activateTab=({id:e})=>{if(e===this._currentTabId)return;if(void 0!==this._currentTabId){const e=this._container.querySelector(Ts(this._currentTabId));null==e||e.classList.remove(fs.active)}(0,a.ensureNotNull)(this._container.querySelector(Ts(e)),"Page to activate").classList.add(fs.active),this._currentTabId=e,this._attachFilter(),this._trading.trackEvent("Bottom Panel",`Select ${e} page`),this._updatePagesActiveStatuses()};const{broker:t,bridge:i,mode:s,summaryFieldsVisibilityManager:o,overlapManager:n}=e;this._adapter=(0,a.ensureNotNull)(t),this._bridge=i,this._container=i.container,this._mode=s,this._overlapManager=n,this._summaryFieldsVisibilityManager=o,this._pages=[],this._trading=(0,a.ensureNotNull)((0,m.tradingService)()),this._info=this._adapter.accountManagerInfo(),this._dispatch=this.bindContextMenu(),this._contentResizeObserver=new r.default((e=>{const t=e[0].contentRect.height;t!==this._contentHeight&&(this._contentHeight=t,this._currentPage().setHeight(t))})),this._renderTemplate()}async priceFormatter(e){return e.symbol?this._trading.formatter(e.symbol):null}remove(){for(this._unmountComponentBySelector(".js-account-manager-header"),this._unmountComponentBySelector(".js-top-panel"),this._unmountComponentBySelector(".js-secondary-panel"),this._unsubscribe(),this._pages.forEach((e=>e.destroy())),this.unbindContextMenu();this._container.firstChild;)this._container.removeChild(this._container.firstChild)}bindContextMenu(){
return window.matchMedia(f.TradingLayoutBreakpoint.Mobile).matches&&d.CheckMobile.any()?this._bindTapMenu():d.CheckMobile.iOS()?this._bindLongPressMenu():this._bindContextMenu()}unbindContextMenu(){null!==this._dispatch&&(this._dispatch(),this._dispatch=null)}static async create(e){const t=new Ss(e);return await t._create(),t._subscribe(),t._fullUpdate(),t}_bindContextMenu(){return this._container.addEventListener("contextmenu",this._showContextMenu),()=>this._container.removeEventListener("contextmenu",this._showContextMenu)}_bindLongPressMenu(){let e;const t=t=>{clearTimeout(e),e=setTimeout((()=>this._showContextMenu(t)),400)},i=()=>clearTimeout(e);return this._container.addEventListener("touchstart",t),this._container.addEventListener("touchend",i),this._container.addEventListener("touchmove",i),()=>{clearTimeout(e),this._container.removeEventListener("touchstart",t),this._container.removeEventListener("touchend",i),this._container.removeEventListener("touchmove",i)}}_bindTapMenu(){const e=e=>{void 0!==this._currentPage().contextRow(e)&&this._showContextMenu(e)},t=e=>{e.preventDefault()};return this._container.addEventListener("click",e),this._container.addEventListener("contextmenu",t),()=>{this._container.removeEventListener("click",e),this._container.removeEventListener("contextmenu",t)}}_unmountComponentBySelector(e){const t=this._container.querySelector(e);null!==t&&n.unmountComponentAtNode(t)}_ensuredCurrentTabId(){return(0,a.ensureDefined)(this._currentTabId,"Current tab id")}_initializeTabs(){this._activateTab({id:this._pages[0].id()}),n.render(o.createElement(Ni,{pages:this._pages,defaultActiveTabId:this._ensuredCurrentTabId(),onActivate:this._activateTab}),(0,a.ensureNotNull)(this._container.querySelector(".js-top-panel"),"AccountManagerTabs container"))}_linkTableRowSymbol(e,t){t||void 0===e.symbol||""===e.symbol||l.linking.symbol.setValue(e.symbol)}_onTableRowClick(e,t,i,s){const o=e;t||""===o.symbol||(l.linking.symbol.value()!==o.symbol?l.linking.symbol.setValue(o.symbol):i.setSelectedItem({id:o.id,type:s}))}_onTableRowMouseEnter(e,t,i,s){const o=e;t||l.linking.symbol.value()!==o.symbol||i.setHoveredItem({id:o.id,type:s})}_onTableRowMouseLeave(e,t,i){const s=e;t||l.linking.symbol.value()!==s.symbol||i.dropHoveredItem()}_makeTableRowEventsHandlers(e,t){return{onClick:(i,s)=>this._onTableRowClick(i,s,e,t),onMouseEnter:(i,s)=>this._onTableRowMouseEnter(i,s,e,t),onMouseLeave:(t,i)=>this._onTableRowMouseLeave(t,i,e)}}async _getPages(){const e=this._adapter.metainfo().id,t=this._adapter.accountManagerInfo(),n=this._adapter.metainfo().configFlags,r=this._getPagesAvailabilityInfo(),l=(0,a.ensureNotNull)(this._trading.brokerCommandsUI()),d={},c=await this._trading.tradedItemsChartCollectionFacade(),u=void 0!==t.customFormatters?t.customFormatters.map((({name:e,formatText:t,formatElement:i,isPriceFormatterNeeded:s})=>void 0===i?{name:e,formatText:t}:{name:e,formatText:t,formatElement:e=>{const t=i(e);return t instanceof window.parent.Element?o.createElement(Oi,{element:t}):t},isPriceFormatterNeeded:s})):[]
;if(r.positions){const i=this._makeTableRowEventsHandlers(c,Ri.TradedItemType.Position);d.positionPage={ctor:yi,ctorArguments:{brokerId:e,formatters:u,tableRowEventsHandlers:i,priceFormatterFn:this.priceFormatter.bind(this),checkSupportTrades:()=>!0===n.supportTrades,positions:{source:()=>this._adapter.positions().then((e=>e.filter((e=>b(e))))),closeFn:l.closePosition.bind(l),editFn:n.supportPositionBrackets?l.editPositionBrackets.bind(l):null,reverseFn:n.supportReversePosition?l.reversePosition.bind(l):null,columns:(0,a.ensureDefined)(t.positionColumns),subscriptions:{rowUpdateDelegate:new p([this._adapter.positionPartialUpdate,this._adapter.positionUpdate]),countUpdateDelegate:this._adapter.positionUpdate,plSubscription:this._adapter.subscribePL.bind(this._adapter)}},trades:n.supportTrades?{source:()=>this._adapter.trades().then((e=>e.filter((e=>0!==e.qty)))),closeFn:n.supportCloseTrade?l.closeTrade.bind(l):null,editFn:n.supportTradeBrackets?(0,a.ensureDefined)(l.editTradeBrackets).bind(l):null,reverseFn:null,columns:(0,a.ensureDefined)(t.tradeColumns||t.positionColumns),subscriptions:{rowUpdateDelegate:new p([this._adapter.tradePartialUpdate,this._adapter.tradeUpdate]),countUpdateDelegate:this._adapter.tradeUpdate,plSubscription:this._adapter.subscribePL.bind(this._adapter)}}:null,fullUpdateDelegate:this._adapter.currentAccountUpdate,overlapManager:this._overlapManager,getTableSettingsStorage:this._trading.getBrokerTradingSettingsStorage,trackEvent:this._trading.trackEvent}}}const h=this._adapter.orders.bind(this._adapter),m=this._makeTableRowEventsHandlers(c,Ri.TradedItemType.Order);d.orderPage={ctor:li,ctorArguments:{id:"orders",title:s.t(null,void 0,i(293104)),source:h,cancelFn:l.cancelOrder.bind(l),modifyFn:l.modifyOrder.bind(l),columns:t.orderColumns,tableId:e+".orders",tableRowEventsHandlers:m,formatters:u,priceFormatterFn:this.priceFormatter.bind(this),subscriptions:{fullUpdateDelegate:this._adapter.currentAccountUpdate,rowUpdateDelegate:new p([this._adapter.orderPartialUpdate,this._adapter.orderUpdate]),orderUpdateDelegate:this._adapter.orderUpdate},possibleOrderStatuses:ws.filter((e=>!t.possibleOrderStatuses||-1!==t.possibleOrderStatuses.indexOf(e))),filter:()=>!0,initialSorting:t.orderColumnsSorting,configFlags:n,overlapManager:this._overlapManager,getTableSettingsStorage:this._trading.getBrokerTradingSettingsStorage,trackEvent:this._trading.trackEvent}};const _=this._adapter.ordersHistory.bind(this._adapter);return r.history&&(d.historyPage={ctor:li,ctorArguments:{id:"history",title:s.t(null,void 0,i(197698)),source:()=>Promise.all([h(),_()]).then((e=>[].concat(...e))),cancelFn:l.cancelOrder.bind(l),modifyFn:l.modifyOrder.bind(l),columns:(0,a.ensureDefined)(t.historyColumns),tableId:e+".history",tableRowEventsHandlers:m,formatters:u,priceFormatterFn:this.priceFormatter.bind(this),subscriptions:{fullUpdateDelegate:this._adapter.currentAccountUpdate,rowUpdateDelegate:new p([this._adapter.orderPartialUpdate,this._adapter.orderUpdate]),orderUpdateDelegate:this._adapter.orderUpdate},
possibleOrderStatuses:Cs.filter((e=>!t.possibleOrderStatuses||-1!==t.possibleOrderStatuses.indexOf(e))),filter:e=>![3,4,6].includes(e.status),initialSorting:t.historyColumnsSorting,isAlwaysActive:!0,configFlags:n,overlapManager:this._overlapManager,getTableSettingsStorage:this._trading.getBrokerTradingSettingsStorage,trackEvent:this._trading.trackEvent}}),d.customPages=t.pages.map((t=>{const i=t.tables.map((i=>{var s;return{id:`${e}.${t.id}.${i.id}`,title:i.title||"",columns:i.columns,source:i.getData,options:{className:"balances",idProperty:"id",defaultSortingParameters:i.initialSorting},formatters:u,priceFormatterFn:this.priceFormatter.bind(this),subscriptions:{fullUpdateDelegate:this._adapter.currentAccountUpdate,rowUpdateDelegate:i.changeDelegate},flags:i.flags,rowEventsHandlers:(null===(s=i.flags)||void 0===s?void 0:s.supportLinking)?{onClick:this._linkTableRowSymbol}:void 0}}));return{ctor:xt,ctorArguments:{id:t.id,title:t.title,tables:i,overlapManager:this._overlapManager,getTableSettingsStorage:this._trading.getBrokerTradingSettingsStorage,trackEvent:this._trading.trackEvent}}})),r.notifications&&(d.notificationsPage={ctor:At,ctorArguments:{id:"notifications-log",title:s.t(null,void 0,i(386249)),source:()=>Promise.resolve(this._trading.getNotifications()),columns:Dt,formatters:[],priceFormatterFn:this.priceFormatter.bind(this),subscriptions:{fullUpdateDelegate:this._trading.onNotificationsChanged,rowUpdateDelegate:this._trading.onNewNotification},overlapManager:this._overlapManager,initialSorting:{property:"time",asc:!1},rowBadgeTypeInferrer:Es,getTableSettingsStorage:this._trading.getBrokerTradingSettingsStorage,trackEvent:this._trading.trackEvent}}),d}_getPagesAvailabilityInfo(){const e=this._adapter.metainfo().configFlags;return{positions:Boolean(e.supportPositions),orders:!0,history:Boolean(e.supportOrdersHistory),tradeHistory:Boolean(e.supportTradeHistoryTabInAccountManager),notifications:Boolean(c.enabled("show_trading_notifications_history")&&e.showNotificationsLog)}}_renderTemplate(){const e=this._getPagesAvailabilityInfo(),t=Object.values(e).filter((e=>e)).length+this._adapter.accountManagerInfo().pages.length,i=(0,a.ensureNotNull)((0,_.parseHtmlElement)(((e=0)=>`\n<div class="${fs.accountManager}">\n\t<div class="js-account-manager-header"></div>\n\t<div class="${fs.topPanel} js-top-panel"></div>\n\t<div class="${fs.secondaryPanel} js-secondary-panel"></div>\n\t<div class="${fs.content} js-content">\n\t\t${`<div class="${fs.page} js-page"></div>`.repeat(e)}\n\t</div>\n</div>`)(t)));this._container.appendChild(i)}async _create(){const e=await this._getPages();for(const t of Object.values(e))if(Array.isArray(t)){const e=t.map((e=>new e.ctor(e.ctorArguments)));this._pages.push(...e)}else this._pages.push(new t.ctor(t.ctorArguments));const t=(0,a.ensureNotNull)(this._container.querySelector(".js-content"));this._contentResizeObserver.observe(t);const i=this._container.querySelectorAll(".js-page");this._pages.forEach(((e,t)=>{i[t].innerHTML="",i[t].appendChild(e.content()),i[t].setAttribute(ys,e.id())
})),this._initializeTabs(),this._render()}async _render(){let e;1===this._mode&&(e=await(0,Ii.makeAccountManagerHeaderDropdownsProps)(this._trading,this._summaryFieldsVisibilityManager,(()=>this._getDataExporters()))),n.render(o.createElement(Di,{...e,summaryFields:this._info.summary,summaryFieldsVisibilityManager:this._summaryFieldsVisibilityManager,tradingPanel:this._trading.tradingPanel,setOrderPanelVisibility:this._trading.setOrderPanelVisibility,setDOMPanelVisibility:this._trading.setDOMPanelVisibility,isBetaBroker:this._adapter.metainfo().isBeta}),this._container.querySelector(".js-account-manager-header"))}_getDataExporters(){const e=new Map;for(const t of this._pages){const i=t.getExporters();e.set(i.title,i)}return e}_subscribe(){const e=e=>{e?this._updatePagesActiveStatuses():this._pages.forEach((e=>e.setActive(!1)))};this._bridge.visible.subscribe(e,{callWithLast:!0}),this._dispatchVisibilityHandler=()=>this._bridge.visible.unsubscribe(e)}_updatePagesActiveStatuses(){const e=this._currentPage(),t=e.id();void 0!==this._contentHeight&&e.setHeight(this._contentHeight);for(const e of this._pages)e.setActive(1===this._adapter.connectionStatus()&&e.id()===t)}_attachFilter(){const e=this._currentPage(),t=e.filterTabs(),i=(0,a.ensureNotNull)(this._container.querySelector(".js-secondary-panel"),"Filter container");0===t.length?n.unmountComponentAtNode(i):n.render(o.createElement(gs,{key:e.id(),id:e.id(),onActivate:({id:t})=>e.activateFilterTab(t),defaultActiveFilterTabId:e.activeFilterTabId(),items:t}),i)}_fullUpdate(){this._pages.forEach((e=>e.reset()))}_unsubscribe(){this._contentResizeObserver.disconnect(),this._dispatchVisibilityHandler&&(this._dispatchVisibilityHandler(),delete this._dispatchVisibilityHandler)}_currentPage(){const e=this._ensuredCurrentTabId();return(0,a.ensureDefined)(this._pages.find((t=>t.id()===e)),"Current page")}async _contextItems(e){const t=this._currentPage().contextRow(e);if(void 0===t)return;const o="Bottom Panel Context Menu",n=this._currentPage().contextItems(e);if(this._info&&this._info.contextMenuActions)return this._info.contextMenuActions(e,n);const r={separator:!0},a=[],d=t.symbol;if(d)if(1===this._mode){0!==n.length&&a.push(r);const e=await this._trading.makeNewOrderContextMenuAction(d,o);a.push(e)}else 0!==n.length&&a.push(r),a.push({text:s.t(null,void 0,i(903147)).replace("{symbol}",d),icon:bs,action:()=>{this._trading.trackEvent(o,"Open chart"),l.linking.symbol.setValue(d),this._trading.tradingPanelPopup.hide()}});else;return c.enabled("property_pages")&&(0!==n.length&&a.push(r),a.push({text:(0,g.appendEllipsis)(s.t(null,void 0,i(670360))),icon:vs,action:()=>{this._trading.trackEvent(o,"Trading Properties"),this._trading.showTradingProperties()}})),n.concat(a)}}function Es(e){return"danger"===e.type?v.Danger:"success"===e.type?v.Success:void 0}},27938:(e,t,i)=>{"use strict";var s;i.d(t,{TradedItemType:()=>s}),function(e){e[e.Position=0]="Position",e[e.Order=1]="Order"}(s||(s={}))},75577:(e,t,i)=>{"use strict";i.d(t,{TradingLayoutBreakpoint:()=>o});var s=i(312282)
;const o={Mobile:s.mobile}},761248:(e,t,i)=>{"use strict";function s(e){return e.charAt(0).toUpperCase()+e.substring(1)}i.d(t,{capitalizeFirstLetter:()=>s})},602948:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M5.5 6.44a.75.75 0 1 0-1 1.12l1-1.12zM9 10.5l-.5.56c.29.25.71.25 1 0L9 10.5zm4.5-2.94a.75.75 0 0 0-1-1.12l1 1.12zm-9 0l4 3.5 1-1.12-4-3.5-1 1.12zm5 3.5l4-3.5-1-1.12-4 3.5 1 1.12z"/></svg>'},610600:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="none"><path stroke="currentColor" d="M13.5 7l1.65-1.65a.5.5 0 0 0 0-.7l-1.8-1.8a.5.5 0 0 0-.7 0L11 4.5M13.5 7L11 4.5M13.5 7l-8.35 8.35a.5.5 0 0 1-.36.15H2.5v-2.3a.5.5 0 0 1 .15-.35L11 4.5"/></svg>'},499084:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16Zm3.87-12.15c.36.2.49.66.28 1.02l-4 7a.75.75 0 0 1-1.18.16l-3-3a.75.75 0 1 1 1.06-1.06l2.3 2.3 3.52-6.14a.75.75 0 0 1 1.02-.28Z"/></svg>'},530162:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" fill-rule="evenodd" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM9 4c-.79 0-1.38.7-1.25 1.48l.67 4.03a.59.59 0 0 0 1.16 0l.67-4.03A1.27 1.27 0 0 0 9 4Zm0 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>'},527941:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16ZM8 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm1 2c.49 0 1 .59 1 1v3.01c0 .42-.51.99-1 .99s-1-.57-1-.99V9c0-.41.51-1 1-1Z"/></svg>'},482353:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18"><path fill="currentColor" d="M9 17A8 8 0 1 0 9 1a8 8 0 0 0 0 16Zm0-3a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM6 7.5a3 3 0 1 1 6 0c0 .96-.6 1.48-1.17 1.98-.55.48-1.08.95-1.08 1.77h-1.5c0-1.37.7-1.9 1.33-2.38.49-.38.92-.71.92-1.37C10.5 6.67 9.82 6 9 6s-1.5.67-1.5 1.5H6Z"/></svg>'},685014:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" width="28" height="28"><path fill="currentColor" fill-rule="evenodd" d="M8 5.5h12A2.5 2.5 0 0 1 22.5 8v12a2.5 2.5 0 0 1-2.5 2.5H8A2.5 2.5 0 0 1 5.5 20V8A2.5 2.5 0 0 1 8 5.5zM4 8a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4H8a4 4 0 0 1-4-4V8zm15.49 5.07a.75.75 0 1 0-.98-1.14l-2.97 2.55-2.51-2.51a.75.75 0 0 0-1.02-.04l-3.5 3a.75.75 0 1 0 .98 1.14l2.97-2.55 2.51 2.51c.28.28.72.3 1.02.04l3.5-3z"/></svg>'},333765:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"><path fill="currentColor" d="M9.707 9l4.647-4.646-.707-.708L9 8.293 4.354 3.646l-.708.708L8.293 9l-4.647 4.646.708.708L9 9.707l4.646 4.647.708-.707L9.707 9z"/></svg>'},407499:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 6 26" width="3" height="13" fill="currentColor"><circle cx="3" cy="3" r="3"/><circle cx="3" cy="13" r="3"/><circle cx="3" cy="23" r="3"/></svg>'},586240:e=>{"use strict"
;e.exports=JSON.parse('{"size-header-height":"64px","media-phone-vertical":"screen and (max-width: 479px)","media-mf-phone-landscape":"screen and (min-width: 568px)"}')},987323:e=>{e.exports={ar:["إغلاق"],ca_ES:"Close",cs:"Close",de:"Close",el:"Close",en:"Close",es:["Cierre"],fa:"Close",fr:["Fermer"],he_IL:["סגור"],hu_HU:["Zárás"],id_ID:["Tutup"],it:["Chiudi"],ja:["決済"],ko:["종"],ms_MY:["Tutup"],nl_NL:"Close",pl:["Zamknij"],pt:["Fechar"],ro:"Close",ru:["Закрыть позицию"],sv:["Stäng"],th:["ปิด"],tr:["Kapat"],vi:["Đóng"],zh:["平仓"],zh_TW:["平倉"]}},398065:e=>{e.exports={ar:["إنشاء العمود"],ca_ES:["Configuració columna"],cs:"Column setup",de:["Säulen-Einstellung"],el:"Column setup",en:"Column setup",es:["Configuración columna"],fa:"Column setup",fr:["Configuration des colonnes"],he_IL:["הגדרת עמודות"],hu_HU:["Oszlopbeállítás"],id_ID:["Pengaturan Kolom"],it:["Impostazione colonne"],ja:["カラムの設定"],ko:["컬럼 셋업"],ms_MY:["Persediaan lajur"],nl_NL:"Column setup",pl:["Konfiguracja kolumn"],pt:["Configuração das Colunas"],ro:"Column setup",ru:["Настройка столбцов"],sv:["Ordna kolumner"],th:["ตั้งค่าคอลัมน์"],tr:["Sütun ayarları"],vi:["Thiết lập Cột"],zh:["栏目设置"],zh_TW:["欄目設定"]}},620036:e=>{e.exports={ar:["إلغاء"],ca_ES:["Cancel·la"],cs:["Zrušit"],de:["Abbrechen"],el:["Άκυρο"],en:"Cancel",es:["Cancelar"],fa:["لغو"],fr:["Annuler"],he_IL:["ביטול"],hu_HU:["Törlés"],id_ID:["Batal"],it:["Annulla"],ja:["キャンセル"],ko:["취소"],ms_MY:["Batal"],nl_NL:["Annuleren"],pl:["Anuluj"],pt:["Cancelar"],ro:"Cancel",ru:["Отмена"],sv:["Avbryt"],th:["ยกเลิก"],tr:["İptal"],vi:["Hủy bỏ"],zh:["取消"],zh_TW:["取消"]}},316075:e=>{e.exports={ar:["إلغاء أمر"],ca_ES:["Cancel·lar ordre"],cs:"Cancel Order",de:["Auftrag abbrechen"],el:"Cancel Order",en:"Cancel Order",es:["Cancelar orden"],fa:"Cancel Order",fr:["Annuler Ordre"],he_IL:["בטל פקודה"],hu_HU:["Megbízás Törlése"],id_ID:["Batalkan Order"],it:["Annulla ordine"],ja:["注文をキャンセル"],ko:["주문 취소"],ms_MY:["Batalkan Pesanan"],nl_NL:"Cancel Order",pl:["Anuluj zlecenie"],pt:["Cancelar ordem"],ro:"Cancel Order",ru:["Отменить заявку"],sv:["Avbryt order"],th:["ยกเลิกคำสั่ง"],tr:["Emir İptal"],vi:["Hủy Lệnh"],zh:["取消订单"],zh_TW:["取消報單"]}},437431:e=>{e.exports={ar:["إغلاق صفقة"],ca_ES:"Close Position",cs:"Close Position",de:["Position Schließen"],el:"Close Position",en:"Close Position",es:["Cerrar posición"],fa:"Close Position",fr:["Fermer la Position"],he_IL:["סגור פוזיציה"],hu_HU:["Záró Pozíció"],id_ID:["Tutup Posisi"],it:["Chiudi posizione"],ja:["ポジション決済"],ko:["포지션 닫기"],ms_MY:["Kedudukan Penutup"],nl_NL:"Close Position",pl:["Zamknij pozycję"],pt:["Fechar Posição"],ro:"Close Position",ru:["Закрыть позицию"],sv:["Stäng position"],th:["ปิดสถานะ"],tr:["Pozisyonu Kapat"],vi:["Đóng Trạng thái"],zh:["平仓"],zh_TW:["平倉"]}},728534:e=>{e.exports={ar:["الحسابات"],ca_ES:"Accounts",cs:"Accounts",de:["Konten"],el:"Accounts",en:"Accounts",es:["Cuentas"],fa:"Accounts",fr:["Comptes"],he_IL:["חשבונות"],hu_HU:"Accounts",id_ID:["Akun"],it:["Conti"],ja:["口座"],ko:["계정"],ms_MY:["Akaun"],nl_NL:"Accounts",pl:["Konta"],pt:["Contas"],ro:"Accounts",ru:["Счета"],
sv:["Konton"],th:["บัญชี"],tr:["Hesaplar"],vi:["Tài khoản"],zh:["账户"],zh_TW:["賬戶"]}},695271:e=>{e.exports={ar:["كل"],ca_ES:["Tots"],cs:["Vše"],de:["Alle"],el:"All",en:"All",es:["Todas"],fa:["همه"],fr:["Tout"],he_IL:["הכל"],hu_HU:["Összes"],id_ID:["Seluruhnya"],it:["Tutto"],ja:["すべて"],ko:["전체"],ms_MY:["Semua"],nl_NL:"All",pl:["Wszystko"],pt:["Todos"],ro:"All",ru:["Все"],sv:["Alla"],th:["ทั้งหมด"],tr:["Tümü"],vi:["Tất cả"],zh:["全部"],zh_TW:["全部"]}},116744:e=>{e.exports={ar:["تعديل"],ca_ES:["Editar"],cs:["Upravit"],de:["Bearbeiten"],el:"Edit",en:"Edit",es:["Editar"],fa:["ویرایش"],fr:["Editer"],he_IL:["עריכה"],hu_HU:["Szerkesztés"],id_ID:"Edit",it:["Modifica"],ja:["編集"],ko:["편집"],ms_MY:"Edit",nl_NL:["Aanpassen"],pl:["Edytuj"],pt:["Editar"],ro:"Edit",ru:["Редактировать"],sv:["Redigera"],th:["ปรับเปลียน"],tr:["Düzenle"],vi:["Chỉnh sửa"],zh:["编辑"],zh_TW:["編輯"]}},125769:e=>{e.exports={ar:["تصدير البيانات"],ca_ES:["Exporta dades"],cs:"Export data",de:["Daten exportieren"],el:"Export data",en:"Export data",es:["Exportar datos"],fa:"Export data",fr:["Exporter les données"],he_IL:["ייצוא נתונים"],hu_HU:"Export data",id_ID:["Ekspor data"],it:["Esporta dati"],ja:["データのエクスポート"],ko:["데이터 익스포트"],ms_MY:["Eksport data"],nl_NL:"Export data",pl:["Eksportuj dane"],pt:["Exportar dados"],ro:"Export data",ru:["Экспорт данных"],sv:["Exportera data"],th:["ส่งออกข้อมูล"],tr:["Verileri dışa aktar"],vi:["Xuất dữ liệu"],zh:["导出数据"],zh_TW:["匯出數據"]}},197698:e=>{e.exports={ar:["السجل"],ca_ES:"History",cs:"History",de:["Verlauf"],el:"History",en:"History",es:["Histórico"],fa:"History",fr:["Historique"],he_IL:["היסטוריה"],hu_HU:["Előzmények"],id_ID:["Histori"],it:["Storico"],ja:["履歴"],ko:["과거"],ms_MY:["Sejarah"],nl_NL:"History",pl:["Historia"],pt:["Histórico"],ro:"History",ru:["История"],sv:["Historik"],th:["ประวัติศาสตร์"],tr:["Geçmiş"],vi:["Lịch sử"],zh:["历史"],zh_TW:["歷史"]}},42168:e=>{e.exports={ar:["مراكز فردية"],ca_ES:"Individual Positions",cs:"Individual Positions",de:["Einzelpositionen"],el:"Individual Positions",en:"Individual Positions",es:["Posiciones individuales"],fa:"Individual Positions",fr:["Positions individuelles"],he_IL:"Individual Positions",hu_HU:"Individual Positions",id_ID:["Posisi Individual"],it:["Posizioni individuali"],ja:["個別ポジション"],ko:["개별 포지션"],ms_MY:["Kedudukan Individu"],nl_NL:"Individual Positions",pl:["Pojedyncze Pozycje"],pt:["Posições Individuais"],ro:"Individual Positions",ru:["Индивидуальные позиции"],sv:["Individuella positioner"],th:["สถานะส่วนบุคคล"],tr:["Bireysel Pozisyonlar"],vi:["Vị thế Cá nhân"],zh:["个人持仓"],zh_TW:["個人部位"]}},903147:e=>{e.exports={ar:["فتح الرسم البياني {symbol}"],ca_ES:"Open chart with {symbol}",cs:"Open chart with {symbol}",de:["Chart öffnen für {symbol}"],el:"Open chart with {symbol}",en:"Open chart with {symbol}",es:["Abrir gráfico con {symbol}"],fa:"Open chart with {symbol}",fr:["Ouvrir le graphique avec {symbol}"],he_IL:["פתח גרף עם {symbol}"],hu_HU:"Open chart with {symbol}",id_ID:["Buka chart {symbol}"],it:["Apri grafico {symbol}"],ja:["{symbol} のチャートを開く"],ko:["{symbol} 차트 열기"],
ms_MY:["Buka carta dengan {symbol}"],nl_NL:"Open chart with {symbol}",pl:["Otwórz wykres z {symbol}"],pt:["Abrir o gráfico com {symbol}"],ro:"Open chart with {symbol}",ru:["Открыть график {symbol}"],sv:["Öppet diagram med {symbol}"],th:["เปิดชาร์ตด้วย {symbol}"],tr:["Grafiği {symbol} ile aç"],vi:["Mở biểu đồ với {symbol}"],zh:["打开{symbol}图表"],zh_TW:["打開 {symbol} 圖表"]}},293104:e=>{e.exports={ar:["أوامر التداول"],ca_ES:["Ordres"],cs:"Orders",de:"Orders",el:"Orders",en:"Orders",es:["Órdenes"],fa:"Orders",fr:["Ordres"],he_IL:["פקודות"],hu_HU:["Megbízások"],id_ID:["Order"],it:["Ordini"],ja:["注文"],ko:["주문"],ms_MY:["Pesanan"],nl_NL:"Orders",pl:["Zlecenia"],pt:["Ordens"],ro:"Orders",ru:["Заявки"],sv:["Ordrar"],th:["ออเดอร์"],tr:["Emirler"],vi:["Lệnh"],zh:["订单"],zh_TW:["訂單"]}},433241:e=>{e.exports={ar:["تعديل الأمر"],ca_ES:["Modifica ordre"],cs:"Modify Order",de:["Order modifizieren"],el:"Modify Order",en:"Modify Order",es:["Modificar orden"],fa:"Modify Order",fr:["Modifier l'ordre"],he_IL:["שנה הוראה"],hu_HU:"Modify Order",id_ID:["Memodifikasi Order"],it:["Modifica ordine"],ja:["注文の変更"],ko:["오더 고치기"],ms_MY:["Ubah Suai Pesanan"],nl_NL:"Modify Order",pl:["Modyfikuj zlecenie"],pt:["Modificar ordem"],ro:"Modify Order",ru:["Изменить заявку"],sv:["Ändra order"],th:["แก้ไขออเดอร์"],tr:["Emir Değiştir"],vi:["Chỉnh Lệnh"],zh:["修改订单"],zh_TW:["修改訂單"]}},141610:e=>{e.exports={ar:["المزيد"],ca_ES:["Més"],cs:["Více"],de:["Mehr"],el:"More",en:"More",es:["Más"],fa:["بیشتر"],fr:["Plus"],he_IL:["עוד"],hu_HU:["Több"],id_ID:["Lebih lanjut"],it:["Altro"],ja:["詳細"],ko:["더보기"],ms_MY:["Lebih"],nl_NL:["Meer"],pl:["Więcej"],pt:["Mais"],ro:"More",ru:["Ещё"],sv:["Mer"],th:["เพิ่มเติม"],tr:["Daha Fazla"],vi:["Thêm nữa"],zh:["更多"],zh_TW:["更多"]}},386249:e=>{e.exports={ar:["سجل الإشعارات"],ca_ES:"Notifications log",cs:"Notifications log",de:["Handelsprotokoll"],el:"Notifications log",en:"Notifications log",es:["Registro de notificaciones"],fa:"Notifications log",fr:["Journal des notifications"],he_IL:["יומן התראות"],hu_HU:["Értesítési napló"],id_ID:["Log pemberitahuan"],it:["Registro notifiche"],ja:["通知履歴"],ko:["알림 로그"],ms_MY:["Log Notifikasi"],nl_NL:"Notifications log",pl:["Dziennik powiadomień"],pt:["Registro de notificações"],ro:"Notifications log",ru:["Журнал уведомлений"],sv:["Meddelandelogg"],th:["บันทึกการแจ้งเตือน"],tr:["Bildirimler"],vi:["Nhật ký thông báo"],zh:["通知日志"],zh_TW:["通知紀錄"]}},518617:e=>{e.exports={ar:["إجمالي المراكز"],ca_ES:"Net Positions",cs:"Net Positions",de:["Nettopositionen"],el:"Net Positions",en:"Net Positions",es:["Posiciones Netas"],fa:"Net Positions",fr:["Positions nettes"],he_IL:["פוזיציות נטו"],hu_HU:"Net Positions",id_ID:["Posisi Bersih"],it:["Posizioni nette"],ja:["ネットポジション"],ko:["넷 포지션"],ms_MY:["Kedudukan Bersih"],nl_NL:"Net Positions",pl:["Pozycje Netto"],pt:["Posições Líquidas"],ro:"Net Positions",ru:["Чистые позиции"],sv:["Nettopositioner"],th:["สถานะสุทธิ"],tr:["Net Pozisyonlar"],vi:["Vị thế thực"],zh:["净持仓"],zh_TW:["淨部位"]}},522382:e=>{e.exports={ar:["صف ملخص"],ca_ES:"Summary row",cs:"Summary row",
de:["Zusammenfassung der Zeile"],el:"Summary row",en:"Summary row",es:["Línea de resumen"],fa:"Summary row",fr:["Ligne de résumé"],he_IL:["שורת סיכום"],hu_HU:"Summary row",id_ID:["Row rangkuman"],it:["Riga sommario"],ja:["サマリー行"],ko:["요약줄"],ms_MY:["Baris kesimpulan"],nl_NL:"Summary row",pl:["Wiersz podsumowania"],pt:["Linha de resumo"],ro:"Summary row",ru:["Информация по счёту"],sv:["Sammanfattning av rad"],th:["แถวสรุป"],tr:["Özet satırı"],vi:["Tóm tắt hàng"],zh:["摘要行"],zh_TW:["摘要行"]}},948313:e=>{e.exports={ar:["مراكز تداول"],ca_ES:["Posicions"],cs:"Positions",de:["Positionen"],el:"Positions",en:"Positions",es:["Posiciones"],fa:"Positions",fr:"Positions",he_IL:["פוזיציות"],hu_HU:["Pozíciók"],id_ID:["Posisi"],it:["Posizioni"],ja:["ポジション"],ko:["포지션"],ms_MY:["Kedudukan"],nl_NL:"Positions",pl:["Pozycje"],pt:["Posições"],ro:"Positions",ru:["Позиции"],sv:["Positioner"],th:["ตำแหน่ง"],tr:["Pozisyonlar"],vi:["Vị thế"],zh:["持仓"],zh_TW:["持倉"]}},911810:e=>{e.exports={ar:["حماية المركز"],ca_ES:"Protect Position",cs:"Protect Position",de:["Position absichern"],el:"Protect Position",en:"Protect Position",es:["Proteger posición"],fa:"Protect Position",fr:["Protéger la position"],he_IL:["הגן על הפוזיציה."],hu_HU:"Protect Position",id_ID:["Lindungi Posisi"],it:["Proteggi posizione"],ja:["ポジション保護"],ko:["프로텍트 포지션"],ms_MY:["Melindungi Kedudukan"],nl_NL:"Protect Position",pl:["Zabezpiecz pozycję"],pt:["Proteger a posição"],ro:"Protect Position",ru:["Защитить позицию"],sv:["Skydda position"],th:["ป้องกันโพซิชั่น"],tr:["Pozisyonu Koru"],vi:["Bảo vệ Vị thế"],zh:["保护持仓"],zh_TW:["保護倉位"]}},419780:e=>{e.exports={ar:["عكس الصفقة"],ca_ES:"Reverse Position",cs:"Reverse Position",de:["Position Umkehren"],el:"Reverse Position",en:"Reverse Position",es:["Revertir posición"],fa:"Reverse Position",fr:["Inverser la Position"],he_IL:["הפוך פוזיציה"],hu_HU:["Fordított Pozíció"],id_ID:["Membalik Posisi"],it:["Inverti posizione"],ja:["ポジションを反転"],ko:["리버스 포지션"],ms_MY:["Kedudukan Terbalik"],nl_NL:"Reverse Position",pl:["Odwróć pozycje"],pt:["Reverter Posição"],ro:"Reverse Position",ru:["Перевернуть позицию"],sv:["Omvänd position"],th:["ตำแหน่งการย้อนกลับ"],tr:["Karşıt Pozisyon"],vi:["Vị thế Đảo ngược"],zh:["平仓反手"],zh_TW:["平倉反手"]}},120294:e=>{e.exports={ar:["لم يتم التعرف على الرمز. يتم عرض بيانات التداول في وضع القراءة فقط."],ca_ES:"The symbol is not recognized. Trading data is displayed in read-only mode.",cs:"The symbol is not recognized. Trading data is displayed in read-only mode.",de:["Das Symbol wird nicht erkannt. Die Trading-Daten werden im Lese-Modus angezeigt."],el:"The symbol is not recognized. Trading data is displayed in read-only mode.",en:"The symbol is not recognized. Trading data is displayed in read-only mode.",es:["No se ha reconocido el símbolo. Los datos del trading se muestran en modo de solo lectura."],fa:"The symbol is not recognized. Trading data is displayed in read-only mode.",fr:["Le symbole n'est pas reconnu. Les données de trading sont affichées en mode lecture seule."],
he_IL:["הסימול אינו מזוהה. נתוני המסחר מוצגים במצב קריאה בלבד."],hu_HU:"The symbol is not recognized. Trading data is displayed in read-only mode.",id_ID:["Simbol tidak dikenali. Data trading ditampilkan dalam mode hanya-membaca."],it:["Il simbolo non è riconosciuto. I dati di trading sono mostrati in modalità di sola lettura."],ja:["シンボルが認識できません。取引データは読み取り専用で表示されています。"],ko:["알 수 없는 심볼입니다. 트레이딩 데이터는 리드-온리 모드로 디스플레이됩니다."],ms_MY:["Simbol adalah tidak dikenali. Data perdagangan ini dipaparkan dalam mod baca sahaja."],nl_NL:"The symbol is not recognized. Trading data is displayed in read-only mode.",pl:["Symbol nie został rozpoznany. Dane handlowe są wyświetlane w trybie tylko do odczytu."],pt:["O símbolo não é reconhecido. Os dados de negociação são exibidos no modo somente leitura."],ro:"The symbol is not recognized. Trading data is displayed in read-only mode.",ru:["Символ не распознаётся. Торговые данные будут отображаться режиме только для чтения."],sv:["Symbolen känns inte igen. Handelsdata visas i skrivskyddat läge."],th:["ไม่รู้จักสัญลักษณ์ ข้อมูลการซื้อขายจะแสดงในโหมดอ่านอย่างเดียว"],tr:["Sembol tanınmıyor. İşlem verileri ancak salt okunur modda görüntülenebilir."],vi:["Mã giao dịch không được xác nhận. Dữ liệu giao dịch được hiển thị ở chế độ chỉ đọc."],zh:["此商品代码无法识别。交易数据以只读模式显示。"],zh_TW:["此商品代碼無法識別。交易數據以唯讀模式顯示。"]}},767369:e=>{e.exports={ar:["عنوان"],ca_ES:["Títol"],cs:"Title",de:["Titel"],el:"Title",en:"Title",es:["Título"],fa:"Title",fr:["Titre"],he_IL:["כותרת"],hu_HU:["Cím"],id_ID:["Judul"],it:["Titolo"],ja:["タイトル"],ko:["타이틀"],ms_MY:["Tajuk"],nl_NL:"Title",pl:["Tytuł"],pt:["Título"],ro:"Title",ru:["Заголовок"],sv:["Titel"],th:["หัวเรื่อง"],tr:["Başlık"],vi:["Tiêu đề"],zh:["标题"],zh_TW:["標題"]}},670360:e=>{e.exports={ar:["ضبط إعدادات التداول"],ca_ES:"Trading Settings",cs:"Trading Settings",de:["Trading Einstelllungen"],el:"Trading Settings",en:"Trading Settings",es:["Configuración del trading"],fa:"Trading Settings",fr:["Paramètres de trading"],he_IL:["הגדרות מסחר"],hu_HU:"Trading Settings",id_ID:["Pengaturan Trading"],it:["Impostazioni trading"],ja:["トレード設定"],ko:["트레이딩 세팅"],ms_MY:["Tetapan Dagangan"],nl_NL:"Trading Settings",pl:["Ustawienia tradingowe"],pt:["Preferências de Negociação"],ro:"Trading Settings",ru:["Настройки торговли"],sv:["Inställningar för handel"],th:["การตั้งค่าการซื้อขาย"],tr:["İşlem Ayarları"],vi:["Cài đặt Giao dịch"],zh:["交易设置"],zh_TW:["交易設定"]}}}]);