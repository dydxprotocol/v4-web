(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[3030],{52932:t=>{t.exports={separator:"separator-s5VT2kNH",scrollable:"scrollable-s5VT2kNH"}},76207:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ConfirmInputsDialogRenderer:()=>m});var i=n(87995),o=n(59496),r=n(25177),s=n(76669),l=n(70981),u=n(42554),c=n(34453),a=n(97496),p=n.n(a),d=n(1227),h=n(52932);function f(t){const{title:e,confirmInputs:n,inputsProperty:i,model:a,confirmInputsType:f,onCancel:m,onSubmit:y,onClose:S,onStudyInputChange:C}=t,[I,b]=(0,o.useState)(!0),_=(0,o.useMemo)((function(){const t=new(p());return{isInputsStudy:!0,symbolsResolved:()=>t,resolvedSymbolInfoBySymbol:()=>null,tempProperties:i}}),[]),w=(0,o.useRef)(null),[D,g]=(0,o.useState)(E());return(0,o.useEffect)(()=>{if(!d.CheckMobile.any()&&I&&"symbol"===f&&w.current){const t=w.current.querySelector("input");t&&t.focus()}},[I]),o.createElement(s.AdaptiveConfirmDialog,{dataName:"confirm-inputs-dialog",title:e,isOpened:I,onSubmit:function(){y(i.state().inputs),T()},onCancel:m,onClickOutside:T,onClose:T,render:()=>o.createElement(o.Fragment,null,o.createElement("div",{className:h.separator}),o.createElement(u.TouchScrollContainer,{className:h.scrollable,onScroll:v},o.createElement(c.InputsTabContent,{reference:w,property:i,model:a,study:_,inputs:n,onStudyInputChange:k}))),defaultActionOnClose:"none",submitButtonText:(0,r.t)("Apply"),submitButtonDisabled:D,submitOnEnterKey:!1});function v(){l.globalCloseDelegate.fire()}function T(){b(!1),S()}function E(){const{inputs:t}=i.state();for(const e of n)if("symbol"===e.type&&!e.optional&&""===t[e.id])return!0;return!1}function k(t,e){null==C||C(t,e),g(E())}}class m{constructor(t,e,n,o,r,s,l,u){this._container=document.createElement("div"),this._handleClose=()=>{i.unmountComponentAtNode(this._container),this._onClose()},this._title=t,this._confirmInputs=e,this._model=r,this._confirmInputsType=o,this._onSubmit=s,this._onClose=l,this._onStudyInputChange=u,this._inputsProperty=n}show(){i.render(o.createElement(f,{title:this._title,confirmInputs:this._confirmInputs,inputsProperty:this._inputsProperty,model:this._model,confirmInputsType:this._confirmInputsType,onSubmit:this._onSubmit,onCancel:()=>{},onClose:this._handleClose,onStudyInputChange:this._onStudyInputChange}),this._container)}}},59393:(t,e,n)=>{"use strict";n.r(e),n.d(e,{selectInputValuesOnChart:()=>l});var i=n(88537),o=n(2996),r=n(25177),s=n(11786);o.colorsPalette["color-cold-gray-500"];async function l(t,e,n,o,l){let u;const c=(0,s.getInputGroups)(e);t.model().model();for await(const t of c)await a(t).catch(t=>{throw new Error(t)});return{customSourceId:void 0,destPane:u};async function a(t){if((0,s.isGroup)(t))if((0,s.isInputInlines)(t)){const e=function(t){if(2!==t.length||t[0].type===t[1].type)return null;return"price"===t[0].type?{price:t[0],time:t[1]}:{price:t[1],time:t[0]}}(t.children);if(e){const{time:n,price:i}=e,s=n.inline?(0,r.t)('Set the "{inputInline}" time and price for "{studyShortDescription}"',{replace:{inputInline:n.inline,studyShortDescription:o}}):(0,
r.t)('Set the time and price for "{studyShortDescription}"',{replace:{studyShortDescription:o}}),l=h(t.id);await d(t,"all",null!=l?l:s,n.id,i.id)}else for await(const e of t.children)await p(e)}else for await(const e of t.children)await a(e);else await p(t)}async function p(t){const e="time"===t.type,n=e?"time":"price",i=function(){if(t.inline){const e=h(t.inline);if(e)return e}if(t.tooltip)return t.tooltip;const n=t.name?(0,r.t)('Set the "{inputTitle}" time for "{studyShortDescription}"',{replace:{inputTitle:t.name,studyShortDescription:o}}):(0,r.t)('Set the time for "{studyShortDescription}"',{replace:{studyShortDescription:o}}),i=t.name?(0,r.t)('Set the "{inputTitle}" price for "{studyShortDescription}"',{replace:{inputTitle:t.name,studyShortDescription:o}}):(0,r.t)('Set the price for "{studyShortDescription}"',{replace:{studyShortDescription:o}});return e?n:i}(),s=e?t.id:void 0,l=e?void 0:t.id;await d(t,n,i,s,l)}async function d(e,o,r,s,l){const c=await t.requestSelectPoint({pointType:o,pane:u,lineColor:void 0},r);void 0===u&&(u=c.pane);const a=n.childs().inputs;a&&(s&&(0,i.ensureDefined)(a.child(s)).setValue(1e3*(c.point.time||0)),l&&(0,i.ensureDefined)(a.child(l)).setValue(c.point.price))}function h(t){let e;return l.filter(e=>e.inline===t).forEach(t=>{t.tooltip&&(e=t.tooltip)}),e}}}}]);